function a_(t,h){for(var e=0;e<h.length;e++){const a=h[e];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in t)){const f=Object.getOwnPropertyDescriptor(a,l);f&&Object.defineProperty(t,l,f.get?f:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const o of f.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function e(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(l){if(l.ep)return;l.ep=!0;const f=e(l);fetch(l.href,f)}})();var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rh={exports:{}},rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function l_(){if(Mb)return rl;Mb=1;var t=Symbol.for("react.transitional.element"),h=Symbol.for("react.fragment");function e(a,l,f){var o=null;if(f!==void 0&&(o=""+f),l.key!==void 0&&(o=""+l.key),"key"in l){f={};for(var c in l)c!=="key"&&(f[c]=l[c])}else f=l;return l=f.ref,{$$typeof:t,type:a,key:o,ref:l!==void 0?l:null,props:f}}return rl.Fragment=h,rl.jsx=e,rl.jsxs=e,rl}var Rb;function c_(){return Rb||(Rb=1,rh.exports=l_()),rh.exports}var w=c_(),nh={exports:{}},Ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function u_(){if(Ab)return Ft;Ab=1;var t=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),r=Symbol.for("react.memo"),i=Symbol.for("react.lazy"),b=Symbol.iterator;function d(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var u={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function m(M,F,$){this.props=M,this.context=F,this.refs=x,this.updater=$||u}m.prototype.isReactComponent={},m.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},m.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function g(){}g.prototype=m.prototype;function y(M,F,$){this.props=M,this.context=F,this.refs=x,this.updater=$||u}var C=y.prototype=new g;C.constructor=y,v(C,m.prototype),C.isPureReactComponent=!0;var E=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function q(M,F,$,V,W,ee){return $=ee.ref,{$$typeof:t,type:M,key:F,ref:$!==void 0?$:null,props:ee}}function B(M,F){return q(M.type,F,void 0,void 0,void 0,M.props)}function z(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function K(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function($){return F[$]})}var Y=/\/+/g;function X(M,F){return typeof M=="object"&&M!==null&&M.key!=null?K(""+M.key):F.toString(36)}function O(){}function P(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(O,O):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function N(M,F,$,V,W){var ee=typeof M;(ee==="undefined"||ee==="boolean")&&(M=null);var U=!1;if(M===null)U=!0;else switch(ee){case"bigint":case"string":case"number":U=!0;break;case"object":switch(M.$$typeof){case t:case h:U=!0;break;case i:return U=M._init,N(U(M._payload),F,$,V,W)}}if(U)return W=W(M),U=V===""?"."+X(M,0):V,E(W)?($="",U!=null&&($=U.replace(Y,"$&/")+"/"),N(W,F,$,"",function(I){return I})):W!=null&&(z(W)&&(W=B(W,$+(W.key==null||M&&M.key===W.key?"":(""+W.key).replace(Y,"$&/")+"/")+U)),F.push(W)),1;U=0;var Q=V===""?".":V+":";if(E(M))for(var L=0;L<M.length;L++)V=M[L],ee=Q+X(V,L),U+=N(V,F,$,ee,W);else if(L=d(M),typeof L=="function")for(M=L.call(M),L=0;!(V=M.next()).done;)V=V.value,ee=Q+X(V,L++),U+=N(V,F,$,ee,W);else if(ee==="object"){if(typeof M.then=="function")return N(P(M),F,$,V,W);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return U}function _(M,F,$){if(M==null)return M;var V=[],W=0;return N(M,V,"","",function(ee){return F.call($,ee,W++)}),V}function j(M){if(M._status===-1){var F=M._result;F=F(),F.then(function($){(M._status===0||M._status===-1)&&(M._status=1,M._result=$)},function($){(M._status===0||M._status===-1)&&(M._status=2,M._result=$)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var k=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function T(){}return Ft.Children={map:_,forEach:function(M,F,$){_(M,function(){F.apply(this,arguments)},$)},count:function(M){var F=0;return _(M,function(){F++}),F},toArray:function(M){return _(M,function(F){return F})||[]},only:function(M){if(!z(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ft.Component=m,Ft.Fragment=e,Ft.Profiler=l,Ft.PureComponent=y,Ft.StrictMode=a,Ft.Suspense=s,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(M){return A.H.useMemoCache(M)}},Ft.cache=function(M){return function(){return M.apply(null,arguments)}},Ft.cloneElement=function(M,F,$){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var V=v({},M.props),W=M.key,ee=void 0;if(F!=null)for(U in F.ref!==void 0&&(ee=void 0),F.key!==void 0&&(W=""+F.key),F)!D.call(F,U)||U==="key"||U==="__self"||U==="__source"||U==="ref"&&F.ref===void 0||(V[U]=F[U]);var U=arguments.length-2;if(U===1)V.children=$;else if(1<U){for(var Q=Array(U),L=0;L<U;L++)Q[L]=arguments[L+2];V.children=Q}return q(M.type,W,void 0,void 0,ee,V)},Ft.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:f,_context:M},M},Ft.createElement=function(M,F,$){var V,W={},ee=null;if(F!=null)for(V in F.key!==void 0&&(ee=""+F.key),F)D.call(F,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(W[V]=F[V]);var U=arguments.length-2;if(U===1)W.children=$;else if(1<U){for(var Q=Array(U),L=0;L<U;L++)Q[L]=arguments[L+2];W.children=Q}if(M&&M.defaultProps)for(V in U=M.defaultProps,U)W[V]===void 0&&(W[V]=U[V]);return q(M,ee,void 0,void 0,null,W)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(M){return{$$typeof:c,render:M}},Ft.isValidElement=z,Ft.lazy=function(M){return{$$typeof:i,_payload:{_status:-1,_result:M},_init:j}},Ft.memo=function(M,F){return{$$typeof:r,type:M,compare:F===void 0?null:F}},Ft.startTransition=function(M){var F=A.T,$={};A.T=$;try{var V=M(),W=A.S;W!==null&&W($,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(T,k)}catch(ee){k(ee)}finally{A.T=F}},Ft.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ft.use=function(M){return A.H.use(M)},Ft.useActionState=function(M,F,$){return A.H.useActionState(M,F,$)},Ft.useCallback=function(M,F){return A.H.useCallback(M,F)},Ft.useContext=function(M){return A.H.useContext(M)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(M,F){return A.H.useDeferredValue(M,F)},Ft.useEffect=function(M,F,$){var V=A.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(M,F)},Ft.useId=function(){return A.H.useId()},Ft.useImperativeHandle=function(M,F,$){return A.H.useImperativeHandle(M,F,$)},Ft.useInsertionEffect=function(M,F){return A.H.useInsertionEffect(M,F)},Ft.useLayoutEffect=function(M,F){return A.H.useLayoutEffect(M,F)},Ft.useMemo=function(M,F){return A.H.useMemo(M,F)},Ft.useOptimistic=function(M,F){return A.H.useOptimistic(M,F)},Ft.useReducer=function(M,F,$){return A.H.useReducer(M,F,$)},Ft.useRef=function(M){return A.H.useRef(M)},Ft.useState=function(M){return A.H.useState(M)},Ft.useSyncExternalStore=function(M,F,$){return A.H.useSyncExternalStore(M,F,$)},Ft.useTransition=function(){return A.H.useTransition()},Ft.version="19.1.0",Ft}var Ob;function wp(){return Ob||(Ob=1,nh.exports=u_()),nh.exports}var J=wp();const Wt=xp(J),Bb=a_({__proto__:null,default:Wt},[J]);var sh={exports:{}},nl={},ih={exports:{}},oh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function d_(){return Pb||(Pb=1,function(t){function h(_,j){var k=_.length;_.push(j);e:for(;0<k;){var T=k-1>>>1,M=_[T];if(0<l(M,j))_[T]=j,_[k]=M,k=T;else break e}}function e(_){return _.length===0?null:_[0]}function a(_){if(_.length===0)return null;var j=_[0],k=_.pop();if(k!==j){_[0]=k;e:for(var T=0,M=_.length,F=M>>>1;T<F;){var $=2*(T+1)-1,V=_[$],W=$+1,ee=_[W];if(0>l(V,k))W<M&&0>l(ee,V)?(_[T]=ee,_[W]=k,T=W):(_[T]=V,_[$]=k,T=$);else if(W<M&&0>l(ee,k))_[T]=ee,_[W]=k,T=W;else break e}}return j}function l(_,j){var k=_.sortIndex-j.sortIndex;return k!==0?k:_.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;t.unstable_now=function(){return f.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var s=[],r=[],i=1,b=null,d=3,u=!1,v=!1,x=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function E(_){for(var j=e(r);j!==null;){if(j.callback===null)a(r);else if(j.startTime<=_)a(r),j.sortIndex=j.expirationTime,h(s,j);else break;j=e(r)}}function A(_){if(x=!1,E(_),!v)if(e(s)!==null)v=!0,D||(D=!0,X());else{var j=e(r);j!==null&&N(A,j.startTime-_)}}var D=!1,q=-1,B=5,z=-1;function K(){return m?!0:!(t.unstable_now()-z<B)}function Y(){if(m=!1,D){var _=t.unstable_now();z=_;var j=!0;try{e:{v=!1,x&&(x=!1,y(q),q=-1),u=!0;var k=d;try{t:{for(E(_),b=e(s);b!==null&&!(b.expirationTime>_&&K());){var T=b.callback;if(typeof T=="function"){b.callback=null,d=b.priorityLevel;var M=T(b.expirationTime<=_);if(_=t.unstable_now(),typeof M=="function"){b.callback=M,E(_),j=!0;break t}b===e(s)&&a(s),E(_)}else a(s);b=e(s)}if(b!==null)j=!0;else{var F=e(r);F!==null&&N(A,F.startTime-_),j=!1}}break e}finally{b=null,d=k,u=!1}j=void 0}}finally{j?X():D=!1}}}var X;if(typeof C=="function")X=function(){C(Y)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,P=O.port2;O.port1.onmessage=Y,X=function(){P.postMessage(null)}}else X=function(){g(Y,0)};function N(_,j){q=g(function(){_(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(_){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var k=d;d=j;try{return _()}finally{d=k}},t.unstable_requestPaint=function(){m=!0},t.unstable_runWithPriority=function(_,j){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var k=d;d=_;try{return j()}finally{d=k}},t.unstable_scheduleCallback=function(_,j,k){var T=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?T+k:T):k=T,_){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=k+M,_={id:i++,callback:j,priorityLevel:_,startTime:k,expirationTime:M,sortIndex:-1},k>T?(_.sortIndex=k,h(r,_),e(s)===null&&_===e(r)&&(x?(y(q),q=-1):x=!0,N(A,k-T))):(_.sortIndex=M,h(s,_),v||u||(v=!0,D||(D=!0,X()))),_},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(_){var j=d;return function(){var k=d;d=j;try{return _.apply(this,arguments)}finally{d=k}}}}(oh)),oh}var Db;function f_(){return Db||(Db=1,ih.exports=d_()),ih.exports}var ah={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function h_(){if(Lb)return rn;Lb=1;var t=wp();function h(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var a={d:{f:e,r:function(){throw Error(h(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function f(s,r,i){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:s,containerInfo:r,implementation:i}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(s,r){if(s==="font")return"";if(typeof r=="string")return r==="use-credentials"?r:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,rn.createPortal=function(s,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)throw Error(h(299));return f(s,r,null,i)},rn.flushSync=function(s){var r=o.T,i=a.p;try{if(o.T=null,a.p=2,s)return s()}finally{o.T=r,a.p=i,a.d.f()}},rn.preconnect=function(s,r){typeof s=="string"&&(r?(r=r.crossOrigin,r=typeof r=="string"?r==="use-credentials"?r:"":void 0):r=null,a.d.C(s,r))},rn.prefetchDNS=function(s){typeof s=="string"&&a.d.D(s)},rn.preinit=function(s,r){if(typeof s=="string"&&r&&typeof r.as=="string"){var i=r.as,b=c(i,r.crossOrigin),d=typeof r.integrity=="string"?r.integrity:void 0,u=typeof r.fetchPriority=="string"?r.fetchPriority:void 0;i==="style"?a.d.S(s,typeof r.precedence=="string"?r.precedence:void 0,{crossOrigin:b,integrity:d,fetchPriority:u}):i==="script"&&a.d.X(s,{crossOrigin:b,integrity:d,fetchPriority:u,nonce:typeof r.nonce=="string"?r.nonce:void 0})}},rn.preinitModule=function(s,r){if(typeof s=="string")if(typeof r=="object"&&r!==null){if(r.as==null||r.as==="script"){var i=c(r.as,r.crossOrigin);a.d.M(s,{crossOrigin:i,integrity:typeof r.integrity=="string"?r.integrity:void 0,nonce:typeof r.nonce=="string"?r.nonce:void 0})}}else r==null&&a.d.M(s)},rn.preload=function(s,r){if(typeof s=="string"&&typeof r=="object"&&r!==null&&typeof r.as=="string"){var i=r.as,b=c(i,r.crossOrigin);a.d.L(s,i,{crossOrigin:b,integrity:typeof r.integrity=="string"?r.integrity:void 0,nonce:typeof r.nonce=="string"?r.nonce:void 0,type:typeof r.type=="string"?r.type:void 0,fetchPriority:typeof r.fetchPriority=="string"?r.fetchPriority:void 0,referrerPolicy:typeof r.referrerPolicy=="string"?r.referrerPolicy:void 0,imageSrcSet:typeof r.imageSrcSet=="string"?r.imageSrcSet:void 0,imageSizes:typeof r.imageSizes=="string"?r.imageSizes:void 0,media:typeof r.media=="string"?r.media:void 0})}},rn.preloadModule=function(s,r){if(typeof s=="string")if(r){var i=c(r.as,r.crossOrigin);a.d.m(s,{as:typeof r.as=="string"&&r.as!=="script"?r.as:void 0,crossOrigin:i,integrity:typeof r.integrity=="string"?r.integrity:void 0})}else a.d.m(s)},rn.requestFormReset=function(s){a.d.r(s)},rn.unstable_batchedUpdates=function(s,r){return s(r)},rn.useFormState=function(s,r,i){return o.H.useFormState(s,r,i)},rn.useFormStatus=function(){return o.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var Ib;function c1(){if(Ib)return ah.exports;Ib=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(h){console.error(h)}}return t(),ah.exports=h_(),ah.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb;function p_(){if(zb)return nl;zb=1;var t=f_(),h=wp(),e=c1();function a(n){var p="https://react.dev/errors/"+n;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+n+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function f(n){var p=n,S=n;if(n.alternate)for(;p.return;)p=p.return;else{n=p;do p=n,(p.flags&4098)!==0&&(S=p.return),n=p.return;while(n)}return p.tag===3?S:null}function o(n){if(n.tag===13){var p=n.memoizedState;if(p===null&&(n=n.alternate,n!==null&&(p=n.memoizedState)),p!==null)return p.dehydrated}return null}function c(n){if(f(n)!==n)throw Error(a(188))}function s(n){var p=n.alternate;if(!p){if(p=f(n),p===null)throw Error(a(188));return p!==n?null:n}for(var S=n,R=p;;){var H=S.return;if(H===null)break;var G=H.alternate;if(G===null){if(R=H.return,R!==null){S=R;continue}break}if(H.child===G.child){for(G=H.child;G;){if(G===S)return c(H),n;if(G===R)return c(H),p;G=G.sibling}throw Error(a(188))}if(S.return!==R.return)S=H,R=G;else{for(var ne=!1,ce=H.child;ce;){if(ce===S){ne=!0,S=H,R=G;break}if(ce===R){ne=!0,R=H,S=G;break}ce=ce.sibling}if(!ne){for(ce=G.child;ce;){if(ce===S){ne=!0,S=G,R=H;break}if(ce===R){ne=!0,R=G,S=H;break}ce=ce.sibling}if(!ne)throw Error(a(189))}}if(S.alternate!==R)throw Error(a(190))}if(S.tag!==3)throw Error(a(188));return S.stateNode.current===S?n:p}function r(n){var p=n.tag;if(p===5||p===26||p===27||p===6)return n;for(n=n.child;n!==null;){if(p=r(n),p!==null)return p;n=n.sibling}return null}var i=Object.assign,b=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function X(n){return n===null||typeof n!="object"?null:(n=Y&&n[Y]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function P(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case v:return"Fragment";case m:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList";case z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case u:return"Portal";case C:return(n.displayName||"Context")+".Provider";case y:return(n._context.displayName||"Context")+".Consumer";case E:var p=n.render;return n=n.displayName,n||(n=p.displayName||p.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q:return p=n.displayName||null,p!==null?p:P(n.type)||"Memo";case B:p=n._payload,n=n._init;try{return P(n(p))}catch{}}return null}var N=Array.isArray,_=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k={pending:!1,data:null,method:null,action:null},T=[],M=-1;function F(n){return{current:n}}function $(n){0>M||(n.current=T[M],T[M]=null,M--)}function V(n,p){M++,T[M]=n.current,n.current=p}var W=F(null),ee=F(null),U=F(null),Q=F(null);function L(n,p){switch(V(U,p),V(ee,n),V(W,null),p.nodeType){case 9:case 11:n=(n=p.documentElement)&&(n=n.namespaceURI)?sb(n):0;break;default:if(n=p.tagName,p=p.namespaceURI)p=sb(p),n=ib(p,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(W),V(W,n)}function I(){$(W),$(ee),$(U)}function Z(n){n.memoizedState!==null&&V(Q,n);var p=W.current,S=ib(p,n.type);p!==S&&(V(ee,n),V(W,S))}function te(n){ee.current===n&&($(W),$(ee)),Q.current===n&&($(Q),Za._currentValue=k)}var ie=Object.prototype.hasOwnProperty,se=t.unstable_scheduleCallback,le=t.unstable_cancelCallback,me=t.unstable_shouldYield,ae=t.unstable_requestPaint,re=t.unstable_now,oe=t.unstable_getCurrentPriorityLevel,ue=t.unstable_ImmediatePriority,fe=t.unstable_UserBlockingPriority,be=t.unstable_NormalPriority,Ce=t.unstable_LowPriority,Ae=t.unstable_IdlePriority,Pe=t.log,Fe=t.unstable_setDisableYieldValue,pe=null,Ee=null;function He(n){if(typeof Pe=="function"&&Fe(n),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(pe,n)}catch{}}var Me=Math.clz32?Math.clz32:we,ve=Math.log,de=Math.LN2;function we(n){return n>>>=0,n===0?32:31-(ve(n)/de|0)|0}var he=256,ye=4194304;function Te(n){var p=n&42;if(p!==0)return p;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Be(n,p,S){var R=n.pendingLanes;if(R===0)return 0;var H=0,G=n.suspendedLanes,ne=n.pingedLanes;n=n.warmLanes;var ce=R&134217727;return ce!==0?(R=ce&~G,R!==0?H=Te(R):(ne&=ce,ne!==0?H=Te(ne):S||(S=ce&~n,S!==0&&(H=Te(S))))):(ce=R&~G,ce!==0?H=Te(ce):ne!==0?H=Te(ne):S||(S=R&~n,S!==0&&(H=Te(S)))),H===0?0:p!==0&&p!==H&&(p&G)===0&&(G=H&-H,S=p&-p,G>=S||G===32&&(S&4194048)!==0)?p:H}function Ye(n,p){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&p)===0}function at(n,p){switch(n){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ot(){var n=he;return he<<=1,(he&4194048)===0&&(he=256),n}function Ue(){var n=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),n}function ze(n){for(var p=[],S=0;31>S;S++)p.push(n);return p}function je(n,p){n.pendingLanes|=p,p!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Je(n,p,S,R,H,G){var ne=n.pendingLanes;n.pendingLanes=S,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=S,n.entangledLanes&=S,n.errorRecoveryDisabledLanes&=S,n.shellSuspendCounter=0;var ce=n.entanglements,xe=n.expirationTimes,qe=n.hiddenUpdates;for(S=ne&~S;0<S;){var et=31-Me(S),st=1<<et;ce[et]=0,xe[et]=-1;var Ke=qe[et];if(Ke!==null)for(qe[et]=null,et=0;et<Ke.length;et++){var Xe=Ke[et];Xe!==null&&(Xe.lane&=-536870913)}S&=~st}R!==0&&nt(n,R,0),G!==0&&H===0&&n.tag!==0&&(n.suspendedLanes|=G&~(ne&~p))}function nt(n,p,S){n.pendingLanes|=p,n.suspendedLanes&=~p;var R=31-Me(p);n.entangledLanes|=p,n.entanglements[R]=n.entanglements[R]|1073741824|S&4194090}function $e(n,p){var S=n.entangledLanes|=p;for(n=n.entanglements;S;){var R=31-Me(S),H=1<<R;H&p|n[R]&p&&(n[R]|=p),S&=~H}}function Re(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function De(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ve(){var n=j.p;return n!==0?n:(n=window.event,n===void 0?32:Cb(n.type))}function Qe(n,p){var S=j.p;try{return j.p=n,p()}finally{j.p=S}}var lt=Math.random().toString(36).slice(2),ct="__reactFiber$"+lt,pt="__reactProps$"+lt,_e="__reactContainer$"+lt,Ne="__reactEvents$"+lt,We="__reactListeners$"+lt,dt="__reactHandles$"+lt,vt="__reactResources$"+lt,ft="__reactMarker$"+lt;function kt(n){delete n[ct],delete n[pt],delete n[Ne],delete n[We],delete n[dt]}function xt(n){var p=n[ct];if(p)return p;for(var S=n.parentNode;S;){if(p=S[_e]||S[ct]){if(S=p.alternate,p.child!==null||S!==null&&S.child!==null)for(n=cb(n);n!==null;){if(S=n[ct])return S;n=cb(n)}return p}n=S,S=n.parentNode}return null}function bt(n){if(n=n[ct]||n[_e]){var p=n.tag;if(p===5||p===6||p===13||p===26||p===27||p===3)return n}return null}function Et(n){var p=n.tag;if(p===5||p===26||p===27||p===6)return n.stateNode;throw Error(a(33))}function Ct(n){var p=n[vt];return p||(p=n[vt]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function wt(n){n[ft]=!0}var vr=new Set,or={};function hr(n,p){mr(n,p),mr(n+"Capture",p)}function mr(n,p){for(or[n]=p,n=0;n<p.length;n++)vr.add(p[n])}var en=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ge={},Le={};function rt(n){return ie.call(Le,n)?!0:ie.call(ge,n)?!1:en.test(n)?Le[n]=!0:(ge[n]=!0,!1)}function it(n,p,S){if(rt(p))if(S===null)n.removeAttribute(p);else{switch(typeof S){case"undefined":case"function":case"symbol":n.removeAttribute(p);return;case"boolean":var R=p.toLowerCase().slice(0,5);if(R!=="data-"&&R!=="aria-"){n.removeAttribute(p);return}}n.setAttribute(p,""+S)}}function gt(n,p,S){if(S===null)n.removeAttribute(p);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(p);return}n.setAttribute(p,""+S)}}function ut(n,p,S,R){if(R===null)n.removeAttribute(S);else{switch(typeof R){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(S);return}n.setAttributeNS(p,S,""+R)}}var ht,qt;function Ot(n){if(ht===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);ht=p&&p[1]||"",qt=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ht+n+qt}var Lt=!1;function _t(n,p){if(!n||Lt)return"";Lt=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(p){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(Xe){var Ke=Xe}Reflect.construct(n,[],st)}else{try{st.call()}catch(Xe){Ke=Xe}n.call(st.prototype)}}else{try{throw Error()}catch(Xe){Ke=Xe}(st=n())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(Xe){if(Xe&&Ke&&typeof Xe.stack=="string")return[Xe.stack,Ke.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var H=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");H&&H.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=R.DetermineComponentFrameRoot(),ne=G[0],ce=G[1];if(ne&&ce){var xe=ne.split(`
`),qe=ce.split(`
`);for(H=R=0;R<xe.length&&!xe[R].includes("DetermineComponentFrameRoot");)R++;for(;H<qe.length&&!qe[H].includes("DetermineComponentFrameRoot");)H++;if(R===xe.length||H===qe.length)for(R=xe.length-1,H=qe.length-1;1<=R&&0<=H&&xe[R]!==qe[H];)H--;for(;1<=R&&0<=H;R--,H--)if(xe[R]!==qe[H]){if(R!==1||H!==1)do if(R--,H--,0>H||xe[R]!==qe[H]){var et=`
`+xe[R].replace(" at new "," at ");return n.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",n.displayName)),et}while(1<=R&&0<=H);break}}}finally{Lt=!1,Error.prepareStackTrace=S}return(S=n?n.displayName||n.name:"")?Ot(S):""}function Qt(n){switch(n.tag){case 26:case 27:case 5:return Ot(n.type);case 16:return Ot("Lazy");case 13:return Ot("Suspense");case 19:return Ot("SuspenseList");case 0:case 15:return _t(n.type,!1);case 11:return _t(n.type.render,!1);case 1:return _t(n.type,!0);case 31:return Ot("Activity");default:return""}}function Zt(n){try{var p="";do p+=Qt(n),n=n.return;while(n);return p}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}function It(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gr(n){var p=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Mr(n){var p=gr(n)?"checked":"value",S=Object.getOwnPropertyDescriptor(n.constructor.prototype,p),R=""+n[p];if(!n.hasOwnProperty(p)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var H=S.get,G=S.set;return Object.defineProperty(n,p,{configurable:!0,get:function(){return H.call(this)},set:function(ne){R=""+ne,G.call(this,ne)}}),Object.defineProperty(n,p,{enumerable:S.enumerable}),{getValue:function(){return R},setValue:function(ne){R=""+ne},stopTracking:function(){n._valueTracker=null,delete n[p]}}}}function Rr(n){n._valueTracker||(n._valueTracker=Mr(n))}function fn(n){if(!n)return!1;var p=n._valueTracker;if(!p)return!0;var S=p.getValue(),R="";return n&&(R=gr(n)?n.checked?"true":"false":n.value),n=R,n!==S?(p.setValue(n),!0):!1}function Pn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Hs=/[\n"\\]/g;function Dr(n){return n.replace(Hs,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function ts(n,p,S,R,H,G,ne,ce){n.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?n.type=ne:n.removeAttribute("type"),p!=null?ne==="number"?(p===0&&n.value===""||n.value!=p)&&(n.value=""+It(p)):n.value!==""+It(p)&&(n.value=""+It(p)):ne!=="submit"&&ne!=="reset"||n.removeAttribute("value"),p!=null?Ht(n,ne,It(p)):S!=null?Ht(n,ne,It(S)):R!=null&&n.removeAttribute("value"),H==null&&G!=null&&(n.defaultChecked=!!G),H!=null&&(n.checked=H&&typeof H!="function"&&typeof H!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?n.name=""+It(ce):n.removeAttribute("name")}function Jt(n,p,S,R,H,G,ne,ce){if(G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(n.type=G),p!=null||S!=null){if(!(G!=="submit"&&G!=="reset"||p!=null))return;S=S!=null?""+It(S):"",p=p!=null?""+It(p):S,ce||p===n.value||(n.value=p),n.defaultValue=p}R=R??H,R=typeof R!="function"&&typeof R!="symbol"&&!!R,n.checked=ce?n.checked:!!R,n.defaultChecked=!!R,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(n.name=ne)}function Ht(n,p,S){p==="number"&&Pn(n.ownerDocument)===n||n.defaultValue===""+S||(n.defaultValue=""+S)}function ln(n,p,S,R){if(n=n.options,p){p={};for(var H=0;H<S.length;H++)p["$"+S[H]]=!0;for(S=0;S<n.length;S++)H=p.hasOwnProperty("$"+n[S].value),n[S].selected!==H&&(n[S].selected=H),H&&R&&(n[S].defaultSelected=!0)}else{for(S=""+It(S),p=null,H=0;H<n.length;H++){if(n[H].value===S){n[H].selected=!0,R&&(n[H].defaultSelected=!0);return}p!==null||n[H].disabled||(p=n[H])}p!==null&&(p.selected=!0)}}function rs(n,p,S){if(p!=null&&(p=""+It(p),p!==n.value&&(n.value=p),S==null)){n.defaultValue!==p&&(n.defaultValue=p);return}n.defaultValue=S!=null?""+It(S):""}function Si(n,p,S,R){if(p==null){if(R!=null){if(S!=null)throw Error(a(92));if(N(R)){if(1<R.length)throw Error(a(93));R=R[0]}S=R}S==null&&(S=""),p=S}S=It(p),n.defaultValue=S,R=n.textContent,R===S&&R!==""&&R!==null&&(n.value=R)}function Ar(n,p){if(p){var S=n.firstChild;if(S&&S===n.lastChild&&S.nodeType===3){S.nodeValue=p;return}}n.textContent=p}var Hn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vn(n,p,S){var R=p.indexOf("--")===0;S==null||typeof S=="boolean"||S===""?R?n.setProperty(p,""):p==="float"?n.cssFloat="":n[p]="":R?n.setProperty(p,S):typeof S!="number"||S===0||Hn.has(p)?p==="float"?n.cssFloat=S:n[p]=(""+S).trim():n[p]=S+"px"}function Vs(n,p,S){if(p!=null&&typeof p!="object")throw Error(a(62));if(n=n.style,S!=null){for(var R in S)!S.hasOwnProperty(R)||p!=null&&p.hasOwnProperty(R)||(R.indexOf("--")===0?n.setProperty(R,""):R==="float"?n.cssFloat="":n[R]="");for(var H in p)R=p[H],p.hasOwnProperty(H)&&S[H]!==R&&Vn(n,H,R)}else for(var G in p)p.hasOwnProperty(G)&&Vn(n,G,p[G])}function Ks(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ci(n){return ns.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ys=null;function ji(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Kn=null,Xn=null;function ca(n){var p=bt(n);if(p&&(n=p.stateNode)){var S=n[pt]||null;e:switch(n=p.stateNode,p.type){case"input":if(ts(n,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name),p=S.name,S.type==="radio"&&p!=null){for(S=n;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll('input[name="'+Dr(""+p)+'"][type="radio"]'),p=0;p<S.length;p++){var R=S[p];if(R!==n&&R.form===n.form){var H=R[pt]||null;if(!H)throw Error(a(90));ts(R,H.value,H.defaultValue,H.defaultValue,H.checked,H.defaultChecked,H.type,H.name)}}for(p=0;p<S.length;p++)R=S[p],R.form===n.form&&fn(R)}break e;case"textarea":rs(n,S.value,S.defaultValue);break e;case"select":p=S.value,p!=null&&ln(n,!!S.multiple,p,!1)}}}var Ws=!1;function ki(n,p,S){if(Ws)return n(p,S);Ws=!0;try{var R=n(p);return R}finally{if(Ws=!1,(Kn!==null||Xn!==null)&&(fc(),Kn&&(p=Kn,n=Xn,Xn=Kn=null,ca(p),n)))for(p=0;p<n.length;p++)ca(n[p])}}function ua(n,p){var S=n.stateNode;if(S===null)return null;var R=S[pt]||null;if(R===null)return null;S=R[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(n=n.type,R=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!R;break e;default:n=!1}if(n)return null;if(S&&typeof S!="function")throw Error(a(231,p,typeof S));return S}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sd=!1;if(gs)try{var da={};Object.defineProperty(da,"passive",{get:function(){sd=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{sd=!1}var Gs=null,id=null,Tl=null;function lm(){if(Tl)return Tl;var n,p=id,S=p.length,R,H="value"in Gs?Gs.value:Gs.textContent,G=H.length;for(n=0;n<S&&p[n]===H[n];n++);var ne=S-n;for(R=1;R<=ne&&p[S-R]===H[G-R];R++);return Tl=H.slice(n,1<R?1-R:void 0)}function Nl(n){var p=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&p===13&&(n=13)):n=p,n===10&&(n=13),32<=n||n===13?n:0}function Ml(){return!0}function cm(){return!1}function hn(n){function p(S,R,H,G,ne){this._reactName=S,this._targetInst=H,this.type=R,this.nativeEvent=G,this.target=ne,this.currentTarget=null;for(var ce in n)n.hasOwnProperty(ce)&&(S=n[ce],this[ce]=S?S(G):G[ce]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?Ml:cm,this.isPropagationStopped=cm,this}return i(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),p}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=hn(Ei),fa=i({},Ei,{view:0,detail:0}),ax=hn(fa),od,ad,ha,Al=i({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cd,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ha&&(ha&&n.type==="mousemove"?(od=n.screenX-ha.screenX,ad=n.screenY-ha.screenY):ad=od=0,ha=n),od)},movementY:function(n){return"movementY"in n?n.movementY:ad}}),um=hn(Al),lx=i({},Al,{dataTransfer:0}),cx=hn(lx),ux=i({},fa,{relatedTarget:0}),ld=hn(ux),dx=i({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),fx=hn(dx),hx=i({},Ei,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),px=hn(hx),mx=i({},Ei,{data:0}),dm=hn(mx),gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vx(n){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(n):(n=yx[n])?!!p[n]:!1}function cd(){return vx}var xx=i({},fa,{key:function(n){if(n.key){var p=gx[n.key]||n.key;if(p!=="Unidentified")return p}return n.type==="keypress"?(n=Nl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?bx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cd,charCode:function(n){return n.type==="keypress"?Nl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Nl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wx=hn(xx),_x=i({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fm=hn(_x),Sx=i({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cd}),Cx=hn(Sx),jx=i({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),kx=hn(jx),Ex=i({},Al,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Tx=hn(Ex),Nx=i({},Ei,{newState:0,oldState:0}),Mx=hn(Nx),Rx=[9,13,27,32],ud=gs&&"CompositionEvent"in window,pa=null;gs&&"documentMode"in document&&(pa=document.documentMode);var Ax=gs&&"TextEvent"in window&&!pa,hm=gs&&(!ud||pa&&8<pa&&11>=pa),pm=" ",mm=!1;function gm(n,p){switch(n){case"keyup":return Rx.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ao=!1;function Ox(n,p){switch(n){case"compositionend":return bm(p);case"keypress":return p.which!==32?null:(mm=!0,pm);case"textInput":return n=p.data,n===pm&&mm?null:n;default:return null}}function Bx(n,p){if(ao)return n==="compositionend"||!ud&&gm(n,p)?(n=lm(),Tl=id=Gs=null,ao=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return hm&&p.locale!=="ko"?null:p.data;default:return null}}var Px={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(n){var p=n&&n.nodeName&&n.nodeName.toLowerCase();return p==="input"?!!Px[n.type]:p==="textarea"}function vm(n,p,S,R){Kn?Xn?Xn.push(R):Xn=[R]:Kn=R,p=yc(p,"onChange"),0<p.length&&(S=new Rl("onChange","change",null,S,R),n.push({event:S,listeners:p}))}var ma=null,ga=null;function Dx(n){Qg(n,0)}function Ol(n){var p=Et(n);if(fn(p))return n}function xm(n,p){if(n==="change")return p}var wm=!1;if(gs){var dd;if(gs){var fd="oninput"in document;if(!fd){var _m=document.createElement("div");_m.setAttribute("oninput","return;"),fd=typeof _m.oninput=="function"}dd=fd}else dd=!1;wm=dd&&(!document.documentMode||9<document.documentMode)}function Sm(){ma&&(ma.detachEvent("onpropertychange",Cm),ga=ma=null)}function Cm(n){if(n.propertyName==="value"&&Ol(ga)){var p=[];vm(p,ga,n,ji(n)),ki(Dx,p)}}function Lx(n,p,S){n==="focusin"?(Sm(),ma=p,ga=S,ma.attachEvent("onpropertychange",Cm)):n==="focusout"&&Sm()}function Ix(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ol(ga)}function zx(n,p){if(n==="click")return Ol(p)}function Fx(n,p){if(n==="input"||n==="change")return Ol(p)}function $x(n,p){return n===p&&(n!==0||1/n===1/p)||n!==n&&p!==p}var _n=typeof Object.is=="function"?Object.is:$x;function ba(n,p){if(_n(n,p))return!0;if(typeof n!="object"||n===null||typeof p!="object"||p===null)return!1;var S=Object.keys(n),R=Object.keys(p);if(S.length!==R.length)return!1;for(R=0;R<S.length;R++){var H=S[R];if(!ie.call(p,H)||!_n(n[H],p[H]))return!1}return!0}function jm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function km(n,p){var S=jm(n);n=0;for(var R;S;){if(S.nodeType===3){if(R=n+S.textContent.length,n<=p&&R>=p)return{node:S,offset:p-n};n=R}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=jm(S)}}function Em(n,p){return n&&p?n===p?!0:n&&n.nodeType===3?!1:p&&p.nodeType===3?Em(n,p.parentNode):"contains"in n?n.contains(p):n.compareDocumentPosition?!!(n.compareDocumentPosition(p)&16):!1:!1}function Tm(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var p=Pn(n.document);p instanceof n.HTMLIFrameElement;){try{var S=typeof p.contentWindow.location.href=="string"}catch{S=!1}if(S)n=p.contentWindow;else break;p=Pn(n.document)}return p}function hd(n){var p=n&&n.nodeName&&n.nodeName.toLowerCase();return p&&(p==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||p==="textarea"||n.contentEditable==="true")}var qx=gs&&"documentMode"in document&&11>=document.documentMode,lo=null,pd=null,ya=null,md=!1;function Nm(n,p,S){var R=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;md||lo==null||lo!==Pn(R)||(R=lo,"selectionStart"in R&&hd(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),ya&&ba(ya,R)||(ya=R,R=yc(pd,"onSelect"),0<R.length&&(p=new Rl("onSelect","select",null,p,S),n.push({event:p,listeners:R}),p.target=lo)))}function Ti(n,p){var S={};return S[n.toLowerCase()]=p.toLowerCase(),S["Webkit"+n]="webkit"+p,S["Moz"+n]="moz"+p,S}var co={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},gd={},Mm={};gs&&(Mm=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Ni(n){if(gd[n])return gd[n];if(!co[n])return n;var p=co[n],S;for(S in p)if(p.hasOwnProperty(S)&&S in Mm)return gd[n]=p[S];return n}var Rm=Ni("animationend"),Am=Ni("animationiteration"),Om=Ni("animationstart"),Ux=Ni("transitionrun"),Hx=Ni("transitionstart"),Vx=Ni("transitioncancel"),Bm=Ni("transitionend"),Pm=new Map,bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bd.push("scrollEnd");function Yn(n,p){Pm.set(n,p),hr(p,[n])}var Dm=new WeakMap;function Dn(n,p){if(typeof n=="object"&&n!==null){var S=Dm.get(n);return S!==void 0?S:(p={value:n,source:p,stack:Zt(p)},Dm.set(n,p),p)}return{value:n,source:p,stack:Zt(p)}}var Ln=[],uo=0,yd=0;function Bl(){for(var n=uo,p=yd=uo=0;p<n;){var S=Ln[p];Ln[p++]=null;var R=Ln[p];Ln[p++]=null;var H=Ln[p];Ln[p++]=null;var G=Ln[p];if(Ln[p++]=null,R!==null&&H!==null){var ne=R.pending;ne===null?H.next=H:(H.next=ne.next,ne.next=H),R.pending=H}G!==0&&Lm(S,H,G)}}function Pl(n,p,S,R){Ln[uo++]=n,Ln[uo++]=p,Ln[uo++]=S,Ln[uo++]=R,yd|=R,n.lanes|=R,n=n.alternate,n!==null&&(n.lanes|=R)}function vd(n,p,S,R){return Pl(n,p,S,R),Dl(n)}function fo(n,p){return Pl(n,null,null,p),Dl(n)}function Lm(n,p,S){n.lanes|=S;var R=n.alternate;R!==null&&(R.lanes|=S);for(var H=!1,G=n.return;G!==null;)G.childLanes|=S,R=G.alternate,R!==null&&(R.childLanes|=S),G.tag===22&&(n=G.stateNode,n===null||n._visibility&1||(H=!0)),n=G,G=G.return;return n.tag===3?(G=n.stateNode,H&&p!==null&&(H=31-Me(S),n=G.hiddenUpdates,R=n[H],R===null?n[H]=[p]:R.push(p),p.lane=S|536870912),G):null}function Dl(n){if(50<Ua)throw Ua=0,kf=null,Error(a(185));for(var p=n.return;p!==null;)n=p,p=n.return;return n.tag===3?n.stateNode:null}var ho={};function Kx(n,p,S,R){this.tag=n,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(n,p,S,R){return new Kx(n,p,S,R)}function xd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function bs(n,p){var S=n.alternate;return S===null?(S=Sn(n.tag,p,n.key,n.mode),S.elementType=n.elementType,S.type=n.type,S.stateNode=n.stateNode,S.alternate=n,n.alternate=S):(S.pendingProps=p,S.type=n.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=n.flags&65011712,S.childLanes=n.childLanes,S.lanes=n.lanes,S.child=n.child,S.memoizedProps=n.memoizedProps,S.memoizedState=n.memoizedState,S.updateQueue=n.updateQueue,p=n.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=n.sibling,S.index=n.index,S.ref=n.ref,S.refCleanup=n.refCleanup,S}function Im(n,p){n.flags&=65011714;var S=n.alternate;return S===null?(n.childLanes=0,n.lanes=p,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=S.childLanes,n.lanes=S.lanes,n.child=S.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=S.memoizedProps,n.memoizedState=S.memoizedState,n.updateQueue=S.updateQueue,n.type=S.type,p=S.dependencies,n.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),n}function Ll(n,p,S,R,H,G){var ne=0;if(R=n,typeof n=="function")xd(n)&&(ne=1);else if(typeof n=="string")ne=Yw(n,S,W.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case z:return n=Sn(31,S,p,H),n.elementType=z,n.lanes=G,n;case v:return Mi(S.children,H,G,p);case x:ne=8,H|=24;break;case m:return n=Sn(12,S,p,H|2),n.elementType=m,n.lanes=G,n;case A:return n=Sn(13,S,p,H),n.elementType=A,n.lanes=G,n;case D:return n=Sn(19,S,p,H),n.elementType=D,n.lanes=G,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case g:case C:ne=10;break e;case y:ne=9;break e;case E:ne=11;break e;case q:ne=14;break e;case B:ne=16,R=null;break e}ne=29,S=Error(a(130,n===null?"null":typeof n,"")),R=null}return p=Sn(ne,S,p,H),p.elementType=n,p.type=R,p.lanes=G,p}function Mi(n,p,S,R){return n=Sn(7,n,R,p),n.lanes=S,n}function wd(n,p,S){return n=Sn(6,n,null,p),n.lanes=S,n}function _d(n,p,S){return p=Sn(4,n.children!==null?n.children:[],n.key,p),p.lanes=S,p.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},p}var po=[],mo=0,Il=null,zl=0,In=[],zn=0,Ri=null,ys=1,vs="";function Ai(n,p){po[mo++]=zl,po[mo++]=Il,Il=n,zl=p}function zm(n,p,S){In[zn++]=ys,In[zn++]=vs,In[zn++]=Ri,Ri=n;var R=ys;n=vs;var H=32-Me(R)-1;R&=~(1<<H),S+=1;var G=32-Me(p)+H;if(30<G){var ne=H-H%5;G=(R&(1<<ne)-1).toString(32),R>>=ne,H-=ne,ys=1<<32-Me(p)+H|S<<H|R,vs=G+n}else ys=1<<G|S<<H|R,vs=n}function Sd(n){n.return!==null&&(Ai(n,1),zm(n,1,0))}function Cd(n){for(;n===Il;)Il=po[--mo],po[mo]=null,zl=po[--mo],po[mo]=null;for(;n===Ri;)Ri=In[--zn],In[zn]=null,vs=In[--zn],In[zn]=null,ys=In[--zn],In[zn]=null}var cn=null,Sr=null,rr=!1,Oi=null,ss=!1,jd=Error(a(519));function Bi(n){var p=Error(a(418,""));throw wa(Dn(p,n)),jd}function Fm(n){var p=n.stateNode,S=n.type,R=n.memoizedProps;switch(p[ct]=n,p[pt]=R,S){case"dialog":Xt("cancel",p),Xt("close",p);break;case"iframe":case"object":case"embed":Xt("load",p);break;case"video":case"audio":for(S=0;S<Va.length;S++)Xt(Va[S],p);break;case"source":Xt("error",p);break;case"img":case"image":case"link":Xt("error",p),Xt("load",p);break;case"details":Xt("toggle",p);break;case"input":Xt("invalid",p),Jt(p,R.value,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name,!0),Rr(p);break;case"select":Xt("invalid",p);break;case"textarea":Xt("invalid",p),Si(p,R.value,R.defaultValue,R.children),Rr(p)}S=R.children,typeof S!="string"&&typeof S!="number"&&typeof S!="bigint"||p.textContent===""+S||R.suppressHydrationWarning===!0||nb(p.textContent,S)?(R.popover!=null&&(Xt("beforetoggle",p),Xt("toggle",p)),R.onScroll!=null&&Xt("scroll",p),R.onScrollEnd!=null&&Xt("scrollend",p),R.onClick!=null&&(p.onclick=vc),p=!0):p=!1,p||Bi(n)}function $m(n){for(cn=n.return;cn;)switch(cn.tag){case 5:case 13:ss=!1;return;case 27:case 3:ss=!0;return;default:cn=cn.return}}function va(n){if(n!==cn)return!1;if(!rr)return $m(n),rr=!0,!1;var p=n.tag,S;if((S=p!==3&&p!==27)&&((S=p===5)&&(S=n.type,S=!(S!=="form"&&S!=="button")||qf(n.type,n.memoizedProps)),S=!S),S&&Sr&&Bi(n),$m(n),p===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,p=0;n;){if(n.nodeType===8)if(S=n.data,S==="/$"){if(p===0){Sr=Gn(n.nextSibling);break e}p--}else S!=="$"&&S!=="$!"&&S!=="$?"||p++;n=n.nextSibling}Sr=null}}else p===27?(p=Sr,fi(n.type)?(n=Kf,Kf=null,Sr=n):Sr=p):Sr=cn?Gn(n.stateNode.nextSibling):null;return!0}function xa(){Sr=cn=null,rr=!1}function qm(){var n=Oi;return n!==null&&(gn===null?gn=n:gn.push.apply(gn,n),Oi=null),n}function wa(n){Oi===null?Oi=[n]:Oi.push(n)}var kd=F(null),Pi=null,xs=null;function Zs(n,p,S){V(kd,p._currentValue),p._currentValue=S}function ws(n){n._currentValue=kd.current,$(kd)}function Ed(n,p,S){for(;n!==null;){var R=n.alternate;if((n.childLanes&p)!==p?(n.childLanes|=p,R!==null&&(R.childLanes|=p)):R!==null&&(R.childLanes&p)!==p&&(R.childLanes|=p),n===S)break;n=n.return}}function Td(n,p,S,R){var H=n.child;for(H!==null&&(H.return=n);H!==null;){var G=H.dependencies;if(G!==null){var ne=H.child;G=G.firstContext;e:for(;G!==null;){var ce=G;G=H;for(var xe=0;xe<p.length;xe++)if(ce.context===p[xe]){G.lanes|=S,ce=G.alternate,ce!==null&&(ce.lanes|=S),Ed(G.return,S,n),R||(ne=null);break e}G=ce.next}}else if(H.tag===18){if(ne=H.return,ne===null)throw Error(a(341));ne.lanes|=S,G=ne.alternate,G!==null&&(G.lanes|=S),Ed(ne,S,n),ne=null}else ne=H.child;if(ne!==null)ne.return=H;else for(ne=H;ne!==null;){if(ne===n){ne=null;break}if(H=ne.sibling,H!==null){H.return=ne.return,ne=H;break}ne=ne.return}H=ne}}function _a(n,p,S,R){n=null;for(var H=p,G=!1;H!==null;){if(!G){if((H.flags&524288)!==0)G=!0;else if((H.flags&262144)!==0)break}if(H.tag===10){var ne=H.alternate;if(ne===null)throw Error(a(387));if(ne=ne.memoizedProps,ne!==null){var ce=H.type;_n(H.pendingProps.value,ne.value)||(n!==null?n.push(ce):n=[ce])}}else if(H===Q.current){if(ne=H.alternate,ne===null)throw Error(a(387));ne.memoizedState.memoizedState!==H.memoizedState.memoizedState&&(n!==null?n.push(Za):n=[Za])}H=H.return}n!==null&&Td(p,n,S,R),p.flags|=262144}function Fl(n){for(n=n.firstContext;n!==null;){if(!_n(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Di(n){Pi=n,xs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return Um(Pi,n)}function $l(n,p){return Pi===null&&Di(n),Um(n,p)}function Um(n,p){var S=p._currentValue;if(p={context:p,memoizedValue:S,next:null},xs===null){if(n===null)throw Error(a(308));xs=p,n.dependencies={lanes:0,firstContext:p},n.flags|=524288}else xs=xs.next=p;return S}var Xx=typeof AbortController<"u"?AbortController:function(){var n=[],p=this.signal={aborted:!1,addEventListener:function(S,R){n.push(R)}};this.abort=function(){p.aborted=!0,n.forEach(function(S){return S()})}},Yx=t.unstable_scheduleCallback,Wx=t.unstable_NormalPriority,Lr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nd(){return{controller:new Xx,data:new Map,refCount:0}}function Sa(n){n.refCount--,n.refCount===0&&Yx(Wx,function(){n.controller.abort()})}var Ca=null,Md=0,go=0,bo=null;function Gx(n,p){if(Ca===null){var S=Ca=[];Md=0,go=Of(),bo={status:"pending",value:void 0,then:function(R){S.push(R)}}}return Md++,p.then(Hm,Hm),p}function Hm(){if(--Md===0&&Ca!==null){bo!==null&&(bo.status="fulfilled");var n=Ca;Ca=null,go=0,bo=null;for(var p=0;p<n.length;p++)(0,n[p])()}}function Zx(n,p){var S=[],R={status:"pending",value:null,reason:null,then:function(H){S.push(H)}};return n.then(function(){R.status="fulfilled",R.value=p;for(var H=0;H<S.length;H++)(0,S[H])(p)},function(H){for(R.status="rejected",R.reason=H,H=0;H<S.length;H++)(0,S[H])(void 0)}),R}var Vm=_.S;_.S=function(n,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&Gx(n,p),Vm!==null&&Vm(n,p)};var Li=F(null);function Rd(){var n=Li.current;return n!==null?n:br.pooledCache}function ql(n,p){p===null?V(Li,Li.current):V(Li,p.pool)}function Km(){var n=Rd();return n===null?null:{parent:Lr._currentValue,pool:n}}var ja=Error(a(460)),Xm=Error(a(474)),Ul=Error(a(542)),Ad={then:function(){}};function Ym(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Hl(){}function Wm(n,p,S){switch(S=n[S],S===void 0?n.push(p):S!==p&&(p.then(Hl,Hl),p=S),p.status){case"fulfilled":return p.value;case"rejected":throw n=p.reason,Zm(n),n;default:if(typeof p.status=="string")p.then(Hl,Hl);else{if(n=br,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=p,n.status="pending",n.then(function(R){if(p.status==="pending"){var H=p;H.status="fulfilled",H.value=R}},function(R){if(p.status==="pending"){var H=p;H.status="rejected",H.reason=R}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw n=p.reason,Zm(n),n}throw ka=p,ja}}var ka=null;function Gm(){if(ka===null)throw Error(a(459));var n=ka;return ka=null,n}function Zm(n){if(n===ja||n===Ul)throw Error(a(483))}var Js=!1;function Od(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(n,p){n=n.updateQueue,p.updateQueue===n&&(p.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Qs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ei(n,p,S){var R=n.updateQueue;if(R===null)return null;if(R=R.shared,(lr&2)!==0){var H=R.pending;return H===null?p.next=p:(p.next=H.next,H.next=p),R.pending=p,p=Dl(n),Lm(n,null,S),p}return Pl(n,R,p,S),Dl(n)}function Ea(n,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194048)!==0)){var R=p.lanes;R&=n.pendingLanes,S|=R,p.lanes=S,$e(n,S)}}function Pd(n,p){var S=n.updateQueue,R=n.alternate;if(R!==null&&(R=R.updateQueue,S===R)){var H=null,G=null;if(S=S.firstBaseUpdate,S!==null){do{var ne={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};G===null?H=G=ne:G=G.next=ne,S=S.next}while(S!==null);G===null?H=G=p:G=G.next=p}else H=G=p;S={baseState:R.baseState,firstBaseUpdate:H,lastBaseUpdate:G,shared:R.shared,callbacks:R.callbacks},n.updateQueue=S;return}n=S.lastBaseUpdate,n===null?S.firstBaseUpdate=p:n.next=p,S.lastBaseUpdate=p}var Dd=!1;function Ta(){if(Dd){var n=bo;if(n!==null)throw n}}function Na(n,p,S,R){Dd=!1;var H=n.updateQueue;Js=!1;var G=H.firstBaseUpdate,ne=H.lastBaseUpdate,ce=H.shared.pending;if(ce!==null){H.shared.pending=null;var xe=ce,qe=xe.next;xe.next=null,ne===null?G=qe:ne.next=qe,ne=xe;var et=n.alternate;et!==null&&(et=et.updateQueue,ce=et.lastBaseUpdate,ce!==ne&&(ce===null?et.firstBaseUpdate=qe:ce.next=qe,et.lastBaseUpdate=xe))}if(G!==null){var st=H.baseState;ne=0,et=qe=xe=null,ce=G;do{var Ke=ce.lane&-536870913,Xe=Ke!==ce.lane;if(Xe?(Gt&Ke)===Ke:(R&Ke)===Ke){Ke!==0&&Ke===go&&(Dd=!0),et!==null&&(et=et.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var Dt=n,Mt=ce;Ke=p;var fr=S;switch(Mt.tag){case 1:if(Dt=Mt.payload,typeof Dt=="function"){st=Dt.call(fr,st,Ke);break e}st=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Mt.payload,Ke=typeof Dt=="function"?Dt.call(fr,st,Ke):Dt,Ke==null)break e;st=i({},st,Ke);break e;case 2:Js=!0}}Ke=ce.callback,Ke!==null&&(n.flags|=64,Xe&&(n.flags|=8192),Xe=H.callbacks,Xe===null?H.callbacks=[Ke]:Xe.push(Ke))}else Xe={lane:Ke,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},et===null?(qe=et=Xe,xe=st):et=et.next=Xe,ne|=Ke;if(ce=ce.next,ce===null){if(ce=H.shared.pending,ce===null)break;Xe=ce,ce=Xe.next,Xe.next=null,H.lastBaseUpdate=Xe,H.shared.pending=null}}while(!0);et===null&&(xe=st),H.baseState=xe,H.firstBaseUpdate=qe,H.lastBaseUpdate=et,G===null&&(H.shared.lanes=0),li|=ne,n.lanes=ne,n.memoizedState=st}}function Jm(n,p){if(typeof n!="function")throw Error(a(191,n));n.call(p)}function Qm(n,p){var S=n.callbacks;if(S!==null)for(n.callbacks=null,n=0;n<S.length;n++)Jm(S[n],p)}var yo=F(null),Vl=F(0);function e0(n,p){n=Ts,V(Vl,n),V(yo,p),Ts=n|p.baseLanes}function Ld(){V(Vl,Ts),V(yo,yo.current)}function Id(){Ts=Vl.current,$(yo),$(Vl)}var ti=0,Ut=null,ur=null,Or=null,Kl=!1,vo=!1,Ii=!1,Xl=0,Ma=0,xo=null,Jx=0;function kr(){throw Error(a(321))}function zd(n,p){if(p===null)return!1;for(var S=0;S<p.length&&S<n.length;S++)if(!_n(n[S],p[S]))return!1;return!0}function Fd(n,p,S,R,H,G){return ti=G,Ut=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,_.H=n===null||n.memoizedState===null?L0:I0,Ii=!1,G=S(R,H),Ii=!1,vo&&(G=r0(p,S,R,H)),t0(n),G}function t0(n){_.H=Ql;var p=ur!==null&&ur.next!==null;if(ti=0,Or=ur=Ut=null,Kl=!1,Ma=0,xo=null,p)throw Error(a(300));n===null||Fr||(n=n.dependencies,n!==null&&Fl(n)&&(Fr=!0))}function r0(n,p,S,R){Ut=n;var H=0;do{if(vo&&(xo=null),Ma=0,vo=!1,25<=H)throw Error(a(301));if(H+=1,Or=ur=null,n.updateQueue!=null){var G=n.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}_.H=iw,G=p(S,R)}while(vo);return G}function Qx(){var n=_.H,p=n.useState()[0];return p=typeof p.then=="function"?Ra(p):p,n=n.useState()[0],(ur!==null?ur.memoizedState:null)!==n&&(Ut.flags|=1024),p}function $d(){var n=Xl!==0;return Xl=0,n}function qd(n,p,S){p.updateQueue=n.updateQueue,p.flags&=-2053,n.lanes&=~S}function Ud(n){if(Kl){for(n=n.memoizedState;n!==null;){var p=n.queue;p!==null&&(p.pending=null),n=n.next}Kl=!1}ti=0,Or=ur=Ut=null,vo=!1,Ma=Xl=0,xo=null}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?Ut.memoizedState=Or=n:Or=Or.next=n,Or}function Br(){if(ur===null){var n=Ut.alternate;n=n!==null?n.memoizedState:null}else n=ur.next;var p=Or===null?Ut.memoizedState:Or.next;if(p!==null)Or=p,ur=n;else{if(n===null)throw Ut.alternate===null?Error(a(467)):Error(a(310));ur=n,n={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},Or===null?Ut.memoizedState=Or=n:Or=Or.next=n}return Or}function Hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ra(n){var p=Ma;return Ma+=1,xo===null&&(xo=[]),n=Wm(xo,n,p),p=Ut,(Or===null?p.memoizedState:Or.next)===null&&(p=p.alternate,_.H=p===null||p.memoizedState===null?L0:I0),n}function Yl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ra(n);if(n.$$typeof===C)return tn(n)}throw Error(a(438,String(n)))}function Vd(n){var p=null,S=Ut.updateQueue;if(S!==null&&(p=S.memoCache),p==null){var R=Ut.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(p={data:R.data.map(function(H){return H.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),S===null&&(S=Hd(),Ut.updateQueue=S),S.memoCache=p,S=p.data[p.index],S===void 0)for(S=p.data[p.index]=Array(n),R=0;R<n;R++)S[R]=K;return p.index++,S}function _s(n,p){return typeof p=="function"?p(n):p}function Wl(n){var p=Br();return Kd(p,ur,n)}function Kd(n,p,S){var R=n.queue;if(R===null)throw Error(a(311));R.lastRenderedReducer=S;var H=n.baseQueue,G=R.pending;if(G!==null){if(H!==null){var ne=H.next;H.next=G.next,G.next=ne}p.baseQueue=H=G,R.pending=null}if(G=n.baseState,H===null)n.memoizedState=G;else{p=H.next;var ce=ne=null,xe=null,qe=p,et=!1;do{var st=qe.lane&-536870913;if(st!==qe.lane?(Gt&st)===st:(ti&st)===st){var Ke=qe.revertLane;if(Ke===0)xe!==null&&(xe=xe.next={lane:0,revertLane:0,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null}),st===go&&(et=!0);else if((ti&Ke)===Ke){qe=qe.next,Ke===go&&(et=!0);continue}else st={lane:0,revertLane:qe.revertLane,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null},xe===null?(ce=xe=st,ne=G):xe=xe.next=st,Ut.lanes|=Ke,li|=Ke;st=qe.action,Ii&&S(G,st),G=qe.hasEagerState?qe.eagerState:S(G,st)}else Ke={lane:st,revertLane:qe.revertLane,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null},xe===null?(ce=xe=Ke,ne=G):xe=xe.next=Ke,Ut.lanes|=st,li|=st;qe=qe.next}while(qe!==null&&qe!==p);if(xe===null?ne=G:xe.next=ce,!_n(G,n.memoizedState)&&(Fr=!0,et&&(S=bo,S!==null)))throw S;n.memoizedState=G,n.baseState=ne,n.baseQueue=xe,R.lastRenderedState=G}return H===null&&(R.lanes=0),[n.memoizedState,R.dispatch]}function Xd(n){var p=Br(),S=p.queue;if(S===null)throw Error(a(311));S.lastRenderedReducer=n;var R=S.dispatch,H=S.pending,G=p.memoizedState;if(H!==null){S.pending=null;var ne=H=H.next;do G=n(G,ne.action),ne=ne.next;while(ne!==H);_n(G,p.memoizedState)||(Fr=!0),p.memoizedState=G,p.baseQueue===null&&(p.baseState=G),S.lastRenderedState=G}return[G,R]}function n0(n,p,S){var R=Ut,H=Br(),G=rr;if(G){if(S===void 0)throw Error(a(407));S=S()}else S=p();var ne=!_n((ur||H).memoizedState,S);ne&&(H.memoizedState=S,Fr=!0),H=H.queue;var ce=o0.bind(null,R,H,n);if(Aa(2048,8,ce,[n]),H.getSnapshot!==p||ne||Or!==null&&Or.memoizedState.tag&1){if(R.flags|=2048,wo(9,Gl(),i0.bind(null,R,H,S,p),null),br===null)throw Error(a(349));G||(ti&124)!==0||s0(R,p,S)}return S}function s0(n,p,S){n.flags|=16384,n={getSnapshot:p,value:S},p=Ut.updateQueue,p===null?(p=Hd(),Ut.updateQueue=p,p.stores=[n]):(S=p.stores,S===null?p.stores=[n]:S.push(n))}function i0(n,p,S,R){p.value=S,p.getSnapshot=R,a0(p)&&l0(n)}function o0(n,p,S){return S(function(){a0(p)&&l0(n)})}function a0(n){var p=n.getSnapshot;n=n.value;try{var S=p();return!_n(n,S)}catch{return!0}}function l0(n){var p=fo(n,2);p!==null&&Tn(p,n,2)}function Yd(n){var p=pn();if(typeof n=="function"){var S=n;if(n=S(),Ii){He(!0);try{S()}finally{He(!1)}}}return p.memoizedState=p.baseState=n,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:n},p}function c0(n,p,S,R){return n.baseState=S,Kd(n,ur,typeof R=="function"?R:_s)}function ew(n,p,S,R,H){if(Jl(n))throw Error(a(485));if(n=p.action,n!==null){var G={payload:H,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){G.listeners.push(ne)}};_.T!==null?S(!0):G.isTransition=!1,R(G),S=p.pending,S===null?(G.next=p.pending=G,u0(p,G)):(G.next=S.next,p.pending=S.next=G)}}function u0(n,p){var S=p.action,R=p.payload,H=n.state;if(p.isTransition){var G=_.T,ne={};_.T=ne;try{var ce=S(H,R),xe=_.S;xe!==null&&xe(ne,ce),d0(n,p,ce)}catch(qe){Wd(n,p,qe)}finally{_.T=G}}else try{G=S(H,R),d0(n,p,G)}catch(qe){Wd(n,p,qe)}}function d0(n,p,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(R){f0(n,p,R)},function(R){return Wd(n,p,R)}):f0(n,p,S)}function f0(n,p,S){p.status="fulfilled",p.value=S,h0(p),n.state=S,p=n.pending,p!==null&&(S=p.next,S===p?n.pending=null:(S=S.next,p.next=S,u0(n,S)))}function Wd(n,p,S){var R=n.pending;if(n.pending=null,R!==null){R=R.next;do p.status="rejected",p.reason=S,h0(p),p=p.next;while(p!==R)}n.action=null}function h0(n){n=n.listeners;for(var p=0;p<n.length;p++)(0,n[p])()}function p0(n,p){return p}function m0(n,p){if(rr){var S=br.formState;if(S!==null){e:{var R=Ut;if(rr){if(Sr){t:{for(var H=Sr,G=ss;H.nodeType!==8;){if(!G){H=null;break t}if(H=Gn(H.nextSibling),H===null){H=null;break t}}G=H.data,H=G==="F!"||G==="F"?H:null}if(H){Sr=Gn(H.nextSibling),R=H.data==="F!";break e}}Bi(R)}R=!1}R&&(p=S[0])}}return S=pn(),S.memoizedState=S.baseState=p,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p0,lastRenderedState:p},S.queue=R,S=B0.bind(null,Ut,R),R.dispatch=S,R=Yd(!1),G=ef.bind(null,Ut,!1,R.queue),R=pn(),H={state:p,dispatch:null,action:n,pending:null},R.queue=H,S=ew.bind(null,Ut,H,G,S),H.dispatch=S,R.memoizedState=n,[p,S,!1]}function g0(n){var p=Br();return b0(p,ur,n)}function b0(n,p,S){if(p=Kd(n,p,p0)[0],n=Wl(_s)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var R=Ra(p)}catch(ne){throw ne===ja?Ul:ne}else R=p;p=Br();var H=p.queue,G=H.dispatch;return S!==p.memoizedState&&(Ut.flags|=2048,wo(9,Gl(),tw.bind(null,H,S),null)),[R,G,n]}function tw(n,p){n.action=p}function y0(n){var p=Br(),S=ur;if(S!==null)return b0(p,S,n);Br(),p=p.memoizedState,S=Br();var R=S.queue.dispatch;return S.memoizedState=n,[p,R,!1]}function wo(n,p,S,R){return n={tag:n,create:S,deps:R,inst:p,next:null},p=Ut.updateQueue,p===null&&(p=Hd(),Ut.updateQueue=p),S=p.lastEffect,S===null?p.lastEffect=n.next=n:(R=S.next,S.next=n,n.next=R,p.lastEffect=n),n}function Gl(){return{destroy:void 0,resource:void 0}}function v0(){return Br().memoizedState}function Zl(n,p,S,R){var H=pn();R=R===void 0?null:R,Ut.flags|=n,H.memoizedState=wo(1|p,Gl(),S,R)}function Aa(n,p,S,R){var H=Br();R=R===void 0?null:R;var G=H.memoizedState.inst;ur!==null&&R!==null&&zd(R,ur.memoizedState.deps)?H.memoizedState=wo(p,G,S,R):(Ut.flags|=n,H.memoizedState=wo(1|p,G,S,R))}function x0(n,p){Zl(8390656,8,n,p)}function w0(n,p){Aa(2048,8,n,p)}function _0(n,p){return Aa(4,2,n,p)}function S0(n,p){return Aa(4,4,n,p)}function C0(n,p){if(typeof p=="function"){n=n();var S=p(n);return function(){typeof S=="function"?S():p(null)}}if(p!=null)return n=n(),p.current=n,function(){p.current=null}}function j0(n,p,S){S=S!=null?S.concat([n]):null,Aa(4,4,C0.bind(null,p,n),S)}function Gd(){}function k0(n,p){var S=Br();p=p===void 0?null:p;var R=S.memoizedState;return p!==null&&zd(p,R[1])?R[0]:(S.memoizedState=[n,p],n)}function E0(n,p){var S=Br();p=p===void 0?null:p;var R=S.memoizedState;if(p!==null&&zd(p,R[1]))return R[0];if(R=n(),Ii){He(!0);try{n()}finally{He(!1)}}return S.memoizedState=[R,p],R}function Zd(n,p,S){return S===void 0||(ti&1073741824)!==0?n.memoizedState=p:(n.memoizedState=S,n=Mg(),Ut.lanes|=n,li|=n,S)}function T0(n,p,S,R){return _n(S,p)?S:yo.current!==null?(n=Zd(n,S,R),_n(n,p)||(Fr=!0),n):(ti&42)===0?(Fr=!0,n.memoizedState=S):(n=Mg(),Ut.lanes|=n,li|=n,p)}function N0(n,p,S,R,H){var G=j.p;j.p=G!==0&&8>G?G:8;var ne=_.T,ce={};_.T=ce,ef(n,!1,p,S);try{var xe=H(),qe=_.S;if(qe!==null&&qe(ce,xe),xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var et=Zx(xe,R);Oa(n,p,et,En(n))}else Oa(n,p,R,En(n))}catch(st){Oa(n,p,{then:function(){},status:"rejected",reason:st},En())}finally{j.p=G,_.T=ne}}function rw(){}function Jd(n,p,S,R){if(n.tag!==5)throw Error(a(476));var H=M0(n).queue;N0(n,H,p,k,S===null?rw:function(){return R0(n),S(R)})}function M0(n){var p=n.memoizedState;if(p!==null)return p;p={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:k},next:null};var S={};return p.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:S},next:null},n.memoizedState=p,n=n.alternate,n!==null&&(n.memoizedState=p),p}function R0(n){var p=M0(n).next.queue;Oa(n,p,{},En())}function Qd(){return tn(Za)}function A0(){return Br().memoizedState}function O0(){return Br().memoizedState}function nw(n){for(var p=n.return;p!==null;){switch(p.tag){case 24:case 3:var S=En();n=Qs(S);var R=ei(p,n,S);R!==null&&(Tn(R,p,S),Ea(R,p,S)),p={cache:Nd()},n.payload=p;return}p=p.return}}function sw(n,p,S){var R=En();S={lane:R,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null},Jl(n)?P0(p,S):(S=vd(n,p,S,R),S!==null&&(Tn(S,n,R),D0(S,p,R)))}function B0(n,p,S){var R=En();Oa(n,p,S,R)}function Oa(n,p,S,R){var H={lane:R,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null};if(Jl(n))P0(p,H);else{var G=n.alternate;if(n.lanes===0&&(G===null||G.lanes===0)&&(G=p.lastRenderedReducer,G!==null))try{var ne=p.lastRenderedState,ce=G(ne,S);if(H.hasEagerState=!0,H.eagerState=ce,_n(ce,ne))return Pl(n,p,H,0),br===null&&Bl(),!1}catch{}finally{}if(S=vd(n,p,H,R),S!==null)return Tn(S,n,R),D0(S,p,R),!0}return!1}function ef(n,p,S,R){if(R={lane:2,revertLane:Of(),action:R,hasEagerState:!1,eagerState:null,next:null},Jl(n)){if(p)throw Error(a(479))}else p=vd(n,S,R,2),p!==null&&Tn(p,n,2)}function Jl(n){var p=n.alternate;return n===Ut||p!==null&&p===Ut}function P0(n,p){vo=Kl=!0;var S=n.pending;S===null?p.next=p:(p.next=S.next,S.next=p),n.pending=p}function D0(n,p,S){if((S&4194048)!==0){var R=p.lanes;R&=n.pendingLanes,S|=R,p.lanes=S,$e(n,S)}}var Ql={readContext:tn,use:Yl,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useLayoutEffect:kr,useInsertionEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useSyncExternalStore:kr,useId:kr,useHostTransitionStatus:kr,useFormState:kr,useActionState:kr,useOptimistic:kr,useMemoCache:kr,useCacheRefresh:kr},L0={readContext:tn,use:Yl,useCallback:function(n,p){return pn().memoizedState=[n,p===void 0?null:p],n},useContext:tn,useEffect:x0,useImperativeHandle:function(n,p,S){S=S!=null?S.concat([n]):null,Zl(4194308,4,C0.bind(null,p,n),S)},useLayoutEffect:function(n,p){return Zl(4194308,4,n,p)},useInsertionEffect:function(n,p){Zl(4,2,n,p)},useMemo:function(n,p){var S=pn();p=p===void 0?null:p;var R=n();if(Ii){He(!0);try{n()}finally{He(!1)}}return S.memoizedState=[R,p],R},useReducer:function(n,p,S){var R=pn();if(S!==void 0){var H=S(p);if(Ii){He(!0);try{S(p)}finally{He(!1)}}}else H=p;return R.memoizedState=R.baseState=H,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:H},R.queue=n,n=n.dispatch=sw.bind(null,Ut,n),[R.memoizedState,n]},useRef:function(n){var p=pn();return n={current:n},p.memoizedState=n},useState:function(n){n=Yd(n);var p=n.queue,S=B0.bind(null,Ut,p);return p.dispatch=S,[n.memoizedState,S]},useDebugValue:Gd,useDeferredValue:function(n,p){var S=pn();return Zd(S,n,p)},useTransition:function(){var n=Yd(!1);return n=N0.bind(null,Ut,n.queue,!0,!1),pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,p,S){var R=Ut,H=pn();if(rr){if(S===void 0)throw Error(a(407));S=S()}else{if(S=p(),br===null)throw Error(a(349));(Gt&124)!==0||s0(R,p,S)}H.memoizedState=S;var G={value:S,getSnapshot:p};return H.queue=G,x0(o0.bind(null,R,G,n),[n]),R.flags|=2048,wo(9,Gl(),i0.bind(null,R,G,S,p),null),S},useId:function(){var n=pn(),p=br.identifierPrefix;if(rr){var S=vs,R=ys;S=(R&~(1<<32-Me(R)-1)).toString(32)+S,p=""+p+"R"+S,S=Xl++,0<S&&(p+="H"+S.toString(32)),p+=""}else S=Jx++,p=""+p+"r"+S.toString(32)+"";return n.memoizedState=p},useHostTransitionStatus:Qd,useFormState:m0,useActionState:m0,useOptimistic:function(n){var p=pn();p.memoizedState=p.baseState=n;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=S,p=ef.bind(null,Ut,!0,S),S.dispatch=p,[n,p]},useMemoCache:Vd,useCacheRefresh:function(){return pn().memoizedState=nw.bind(null,Ut)}},I0={readContext:tn,use:Yl,useCallback:k0,useContext:tn,useEffect:w0,useImperativeHandle:j0,useInsertionEffect:_0,useLayoutEffect:S0,useMemo:E0,useReducer:Wl,useRef:v0,useState:function(){return Wl(_s)},useDebugValue:Gd,useDeferredValue:function(n,p){var S=Br();return T0(S,ur.memoizedState,n,p)},useTransition:function(){var n=Wl(_s)[0],p=Br().memoizedState;return[typeof n=="boolean"?n:Ra(n),p]},useSyncExternalStore:n0,useId:A0,useHostTransitionStatus:Qd,useFormState:g0,useActionState:g0,useOptimistic:function(n,p){var S=Br();return c0(S,ur,n,p)},useMemoCache:Vd,useCacheRefresh:O0},iw={readContext:tn,use:Yl,useCallback:k0,useContext:tn,useEffect:w0,useImperativeHandle:j0,useInsertionEffect:_0,useLayoutEffect:S0,useMemo:E0,useReducer:Xd,useRef:v0,useState:function(){return Xd(_s)},useDebugValue:Gd,useDeferredValue:function(n,p){var S=Br();return ur===null?Zd(S,n,p):T0(S,ur.memoizedState,n,p)},useTransition:function(){var n=Xd(_s)[0],p=Br().memoizedState;return[typeof n=="boolean"?n:Ra(n),p]},useSyncExternalStore:n0,useId:A0,useHostTransitionStatus:Qd,useFormState:y0,useActionState:y0,useOptimistic:function(n,p){var S=Br();return ur!==null?c0(S,ur,n,p):(S.baseState=n,[n,S.queue.dispatch])},useMemoCache:Vd,useCacheRefresh:O0},_o=null,Ba=0;function ec(n){var p=Ba;return Ba+=1,_o===null&&(_o=[]),Wm(_o,n,p)}function Pa(n,p){p=p.props.ref,n.ref=p!==void 0?p:null}function tc(n,p){throw p.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(p),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":n)))}function z0(n){var p=n._init;return p(n._payload)}function F0(n){function p(Oe,ke){if(n){var Ie=Oe.deletions;Ie===null?(Oe.deletions=[ke],Oe.flags|=16):Ie.push(ke)}}function S(Oe,ke){if(!n)return null;for(;ke!==null;)p(Oe,ke),ke=ke.sibling;return null}function R(Oe){for(var ke=new Map;Oe!==null;)Oe.key!==null?ke.set(Oe.key,Oe):ke.set(Oe.index,Oe),Oe=Oe.sibling;return ke}function H(Oe,ke){return Oe=bs(Oe,ke),Oe.index=0,Oe.sibling=null,Oe}function G(Oe,ke,Ie){return Oe.index=Ie,n?(Ie=Oe.alternate,Ie!==null?(Ie=Ie.index,Ie<ke?(Oe.flags|=67108866,ke):Ie):(Oe.flags|=67108866,ke)):(Oe.flags|=1048576,ke)}function ne(Oe){return n&&Oe.alternate===null&&(Oe.flags|=67108866),Oe}function ce(Oe,ke,Ie,tt){return ke===null||ke.tag!==6?(ke=wd(Ie,Oe.mode,tt),ke.return=Oe,ke):(ke=H(ke,Ie),ke.return=Oe,ke)}function xe(Oe,ke,Ie,tt){var yt=Ie.type;return yt===v?et(Oe,ke,Ie.props.children,tt,Ie.key):ke!==null&&(ke.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===B&&z0(yt)===ke.type)?(ke=H(ke,Ie.props),Pa(ke,Ie),ke.return=Oe,ke):(ke=Ll(Ie.type,Ie.key,Ie.props,null,Oe.mode,tt),Pa(ke,Ie),ke.return=Oe,ke)}function qe(Oe,ke,Ie,tt){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Ie.containerInfo||ke.stateNode.implementation!==Ie.implementation?(ke=_d(Ie,Oe.mode,tt),ke.return=Oe,ke):(ke=H(ke,Ie.children||[]),ke.return=Oe,ke)}function et(Oe,ke,Ie,tt,yt){return ke===null||ke.tag!==7?(ke=Mi(Ie,Oe.mode,tt,yt),ke.return=Oe,ke):(ke=H(ke,Ie),ke.return=Oe,ke)}function st(Oe,ke,Ie){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ke=wd(""+ke,Oe.mode,Ie),ke.return=Oe,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case d:return Ie=Ll(ke.type,ke.key,ke.props,null,Oe.mode,Ie),Pa(Ie,ke),Ie.return=Oe,Ie;case u:return ke=_d(ke,Oe.mode,Ie),ke.return=Oe,ke;case B:var tt=ke._init;return ke=tt(ke._payload),st(Oe,ke,Ie)}if(N(ke)||X(ke))return ke=Mi(ke,Oe.mode,Ie,null),ke.return=Oe,ke;if(typeof ke.then=="function")return st(Oe,ec(ke),Ie);if(ke.$$typeof===C)return st(Oe,$l(Oe,ke),Ie);tc(Oe,ke)}return null}function Ke(Oe,ke,Ie,tt){var yt=ke!==null?ke.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return yt!==null?null:ce(Oe,ke,""+Ie,tt);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case d:return Ie.key===yt?xe(Oe,ke,Ie,tt):null;case u:return Ie.key===yt?qe(Oe,ke,Ie,tt):null;case B:return yt=Ie._init,Ie=yt(Ie._payload),Ke(Oe,ke,Ie,tt)}if(N(Ie)||X(Ie))return yt!==null?null:et(Oe,ke,Ie,tt,null);if(typeof Ie.then=="function")return Ke(Oe,ke,ec(Ie),tt);if(Ie.$$typeof===C)return Ke(Oe,ke,$l(Oe,Ie),tt);tc(Oe,Ie)}return null}function Xe(Oe,ke,Ie,tt,yt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Oe=Oe.get(Ie)||null,ce(ke,Oe,""+tt,yt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case d:return Oe=Oe.get(tt.key===null?Ie:tt.key)||null,xe(ke,Oe,tt,yt);case u:return Oe=Oe.get(tt.key===null?Ie:tt.key)||null,qe(ke,Oe,tt,yt);case B:var Vt=tt._init;return tt=Vt(tt._payload),Xe(Oe,ke,Ie,tt,yt)}if(N(tt)||X(tt))return Oe=Oe.get(Ie)||null,et(ke,Oe,tt,yt,null);if(typeof tt.then=="function")return Xe(Oe,ke,Ie,ec(tt),yt);if(tt.$$typeof===C)return Xe(Oe,ke,Ie,$l(ke,tt),yt);tc(ke,tt)}return null}function Dt(Oe,ke,Ie,tt){for(var yt=null,Vt=null,St=ke,Rt=ke=0,qr=null;St!==null&&Rt<Ie.length;Rt++){St.index>Rt?(qr=St,St=null):qr=St.sibling;var er=Ke(Oe,St,Ie[Rt],tt);if(er===null){St===null&&(St=qr);break}n&&St&&er.alternate===null&&p(Oe,St),ke=G(er,ke,Rt),Vt===null?yt=er:Vt.sibling=er,Vt=er,St=qr}if(Rt===Ie.length)return S(Oe,St),rr&&Ai(Oe,Rt),yt;if(St===null){for(;Rt<Ie.length;Rt++)St=st(Oe,Ie[Rt],tt),St!==null&&(ke=G(St,ke,Rt),Vt===null?yt=St:Vt.sibling=St,Vt=St);return rr&&Ai(Oe,Rt),yt}for(St=R(St);Rt<Ie.length;Rt++)qr=Xe(St,Oe,Rt,Ie[Rt],tt),qr!==null&&(n&&qr.alternate!==null&&St.delete(qr.key===null?Rt:qr.key),ke=G(qr,ke,Rt),Vt===null?yt=qr:Vt.sibling=qr,Vt=qr);return n&&St.forEach(function(bi){return p(Oe,bi)}),rr&&Ai(Oe,Rt),yt}function Mt(Oe,ke,Ie,tt){if(Ie==null)throw Error(a(151));for(var yt=null,Vt=null,St=ke,Rt=ke=0,qr=null,er=Ie.next();St!==null&&!er.done;Rt++,er=Ie.next()){St.index>Rt?(qr=St,St=null):qr=St.sibling;var bi=Ke(Oe,St,er.value,tt);if(bi===null){St===null&&(St=qr);break}n&&St&&bi.alternate===null&&p(Oe,St),ke=G(bi,ke,Rt),Vt===null?yt=bi:Vt.sibling=bi,Vt=bi,St=qr}if(er.done)return S(Oe,St),rr&&Ai(Oe,Rt),yt;if(St===null){for(;!er.done;Rt++,er=Ie.next())er=st(Oe,er.value,tt),er!==null&&(ke=G(er,ke,Rt),Vt===null?yt=er:Vt.sibling=er,Vt=er);return rr&&Ai(Oe,Rt),yt}for(St=R(St);!er.done;Rt++,er=Ie.next())er=Xe(St,Oe,Rt,er.value,tt),er!==null&&(n&&er.alternate!==null&&St.delete(er.key===null?Rt:er.key),ke=G(er,ke,Rt),Vt===null?yt=er:Vt.sibling=er,Vt=er);return n&&St.forEach(function(o_){return p(Oe,o_)}),rr&&Ai(Oe,Rt),yt}function fr(Oe,ke,Ie,tt){if(typeof Ie=="object"&&Ie!==null&&Ie.type===v&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case d:e:{for(var yt=Ie.key;ke!==null;){if(ke.key===yt){if(yt=Ie.type,yt===v){if(ke.tag===7){S(Oe,ke.sibling),tt=H(ke,Ie.props.children),tt.return=Oe,Oe=tt;break e}}else if(ke.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===B&&z0(yt)===ke.type){S(Oe,ke.sibling),tt=H(ke,Ie.props),Pa(tt,Ie),tt.return=Oe,Oe=tt;break e}S(Oe,ke);break}else p(Oe,ke);ke=ke.sibling}Ie.type===v?(tt=Mi(Ie.props.children,Oe.mode,tt,Ie.key),tt.return=Oe,Oe=tt):(tt=Ll(Ie.type,Ie.key,Ie.props,null,Oe.mode,tt),Pa(tt,Ie),tt.return=Oe,Oe=tt)}return ne(Oe);case u:e:{for(yt=Ie.key;ke!==null;){if(ke.key===yt)if(ke.tag===4&&ke.stateNode.containerInfo===Ie.containerInfo&&ke.stateNode.implementation===Ie.implementation){S(Oe,ke.sibling),tt=H(ke,Ie.children||[]),tt.return=Oe,Oe=tt;break e}else{S(Oe,ke);break}else p(Oe,ke);ke=ke.sibling}tt=_d(Ie,Oe.mode,tt),tt.return=Oe,Oe=tt}return ne(Oe);case B:return yt=Ie._init,Ie=yt(Ie._payload),fr(Oe,ke,Ie,tt)}if(N(Ie))return Dt(Oe,ke,Ie,tt);if(X(Ie)){if(yt=X(Ie),typeof yt!="function")throw Error(a(150));return Ie=yt.call(Ie),Mt(Oe,ke,Ie,tt)}if(typeof Ie.then=="function")return fr(Oe,ke,ec(Ie),tt);if(Ie.$$typeof===C)return fr(Oe,ke,$l(Oe,Ie),tt);tc(Oe,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,ke!==null&&ke.tag===6?(S(Oe,ke.sibling),tt=H(ke,Ie),tt.return=Oe,Oe=tt):(S(Oe,ke),tt=wd(Ie,Oe.mode,tt),tt.return=Oe,Oe=tt),ne(Oe)):S(Oe,ke)}return function(Oe,ke,Ie,tt){try{Ba=0;var yt=fr(Oe,ke,Ie,tt);return _o=null,yt}catch(St){if(St===ja||St===Ul)throw St;var Vt=Sn(29,St,null,Oe.mode);return Vt.lanes=tt,Vt.return=Oe,Vt}finally{}}}var So=F0(!0),$0=F0(!1),Fn=F(null),is=null;function ri(n){var p=n.alternate;V(Ir,Ir.current&1),V(Fn,n),is===null&&(p===null||yo.current!==null||p.memoizedState!==null)&&(is=n)}function q0(n){if(n.tag===22){if(V(Ir,Ir.current),V(Fn,n),is===null){var p=n.alternate;p!==null&&p.memoizedState!==null&&(is=n)}}else ni()}function ni(){V(Ir,Ir.current),V(Fn,Fn.current)}function Ss(n){$(Fn),is===n&&(is=null),$(Ir)}var Ir=F(0);function rc(n){for(var p=n;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||Vf(S)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break;for(;p.sibling===null;){if(p.return===null||p.return===n)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function tf(n,p,S,R){p=n.memoizedState,S=S(R,p),S=S==null?p:i({},p,S),n.memoizedState=S,n.lanes===0&&(n.updateQueue.baseState=S)}var rf={enqueueSetState:function(n,p,S){n=n._reactInternals;var R=En(),H=Qs(R);H.payload=p,S!=null&&(H.callback=S),p=ei(n,H,R),p!==null&&(Tn(p,n,R),Ea(p,n,R))},enqueueReplaceState:function(n,p,S){n=n._reactInternals;var R=En(),H=Qs(R);H.tag=1,H.payload=p,S!=null&&(H.callback=S),p=ei(n,H,R),p!==null&&(Tn(p,n,R),Ea(p,n,R))},enqueueForceUpdate:function(n,p){n=n._reactInternals;var S=En(),R=Qs(S);R.tag=2,p!=null&&(R.callback=p),p=ei(n,R,S),p!==null&&(Tn(p,n,S),Ea(p,n,S))}};function U0(n,p,S,R,H,G,ne){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(R,G,ne):p.prototype&&p.prototype.isPureReactComponent?!ba(S,R)||!ba(H,G):!0}function H0(n,p,S,R){n=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,R),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,R),p.state!==n&&rf.enqueueReplaceState(p,p.state,null)}function zi(n,p){var S=p;if("ref"in p){S={};for(var R in p)R!=="ref"&&(S[R]=p[R])}if(n=n.defaultProps){S===p&&(S=i({},S));for(var H in n)S[H]===void 0&&(S[H]=n[H])}return S}var nc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function V0(n){nc(n)}function K0(n){console.error(n)}function X0(n){nc(n)}function sc(n,p){try{var S=n.onUncaughtError;S(p.value,{componentStack:p.stack})}catch(R){setTimeout(function(){throw R})}}function Y0(n,p,S){try{var R=n.onCaughtError;R(S.value,{componentStack:S.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(H){setTimeout(function(){throw H})}}function nf(n,p,S){return S=Qs(S),S.tag=3,S.payload={element:null},S.callback=function(){sc(n,p)},S}function W0(n){return n=Qs(n),n.tag=3,n}function G0(n,p,S,R){var H=S.type.getDerivedStateFromError;if(typeof H=="function"){var G=R.value;n.payload=function(){return H(G)},n.callback=function(){Y0(p,S,R)}}var ne=S.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(n.callback=function(){Y0(p,S,R),typeof H!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var ce=R.stack;this.componentDidCatch(R.value,{componentStack:ce!==null?ce:""})})}function ow(n,p,S,R,H){if(S.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(p=S.alternate,p!==null&&_a(p,S,H,!0),S=Fn.current,S!==null){switch(S.tag){case 13:return is===null?Tf():S.alternate===null&&Cr===0&&(Cr=3),S.flags&=-257,S.flags|=65536,S.lanes=H,R===Ad?S.flags|=16384:(p=S.updateQueue,p===null?S.updateQueue=new Set([R]):p.add(R),Mf(n,R,H)),!1;case 22:return S.flags|=65536,R===Ad?S.flags|=16384:(p=S.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([R])},S.updateQueue=p):(S=p.retryQueue,S===null?p.retryQueue=new Set([R]):S.add(R)),Mf(n,R,H)),!1}throw Error(a(435,S.tag))}return Mf(n,R,H),Tf(),!1}if(rr)return p=Fn.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=H,R!==jd&&(n=Error(a(422),{cause:R}),wa(Dn(n,S)))):(R!==jd&&(p=Error(a(423),{cause:R}),wa(Dn(p,S))),n=n.current.alternate,n.flags|=65536,H&=-H,n.lanes|=H,R=Dn(R,S),H=nf(n.stateNode,R,H),Pd(n,H),Cr!==4&&(Cr=2)),!1;var G=Error(a(520),{cause:R});if(G=Dn(G,S),qa===null?qa=[G]:qa.push(G),Cr!==4&&(Cr=2),p===null)return!0;R=Dn(R,S),S=p;do{switch(S.tag){case 3:return S.flags|=65536,n=H&-H,S.lanes|=n,n=nf(S.stateNode,R,n),Pd(S,n),!1;case 1:if(p=S.type,G=S.stateNode,(S.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(ci===null||!ci.has(G))))return S.flags|=65536,H&=-H,S.lanes|=H,H=W0(H),G0(H,n,S,R),Pd(S,H),!1}S=S.return}while(S!==null);return!1}var Z0=Error(a(461)),Fr=!1;function Yr(n,p,S,R){p.child=n===null?$0(p,null,S,R):So(p,n.child,S,R)}function J0(n,p,S,R,H){S=S.render;var G=p.ref;if("ref"in R){var ne={};for(var ce in R)ce!=="ref"&&(ne[ce]=R[ce])}else ne=R;return Di(p),R=Fd(n,p,S,ne,G,H),ce=$d(),n!==null&&!Fr?(qd(n,p,H),Cs(n,p,H)):(rr&&ce&&Sd(p),p.flags|=1,Yr(n,p,R,H),p.child)}function Q0(n,p,S,R,H){if(n===null){var G=S.type;return typeof G=="function"&&!xd(G)&&G.defaultProps===void 0&&S.compare===null?(p.tag=15,p.type=G,eg(n,p,G,R,H)):(n=Ll(S.type,null,R,p,p.mode,H),n.ref=p.ref,n.return=p,p.child=n)}if(G=n.child,!ff(n,H)){var ne=G.memoizedProps;if(S=S.compare,S=S!==null?S:ba,S(ne,R)&&n.ref===p.ref)return Cs(n,p,H)}return p.flags|=1,n=bs(G,R),n.ref=p.ref,n.return=p,p.child=n}function eg(n,p,S,R,H){if(n!==null){var G=n.memoizedProps;if(ba(G,R)&&n.ref===p.ref)if(Fr=!1,p.pendingProps=R=G,ff(n,H))(n.flags&131072)!==0&&(Fr=!0);else return p.lanes=n.lanes,Cs(n,p,H)}return sf(n,p,S,R,H)}function tg(n,p,S){var R=p.pendingProps,H=R.children,G=n!==null?n.memoizedState:null;if(R.mode==="hidden"){if((p.flags&128)!==0){if(R=G!==null?G.baseLanes|S:S,n!==null){for(H=p.child=n.child,G=0;H!==null;)G=G|H.lanes|H.childLanes,H=H.sibling;p.childLanes=G&~R}else p.childLanes=0,p.child=null;return rg(n,p,R,S)}if((S&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},n!==null&&ql(p,G!==null?G.cachePool:null),G!==null?e0(p,G):Ld(),q0(p);else return p.lanes=p.childLanes=536870912,rg(n,p,G!==null?G.baseLanes|S:S,S)}else G!==null?(ql(p,G.cachePool),e0(p,G),ni(),p.memoizedState=null):(n!==null&&ql(p,null),Ld(),ni());return Yr(n,p,H,S),p.child}function rg(n,p,S,R){var H=Rd();return H=H===null?null:{parent:Lr._currentValue,pool:H},p.memoizedState={baseLanes:S,cachePool:H},n!==null&&ql(p,null),Ld(),q0(p),n!==null&&_a(n,p,R,!0),null}function ic(n,p){var S=p.ref;if(S===null)n!==null&&n.ref!==null&&(p.flags|=4194816);else{if(typeof S!="function"&&typeof S!="object")throw Error(a(284));(n===null||n.ref!==S)&&(p.flags|=4194816)}}function sf(n,p,S,R,H){return Di(p),S=Fd(n,p,S,R,void 0,H),R=$d(),n!==null&&!Fr?(qd(n,p,H),Cs(n,p,H)):(rr&&R&&Sd(p),p.flags|=1,Yr(n,p,S,H),p.child)}function ng(n,p,S,R,H,G){return Di(p),p.updateQueue=null,S=r0(p,R,S,H),t0(n),R=$d(),n!==null&&!Fr?(qd(n,p,G),Cs(n,p,G)):(rr&&R&&Sd(p),p.flags|=1,Yr(n,p,S,G),p.child)}function sg(n,p,S,R,H){if(Di(p),p.stateNode===null){var G=ho,ne=S.contextType;typeof ne=="object"&&ne!==null&&(G=tn(ne)),G=new S(R,G),p.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=rf,p.stateNode=G,G._reactInternals=p,G=p.stateNode,G.props=R,G.state=p.memoizedState,G.refs={},Od(p),ne=S.contextType,G.context=typeof ne=="object"&&ne!==null?tn(ne):ho,G.state=p.memoizedState,ne=S.getDerivedStateFromProps,typeof ne=="function"&&(tf(p,S,ne,R),G.state=p.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(ne=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),ne!==G.state&&rf.enqueueReplaceState(G,G.state,null),Na(p,R,G,H),Ta(),G.state=p.memoizedState),typeof G.componentDidMount=="function"&&(p.flags|=4194308),R=!0}else if(n===null){G=p.stateNode;var ce=p.memoizedProps,xe=zi(S,ce);G.props=xe;var qe=G.context,et=S.contextType;ne=ho,typeof et=="object"&&et!==null&&(ne=tn(et));var st=S.getDerivedStateFromProps;et=typeof st=="function"||typeof G.getSnapshotBeforeUpdate=="function",ce=p.pendingProps!==ce,et||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ce||qe!==ne)&&H0(p,G,R,ne),Js=!1;var Ke=p.memoizedState;G.state=Ke,Na(p,R,G,H),Ta(),qe=p.memoizedState,ce||Ke!==qe||Js?(typeof st=="function"&&(tf(p,S,st,R),qe=p.memoizedState),(xe=Js||U0(p,S,xe,R,Ke,qe,ne))?(et||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(p.flags|=4194308)):(typeof G.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=R,p.memoizedState=qe),G.props=R,G.state=qe,G.context=ne,R=xe):(typeof G.componentDidMount=="function"&&(p.flags|=4194308),R=!1)}else{G=p.stateNode,Bd(n,p),ne=p.memoizedProps,et=zi(S,ne),G.props=et,st=p.pendingProps,Ke=G.context,qe=S.contextType,xe=ho,typeof qe=="object"&&qe!==null&&(xe=tn(qe)),ce=S.getDerivedStateFromProps,(qe=typeof ce=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ne!==st||Ke!==xe)&&H0(p,G,R,xe),Js=!1,Ke=p.memoizedState,G.state=Ke,Na(p,R,G,H),Ta();var Xe=p.memoizedState;ne!==st||Ke!==Xe||Js||n!==null&&n.dependencies!==null&&Fl(n.dependencies)?(typeof ce=="function"&&(tf(p,S,ce,R),Xe=p.memoizedState),(et=Js||U0(p,S,et,R,Ke,Xe,xe)||n!==null&&n.dependencies!==null&&Fl(n.dependencies))?(qe||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(R,Xe,xe),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(R,Xe,xe)),typeof G.componentDidUpdate=="function"&&(p.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof G.componentDidUpdate!="function"||ne===n.memoizedProps&&Ke===n.memoizedState||(p.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ne===n.memoizedProps&&Ke===n.memoizedState||(p.flags|=1024),p.memoizedProps=R,p.memoizedState=Xe),G.props=R,G.state=Xe,G.context=xe,R=et):(typeof G.componentDidUpdate!="function"||ne===n.memoizedProps&&Ke===n.memoizedState||(p.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ne===n.memoizedProps&&Ke===n.memoizedState||(p.flags|=1024),R=!1)}return G=R,ic(n,p),R=(p.flags&128)!==0,G||R?(G=p.stateNode,S=R&&typeof S.getDerivedStateFromError!="function"?null:G.render(),p.flags|=1,n!==null&&R?(p.child=So(p,n.child,null,H),p.child=So(p,null,S,H)):Yr(n,p,S,H),p.memoizedState=G.state,n=p.child):n=Cs(n,p,H),n}function ig(n,p,S,R){return xa(),p.flags|=256,Yr(n,p,S,R),p.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function af(n){return{baseLanes:n,cachePool:Km()}}function lf(n,p,S){return n=n!==null?n.childLanes&~S:0,p&&(n|=$n),n}function og(n,p,S){var R=p.pendingProps,H=!1,G=(p.flags&128)!==0,ne;if((ne=G)||(ne=n!==null&&n.memoizedState===null?!1:(Ir.current&2)!==0),ne&&(H=!0,p.flags&=-129),ne=(p.flags&32)!==0,p.flags&=-33,n===null){if(rr){if(H?ri(p):ni(),rr){var ce=Sr,xe;if(xe=ce){e:{for(xe=ce,ce=ss;xe.nodeType!==8;){if(!ce){ce=null;break e}if(xe=Gn(xe.nextSibling),xe===null){ce=null;break e}}ce=xe}ce!==null?(p.memoizedState={dehydrated:ce,treeContext:Ri!==null?{id:ys,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},xe=Sn(18,null,null,0),xe.stateNode=ce,xe.return=p,p.child=xe,cn=p,Sr=null,xe=!0):xe=!1}xe||Bi(p)}if(ce=p.memoizedState,ce!==null&&(ce=ce.dehydrated,ce!==null))return Vf(ce)?p.lanes=32:p.lanes=536870912,null;Ss(p)}return ce=R.children,R=R.fallback,H?(ni(),H=p.mode,ce=oc({mode:"hidden",children:ce},H),R=Mi(R,H,S,null),ce.return=p,R.return=p,ce.sibling=R,p.child=ce,H=p.child,H.memoizedState=af(S),H.childLanes=lf(n,ne,S),p.memoizedState=of,R):(ri(p),cf(p,ce))}if(xe=n.memoizedState,xe!==null&&(ce=xe.dehydrated,ce!==null)){if(G)p.flags&256?(ri(p),p.flags&=-257,p=uf(n,p,S)):p.memoizedState!==null?(ni(),p.child=n.child,p.flags|=128,p=null):(ni(),H=R.fallback,ce=p.mode,R=oc({mode:"visible",children:R.children},ce),H=Mi(H,ce,S,null),H.flags|=2,R.return=p,H.return=p,R.sibling=H,p.child=R,So(p,n.child,null,S),R=p.child,R.memoizedState=af(S),R.childLanes=lf(n,ne,S),p.memoizedState=of,p=H);else if(ri(p),Vf(ce)){if(ne=ce.nextSibling&&ce.nextSibling.dataset,ne)var qe=ne.dgst;ne=qe,R=Error(a(419)),R.stack="",R.digest=ne,wa({value:R,source:null,stack:null}),p=uf(n,p,S)}else if(Fr||_a(n,p,S,!1),ne=(S&n.childLanes)!==0,Fr||ne){if(ne=br,ne!==null&&(R=S&-S,R=(R&42)!==0?1:Re(R),R=(R&(ne.suspendedLanes|S))!==0?0:R,R!==0&&R!==xe.retryLane))throw xe.retryLane=R,fo(n,R),Tn(ne,n,R),Z0;ce.data==="$?"||Tf(),p=uf(n,p,S)}else ce.data==="$?"?(p.flags|=192,p.child=n.child,p=null):(n=xe.treeContext,Sr=Gn(ce.nextSibling),cn=p,rr=!0,Oi=null,ss=!1,n!==null&&(In[zn++]=ys,In[zn++]=vs,In[zn++]=Ri,ys=n.id,vs=n.overflow,Ri=p),p=cf(p,R.children),p.flags|=4096);return p}return H?(ni(),H=R.fallback,ce=p.mode,xe=n.child,qe=xe.sibling,R=bs(xe,{mode:"hidden",children:R.children}),R.subtreeFlags=xe.subtreeFlags&65011712,qe!==null?H=bs(qe,H):(H=Mi(H,ce,S,null),H.flags|=2),H.return=p,R.return=p,R.sibling=H,p.child=R,R=H,H=p.child,ce=n.child.memoizedState,ce===null?ce=af(S):(xe=ce.cachePool,xe!==null?(qe=Lr._currentValue,xe=xe.parent!==qe?{parent:qe,pool:qe}:xe):xe=Km(),ce={baseLanes:ce.baseLanes|S,cachePool:xe}),H.memoizedState=ce,H.childLanes=lf(n,ne,S),p.memoizedState=of,R):(ri(p),S=n.child,n=S.sibling,S=bs(S,{mode:"visible",children:R.children}),S.return=p,S.sibling=null,n!==null&&(ne=p.deletions,ne===null?(p.deletions=[n],p.flags|=16):ne.push(n)),p.child=S,p.memoizedState=null,S)}function cf(n,p){return p=oc({mode:"visible",children:p},n.mode),p.return=n,n.child=p}function oc(n,p){return n=Sn(22,n,null,p),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function uf(n,p,S){return So(p,n.child,null,S),n=cf(p,p.pendingProps.children),n.flags|=2,p.memoizedState=null,n}function ag(n,p,S){n.lanes|=p;var R=n.alternate;R!==null&&(R.lanes|=p),Ed(n.return,p,S)}function df(n,p,S,R,H){var G=n.memoizedState;G===null?n.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:R,tail:S,tailMode:H}:(G.isBackwards=p,G.rendering=null,G.renderingStartTime=0,G.last=R,G.tail=S,G.tailMode=H)}function lg(n,p,S){var R=p.pendingProps,H=R.revealOrder,G=R.tail;if(Yr(n,p,R.children,S),R=Ir.current,(R&2)!==0)R=R&1|2,p.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=p.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ag(n,S,p);else if(n.tag===19)ag(n,S,p);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===p)break e;for(;n.sibling===null;){if(n.return===null||n.return===p)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}R&=1}switch(V(Ir,R),H){case"forwards":for(S=p.child,H=null;S!==null;)n=S.alternate,n!==null&&rc(n)===null&&(H=S),S=S.sibling;S=H,S===null?(H=p.child,p.child=null):(H=S.sibling,S.sibling=null),df(p,!1,H,S,G);break;case"backwards":for(S=null,H=p.child,p.child=null;H!==null;){if(n=H.alternate,n!==null&&rc(n)===null){p.child=H;break}n=H.sibling,H.sibling=S,S=H,H=n}df(p,!0,S,null,G);break;case"together":df(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Cs(n,p,S){if(n!==null&&(p.dependencies=n.dependencies),li|=p.lanes,(S&p.childLanes)===0)if(n!==null){if(_a(n,p,S,!1),(S&p.childLanes)===0)return null}else return null;if(n!==null&&p.child!==n.child)throw Error(a(153));if(p.child!==null){for(n=p.child,S=bs(n,n.pendingProps),p.child=S,S.return=p;n.sibling!==null;)n=n.sibling,S=S.sibling=bs(n,n.pendingProps),S.return=p;S.sibling=null}return p.child}function ff(n,p){return(n.lanes&p)!==0?!0:(n=n.dependencies,!!(n!==null&&Fl(n)))}function aw(n,p,S){switch(p.tag){case 3:L(p,p.stateNode.containerInfo),Zs(p,Lr,n.memoizedState.cache),xa();break;case 27:case 5:Z(p);break;case 4:L(p,p.stateNode.containerInfo);break;case 10:Zs(p,p.type,p.memoizedProps.value);break;case 13:var R=p.memoizedState;if(R!==null)return R.dehydrated!==null?(ri(p),p.flags|=128,null):(S&p.child.childLanes)!==0?og(n,p,S):(ri(p),n=Cs(n,p,S),n!==null?n.sibling:null);ri(p);break;case 19:var H=(n.flags&128)!==0;if(R=(S&p.childLanes)!==0,R||(_a(n,p,S,!1),R=(S&p.childLanes)!==0),H){if(R)return lg(n,p,S);p.flags|=128}if(H=p.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),V(Ir,Ir.current),R)break;return null;case 22:case 23:return p.lanes=0,tg(n,p,S);case 24:Zs(p,Lr,n.memoizedState.cache)}return Cs(n,p,S)}function cg(n,p,S){if(n!==null)if(n.memoizedProps!==p.pendingProps)Fr=!0;else{if(!ff(n,S)&&(p.flags&128)===0)return Fr=!1,aw(n,p,S);Fr=(n.flags&131072)!==0}else Fr=!1,rr&&(p.flags&1048576)!==0&&zm(p,zl,p.index);switch(p.lanes=0,p.tag){case 16:e:{n=p.pendingProps;var R=p.elementType,H=R._init;if(R=H(R._payload),p.type=R,typeof R=="function")xd(R)?(n=zi(R,n),p.tag=1,p=sg(null,p,R,n,S)):(p.tag=0,p=sf(null,p,R,n,S));else{if(R!=null){if(H=R.$$typeof,H===E){p.tag=11,p=J0(null,p,R,n,S);break e}else if(H===q){p.tag=14,p=Q0(null,p,R,n,S);break e}}throw p=P(R)||R,Error(a(306,p,""))}}return p;case 0:return sf(n,p,p.type,p.pendingProps,S);case 1:return R=p.type,H=zi(R,p.pendingProps),sg(n,p,R,H,S);case 3:e:{if(L(p,p.stateNode.containerInfo),n===null)throw Error(a(387));R=p.pendingProps;var G=p.memoizedState;H=G.element,Bd(n,p),Na(p,R,null,S);var ne=p.memoizedState;if(R=ne.cache,Zs(p,Lr,R),R!==G.cache&&Td(p,[Lr],S,!0),Ta(),R=ne.element,G.isDehydrated)if(G={element:R,isDehydrated:!1,cache:ne.cache},p.updateQueue.baseState=G,p.memoizedState=G,p.flags&256){p=ig(n,p,R,S);break e}else if(R!==H){H=Dn(Error(a(424)),p),wa(H),p=ig(n,p,R,S);break e}else{switch(n=p.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Sr=Gn(n.firstChild),cn=p,rr=!0,Oi=null,ss=!0,S=$0(p,null,R,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling}else{if(xa(),R===H){p=Cs(n,p,S);break e}Yr(n,p,R,S)}p=p.child}return p;case 26:return ic(n,p),n===null?(S=hb(p.type,null,p.pendingProps,null))?p.memoizedState=S:rr||(S=p.type,n=p.pendingProps,R=xc(U.current).createElement(S),R[ct]=p,R[pt]=n,Gr(R,S,n),wt(R),p.stateNode=R):p.memoizedState=hb(p.type,n.memoizedProps,p.pendingProps,n.memoizedState),null;case 27:return Z(p),n===null&&rr&&(R=p.stateNode=ub(p.type,p.pendingProps,U.current),cn=p,ss=!0,H=Sr,fi(p.type)?(Kf=H,Sr=Gn(R.firstChild)):Sr=H),Yr(n,p,p.pendingProps.children,S),ic(n,p),n===null&&(p.flags|=4194304),p.child;case 5:return n===null&&rr&&((H=R=Sr)&&(R=Pw(R,p.type,p.pendingProps,ss),R!==null?(p.stateNode=R,cn=p,Sr=Gn(R.firstChild),ss=!1,H=!0):H=!1),H||Bi(p)),Z(p),H=p.type,G=p.pendingProps,ne=n!==null?n.memoizedProps:null,R=G.children,qf(H,G)?R=null:ne!==null&&qf(H,ne)&&(p.flags|=32),p.memoizedState!==null&&(H=Fd(n,p,Qx,null,null,S),Za._currentValue=H),ic(n,p),Yr(n,p,R,S),p.child;case 6:return n===null&&rr&&((n=S=Sr)&&(S=Dw(S,p.pendingProps,ss),S!==null?(p.stateNode=S,cn=p,Sr=null,n=!0):n=!1),n||Bi(p)),null;case 13:return og(n,p,S);case 4:return L(p,p.stateNode.containerInfo),R=p.pendingProps,n===null?p.child=So(p,null,R,S):Yr(n,p,R,S),p.child;case 11:return J0(n,p,p.type,p.pendingProps,S);case 7:return Yr(n,p,p.pendingProps,S),p.child;case 8:return Yr(n,p,p.pendingProps.children,S),p.child;case 12:return Yr(n,p,p.pendingProps.children,S),p.child;case 10:return R=p.pendingProps,Zs(p,p.type,R.value),Yr(n,p,R.children,S),p.child;case 9:return H=p.type._context,R=p.pendingProps.children,Di(p),H=tn(H),R=R(H),p.flags|=1,Yr(n,p,R,S),p.child;case 14:return Q0(n,p,p.type,p.pendingProps,S);case 15:return eg(n,p,p.type,p.pendingProps,S);case 19:return lg(n,p,S);case 31:return R=p.pendingProps,S=p.mode,R={mode:R.mode,children:R.children},n===null?(S=oc(R,S),S.ref=p.ref,p.child=S,S.return=p,p=S):(S=bs(n.child,R),S.ref=p.ref,p.child=S,S.return=p,p=S),p;case 22:return tg(n,p,S);case 24:return Di(p),R=tn(Lr),n===null?(H=Rd(),H===null&&(H=br,G=Nd(),H.pooledCache=G,G.refCount++,G!==null&&(H.pooledCacheLanes|=S),H=G),p.memoizedState={parent:R,cache:H},Od(p),Zs(p,Lr,H)):((n.lanes&S)!==0&&(Bd(n,p),Na(p,null,null,S),Ta()),H=n.memoizedState,G=p.memoizedState,H.parent!==R?(H={parent:R,cache:R},p.memoizedState=H,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=H),Zs(p,Lr,R)):(R=G.cache,Zs(p,Lr,R),R!==H.cache&&Td(p,[Lr],S,!0))),Yr(n,p,p.pendingProps.children,S),p.child;case 29:throw p.pendingProps}throw Error(a(156,p.tag))}function js(n){n.flags|=4}function ug(n,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!yb(p)){if(p=Fn.current,p!==null&&((Gt&4194048)===Gt?is!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||p!==is))throw ka=Ad,Xm;n.flags|=8192}}function ac(n,p){p!==null&&(n.flags|=4),n.flags&16384&&(p=n.tag!==22?Ue():536870912,n.lanes|=p,Eo|=p)}function Da(n,p){if(!rr)switch(n.tailMode){case"hidden":p=n.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?n.tail=null:S.sibling=null;break;case"collapsed":S=n.tail;for(var R=null;S!==null;)S.alternate!==null&&(R=S),S=S.sibling;R===null?p||n.tail===null?n.tail=null:n.tail.sibling=null:R.sibling=null}}function _r(n){var p=n.alternate!==null&&n.alternate.child===n.child,S=0,R=0;if(p)for(var H=n.child;H!==null;)S|=H.lanes|H.childLanes,R|=H.subtreeFlags&65011712,R|=H.flags&65011712,H.return=n,H=H.sibling;else for(H=n.child;H!==null;)S|=H.lanes|H.childLanes,R|=H.subtreeFlags,R|=H.flags,H.return=n,H=H.sibling;return n.subtreeFlags|=R,n.childLanes=S,p}function lw(n,p,S){var R=p.pendingProps;switch(Cd(p),p.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(p),null;case 1:return _r(p),null;case 3:return S=p.stateNode,R=null,n!==null&&(R=n.memoizedState.cache),p.memoizedState.cache!==R&&(p.flags|=2048),ws(Lr),I(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(n===null||n.child===null)&&(va(p)?js(p):n===null||n.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,qm())),_r(p),null;case 26:return S=p.memoizedState,n===null?(js(p),S!==null?(_r(p),ug(p,S)):(_r(p),p.flags&=-16777217)):S?S!==n.memoizedState?(js(p),_r(p),ug(p,S)):(_r(p),p.flags&=-16777217):(n.memoizedProps!==R&&js(p),_r(p),p.flags&=-16777217),null;case 27:te(p),S=U.current;var H=p.type;if(n!==null&&p.stateNode!=null)n.memoizedProps!==R&&js(p);else{if(!R){if(p.stateNode===null)throw Error(a(166));return _r(p),null}n=W.current,va(p)?Fm(p):(n=ub(H,R,S),p.stateNode=n,js(p))}return _r(p),null;case 5:if(te(p),S=p.type,n!==null&&p.stateNode!=null)n.memoizedProps!==R&&js(p);else{if(!R){if(p.stateNode===null)throw Error(a(166));return _r(p),null}if(n=W.current,va(p))Fm(p);else{switch(H=xc(U.current),n){case 1:n=H.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:n=H.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":n=H.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":n=H.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":n=H.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof R.is=="string"?H.createElement("select",{is:R.is}):H.createElement("select"),R.multiple?n.multiple=!0:R.size&&(n.size=R.size);break;default:n=typeof R.is=="string"?H.createElement(S,{is:R.is}):H.createElement(S)}}n[ct]=p,n[pt]=R;e:for(H=p.child;H!==null;){if(H.tag===5||H.tag===6)n.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===p)break e;for(;H.sibling===null;){if(H.return===null||H.return===p)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}p.stateNode=n;e:switch(Gr(n,S,R),S){case"button":case"input":case"select":case"textarea":n=!!R.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&js(p)}}return _r(p),p.flags&=-16777217,null;case 6:if(n&&p.stateNode!=null)n.memoizedProps!==R&&js(p);else{if(typeof R!="string"&&p.stateNode===null)throw Error(a(166));if(n=U.current,va(p)){if(n=p.stateNode,S=p.memoizedProps,R=null,H=cn,H!==null)switch(H.tag){case 27:case 5:R=H.memoizedProps}n[ct]=p,n=!!(n.nodeValue===S||R!==null&&R.suppressHydrationWarning===!0||nb(n.nodeValue,S)),n||Bi(p)}else n=xc(n).createTextNode(R),n[ct]=p,p.stateNode=n}return _r(p),null;case 13:if(R=p.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(H=va(p),R!==null&&R.dehydrated!==null){if(n===null){if(!H)throw Error(a(318));if(H=p.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(a(317));H[ct]=p}else xa(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;_r(p),H=!1}else H=qm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=H),H=!0;if(!H)return p.flags&256?(Ss(p),p):(Ss(p),null)}if(Ss(p),(p.flags&128)!==0)return p.lanes=S,p;if(S=R!==null,n=n!==null&&n.memoizedState!==null,S){R=p.child,H=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(H=R.alternate.memoizedState.cachePool.pool);var G=null;R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(G=R.memoizedState.cachePool.pool),G!==H&&(R.flags|=2048)}return S!==n&&S&&(p.child.flags|=8192),ac(p,p.updateQueue),_r(p),null;case 4:return I(),n===null&&Lf(p.stateNode.containerInfo),_r(p),null;case 10:return ws(p.type),_r(p),null;case 19:if($(Ir),H=p.memoizedState,H===null)return _r(p),null;if(R=(p.flags&128)!==0,G=H.rendering,G===null)if(R)Da(H,!1);else{if(Cr!==0||n!==null&&(n.flags&128)!==0)for(n=p.child;n!==null;){if(G=rc(n),G!==null){for(p.flags|=128,Da(H,!1),n=G.updateQueue,p.updateQueue=n,ac(p,n),p.subtreeFlags=0,n=S,S=p.child;S!==null;)Im(S,n),S=S.sibling;return V(Ir,Ir.current&1|2),p.child}n=n.sibling}H.tail!==null&&re()>uc&&(p.flags|=128,R=!0,Da(H,!1),p.lanes=4194304)}else{if(!R)if(n=rc(G),n!==null){if(p.flags|=128,R=!0,n=n.updateQueue,p.updateQueue=n,ac(p,n),Da(H,!0),H.tail===null&&H.tailMode==="hidden"&&!G.alternate&&!rr)return _r(p),null}else 2*re()-H.renderingStartTime>uc&&S!==536870912&&(p.flags|=128,R=!0,Da(H,!1),p.lanes=4194304);H.isBackwards?(G.sibling=p.child,p.child=G):(n=H.last,n!==null?n.sibling=G:p.child=G,H.last=G)}return H.tail!==null?(p=H.tail,H.rendering=p,H.tail=p.sibling,H.renderingStartTime=re(),p.sibling=null,n=Ir.current,V(Ir,R?n&1|2:n&1),p):(_r(p),null);case 22:case 23:return Ss(p),Id(),R=p.memoizedState!==null,n!==null?n.memoizedState!==null!==R&&(p.flags|=8192):R&&(p.flags|=8192),R?(S&536870912)!==0&&(p.flags&128)===0&&(_r(p),p.subtreeFlags&6&&(p.flags|=8192)):_r(p),S=p.updateQueue,S!==null&&ac(p,S.retryQueue),S=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(S=n.memoizedState.cachePool.pool),R=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(R=p.memoizedState.cachePool.pool),R!==S&&(p.flags|=2048),n!==null&&$(Li),null;case 24:return S=null,n!==null&&(S=n.memoizedState.cache),p.memoizedState.cache!==S&&(p.flags|=2048),ws(Lr),_r(p),null;case 25:return null;case 30:return null}throw Error(a(156,p.tag))}function cw(n,p){switch(Cd(p),p.tag){case 1:return n=p.flags,n&65536?(p.flags=n&-65537|128,p):null;case 3:return ws(Lr),I(),n=p.flags,(n&65536)!==0&&(n&128)===0?(p.flags=n&-65537|128,p):null;case 26:case 27:case 5:return te(p),null;case 13:if(Ss(p),n=p.memoizedState,n!==null&&n.dehydrated!==null){if(p.alternate===null)throw Error(a(340));xa()}return n=p.flags,n&65536?(p.flags=n&-65537|128,p):null;case 19:return $(Ir),null;case 4:return I(),null;case 10:return ws(p.type),null;case 22:case 23:return Ss(p),Id(),n!==null&&$(Li),n=p.flags,n&65536?(p.flags=n&-65537|128,p):null;case 24:return ws(Lr),null;case 25:return null;default:return null}}function dg(n,p){switch(Cd(p),p.tag){case 3:ws(Lr),I();break;case 26:case 27:case 5:te(p);break;case 4:I();break;case 13:Ss(p);break;case 19:$(Ir);break;case 10:ws(p.type);break;case 22:case 23:Ss(p),Id(),n!==null&&$(Li);break;case 24:ws(Lr)}}function La(n,p){try{var S=p.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var H=R.next;S=H;do{if((S.tag&n)===n){R=void 0;var G=S.create,ne=S.inst;R=G(),ne.destroy=R}S=S.next}while(S!==H)}}catch(ce){pr(p,p.return,ce)}}function si(n,p,S){try{var R=p.updateQueue,H=R!==null?R.lastEffect:null;if(H!==null){var G=H.next;R=G;do{if((R.tag&n)===n){var ne=R.inst,ce=ne.destroy;if(ce!==void 0){ne.destroy=void 0,H=p;var xe=S,qe=ce;try{qe()}catch(et){pr(H,xe,et)}}}R=R.next}while(R!==G)}}catch(et){pr(p,p.return,et)}}function fg(n){var p=n.updateQueue;if(p!==null){var S=n.stateNode;try{Qm(p,S)}catch(R){pr(n,n.return,R)}}}function hg(n,p,S){S.props=zi(n.type,n.memoizedProps),S.state=n.memoizedState;try{S.componentWillUnmount()}catch(R){pr(n,p,R)}}function Ia(n,p){try{var S=n.ref;if(S!==null){switch(n.tag){case 26:case 27:case 5:var R=n.stateNode;break;case 30:R=n.stateNode;break;default:R=n.stateNode}typeof S=="function"?n.refCleanup=S(R):S.current=R}}catch(H){pr(n,p,H)}}function os(n,p){var S=n.ref,R=n.refCleanup;if(S!==null)if(typeof R=="function")try{R()}catch(H){pr(n,p,H)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(H){pr(n,p,H)}else S.current=null}function pg(n){var p=n.type,S=n.memoizedProps,R=n.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":S.autoFocus&&R.focus();break e;case"img":S.src?R.src=S.src:S.srcSet&&(R.srcset=S.srcSet)}}catch(H){pr(n,n.return,H)}}function hf(n,p,S){try{var R=n.stateNode;Mw(R,n.type,S,p),R[pt]=p}catch(H){pr(n,n.return,H)}}function mg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&fi(n.type)||n.tag===4}function pf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||mg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&fi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function mf(n,p,S){var R=n.tag;if(R===5||R===6)n=n.stateNode,p?(S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S).insertBefore(n,p):(p=S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S,p.appendChild(n),S=S._reactRootContainer,S!=null||p.onclick!==null||(p.onclick=vc));else if(R!==4&&(R===27&&fi(n.type)&&(S=n.stateNode,p=null),n=n.child,n!==null))for(mf(n,p,S),n=n.sibling;n!==null;)mf(n,p,S),n=n.sibling}function lc(n,p,S){var R=n.tag;if(R===5||R===6)n=n.stateNode,p?S.insertBefore(n,p):S.appendChild(n);else if(R!==4&&(R===27&&fi(n.type)&&(S=n.stateNode),n=n.child,n!==null))for(lc(n,p,S),n=n.sibling;n!==null;)lc(n,p,S),n=n.sibling}function gg(n){var p=n.stateNode,S=n.memoizedProps;try{for(var R=n.type,H=p.attributes;H.length;)p.removeAttributeNode(H[0]);Gr(p,R,S),p[ct]=n,p[pt]=S}catch(G){pr(n,n.return,G)}}var ks=!1,Er=!1,gf=!1,bg=typeof WeakSet=="function"?WeakSet:Set,$r=null;function uw(n,p){if(n=n.containerInfo,Ff=kc,n=Tm(n),hd(n)){if("selectionStart"in n)var S={start:n.selectionStart,end:n.selectionEnd};else e:{S=(S=n.ownerDocument)&&S.defaultView||window;var R=S.getSelection&&S.getSelection();if(R&&R.rangeCount!==0){S=R.anchorNode;var H=R.anchorOffset,G=R.focusNode;R=R.focusOffset;try{S.nodeType,G.nodeType}catch{S=null;break e}var ne=0,ce=-1,xe=-1,qe=0,et=0,st=n,Ke=null;t:for(;;){for(var Xe;st!==S||H!==0&&st.nodeType!==3||(ce=ne+H),st!==G||R!==0&&st.nodeType!==3||(xe=ne+R),st.nodeType===3&&(ne+=st.nodeValue.length),(Xe=st.firstChild)!==null;)Ke=st,st=Xe;for(;;){if(st===n)break t;if(Ke===S&&++qe===H&&(ce=ne),Ke===G&&++et===R&&(xe=ne),(Xe=st.nextSibling)!==null)break;st=Ke,Ke=st.parentNode}st=Xe}S=ce===-1||xe===-1?null:{start:ce,end:xe}}else S=null}S=S||{start:0,end:0}}else S=null;for($f={focusedElem:n,selectionRange:S},kc=!1,$r=p;$r!==null;)if(p=$r,n=p.child,(p.subtreeFlags&1024)!==0&&n!==null)n.return=p,$r=n;else for(;$r!==null;){switch(p=$r,G=p.alternate,n=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&G!==null){n=void 0,S=p,H=G.memoizedProps,G=G.memoizedState,R=S.stateNode;try{var Dt=zi(S.type,H,S.elementType===S.type);n=R.getSnapshotBeforeUpdate(Dt,G),R.__reactInternalSnapshotBeforeUpdate=n}catch(Mt){pr(S,S.return,Mt)}}break;case 3:if((n&1024)!==0){if(n=p.stateNode.containerInfo,S=n.nodeType,S===9)Hf(n);else if(S===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Hf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=p.sibling,n!==null){n.return=p.return,$r=n;break}$r=p.return}}function yg(n,p,S){var R=S.flags;switch(S.tag){case 0:case 11:case 15:ii(n,S),R&4&&La(5,S);break;case 1:if(ii(n,S),R&4)if(n=S.stateNode,p===null)try{n.componentDidMount()}catch(ne){pr(S,S.return,ne)}else{var H=zi(S.type,p.memoizedProps);p=p.memoizedState;try{n.componentDidUpdate(H,p,n.__reactInternalSnapshotBeforeUpdate)}catch(ne){pr(S,S.return,ne)}}R&64&&fg(S),R&512&&Ia(S,S.return);break;case 3:if(ii(n,S),R&64&&(n=S.updateQueue,n!==null)){if(p=null,S.child!==null)switch(S.child.tag){case 27:case 5:p=S.child.stateNode;break;case 1:p=S.child.stateNode}try{Qm(n,p)}catch(ne){pr(S,S.return,ne)}}break;case 27:p===null&&R&4&&gg(S);case 26:case 5:ii(n,S),p===null&&R&4&&pg(S),R&512&&Ia(S,S.return);break;case 12:ii(n,S);break;case 13:ii(n,S),R&4&&wg(n,S),R&64&&(n=S.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(S=vw.bind(null,S),Lw(n,S))));break;case 22:if(R=S.memoizedState!==null||ks,!R){p=p!==null&&p.memoizedState!==null||Er,H=ks;var G=Er;ks=R,(Er=p)&&!G?oi(n,S,(S.subtreeFlags&8772)!==0):ii(n,S),ks=H,Er=G}break;case 30:break;default:ii(n,S)}}function vg(n){var p=n.alternate;p!==null&&(n.alternate=null,vg(p)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(p=n.stateNode,p!==null&&kt(p)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xr=null,mn=!1;function Es(n,p,S){for(S=S.child;S!==null;)xg(n,p,S),S=S.sibling}function xg(n,p,S){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(pe,S)}catch{}switch(S.tag){case 26:Er||os(S,p),Es(n,p,S),S.memoizedState?S.memoizedState.count--:S.stateNode&&(S=S.stateNode,S.parentNode.removeChild(S));break;case 27:Er||os(S,p);var R=xr,H=mn;fi(S.type)&&(xr=S.stateNode,mn=!1),Es(n,p,S),Xa(S.stateNode),xr=R,mn=H;break;case 5:Er||os(S,p);case 6:if(R=xr,H=mn,xr=null,Es(n,p,S),xr=R,mn=H,xr!==null)if(mn)try{(xr.nodeType===9?xr.body:xr.nodeName==="HTML"?xr.ownerDocument.body:xr).removeChild(S.stateNode)}catch(G){pr(S,p,G)}else try{xr.removeChild(S.stateNode)}catch(G){pr(S,p,G)}break;case 18:xr!==null&&(mn?(n=xr,lb(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,S.stateNode),tl(n)):lb(xr,S.stateNode));break;case 4:R=xr,H=mn,xr=S.stateNode.containerInfo,mn=!0,Es(n,p,S),xr=R,mn=H;break;case 0:case 11:case 14:case 15:Er||si(2,S,p),Er||si(4,S,p),Es(n,p,S);break;case 1:Er||(os(S,p),R=S.stateNode,typeof R.componentWillUnmount=="function"&&hg(S,p,R)),Es(n,p,S);break;case 21:Es(n,p,S);break;case 22:Er=(R=Er)||S.memoizedState!==null,Es(n,p,S),Er=R;break;default:Es(n,p,S)}}function wg(n,p){if(p.memoizedState===null&&(n=p.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{tl(n)}catch(S){pr(p,p.return,S)}}function dw(n){switch(n.tag){case 13:case 19:var p=n.stateNode;return p===null&&(p=n.stateNode=new bg),p;case 22:return n=n.stateNode,p=n._retryCache,p===null&&(p=n._retryCache=new bg),p;default:throw Error(a(435,n.tag))}}function bf(n,p){var S=dw(n);p.forEach(function(R){var H=xw.bind(null,n,R);S.has(R)||(S.add(R),R.then(H,H))})}function Cn(n,p){var S=p.deletions;if(S!==null)for(var R=0;R<S.length;R++){var H=S[R],G=n,ne=p,ce=ne;e:for(;ce!==null;){switch(ce.tag){case 27:if(fi(ce.type)){xr=ce.stateNode,mn=!1;break e}break;case 5:xr=ce.stateNode,mn=!1;break e;case 3:case 4:xr=ce.stateNode.containerInfo,mn=!0;break e}ce=ce.return}if(xr===null)throw Error(a(160));xg(G,ne,H),xr=null,mn=!1,G=H.alternate,G!==null&&(G.return=null),H.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)_g(p,n),p=p.sibling}var Wn=null;function _g(n,p){var S=n.alternate,R=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Cn(p,n),jn(n),R&4&&(si(3,n,n.return),La(3,n),si(5,n,n.return));break;case 1:Cn(p,n),jn(n),R&512&&(Er||S===null||os(S,S.return)),R&64&&ks&&(n=n.updateQueue,n!==null&&(R=n.callbacks,R!==null&&(S=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=S===null?R:S.concat(R))));break;case 26:var H=Wn;if(Cn(p,n),jn(n),R&512&&(Er||S===null||os(S,S.return)),R&4){var G=S!==null?S.memoizedState:null;if(R=n.memoizedState,S===null)if(R===null)if(n.stateNode===null){e:{R=n.type,S=n.memoizedProps,H=H.ownerDocument||H;t:switch(R){case"title":G=H.getElementsByTagName("title")[0],(!G||G[ft]||G[ct]||G.namespaceURI==="http://www.w3.org/2000/svg"||G.hasAttribute("itemprop"))&&(G=H.createElement(R),H.head.insertBefore(G,H.querySelector("head > title"))),Gr(G,R,S),G[ct]=n,wt(G),R=G;break e;case"link":var ne=gb("link","href",H).get(R+(S.href||""));if(ne){for(var ce=0;ce<ne.length;ce++)if(G=ne[ce],G.getAttribute("href")===(S.href==null||S.href===""?null:S.href)&&G.getAttribute("rel")===(S.rel==null?null:S.rel)&&G.getAttribute("title")===(S.title==null?null:S.title)&&G.getAttribute("crossorigin")===(S.crossOrigin==null?null:S.crossOrigin)){ne.splice(ce,1);break t}}G=H.createElement(R),Gr(G,R,S),H.head.appendChild(G);break;case"meta":if(ne=gb("meta","content",H).get(R+(S.content||""))){for(ce=0;ce<ne.length;ce++)if(G=ne[ce],G.getAttribute("content")===(S.content==null?null:""+S.content)&&G.getAttribute("name")===(S.name==null?null:S.name)&&G.getAttribute("property")===(S.property==null?null:S.property)&&G.getAttribute("http-equiv")===(S.httpEquiv==null?null:S.httpEquiv)&&G.getAttribute("charset")===(S.charSet==null?null:S.charSet)){ne.splice(ce,1);break t}}G=H.createElement(R),Gr(G,R,S),H.head.appendChild(G);break;default:throw Error(a(468,R))}G[ct]=n,wt(G),R=G}n.stateNode=R}else bb(H,n.type,n.stateNode);else n.stateNode=mb(H,R,n.memoizedProps);else G!==R?(G===null?S.stateNode!==null&&(S=S.stateNode,S.parentNode.removeChild(S)):G.count--,R===null?bb(H,n.type,n.stateNode):mb(H,R,n.memoizedProps)):R===null&&n.stateNode!==null&&hf(n,n.memoizedProps,S.memoizedProps)}break;case 27:Cn(p,n),jn(n),R&512&&(Er||S===null||os(S,S.return)),S!==null&&R&4&&hf(n,n.memoizedProps,S.memoizedProps);break;case 5:if(Cn(p,n),jn(n),R&512&&(Er||S===null||os(S,S.return)),n.flags&32){H=n.stateNode;try{Ar(H,"")}catch(Xe){pr(n,n.return,Xe)}}R&4&&n.stateNode!=null&&(H=n.memoizedProps,hf(n,H,S!==null?S.memoizedProps:H)),R&1024&&(gf=!0);break;case 6:if(Cn(p,n),jn(n),R&4){if(n.stateNode===null)throw Error(a(162));R=n.memoizedProps,S=n.stateNode;try{S.nodeValue=R}catch(Xe){pr(n,n.return,Xe)}}break;case 3:if(Sc=null,H=Wn,Wn=wc(p.containerInfo),Cn(p,n),Wn=H,jn(n),R&4&&S!==null&&S.memoizedState.isDehydrated)try{tl(p.containerInfo)}catch(Xe){pr(n,n.return,Xe)}gf&&(gf=!1,Sg(n));break;case 4:R=Wn,Wn=wc(n.stateNode.containerInfo),Cn(p,n),jn(n),Wn=R;break;case 12:Cn(p,n),jn(n);break;case 13:Cn(p,n),jn(n),n.child.flags&8192&&n.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(Sf=re()),R&4&&(R=n.updateQueue,R!==null&&(n.updateQueue=null,bf(n,R)));break;case 22:H=n.memoizedState!==null;var xe=S!==null&&S.memoizedState!==null,qe=ks,et=Er;if(ks=qe||H,Er=et||xe,Cn(p,n),Er=et,ks=qe,jn(n),R&8192)e:for(p=n.stateNode,p._visibility=H?p._visibility&-2:p._visibility|1,H&&(S===null||xe||ks||Er||Fi(n)),S=null,p=n;;){if(p.tag===5||p.tag===26){if(S===null){xe=S=p;try{if(G=xe.stateNode,H)ne=G.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none";else{ce=xe.stateNode;var st=xe.memoizedProps.style,Ke=st!=null&&st.hasOwnProperty("display")?st.display:null;ce.style.display=Ke==null||typeof Ke=="boolean"?"":(""+Ke).trim()}}catch(Xe){pr(xe,xe.return,Xe)}}}else if(p.tag===6){if(S===null){xe=p;try{xe.stateNode.nodeValue=H?"":xe.memoizedProps}catch(Xe){pr(xe,xe.return,Xe)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;S===p&&(S=null),p=p.return}S===p&&(S=null),p.sibling.return=p.return,p=p.sibling}R&4&&(R=n.updateQueue,R!==null&&(S=R.retryQueue,S!==null&&(R.retryQueue=null,bf(n,S))));break;case 19:Cn(p,n),jn(n),R&4&&(R=n.updateQueue,R!==null&&(n.updateQueue=null,bf(n,R)));break;case 30:break;case 21:break;default:Cn(p,n),jn(n)}}function jn(n){var p=n.flags;if(p&2){try{for(var S,R=n.return;R!==null;){if(mg(R)){S=R;break}R=R.return}if(S==null)throw Error(a(160));switch(S.tag){case 27:var H=S.stateNode,G=pf(n);lc(n,G,H);break;case 5:var ne=S.stateNode;S.flags&32&&(Ar(ne,""),S.flags&=-33);var ce=pf(n);lc(n,ce,ne);break;case 3:case 4:var xe=S.stateNode.containerInfo,qe=pf(n);mf(n,qe,xe);break;default:throw Error(a(161))}}catch(et){pr(n,n.return,et)}n.flags&=-3}p&4096&&(n.flags&=-4097)}function Sg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var p=n;Sg(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),n=n.sibling}}function ii(n,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)yg(n,p.alternate,p),p=p.sibling}function Fi(n){for(n=n.child;n!==null;){var p=n;switch(p.tag){case 0:case 11:case 14:case 15:si(4,p,p.return),Fi(p);break;case 1:os(p,p.return);var S=p.stateNode;typeof S.componentWillUnmount=="function"&&hg(p,p.return,S),Fi(p);break;case 27:Xa(p.stateNode);case 26:case 5:os(p,p.return),Fi(p);break;case 22:p.memoizedState===null&&Fi(p);break;case 30:Fi(p);break;default:Fi(p)}n=n.sibling}}function oi(n,p,S){for(S=S&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var R=p.alternate,H=n,G=p,ne=G.flags;switch(G.tag){case 0:case 11:case 15:oi(H,G,S),La(4,G);break;case 1:if(oi(H,G,S),R=G,H=R.stateNode,typeof H.componentDidMount=="function")try{H.componentDidMount()}catch(qe){pr(R,R.return,qe)}if(R=G,H=R.updateQueue,H!==null){var ce=R.stateNode;try{var xe=H.shared.hiddenCallbacks;if(xe!==null)for(H.shared.hiddenCallbacks=null,H=0;H<xe.length;H++)Jm(xe[H],ce)}catch(qe){pr(R,R.return,qe)}}S&&ne&64&&fg(G),Ia(G,G.return);break;case 27:gg(G);case 26:case 5:oi(H,G,S),S&&R===null&&ne&4&&pg(G),Ia(G,G.return);break;case 12:oi(H,G,S);break;case 13:oi(H,G,S),S&&ne&4&&wg(H,G);break;case 22:G.memoizedState===null&&oi(H,G,S),Ia(G,G.return);break;case 30:break;default:oi(H,G,S)}p=p.sibling}}function yf(n,p){var S=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(S=n.memoizedState.cachePool.pool),n=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(n=p.memoizedState.cachePool.pool),n!==S&&(n!=null&&n.refCount++,S!=null&&Sa(S))}function vf(n,p){n=null,p.alternate!==null&&(n=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==n&&(p.refCount++,n!=null&&Sa(n))}function as(n,p,S,R){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Cg(n,p,S,R),p=p.sibling}function Cg(n,p,S,R){var H=p.flags;switch(p.tag){case 0:case 11:case 15:as(n,p,S,R),H&2048&&La(9,p);break;case 1:as(n,p,S,R);break;case 3:as(n,p,S,R),H&2048&&(n=null,p.alternate!==null&&(n=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==n&&(p.refCount++,n!=null&&Sa(n)));break;case 12:if(H&2048){as(n,p,S,R),n=p.stateNode;try{var G=p.memoizedProps,ne=G.id,ce=G.onPostCommit;typeof ce=="function"&&ce(ne,p.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(xe){pr(p,p.return,xe)}}else as(n,p,S,R);break;case 13:as(n,p,S,R);break;case 23:break;case 22:G=p.stateNode,ne=p.alternate,p.memoizedState!==null?G._visibility&2?as(n,p,S,R):za(n,p):G._visibility&2?as(n,p,S,R):(G._visibility|=2,Co(n,p,S,R,(p.subtreeFlags&10256)!==0)),H&2048&&yf(ne,p);break;case 24:as(n,p,S,R),H&2048&&vf(p.alternate,p);break;default:as(n,p,S,R)}}function Co(n,p,S,R,H){for(H=H&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var G=n,ne=p,ce=S,xe=R,qe=ne.flags;switch(ne.tag){case 0:case 11:case 15:Co(G,ne,ce,xe,H),La(8,ne);break;case 23:break;case 22:var et=ne.stateNode;ne.memoizedState!==null?et._visibility&2?Co(G,ne,ce,xe,H):za(G,ne):(et._visibility|=2,Co(G,ne,ce,xe,H)),H&&qe&2048&&yf(ne.alternate,ne);break;case 24:Co(G,ne,ce,xe,H),H&&qe&2048&&vf(ne.alternate,ne);break;default:Co(G,ne,ce,xe,H)}p=p.sibling}}function za(n,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var S=n,R=p,H=R.flags;switch(R.tag){case 22:za(S,R),H&2048&&yf(R.alternate,R);break;case 24:za(S,R),H&2048&&vf(R.alternate,R);break;default:za(S,R)}p=p.sibling}}var Fa=8192;function jo(n){if(n.subtreeFlags&Fa)for(n=n.child;n!==null;)jg(n),n=n.sibling}function jg(n){switch(n.tag){case 26:jo(n),n.flags&Fa&&n.memoizedState!==null&&Gw(Wn,n.memoizedState,n.memoizedProps);break;case 5:jo(n);break;case 3:case 4:var p=Wn;Wn=wc(n.stateNode.containerInfo),jo(n),Wn=p;break;case 22:n.memoizedState===null&&(p=n.alternate,p!==null&&p.memoizedState!==null?(p=Fa,Fa=16777216,jo(n),Fa=p):jo(n));break;default:jo(n)}}function kg(n){var p=n.alternate;if(p!==null&&(n=p.child,n!==null)){p.child=null;do p=n.sibling,n.sibling=null,n=p;while(n!==null)}}function $a(n){var p=n.deletions;if((n.flags&16)!==0){if(p!==null)for(var S=0;S<p.length;S++){var R=p[S];$r=R,Tg(R,n)}kg(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Eg(n),n=n.sibling}function Eg(n){switch(n.tag){case 0:case 11:case 15:$a(n),n.flags&2048&&si(9,n,n.return);break;case 3:$a(n);break;case 12:$a(n);break;case 22:var p=n.stateNode;n.memoizedState!==null&&p._visibility&2&&(n.return===null||n.return.tag!==13)?(p._visibility&=-3,cc(n)):$a(n);break;default:$a(n)}}function cc(n){var p=n.deletions;if((n.flags&16)!==0){if(p!==null)for(var S=0;S<p.length;S++){var R=p[S];$r=R,Tg(R,n)}kg(n)}for(n=n.child;n!==null;){switch(p=n,p.tag){case 0:case 11:case 15:si(8,p,p.return),cc(p);break;case 22:S=p.stateNode,S._visibility&2&&(S._visibility&=-3,cc(p));break;default:cc(p)}n=n.sibling}}function Tg(n,p){for(;$r!==null;){var S=$r;switch(S.tag){case 0:case 11:case 15:si(8,S,p);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var R=S.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:Sa(S.memoizedState.cache)}if(R=S.child,R!==null)R.return=S,$r=R;else e:for(S=n;$r!==null;){R=$r;var H=R.sibling,G=R.return;if(vg(R),R===S){$r=null;break e}if(H!==null){H.return=G,$r=H;break e}$r=G}}}var fw={getCacheForType:function(n){var p=tn(Lr),S=p.data.get(n);return S===void 0&&(S=n(),p.data.set(n,S)),S}},hw=typeof WeakMap=="function"?WeakMap:Map,lr=0,br=null,Kt=null,Gt=0,cr=0,kn=null,ai=!1,ko=!1,xf=!1,Ts=0,Cr=0,li=0,$i=0,wf=0,$n=0,Eo=0,qa=null,gn=null,_f=!1,Sf=0,uc=1/0,dc=null,ci=null,Wr=0,ui=null,To=null,No=0,Cf=0,jf=null,Ng=null,Ua=0,kf=null;function En(){if((lr&2)!==0&&Gt!==0)return Gt&-Gt;if(_.T!==null){var n=go;return n!==0?n:Of()}return Ve()}function Mg(){$n===0&&($n=(Gt&536870912)===0||rr?ot():536870912);var n=Fn.current;return n!==null&&(n.flags|=32),$n}function Tn(n,p,S){(n===br&&(cr===2||cr===9)||n.cancelPendingCommit!==null)&&(Mo(n,0),di(n,Gt,$n,!1)),je(n,S),((lr&2)===0||n!==br)&&(n===br&&((lr&2)===0&&($i|=S),Cr===4&&di(n,Gt,$n,!1)),ls(n))}function Rg(n,p,S){if((lr&6)!==0)throw Error(a(327));var R=!S&&(p&124)===0&&(p&n.expiredLanes)===0||Ye(n,p),H=R?gw(n,p):Nf(n,p,!0),G=R;do{if(H===0){ko&&!R&&di(n,p,0,!1);break}else{if(S=n.current.alternate,G&&!pw(S)){H=Nf(n,p,!1),G=!1;continue}if(H===2){if(G=p,n.errorRecoveryDisabledLanes&G)var ne=0;else ne=n.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){p=ne;e:{var ce=n;H=qa;var xe=ce.current.memoizedState.isDehydrated;if(xe&&(Mo(ce,ne).flags|=256),ne=Nf(ce,ne,!1),ne!==2){if(xf&&!xe){ce.errorRecoveryDisabledLanes|=G,$i|=G,H=4;break e}G=gn,gn=H,G!==null&&(gn===null?gn=G:gn.push.apply(gn,G))}H=ne}if(G=!1,H!==2)continue}}if(H===1){Mo(n,0),di(n,p,0,!0);break}e:{switch(R=n,G=H,G){case 0:case 1:throw Error(a(345));case 4:if((p&4194048)!==p)break;case 6:di(R,p,$n,!ai);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((p&62914560)===p&&(H=Sf+300-re(),10<H)){if(di(R,p,$n,!ai),Be(R,0,!0)!==0)break e;R.timeoutHandle=ob(Ag.bind(null,R,S,gn,dc,_f,p,$n,$i,Eo,ai,G,2,-0,0),H);break e}Ag(R,S,gn,dc,_f,p,$n,$i,Eo,ai,G,0,-0,0)}}break}while(!0);ls(n)}function Ag(n,p,S,R,H,G,ne,ce,xe,qe,et,st,Ke,Xe){if(n.timeoutHandle=-1,st=p.subtreeFlags,(st&8192||(st&16785408)===16785408)&&(Ga={stylesheets:null,count:0,unsuspend:Ww},jg(p),st=Zw(),st!==null)){n.cancelPendingCommit=st(zg.bind(null,n,p,G,S,R,H,ne,ce,xe,et,1,Ke,Xe)),di(n,G,ne,!qe);return}zg(n,p,G,S,R,H,ne,ce,xe)}function pw(n){for(var p=n;;){var S=p.tag;if((S===0||S===11||S===15)&&p.flags&16384&&(S=p.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var R=0;R<S.length;R++){var H=S[R],G=H.getSnapshot;H=H.value;try{if(!_n(G(),H))return!1}catch{return!1}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===n)break;for(;p.sibling===null;){if(p.return===null||p.return===n)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function di(n,p,S,R){p&=~wf,p&=~$i,n.suspendedLanes|=p,n.pingedLanes&=~p,R&&(n.warmLanes|=p),R=n.expirationTimes;for(var H=p;0<H;){var G=31-Me(H),ne=1<<G;R[G]=-1,H&=~ne}S!==0&&nt(n,S,p)}function fc(){return(lr&6)===0?(Ha(0),!1):!0}function Ef(){if(Kt!==null){if(cr===0)var n=Kt.return;else n=Kt,xs=Pi=null,Ud(n),_o=null,Ba=0,n=Kt;for(;n!==null;)dg(n.alternate,n),n=n.return;Kt=null}}function Mo(n,p){var S=n.timeoutHandle;S!==-1&&(n.timeoutHandle=-1,Aw(S)),S=n.cancelPendingCommit,S!==null&&(n.cancelPendingCommit=null,S()),Ef(),br=n,Kt=S=bs(n.current,null),Gt=p,cr=0,kn=null,ai=!1,ko=Ye(n,p),xf=!1,Eo=$n=wf=$i=li=Cr=0,gn=qa=null,_f=!1,(p&8)!==0&&(p|=p&32);var R=n.entangledLanes;if(R!==0)for(n=n.entanglements,R&=p;0<R;){var H=31-Me(R),G=1<<H;p|=n[H],R&=~G}return Ts=p,Bl(),S}function Og(n,p){Ut=null,_.H=Ql,p===ja||p===Ul?(p=Gm(),cr=3):p===Xm?(p=Gm(),cr=4):cr=p===Z0?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,kn=p,Kt===null&&(Cr=1,sc(n,Dn(p,n.current)))}function Bg(){var n=_.H;return _.H=Ql,n===null?Ql:n}function Pg(){var n=_.A;return _.A=fw,n}function Tf(){Cr=4,ai||(Gt&4194048)!==Gt&&Fn.current!==null||(ko=!0),(li&134217727)===0&&($i&134217727)===0||br===null||di(br,Gt,$n,!1)}function Nf(n,p,S){var R=lr;lr|=2;var H=Bg(),G=Pg();(br!==n||Gt!==p)&&(dc=null,Mo(n,p)),p=!1;var ne=Cr;e:do try{if(cr!==0&&Kt!==null){var ce=Kt,xe=kn;switch(cr){case 8:Ef(),ne=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(p=!0);var qe=cr;if(cr=0,kn=null,Ro(n,ce,xe,qe),S&&ko){ne=0;break e}break;default:qe=cr,cr=0,kn=null,Ro(n,ce,xe,qe)}}mw(),ne=Cr;break}catch(et){Og(n,et)}while(!0);return p&&n.shellSuspendCounter++,xs=Pi=null,lr=R,_.H=H,_.A=G,Kt===null&&(br=null,Gt=0,Bl()),ne}function mw(){for(;Kt!==null;)Dg(Kt)}function gw(n,p){var S=lr;lr|=2;var R=Bg(),H=Pg();br!==n||Gt!==p?(dc=null,uc=re()+500,Mo(n,p)):ko=Ye(n,p);e:do try{if(cr!==0&&Kt!==null){p=Kt;var G=kn;t:switch(cr){case 1:cr=0,kn=null,Ro(n,p,G,1);break;case 2:case 9:if(Ym(G)){cr=0,kn=null,Lg(p);break}p=function(){cr!==2&&cr!==9||br!==n||(cr=7),ls(n)},G.then(p,p);break e;case 3:cr=7;break e;case 4:cr=5;break e;case 7:Ym(G)?(cr=0,kn=null,Lg(p)):(cr=0,kn=null,Ro(n,p,G,7));break;case 5:var ne=null;switch(Kt.tag){case 26:ne=Kt.memoizedState;case 5:case 27:var ce=Kt;if(!ne||yb(ne)){cr=0,kn=null;var xe=ce.sibling;if(xe!==null)Kt=xe;else{var qe=ce.return;qe!==null?(Kt=qe,hc(qe)):Kt=null}break t}}cr=0,kn=null,Ro(n,p,G,5);break;case 6:cr=0,kn=null,Ro(n,p,G,6);break;case 8:Ef(),Cr=6;break e;default:throw Error(a(462))}}bw();break}catch(et){Og(n,et)}while(!0);return xs=Pi=null,_.H=R,_.A=H,lr=S,Kt!==null?0:(br=null,Gt=0,Bl(),Cr)}function bw(){for(;Kt!==null&&!me();)Dg(Kt)}function Dg(n){var p=cg(n.alternate,n,Ts);n.memoizedProps=n.pendingProps,p===null?hc(n):Kt=p}function Lg(n){var p=n,S=p.alternate;switch(p.tag){case 15:case 0:p=ng(S,p,p.pendingProps,p.type,void 0,Gt);break;case 11:p=ng(S,p,p.pendingProps,p.type.render,p.ref,Gt);break;case 5:Ud(p);default:dg(S,p),p=Kt=Im(p,Ts),p=cg(S,p,Ts)}n.memoizedProps=n.pendingProps,p===null?hc(n):Kt=p}function Ro(n,p,S,R){xs=Pi=null,Ud(p),_o=null,Ba=0;var H=p.return;try{if(ow(n,H,p,S,Gt)){Cr=1,sc(n,Dn(S,n.current)),Kt=null;return}}catch(G){if(H!==null)throw Kt=H,G;Cr=1,sc(n,Dn(S,n.current)),Kt=null;return}p.flags&32768?(rr||R===1?n=!0:ko||(Gt&536870912)!==0?n=!1:(ai=n=!0,(R===2||R===9||R===3||R===6)&&(R=Fn.current,R!==null&&R.tag===13&&(R.flags|=16384))),Ig(p,n)):hc(p)}function hc(n){var p=n;do{if((p.flags&32768)!==0){Ig(p,ai);return}n=p.return;var S=lw(p.alternate,p,Ts);if(S!==null){Kt=S;return}if(p=p.sibling,p!==null){Kt=p;return}Kt=p=n}while(p!==null);Cr===0&&(Cr=5)}function Ig(n,p){do{var S=cw(n.alternate,n);if(S!==null){S.flags&=32767,Kt=S;return}if(S=n.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!p&&(n=n.sibling,n!==null)){Kt=n;return}Kt=n=S}while(n!==null);Cr=6,Kt=null}function zg(n,p,S,R,H,G,ne,ce,xe){n.cancelPendingCommit=null;do pc();while(Wr!==0);if((lr&6)!==0)throw Error(a(327));if(p!==null){if(p===n.current)throw Error(a(177));if(G=p.lanes|p.childLanes,G|=yd,Je(n,S,G,ne,ce,xe),n===br&&(Kt=br=null,Gt=0),To=p,ui=n,No=S,Cf=G,jf=H,Ng=R,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,ww(be,function(){return Hg(),null})):(n.callbackNode=null,n.callbackPriority=0),R=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||R){R=_.T,_.T=null,H=j.p,j.p=2,ne=lr,lr|=4;try{uw(n,p,S)}finally{lr=ne,j.p=H,_.T=R}}Wr=1,Fg(),$g(),qg()}}function Fg(){if(Wr===1){Wr=0;var n=ui,p=To,S=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||S){S=_.T,_.T=null;var R=j.p;j.p=2;var H=lr;lr|=4;try{_g(p,n);var G=$f,ne=Tm(n.containerInfo),ce=G.focusedElem,xe=G.selectionRange;if(ne!==ce&&ce&&ce.ownerDocument&&Em(ce.ownerDocument.documentElement,ce)){if(xe!==null&&hd(ce)){var qe=xe.start,et=xe.end;if(et===void 0&&(et=qe),"selectionStart"in ce)ce.selectionStart=qe,ce.selectionEnd=Math.min(et,ce.value.length);else{var st=ce.ownerDocument||document,Ke=st&&st.defaultView||window;if(Ke.getSelection){var Xe=Ke.getSelection(),Dt=ce.textContent.length,Mt=Math.min(xe.start,Dt),fr=xe.end===void 0?Mt:Math.min(xe.end,Dt);!Xe.extend&&Mt>fr&&(ne=fr,fr=Mt,Mt=ne);var Oe=km(ce,Mt),ke=km(ce,fr);if(Oe&&ke&&(Xe.rangeCount!==1||Xe.anchorNode!==Oe.node||Xe.anchorOffset!==Oe.offset||Xe.focusNode!==ke.node||Xe.focusOffset!==ke.offset)){var Ie=st.createRange();Ie.setStart(Oe.node,Oe.offset),Xe.removeAllRanges(),Mt>fr?(Xe.addRange(Ie),Xe.extend(ke.node,ke.offset)):(Ie.setEnd(ke.node,ke.offset),Xe.addRange(Ie))}}}}for(st=[],Xe=ce;Xe=Xe.parentNode;)Xe.nodeType===1&&st.push({element:Xe,left:Xe.scrollLeft,top:Xe.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<st.length;ce++){var tt=st[ce];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}kc=!!Ff,$f=Ff=null}finally{lr=H,j.p=R,_.T=S}}n.current=p,Wr=2}}function $g(){if(Wr===2){Wr=0;var n=ui,p=To,S=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||S){S=_.T,_.T=null;var R=j.p;j.p=2;var H=lr;lr|=4;try{yg(n,p.alternate,p)}finally{lr=H,j.p=R,_.T=S}}Wr=3}}function qg(){if(Wr===4||Wr===3){Wr=0,ae();var n=ui,p=To,S=No,R=Ng;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?Wr=5:(Wr=0,To=ui=null,Ug(n,n.pendingLanes));var H=n.pendingLanes;if(H===0&&(ci=null),De(S),p=p.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(pe,p,void 0,(p.current.flags&128)===128)}catch{}if(R!==null){p=_.T,H=j.p,j.p=2,_.T=null;try{for(var G=n.onRecoverableError,ne=0;ne<R.length;ne++){var ce=R[ne];G(ce.value,{componentStack:ce.stack})}}finally{_.T=p,j.p=H}}(No&3)!==0&&pc(),ls(n),H=n.pendingLanes,(S&4194090)!==0&&(H&42)!==0?n===kf?Ua++:(Ua=0,kf=n):Ua=0,Ha(0)}}function Ug(n,p){(n.pooledCacheLanes&=p)===0&&(p=n.pooledCache,p!=null&&(n.pooledCache=null,Sa(p)))}function pc(n){return Fg(),$g(),qg(),Hg()}function Hg(){if(Wr!==5)return!1;var n=ui,p=Cf;Cf=0;var S=De(No),R=_.T,H=j.p;try{j.p=32>S?32:S,_.T=null,S=jf,jf=null;var G=ui,ne=No;if(Wr=0,To=ui=null,No=0,(lr&6)!==0)throw Error(a(331));var ce=lr;if(lr|=4,Eg(G.current),Cg(G,G.current,ne,S),lr=ce,Ha(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(pe,G)}catch{}return!0}finally{j.p=H,_.T=R,Ug(n,p)}}function Vg(n,p,S){p=Dn(S,p),p=nf(n.stateNode,p,2),n=ei(n,p,2),n!==null&&(je(n,2),ls(n))}function pr(n,p,S){if(n.tag===3)Vg(n,n,S);else for(;p!==null;){if(p.tag===3){Vg(p,n,S);break}else if(p.tag===1){var R=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(ci===null||!ci.has(R))){n=Dn(S,n),S=W0(2),R=ei(p,S,2),R!==null&&(G0(S,R,p,n),je(R,2),ls(R));break}}p=p.return}}function Mf(n,p,S){var R=n.pingCache;if(R===null){R=n.pingCache=new hw;var H=new Set;R.set(p,H)}else H=R.get(p),H===void 0&&(H=new Set,R.set(p,H));H.has(S)||(xf=!0,H.add(S),n=yw.bind(null,n,p,S),p.then(n,n))}function yw(n,p,S){var R=n.pingCache;R!==null&&R.delete(p),n.pingedLanes|=n.suspendedLanes&S,n.warmLanes&=~S,br===n&&(Gt&S)===S&&(Cr===4||Cr===3&&(Gt&62914560)===Gt&&300>re()-Sf?(lr&2)===0&&Mo(n,0):wf|=S,Eo===Gt&&(Eo=0)),ls(n)}function Kg(n,p){p===0&&(p=Ue()),n=fo(n,p),n!==null&&(je(n,p),ls(n))}function vw(n){var p=n.memoizedState,S=0;p!==null&&(S=p.retryLane),Kg(n,S)}function xw(n,p){var S=0;switch(n.tag){case 13:var R=n.stateNode,H=n.memoizedState;H!==null&&(S=H.retryLane);break;case 19:R=n.stateNode;break;case 22:R=n.stateNode._retryCache;break;default:throw Error(a(314))}R!==null&&R.delete(p),Kg(n,S)}function ww(n,p){return se(n,p)}var mc=null,Ao=null,Rf=!1,gc=!1,Af=!1,qi=0;function ls(n){n!==Ao&&n.next===null&&(Ao===null?mc=Ao=n:Ao=Ao.next=n),gc=!0,Rf||(Rf=!0,Sw())}function Ha(n,p){if(!Af&&gc){Af=!0;do for(var S=!1,R=mc;R!==null;){if(n!==0){var H=R.pendingLanes;if(H===0)var G=0;else{var ne=R.suspendedLanes,ce=R.pingedLanes;G=(1<<31-Me(42|n)+1)-1,G&=H&~(ne&~ce),G=G&201326741?G&201326741|1:G?G|2:0}G!==0&&(S=!0,Gg(R,G))}else G=Gt,G=Be(R,R===br?G:0,R.cancelPendingCommit!==null||R.timeoutHandle!==-1),(G&3)===0||Ye(R,G)||(S=!0,Gg(R,G));R=R.next}while(S);Af=!1}}function _w(){Xg()}function Xg(){gc=Rf=!1;var n=0;qi!==0&&(Rw()&&(n=qi),qi=0);for(var p=re(),S=null,R=mc;R!==null;){var H=R.next,G=Yg(R,p);G===0?(R.next=null,S===null?mc=H:S.next=H,H===null&&(Ao=S)):(S=R,(n!==0||(G&3)!==0)&&(gc=!0)),R=H}Ha(n)}function Yg(n,p){for(var S=n.suspendedLanes,R=n.pingedLanes,H=n.expirationTimes,G=n.pendingLanes&-62914561;0<G;){var ne=31-Me(G),ce=1<<ne,xe=H[ne];xe===-1?((ce&S)===0||(ce&R)!==0)&&(H[ne]=at(ce,p)):xe<=p&&(n.expiredLanes|=ce),G&=~ce}if(p=br,S=Gt,S=Be(n,n===p?S:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),R=n.callbackNode,S===0||n===p&&(cr===2||cr===9)||n.cancelPendingCommit!==null)return R!==null&&R!==null&&le(R),n.callbackNode=null,n.callbackPriority=0;if((S&3)===0||Ye(n,S)){if(p=S&-S,p===n.callbackPriority)return p;switch(R!==null&&le(R),De(S)){case 2:case 8:S=fe;break;case 32:S=be;break;case 268435456:S=Ae;break;default:S=be}return R=Wg.bind(null,n),S=se(S,R),n.callbackPriority=p,n.callbackNode=S,p}return R!==null&&R!==null&&le(R),n.callbackPriority=2,n.callbackNode=null,2}function Wg(n,p){if(Wr!==0&&Wr!==5)return n.callbackNode=null,n.callbackPriority=0,null;var S=n.callbackNode;if(pc()&&n.callbackNode!==S)return null;var R=Gt;return R=Be(n,n===br?R:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),R===0?null:(Rg(n,R,p),Yg(n,re()),n.callbackNode!=null&&n.callbackNode===S?Wg.bind(null,n):null)}function Gg(n,p){if(pc())return null;Rg(n,p,!0)}function Sw(){Ow(function(){(lr&6)!==0?se(ue,_w):Xg()})}function Of(){return qi===0&&(qi=ot()),qi}function Zg(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ci(""+n)}function Jg(n,p){var S=p.ownerDocument.createElement("input");return S.name=p.name,S.value=p.value,n.id&&S.setAttribute("form",n.id),p.parentNode.insertBefore(S,p),n=new FormData(n),S.parentNode.removeChild(S),n}function Cw(n,p,S,R,H){if(p==="submit"&&S&&S.stateNode===H){var G=Zg((H[pt]||null).action),ne=R.submitter;ne&&(p=(p=ne[pt]||null)?Zg(p.formAction):ne.getAttribute("formAction"),p!==null&&(G=p,ne=null));var ce=new Rl("action","action",null,R,H);n.push({event:ce,listeners:[{instance:null,listener:function(){if(R.defaultPrevented){if(qi!==0){var xe=ne?Jg(H,ne):new FormData(H);Jd(S,{pending:!0,data:xe,method:H.method,action:G},null,xe)}}else typeof G=="function"&&(ce.preventDefault(),xe=ne?Jg(H,ne):new FormData(H),Jd(S,{pending:!0,data:xe,method:H.method,action:G},G,xe))},currentTarget:H}]})}}for(var Bf=0;Bf<bd.length;Bf++){var Pf=bd[Bf],jw=Pf.toLowerCase(),kw=Pf[0].toUpperCase()+Pf.slice(1);Yn(jw,"on"+kw)}Yn(Rm,"onAnimationEnd"),Yn(Am,"onAnimationIteration"),Yn(Om,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Ux,"onTransitionRun"),Yn(Hx,"onTransitionStart"),Yn(Vx,"onTransitionCancel"),Yn(Bm,"onTransitionEnd"),mr("onMouseEnter",["mouseout","mouseover"]),mr("onMouseLeave",["mouseout","mouseover"]),mr("onPointerEnter",["pointerout","pointerover"]),mr("onPointerLeave",["pointerout","pointerover"]),hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ew=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Va));function Qg(n,p){p=(p&4)!==0;for(var S=0;S<n.length;S++){var R=n[S],H=R.event;R=R.listeners;e:{var G=void 0;if(p)for(var ne=R.length-1;0<=ne;ne--){var ce=R[ne],xe=ce.instance,qe=ce.currentTarget;if(ce=ce.listener,xe!==G&&H.isPropagationStopped())break e;G=ce,H.currentTarget=qe;try{G(H)}catch(et){nc(et)}H.currentTarget=null,G=xe}else for(ne=0;ne<R.length;ne++){if(ce=R[ne],xe=ce.instance,qe=ce.currentTarget,ce=ce.listener,xe!==G&&H.isPropagationStopped())break e;G=ce,H.currentTarget=qe;try{G(H)}catch(et){nc(et)}H.currentTarget=null,G=xe}}}}function Xt(n,p){var S=p[Ne];S===void 0&&(S=p[Ne]=new Set);var R=n+"__bubble";S.has(R)||(eb(p,n,2,!1),S.add(R))}function Df(n,p,S){var R=0;p&&(R|=4),eb(S,n,R,p)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Lf(n){if(!n[bc]){n[bc]=!0,vr.forEach(function(S){S!=="selectionchange"&&(Ew.has(S)||Df(S,!1,n),Df(S,!0,n))});var p=n.nodeType===9?n:n.ownerDocument;p===null||p[bc]||(p[bc]=!0,Df("selectionchange",!1,p))}}function eb(n,p,S,R){switch(Cb(p)){case 2:var H=e_;break;case 8:H=t_;break;default:H=Zf}S=H.bind(null,p,S,n),H=void 0,!sd||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(H=!0),R?H!==void 0?n.addEventListener(p,S,{capture:!0,passive:H}):n.addEventListener(p,S,!0):H!==void 0?n.addEventListener(p,S,{passive:H}):n.addEventListener(p,S,!1)}function If(n,p,S,R,H){var G=R;if((p&1)===0&&(p&2)===0&&R!==null)e:for(;;){if(R===null)return;var ne=R.tag;if(ne===3||ne===4){var ce=R.stateNode.containerInfo;if(ce===H)break;if(ne===4)for(ne=R.return;ne!==null;){var xe=ne.tag;if((xe===3||xe===4)&&ne.stateNode.containerInfo===H)return;ne=ne.return}for(;ce!==null;){if(ne=xt(ce),ne===null)return;if(xe=ne.tag,xe===5||xe===6||xe===26||xe===27){R=G=ne;continue e}ce=ce.parentNode}}R=R.return}ki(function(){var qe=G,et=ji(S),st=[];e:{var Ke=Pm.get(n);if(Ke!==void 0){var Xe=Rl,Dt=n;switch(n){case"keypress":if(Nl(S)===0)break e;case"keydown":case"keyup":Xe=wx;break;case"focusin":Dt="focus",Xe=ld;break;case"focusout":Dt="blur",Xe=ld;break;case"beforeblur":case"afterblur":Xe=ld;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=cx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=Cx;break;case Rm:case Am:case Om:Xe=fx;break;case Bm:Xe=kx;break;case"scroll":case"scrollend":Xe=ax;break;case"wheel":Xe=Tx;break;case"copy":case"cut":case"paste":Xe=px;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=fm;break;case"toggle":case"beforetoggle":Xe=Mx}var Mt=(p&4)!==0,fr=!Mt&&(n==="scroll"||n==="scrollend"),Oe=Mt?Ke!==null?Ke+"Capture":null:Ke;Mt=[];for(var ke=qe,Ie;ke!==null;){var tt=ke;if(Ie=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||Ie===null||Oe===null||(tt=ua(ke,Oe),tt!=null&&Mt.push(Ka(ke,tt,Ie))),fr)break;ke=ke.return}0<Mt.length&&(Ke=new Xe(Ke,Dt,null,S,et),st.push({event:Ke,listeners:Mt}))}}if((p&7)===0){e:{if(Ke=n==="mouseover"||n==="pointerover",Xe=n==="mouseout"||n==="pointerout",Ke&&S!==Ys&&(Dt=S.relatedTarget||S.fromElement)&&(xt(Dt)||Dt[_e]))break e;if((Xe||Ke)&&(Ke=et.window===et?et:(Ke=et.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,Xe?(Dt=S.relatedTarget||S.toElement,Xe=qe,Dt=Dt?xt(Dt):null,Dt!==null&&(fr=f(Dt),Mt=Dt.tag,Dt!==fr||Mt!==5&&Mt!==27&&Mt!==6)&&(Dt=null)):(Xe=null,Dt=qe),Xe!==Dt)){if(Mt=um,tt="onMouseLeave",Oe="onMouseEnter",ke="mouse",(n==="pointerout"||n==="pointerover")&&(Mt=fm,tt="onPointerLeave",Oe="onPointerEnter",ke="pointer"),fr=Xe==null?Ke:Et(Xe),Ie=Dt==null?Ke:Et(Dt),Ke=new Mt(tt,ke+"leave",Xe,S,et),Ke.target=fr,Ke.relatedTarget=Ie,tt=null,xt(et)===qe&&(Mt=new Mt(Oe,ke+"enter",Dt,S,et),Mt.target=Ie,Mt.relatedTarget=fr,tt=Mt),fr=tt,Xe&&Dt)t:{for(Mt=Xe,Oe=Dt,ke=0,Ie=Mt;Ie;Ie=Oo(Ie))ke++;for(Ie=0,tt=Oe;tt;tt=Oo(tt))Ie++;for(;0<ke-Ie;)Mt=Oo(Mt),ke--;for(;0<Ie-ke;)Oe=Oo(Oe),Ie--;for(;ke--;){if(Mt===Oe||Oe!==null&&Mt===Oe.alternate)break t;Mt=Oo(Mt),Oe=Oo(Oe)}Mt=null}else Mt=null;Xe!==null&&tb(st,Ke,Xe,Mt,!1),Dt!==null&&fr!==null&&tb(st,fr,Dt,Mt,!0)}}e:{if(Ke=qe?Et(qe):window,Xe=Ke.nodeName&&Ke.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Ke.type==="file")var yt=xm;else if(ym(Ke))if(wm)yt=Fx;else{yt=Ix;var Vt=Lx}else Xe=Ke.nodeName,!Xe||Xe.toLowerCase()!=="input"||Ke.type!=="checkbox"&&Ke.type!=="radio"?qe&&Ks(qe.elementType)&&(yt=xm):yt=zx;if(yt&&(yt=yt(n,qe))){vm(st,yt,S,et);break e}Vt&&Vt(n,Ke,qe),n==="focusout"&&qe&&Ke.type==="number"&&qe.memoizedProps.value!=null&&Ht(Ke,"number",Ke.value)}switch(Vt=qe?Et(qe):window,n){case"focusin":(ym(Vt)||Vt.contentEditable==="true")&&(lo=Vt,pd=qe,ya=null);break;case"focusout":ya=pd=lo=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,Nm(st,S,et);break;case"selectionchange":if(qx)break;case"keydown":case"keyup":Nm(st,S,et)}var St;if(ud)e:{switch(n){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else ao?gm(n,S)&&(Rt="onCompositionEnd"):n==="keydown"&&S.keyCode===229&&(Rt="onCompositionStart");Rt&&(hm&&S.locale!=="ko"&&(ao||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&ao&&(St=lm()):(Gs=et,id="value"in Gs?Gs.value:Gs.textContent,ao=!0)),Vt=yc(qe,Rt),0<Vt.length&&(Rt=new dm(Rt,n,null,S,et),st.push({event:Rt,listeners:Vt}),St?Rt.data=St:(St=bm(S),St!==null&&(Rt.data=St)))),(St=Ax?Ox(n,S):Bx(n,S))&&(Rt=yc(qe,"onBeforeInput"),0<Rt.length&&(Vt=new dm("onBeforeInput","beforeinput",null,S,et),st.push({event:Vt,listeners:Rt}),Vt.data=St)),Cw(st,n,qe,S,et)}Qg(st,p)})}function Ka(n,p,S){return{instance:n,listener:p,currentTarget:S}}function yc(n,p){for(var S=p+"Capture",R=[];n!==null;){var H=n,G=H.stateNode;if(H=H.tag,H!==5&&H!==26&&H!==27||G===null||(H=ua(n,S),H!=null&&R.unshift(Ka(n,H,G)),H=ua(n,p),H!=null&&R.push(Ka(n,H,G))),n.tag===3)return R;n=n.return}return[]}function Oo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function tb(n,p,S,R,H){for(var G=p._reactName,ne=[];S!==null&&S!==R;){var ce=S,xe=ce.alternate,qe=ce.stateNode;if(ce=ce.tag,xe!==null&&xe===R)break;ce!==5&&ce!==26&&ce!==27||qe===null||(xe=qe,H?(qe=ua(S,G),qe!=null&&ne.unshift(Ka(S,qe,xe))):H||(qe=ua(S,G),qe!=null&&ne.push(Ka(S,qe,xe)))),S=S.return}ne.length!==0&&n.push({event:p,listeners:ne})}var Tw=/\r\n?/g,Nw=/\u0000|\uFFFD/g;function rb(n){return(typeof n=="string"?n:""+n).replace(Tw,`
`).replace(Nw,"")}function nb(n,p){return p=rb(p),rb(n)===p}function vc(){}function dr(n,p,S,R,H,G){switch(S){case"children":typeof R=="string"?p==="body"||p==="textarea"&&R===""||Ar(n,R):(typeof R=="number"||typeof R=="bigint")&&p!=="body"&&Ar(n,""+R);break;case"className":gt(n,"class",R);break;case"tabIndex":gt(n,"tabindex",R);break;case"dir":case"role":case"viewBox":case"width":case"height":gt(n,S,R);break;case"style":Vs(n,R,G);break;case"data":if(p!=="object"){gt(n,"data",R);break}case"src":case"href":if(R===""&&(p!=="a"||S!=="href")){n.removeAttribute(S);break}if(R==null||typeof R=="function"||typeof R=="symbol"||typeof R=="boolean"){n.removeAttribute(S);break}R=Ci(""+R),n.setAttribute(S,R);break;case"action":case"formAction":if(typeof R=="function"){n.setAttribute(S,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof G=="function"&&(S==="formAction"?(p!=="input"&&dr(n,p,"name",H.name,H,null),dr(n,p,"formEncType",H.formEncType,H,null),dr(n,p,"formMethod",H.formMethod,H,null),dr(n,p,"formTarget",H.formTarget,H,null)):(dr(n,p,"encType",H.encType,H,null),dr(n,p,"method",H.method,H,null),dr(n,p,"target",H.target,H,null)));if(R==null||typeof R=="symbol"||typeof R=="boolean"){n.removeAttribute(S);break}R=Ci(""+R),n.setAttribute(S,R);break;case"onClick":R!=null&&(n.onclick=vc);break;case"onScroll":R!=null&&Xt("scroll",n);break;case"onScrollEnd":R!=null&&Xt("scrollend",n);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(a(61));if(S=R.__html,S!=null){if(H.children!=null)throw Error(a(60));n.innerHTML=S}}break;case"multiple":n.multiple=R&&typeof R!="function"&&typeof R!="symbol";break;case"muted":n.muted=R&&typeof R!="function"&&typeof R!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(R==null||typeof R=="function"||typeof R=="boolean"||typeof R=="symbol"){n.removeAttribute("xlink:href");break}S=Ci(""+R),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",S);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":R!=null&&typeof R!="function"&&typeof R!="symbol"?n.setAttribute(S,""+R):n.removeAttribute(S);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":R&&typeof R!="function"&&typeof R!="symbol"?n.setAttribute(S,""):n.removeAttribute(S);break;case"capture":case"download":R===!0?n.setAttribute(S,""):R!==!1&&R!=null&&typeof R!="function"&&typeof R!="symbol"?n.setAttribute(S,R):n.removeAttribute(S);break;case"cols":case"rows":case"size":case"span":R!=null&&typeof R!="function"&&typeof R!="symbol"&&!isNaN(R)&&1<=R?n.setAttribute(S,R):n.removeAttribute(S);break;case"rowSpan":case"start":R==null||typeof R=="function"||typeof R=="symbol"||isNaN(R)?n.removeAttribute(S):n.setAttribute(S,R);break;case"popover":Xt("beforetoggle",n),Xt("toggle",n),it(n,"popover",R);break;case"xlinkActuate":ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",R);break;case"xlinkArcrole":ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",R);break;case"xlinkRole":ut(n,"http://www.w3.org/1999/xlink","xlink:role",R);break;case"xlinkShow":ut(n,"http://www.w3.org/1999/xlink","xlink:show",R);break;case"xlinkTitle":ut(n,"http://www.w3.org/1999/xlink","xlink:title",R);break;case"xlinkType":ut(n,"http://www.w3.org/1999/xlink","xlink:type",R);break;case"xmlBase":ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",R);break;case"xmlLang":ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",R);break;case"xmlSpace":ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",R);break;case"is":it(n,"is",R);break;case"innerText":case"textContent":break;default:(!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(S=Xs.get(S)||S,it(n,S,R))}}function zf(n,p,S,R,H,G){switch(S){case"style":Vs(n,R,G);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(a(61));if(S=R.__html,S!=null){if(H.children!=null)throw Error(a(60));n.innerHTML=S}}break;case"children":typeof R=="string"?Ar(n,R):(typeof R=="number"||typeof R=="bigint")&&Ar(n,""+R);break;case"onScroll":R!=null&&Xt("scroll",n);break;case"onScrollEnd":R!=null&&Xt("scrollend",n);break;case"onClick":R!=null&&(n.onclick=vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!or.hasOwnProperty(S))e:{if(S[0]==="o"&&S[1]==="n"&&(H=S.endsWith("Capture"),p=S.slice(2,H?S.length-7:void 0),G=n[pt]||null,G=G!=null?G[S]:null,typeof G=="function"&&n.removeEventListener(p,G,H),typeof R=="function")){typeof G!="function"&&G!==null&&(S in n?n[S]=null:n.hasAttribute(S)&&n.removeAttribute(S)),n.addEventListener(p,R,H);break e}S in n?n[S]=R:R===!0?n.setAttribute(S,""):it(n,S,R)}}}function Gr(n,p,S){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",n),Xt("load",n);var R=!1,H=!1,G;for(G in S)if(S.hasOwnProperty(G)){var ne=S[G];if(ne!=null)switch(G){case"src":R=!0;break;case"srcSet":H=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,p));default:dr(n,p,G,ne,S,null)}}H&&dr(n,p,"srcSet",S.srcSet,S,null),R&&dr(n,p,"src",S.src,S,null);return;case"input":Xt("invalid",n);var ce=G=ne=H=null,xe=null,qe=null;for(R in S)if(S.hasOwnProperty(R)){var et=S[R];if(et!=null)switch(R){case"name":H=et;break;case"type":ne=et;break;case"checked":xe=et;break;case"defaultChecked":qe=et;break;case"value":G=et;break;case"defaultValue":ce=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(a(137,p));break;default:dr(n,p,R,et,S,null)}}Jt(n,G,ce,xe,qe,ne,H,!1),Rr(n);return;case"select":Xt("invalid",n),R=ne=G=null;for(H in S)if(S.hasOwnProperty(H)&&(ce=S[H],ce!=null))switch(H){case"value":G=ce;break;case"defaultValue":ne=ce;break;case"multiple":R=ce;default:dr(n,p,H,ce,S,null)}p=G,S=ne,n.multiple=!!R,p!=null?ln(n,!!R,p,!1):S!=null&&ln(n,!!R,S,!0);return;case"textarea":Xt("invalid",n),G=H=R=null;for(ne in S)if(S.hasOwnProperty(ne)&&(ce=S[ne],ce!=null))switch(ne){case"value":R=ce;break;case"defaultValue":H=ce;break;case"children":G=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(a(91));break;default:dr(n,p,ne,ce,S,null)}Si(n,R,H,G),Rr(n);return;case"option":for(xe in S)if(S.hasOwnProperty(xe)&&(R=S[xe],R!=null))switch(xe){case"selected":n.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:dr(n,p,xe,R,S,null)}return;case"dialog":Xt("beforetoggle",n),Xt("toggle",n),Xt("cancel",n),Xt("close",n);break;case"iframe":case"object":Xt("load",n);break;case"video":case"audio":for(R=0;R<Va.length;R++)Xt(Va[R],n);break;case"image":Xt("error",n),Xt("load",n);break;case"details":Xt("toggle",n);break;case"embed":case"source":case"link":Xt("error",n),Xt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(qe in S)if(S.hasOwnProperty(qe)&&(R=S[qe],R!=null))switch(qe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,p));default:dr(n,p,qe,R,S,null)}return;default:if(Ks(p)){for(et in S)S.hasOwnProperty(et)&&(R=S[et],R!==void 0&&zf(n,p,et,R,S,void 0));return}}for(ce in S)S.hasOwnProperty(ce)&&(R=S[ce],R!=null&&dr(n,p,ce,R,S,null))}function Mw(n,p,S,R){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var H=null,G=null,ne=null,ce=null,xe=null,qe=null,et=null;for(Xe in S){var st=S[Xe];if(S.hasOwnProperty(Xe)&&st!=null)switch(Xe){case"checked":break;case"value":break;case"defaultValue":xe=st;default:R.hasOwnProperty(Xe)||dr(n,p,Xe,null,R,st)}}for(var Ke in R){var Xe=R[Ke];if(st=S[Ke],R.hasOwnProperty(Ke)&&(Xe!=null||st!=null))switch(Ke){case"type":G=Xe;break;case"name":H=Xe;break;case"checked":qe=Xe;break;case"defaultChecked":et=Xe;break;case"value":ne=Xe;break;case"defaultValue":ce=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(a(137,p));break;default:Xe!==st&&dr(n,p,Ke,Xe,R,st)}}ts(n,ne,ce,xe,qe,et,G,H);return;case"select":Xe=ne=ce=Ke=null;for(G in S)if(xe=S[G],S.hasOwnProperty(G)&&xe!=null)switch(G){case"value":break;case"multiple":Xe=xe;default:R.hasOwnProperty(G)||dr(n,p,G,null,R,xe)}for(H in R)if(G=R[H],xe=S[H],R.hasOwnProperty(H)&&(G!=null||xe!=null))switch(H){case"value":Ke=G;break;case"defaultValue":ce=G;break;case"multiple":ne=G;default:G!==xe&&dr(n,p,H,G,R,xe)}p=ce,S=ne,R=Xe,Ke!=null?ln(n,!!S,Ke,!1):!!R!=!!S&&(p!=null?ln(n,!!S,p,!0):ln(n,!!S,S?[]:"",!1));return;case"textarea":Xe=Ke=null;for(ce in S)if(H=S[ce],S.hasOwnProperty(ce)&&H!=null&&!R.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:dr(n,p,ce,null,R,H)}for(ne in R)if(H=R[ne],G=S[ne],R.hasOwnProperty(ne)&&(H!=null||G!=null))switch(ne){case"value":Ke=H;break;case"defaultValue":Xe=H;break;case"children":break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(91));break;default:H!==G&&dr(n,p,ne,H,R,G)}rs(n,Ke,Xe);return;case"option":for(var Dt in S)if(Ke=S[Dt],S.hasOwnProperty(Dt)&&Ke!=null&&!R.hasOwnProperty(Dt))switch(Dt){case"selected":n.selected=!1;break;default:dr(n,p,Dt,null,R,Ke)}for(xe in R)if(Ke=R[xe],Xe=S[xe],R.hasOwnProperty(xe)&&Ke!==Xe&&(Ke!=null||Xe!=null))switch(xe){case"selected":n.selected=Ke&&typeof Ke!="function"&&typeof Ke!="symbol";break;default:dr(n,p,xe,Ke,R,Xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in S)Ke=S[Mt],S.hasOwnProperty(Mt)&&Ke!=null&&!R.hasOwnProperty(Mt)&&dr(n,p,Mt,null,R,Ke);for(qe in R)if(Ke=R[qe],Xe=S[qe],R.hasOwnProperty(qe)&&Ke!==Xe&&(Ke!=null||Xe!=null))switch(qe){case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(a(137,p));break;default:dr(n,p,qe,Ke,R,Xe)}return;default:if(Ks(p)){for(var fr in S)Ke=S[fr],S.hasOwnProperty(fr)&&Ke!==void 0&&!R.hasOwnProperty(fr)&&zf(n,p,fr,void 0,R,Ke);for(et in R)Ke=R[et],Xe=S[et],!R.hasOwnProperty(et)||Ke===Xe||Ke===void 0&&Xe===void 0||zf(n,p,et,Ke,R,Xe);return}}for(var Oe in S)Ke=S[Oe],S.hasOwnProperty(Oe)&&Ke!=null&&!R.hasOwnProperty(Oe)&&dr(n,p,Oe,null,R,Ke);for(st in R)Ke=R[st],Xe=S[st],!R.hasOwnProperty(st)||Ke===Xe||Ke==null&&Xe==null||dr(n,p,st,Ke,R,Xe)}var Ff=null,$f=null;function xc(n){return n.nodeType===9?n:n.ownerDocument}function sb(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ib(n,p){if(n===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&p==="foreignObject"?0:n}function qf(n,p){return n==="textarea"||n==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Uf=null;function Rw(){var n=window.event;return n&&n.type==="popstate"?n===Uf?!1:(Uf=n,!0):(Uf=null,!1)}var ob=typeof setTimeout=="function"?setTimeout:void 0,Aw=typeof clearTimeout=="function"?clearTimeout:void 0,ab=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof ab<"u"?function(n){return ab.resolve(null).then(n).catch(Bw)}:ob;function Bw(n){setTimeout(function(){throw n})}function fi(n){return n==="head"}function lb(n,p){var S=p,R=0,H=0;do{var G=S.nextSibling;if(n.removeChild(S),G&&G.nodeType===8)if(S=G.data,S==="/$"){if(0<R&&8>R){S=R;var ne=n.ownerDocument;if(S&1&&Xa(ne.documentElement),S&2&&Xa(ne.body),S&4)for(S=ne.head,Xa(S),ne=S.firstChild;ne;){var ce=ne.nextSibling,xe=ne.nodeName;ne[ft]||xe==="SCRIPT"||xe==="STYLE"||xe==="LINK"&&ne.rel.toLowerCase()==="stylesheet"||S.removeChild(ne),ne=ce}}if(H===0){n.removeChild(G),tl(p);return}H--}else S==="$"||S==="$?"||S==="$!"?H++:R=S.charCodeAt(0)-48;else R=0;S=G}while(S);tl(p)}function Hf(n){var p=n.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var S=p;switch(p=p.nextSibling,S.nodeName){case"HTML":case"HEAD":case"BODY":Hf(S),kt(S);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(S.rel.toLowerCase()==="stylesheet")continue}n.removeChild(S)}}function Pw(n,p,S,R){for(;n.nodeType===1;){var H=S;if(n.nodeName.toLowerCase()!==p.toLowerCase()){if(!R&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(R){if(!n[ft])switch(p){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(G=n.getAttribute("rel"),G==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(G!==H.rel||n.getAttribute("href")!==(H.href==null||H.href===""?null:H.href)||n.getAttribute("crossorigin")!==(H.crossOrigin==null?null:H.crossOrigin)||n.getAttribute("title")!==(H.title==null?null:H.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(G=n.getAttribute("src"),(G!==(H.src==null?null:H.src)||n.getAttribute("type")!==(H.type==null?null:H.type)||n.getAttribute("crossorigin")!==(H.crossOrigin==null?null:H.crossOrigin))&&G&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(p==="input"&&n.type==="hidden"){var G=H.name==null?null:""+H.name;if(H.type==="hidden"&&n.getAttribute("name")===G)return n}else return n;if(n=Gn(n.nextSibling),n===null)break}return null}function Dw(n,p,S){if(p==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!S||(n=Gn(n.nextSibling),n===null))return null;return n}function Vf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Lw(n,p){var S=n.ownerDocument;if(n.data!=="$?"||S.readyState==="complete")p();else{var R=function(){p(),S.removeEventListener("DOMContentLoaded",R)};S.addEventListener("DOMContentLoaded",R),n._reactRetry=R}}function Gn(n){for(;n!=null;n=n.nextSibling){var p=n.nodeType;if(p===1||p===3)break;if(p===8){if(p=n.data,p==="$"||p==="$!"||p==="$?"||p==="F!"||p==="F")break;if(p==="/$")return null}}return n}var Kf=null;function cb(n){n=n.previousSibling;for(var p=0;n;){if(n.nodeType===8){var S=n.data;if(S==="$"||S==="$!"||S==="$?"){if(p===0)return n;p--}else S==="/$"&&p++}n=n.previousSibling}return null}function ub(n,p,S){switch(p=xc(S),n){case"html":if(n=p.documentElement,!n)throw Error(a(452));return n;case"head":if(n=p.head,!n)throw Error(a(453));return n;case"body":if(n=p.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Xa(n){for(var p=n.attributes;p.length;)n.removeAttributeNode(p[0]);kt(n)}var qn=new Map,db=new Set;function wc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ns=j.d;j.d={f:Iw,r:zw,D:Fw,C:$w,L:qw,m:Uw,X:Vw,S:Hw,M:Kw};function Iw(){var n=Ns.f(),p=fc();return n||p}function zw(n){var p=bt(n);p!==null&&p.tag===5&&p.type==="form"?R0(p):Ns.r(n)}var Bo=typeof document>"u"?null:document;function fb(n,p,S){var R=Bo;if(R&&typeof p=="string"&&p){var H=Dr(p);H='link[rel="'+n+'"][href="'+H+'"]',typeof S=="string"&&(H+='[crossorigin="'+S+'"]'),db.has(H)||(db.add(H),n={rel:n,crossOrigin:S,href:p},R.querySelector(H)===null&&(p=R.createElement("link"),Gr(p,"link",n),wt(p),R.head.appendChild(p)))}}function Fw(n){Ns.D(n),fb("dns-prefetch",n,null)}function $w(n,p){Ns.C(n,p),fb("preconnect",n,p)}function qw(n,p,S){Ns.L(n,p,S);var R=Bo;if(R&&n&&p){var H='link[rel="preload"][as="'+Dr(p)+'"]';p==="image"&&S&&S.imageSrcSet?(H+='[imagesrcset="'+Dr(S.imageSrcSet)+'"]',typeof S.imageSizes=="string"&&(H+='[imagesizes="'+Dr(S.imageSizes)+'"]')):H+='[href="'+Dr(n)+'"]';var G=H;switch(p){case"style":G=Po(n);break;case"script":G=Do(n)}qn.has(G)||(n=i({rel:"preload",href:p==="image"&&S&&S.imageSrcSet?void 0:n,as:p},S),qn.set(G,n),R.querySelector(H)!==null||p==="style"&&R.querySelector(Ya(G))||p==="script"&&R.querySelector(Wa(G))||(p=R.createElement("link"),Gr(p,"link",n),wt(p),R.head.appendChild(p)))}}function Uw(n,p){Ns.m(n,p);var S=Bo;if(S&&n){var R=p&&typeof p.as=="string"?p.as:"script",H='link[rel="modulepreload"][as="'+Dr(R)+'"][href="'+Dr(n)+'"]',G=H;switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":G=Do(n)}if(!qn.has(G)&&(n=i({rel:"modulepreload",href:n},p),qn.set(G,n),S.querySelector(H)===null)){switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(S.querySelector(Wa(G)))return}R=S.createElement("link"),Gr(R,"link",n),wt(R),S.head.appendChild(R)}}}function Hw(n,p,S){Ns.S(n,p,S);var R=Bo;if(R&&n){var H=Ct(R).hoistableStyles,G=Po(n);p=p||"default";var ne=H.get(G);if(!ne){var ce={loading:0,preload:null};if(ne=R.querySelector(Ya(G)))ce.loading=5;else{n=i({rel:"stylesheet",href:n,"data-precedence":p},S),(S=qn.get(G))&&Xf(n,S);var xe=ne=R.createElement("link");wt(xe),Gr(xe,"link",n),xe._p=new Promise(function(qe,et){xe.onload=qe,xe.onerror=et}),xe.addEventListener("load",function(){ce.loading|=1}),xe.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,_c(ne,p,R)}ne={type:"stylesheet",instance:ne,count:1,state:ce},H.set(G,ne)}}}function Vw(n,p){Ns.X(n,p);var S=Bo;if(S&&n){var R=Ct(S).hoistableScripts,H=Do(n),G=R.get(H);G||(G=S.querySelector(Wa(H)),G||(n=i({src:n,async:!0},p),(p=qn.get(H))&&Yf(n,p),G=S.createElement("script"),wt(G),Gr(G,"link",n),S.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},R.set(H,G))}}function Kw(n,p){Ns.M(n,p);var S=Bo;if(S&&n){var R=Ct(S).hoistableScripts,H=Do(n),G=R.get(H);G||(G=S.querySelector(Wa(H)),G||(n=i({src:n,async:!0,type:"module"},p),(p=qn.get(H))&&Yf(n,p),G=S.createElement("script"),wt(G),Gr(G,"link",n),S.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},R.set(H,G))}}function hb(n,p,S,R){var H=(H=U.current)?wc(H):null;if(!H)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof S.precedence=="string"&&typeof S.href=="string"?(p=Po(S.href),S=Ct(H).hoistableStyles,R=S.get(p),R||(R={type:"style",instance:null,count:0,state:null},S.set(p,R)),R):{type:"void",instance:null,count:0,state:null};case"link":if(S.rel==="stylesheet"&&typeof S.href=="string"&&typeof S.precedence=="string"){n=Po(S.href);var G=Ct(H).hoistableStyles,ne=G.get(n);if(ne||(H=H.ownerDocument||H,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},G.set(n,ne),(G=H.querySelector(Ya(n)))&&!G._p&&(ne.instance=G,ne.state.loading=5),qn.has(n)||(S={rel:"preload",as:"style",href:S.href,crossOrigin:S.crossOrigin,integrity:S.integrity,media:S.media,hrefLang:S.hrefLang,referrerPolicy:S.referrerPolicy},qn.set(n,S),G||Xw(H,n,S,ne.state))),p&&R===null)throw Error(a(528,""));return ne}if(p&&R!==null)throw Error(a(529,""));return null;case"script":return p=S.async,S=S.src,typeof S=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=Do(S),S=Ct(H).hoistableScripts,R=S.get(p),R||(R={type:"script",instance:null,count:0,state:null},S.set(p,R)),R):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Po(n){return'href="'+Dr(n)+'"'}function Ya(n){return'link[rel="stylesheet"]['+n+"]"}function pb(n){return i({},n,{"data-precedence":n.precedence,precedence:null})}function Xw(n,p,S,R){n.querySelector('link[rel="preload"][as="style"]['+p+"]")?R.loading=1:(p=n.createElement("link"),R.preload=p,p.addEventListener("load",function(){return R.loading|=1}),p.addEventListener("error",function(){return R.loading|=2}),Gr(p,"link",S),wt(p),n.head.appendChild(p))}function Do(n){return'[src="'+Dr(n)+'"]'}function Wa(n){return"script[async]"+n}function mb(n,p,S){if(p.count++,p.instance===null)switch(p.type){case"style":var R=n.querySelector('style[data-href~="'+Dr(S.href)+'"]');if(R)return p.instance=R,wt(R),R;var H=i({},S,{"data-href":S.href,"data-precedence":S.precedence,href:null,precedence:null});return R=(n.ownerDocument||n).createElement("style"),wt(R),Gr(R,"style",H),_c(R,S.precedence,n),p.instance=R;case"stylesheet":H=Po(S.href);var G=n.querySelector(Ya(H));if(G)return p.state.loading|=4,p.instance=G,wt(G),G;R=pb(S),(H=qn.get(H))&&Xf(R,H),G=(n.ownerDocument||n).createElement("link"),wt(G);var ne=G;return ne._p=new Promise(function(ce,xe){ne.onload=ce,ne.onerror=xe}),Gr(G,"link",R),p.state.loading|=4,_c(G,S.precedence,n),p.instance=G;case"script":return G=Do(S.src),(H=n.querySelector(Wa(G)))?(p.instance=H,wt(H),H):(R=S,(H=qn.get(G))&&(R=i({},S),Yf(R,H)),n=n.ownerDocument||n,H=n.createElement("script"),wt(H),Gr(H,"link",R),n.head.appendChild(H),p.instance=H);case"void":return null;default:throw Error(a(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(R=p.instance,p.state.loading|=4,_c(R,S.precedence,n));return p.instance}function _c(n,p,S){for(var R=S.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),H=R.length?R[R.length-1]:null,G=H,ne=0;ne<R.length;ne++){var ce=R[ne];if(ce.dataset.precedence===p)G=ce;else if(G!==H)break}G?G.parentNode.insertBefore(n,G.nextSibling):(p=S.nodeType===9?S.head:S,p.insertBefore(n,p.firstChild))}function Xf(n,p){n.crossOrigin==null&&(n.crossOrigin=p.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=p.referrerPolicy),n.title==null&&(n.title=p.title)}function Yf(n,p){n.crossOrigin==null&&(n.crossOrigin=p.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=p.referrerPolicy),n.integrity==null&&(n.integrity=p.integrity)}var Sc=null;function gb(n,p,S){if(Sc===null){var R=new Map,H=Sc=new Map;H.set(S,R)}else H=Sc,R=H.get(S),R||(R=new Map,H.set(S,R));if(R.has(n))return R;for(R.set(n,null),S=S.getElementsByTagName(n),H=0;H<S.length;H++){var G=S[H];if(!(G[ft]||G[ct]||n==="link"&&G.getAttribute("rel")==="stylesheet")&&G.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=G.getAttribute(p)||"";ne=n+ne;var ce=R.get(ne);ce?ce.push(G):R.set(ne,[G])}}return R}function bb(n,p,S){n=n.ownerDocument||n,n.head.insertBefore(S,p==="title"?n.querySelector("head > title"):null)}function Yw(n,p,S){if(S===1||p.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return n=p.disabled,typeof p.precedence=="string"&&n==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function yb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ga=null;function Ww(){}function Gw(n,p,S){if(Ga===null)throw Error(a(475));var R=Ga;if(p.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var H=Po(S.href),G=n.querySelector(Ya(H));if(G){n=G._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(R.count++,R=Cc.bind(R),n.then(R,R)),p.state.loading|=4,p.instance=G,wt(G);return}G=n.ownerDocument||n,S=pb(S),(H=qn.get(H))&&Xf(S,H),G=G.createElement("link"),wt(G);var ne=G;ne._p=new Promise(function(ce,xe){ne.onload=ce,ne.onerror=xe}),Gr(G,"link",S),p.instance=G}R.stylesheets===null&&(R.stylesheets=new Map),R.stylesheets.set(p,n),(n=p.state.preload)&&(p.state.loading&3)===0&&(R.count++,p=Cc.bind(R),n.addEventListener("load",p),n.addEventListener("error",p))}}function Zw(){if(Ga===null)throw Error(a(475));var n=Ga;return n.stylesheets&&n.count===0&&Wf(n,n.stylesheets),0<n.count?function(p){var S=setTimeout(function(){if(n.stylesheets&&Wf(n,n.stylesheets),n.unsuspend){var R=n.unsuspend;n.unsuspend=null,R()}},6e4);return n.unsuspend=p,function(){n.unsuspend=null,clearTimeout(S)}}:null}function Cc(){if(this.count--,this.count===0){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var jc=null;function Wf(n,p){n.stylesheets=null,n.unsuspend!==null&&(n.count++,jc=new Map,p.forEach(Jw,n),jc=null,Cc.call(n))}function Jw(n,p){if(!(p.state.loading&4)){var S=jc.get(n);if(S)var R=S.get(null);else{S=new Map,jc.set(n,S);for(var H=n.querySelectorAll("link[data-precedence],style[data-precedence]"),G=0;G<H.length;G++){var ne=H[G];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(S.set(ne.dataset.precedence,ne),R=ne)}R&&S.set(null,R)}H=p.instance,ne=H.getAttribute("data-precedence"),G=S.get(ne)||R,G===R&&S.set(null,H),S.set(ne,H),this.count++,R=Cc.bind(this),H.addEventListener("load",R),H.addEventListener("error",R),G?G.parentNode.insertBefore(H,G.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(H,n.firstChild)),p.state.loading|=4}}var Za={$$typeof:C,Provider:null,Consumer:null,_currentValue:k,_currentValue2:k,_threadCount:0};function Qw(n,p,S,R,H,G,ne,ce){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.hiddenUpdates=ze(null),this.identifierPrefix=R,this.onUncaughtError=H,this.onCaughtError=G,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function vb(n,p,S,R,H,G,ne,ce,xe,qe,et,st){return n=new Qw(n,p,S,ne,ce,xe,qe,st),p=1,G===!0&&(p|=24),G=Sn(3,null,null,p),n.current=G,G.stateNode=n,p=Nd(),p.refCount++,n.pooledCache=p,p.refCount++,G.memoizedState={element:R,isDehydrated:S,cache:p},Od(G),n}function xb(n){return n?(n=ho,n):ho}function wb(n,p,S,R,H,G){H=xb(H),R.context===null?R.context=H:R.pendingContext=H,R=Qs(p),R.payload={element:S},G=G===void 0?null:G,G!==null&&(R.callback=G),S=ei(n,R,p),S!==null&&(Tn(S,n,p),Ea(S,n,p))}function _b(n,p){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var S=n.retryLane;n.retryLane=S!==0&&S<p?S:p}}function Gf(n,p){_b(n,p),(n=n.alternate)&&_b(n,p)}function Sb(n){if(n.tag===13){var p=fo(n,67108864);p!==null&&Tn(p,n,67108864),Gf(n,67108864)}}var kc=!0;function e_(n,p,S,R){var H=_.T;_.T=null;var G=j.p;try{j.p=2,Zf(n,p,S,R)}finally{j.p=G,_.T=H}}function t_(n,p,S,R){var H=_.T;_.T=null;var G=j.p;try{j.p=8,Zf(n,p,S,R)}finally{j.p=G,_.T=H}}function Zf(n,p,S,R){if(kc){var H=Jf(R);if(H===null)If(n,p,R,Ec,S),jb(n,R);else if(n_(H,n,p,S,R))R.stopPropagation();else if(jb(n,R),p&4&&-1<r_.indexOf(n)){for(;H!==null;){var G=bt(H);if(G!==null)switch(G.tag){case 3:if(G=G.stateNode,G.current.memoizedState.isDehydrated){var ne=Te(G.pendingLanes);if(ne!==0){var ce=G;for(ce.pendingLanes|=2,ce.entangledLanes|=2;ne;){var xe=1<<31-Me(ne);ce.entanglements[1]|=xe,ne&=~xe}ls(G),(lr&6)===0&&(uc=re()+500,Ha(0))}}break;case 13:ce=fo(G,2),ce!==null&&Tn(ce,G,2),fc(),Gf(G,2)}if(G=Jf(R),G===null&&If(n,p,R,Ec,S),G===H)break;H=G}H!==null&&R.stopPropagation()}else If(n,p,R,null,S)}}function Jf(n){return n=ji(n),Qf(n)}var Ec=null;function Qf(n){if(Ec=null,n=xt(n),n!==null){var p=f(n);if(p===null)n=null;else{var S=p.tag;if(S===13){if(n=o(p),n!==null)return n;n=null}else if(S===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;n=null}else p!==n&&(n=null)}}return Ec=n,null}function Cb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oe()){case ue:return 2;case fe:return 8;case be:case Ce:return 32;case Ae:return 268435456;default:return 32}default:return 32}}var eh=!1,hi=null,pi=null,mi=null,Ja=new Map,Qa=new Map,gi=[],r_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jb(n,p){switch(n){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Ja.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(p.pointerId)}}function el(n,p,S,R,H,G){return n===null||n.nativeEvent!==G?(n={blockedOn:p,domEventName:S,eventSystemFlags:R,nativeEvent:G,targetContainers:[H]},p!==null&&(p=bt(p),p!==null&&Sb(p)),n):(n.eventSystemFlags|=R,p=n.targetContainers,H!==null&&p.indexOf(H)===-1&&p.push(H),n)}function n_(n,p,S,R,H){switch(p){case"focusin":return hi=el(hi,n,p,S,R,H),!0;case"dragenter":return pi=el(pi,n,p,S,R,H),!0;case"mouseover":return mi=el(mi,n,p,S,R,H),!0;case"pointerover":var G=H.pointerId;return Ja.set(G,el(Ja.get(G)||null,n,p,S,R,H)),!0;case"gotpointercapture":return G=H.pointerId,Qa.set(G,el(Qa.get(G)||null,n,p,S,R,H)),!0}return!1}function kb(n){var p=xt(n.target);if(p!==null){var S=f(p);if(S!==null){if(p=S.tag,p===13){if(p=o(S),p!==null){n.blockedOn=p,Qe(n.priority,function(){if(S.tag===13){var R=En();R=Re(R);var H=fo(S,R);H!==null&&Tn(H,S,R),Gf(S,R)}});return}}else if(p===3&&S.stateNode.current.memoizedState.isDehydrated){n.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Tc(n){if(n.blockedOn!==null)return!1;for(var p=n.targetContainers;0<p.length;){var S=Jf(n.nativeEvent);if(S===null){S=n.nativeEvent;var R=new S.constructor(S.type,S);Ys=R,S.target.dispatchEvent(R),Ys=null}else return p=bt(S),p!==null&&Sb(p),n.blockedOn=S,!1;p.shift()}return!0}function Eb(n,p,S){Tc(n)&&S.delete(p)}function s_(){eh=!1,hi!==null&&Tc(hi)&&(hi=null),pi!==null&&Tc(pi)&&(pi=null),mi!==null&&Tc(mi)&&(mi=null),Ja.forEach(Eb),Qa.forEach(Eb)}function Nc(n,p){n.blockedOn===p&&(n.blockedOn=null,eh||(eh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,s_)))}var Mc=null;function Tb(n){Mc!==n&&(Mc=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mc===n&&(Mc=null);for(var p=0;p<n.length;p+=3){var S=n[p],R=n[p+1],H=n[p+2];if(typeof R!="function"){if(Qf(R||S)===null)continue;break}var G=bt(S);G!==null&&(n.splice(p,3),p-=3,Jd(G,{pending:!0,data:H,method:S.method,action:R},R,H))}}))}function tl(n){function p(xe){return Nc(xe,n)}hi!==null&&Nc(hi,n),pi!==null&&Nc(pi,n),mi!==null&&Nc(mi,n),Ja.forEach(p),Qa.forEach(p);for(var S=0;S<gi.length;S++){var R=gi[S];R.blockedOn===n&&(R.blockedOn=null)}for(;0<gi.length&&(S=gi[0],S.blockedOn===null);)kb(S),S.blockedOn===null&&gi.shift();if(S=(n.ownerDocument||n).$$reactFormReplay,S!=null)for(R=0;R<S.length;R+=3){var H=S[R],G=S[R+1],ne=H[pt]||null;if(typeof G=="function")ne||Tb(S);else if(ne){var ce=null;if(G&&G.hasAttribute("formAction")){if(H=G,ne=G[pt]||null)ce=ne.formAction;else if(Qf(H)!==null)continue}else ce=ne.action;typeof ce=="function"?S[R+1]=ce:(S.splice(R,3),R-=3),Tb(S)}}}function th(n){this._internalRoot=n}Rc.prototype.render=th.prototype.render=function(n){var p=this._internalRoot;if(p===null)throw Error(a(409));var S=p.current,R=En();wb(S,R,n,p,null,null)},Rc.prototype.unmount=th.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var p=n.containerInfo;wb(n.current,2,null,n,null,null),fc(),p[_e]=null}};function Rc(n){this._internalRoot=n}Rc.prototype.unstable_scheduleHydration=function(n){if(n){var p=Ve();n={blockedOn:null,target:n,priority:p};for(var S=0;S<gi.length&&p!==0&&p<gi[S].priority;S++);gi.splice(S,0,n),S===0&&kb(n)}};var Nb=h.version;if(Nb!=="19.1.0")throw Error(a(527,Nb,"19.1.0"));j.findDOMNode=function(n){var p=n._reactInternals;if(p===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=s(p),n=n!==null?r(n):null,n=n===null?null:n.stateNode,n};var i_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{pe=Ac.inject(i_),Ee=Ac}catch{}}return nl.createRoot=function(n,p){if(!l(n))throw Error(a(299));var S=!1,R="",H=V0,G=K0,ne=X0,ce=null;return p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(R=p.identifierPrefix),p.onUncaughtError!==void 0&&(H=p.onUncaughtError),p.onCaughtError!==void 0&&(G=p.onCaughtError),p.onRecoverableError!==void 0&&(ne=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(ce=p.unstable_transitionCallbacks)),p=vb(n,1,!1,null,null,S,R,H,G,ne,ce,null),n[_e]=p.current,Lf(n),new th(p)},nl.hydrateRoot=function(n,p,S){if(!l(n))throw Error(a(299));var R=!1,H="",G=V0,ne=K0,ce=X0,xe=null,qe=null;return S!=null&&(S.unstable_strictMode===!0&&(R=!0),S.identifierPrefix!==void 0&&(H=S.identifierPrefix),S.onUncaughtError!==void 0&&(G=S.onUncaughtError),S.onCaughtError!==void 0&&(ne=S.onCaughtError),S.onRecoverableError!==void 0&&(ce=S.onRecoverableError),S.unstable_transitionCallbacks!==void 0&&(xe=S.unstable_transitionCallbacks),S.formState!==void 0&&(qe=S.formState)),p=vb(n,1,!0,p,S??null,R,H,G,ne,ce,xe,qe),p.context=xb(null),S=p.current,R=En(),R=Re(R),H=Qs(R),H.callback=null,ei(S,H,R),S=R,p.current.lanes=S,je(p,S),ls(p),n[_e]=p.current,Lf(n),new Rc(p)},nl.version="19.1.0",nl}var Fb;function m_(){if(Fb)return sh.exports;Fb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(h){console.error(h)}}return t(),sh.exports=p_(),sh.exports}var Go=m_();const g_="modulepreload",b_=function(t){return"/"+t},$b={},y_=function(h,e,a){let l=Promise.resolve();if(e&&e.length>0){let o=function(r){return Promise.all(r.map(i=>Promise.resolve(i).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),s=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));l=o(e.map(r=>{if(r=b_(r),r in $b)return;$b[r]=!0;const i=r.endsWith(".css"),b=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${b}`))return;const d=document.createElement("link");if(d.rel=i?"stylesheet":g_,i||(d.as="script"),d.crossOrigin="",d.href=r,s&&d.setAttribute("nonce",s),document.head.appendChild(d),i)return new Promise((u,v)=>{d.addEventListener("load",u),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${r}`)))})}))}function f(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return l.then(o=>{for(const c of o||[])c.status==="rejected"&&f(c.reason);return h().catch(f)})};function u1(t,h){return function(){return t.apply(h,arguments)}}const{toString:v_}=Object.prototype,{getPrototypeOf:_p}=Object,{iterator:Du,toStringTag:d1}=Symbol,Lu=(t=>h=>{const e=v_.call(h);return t[e]||(t[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),es=t=>(t=t.toLowerCase(),h=>Lu(h)===t),Iu=t=>h=>typeof h===t,{isArray:ea}=Array,hl=Iu("undefined");function x_(t){return t!==null&&!hl(t)&&t.constructor!==null&&!hl(t.constructor)&&yn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const f1=es("ArrayBuffer");function w_(t){let h;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?h=ArrayBuffer.isView(t):h=t&&t.buffer&&f1(t.buffer),h}const __=Iu("string"),yn=Iu("function"),h1=Iu("number"),zu=t=>t!==null&&typeof t=="object",S_=t=>t===!0||t===!1,nu=t=>{if(Lu(t)!=="object")return!1;const h=_p(t);return(h===null||h===Object.prototype||Object.getPrototypeOf(h)===null)&&!(d1 in t)&&!(Du in t)},C_=es("Date"),j_=es("File"),k_=es("Blob"),E_=es("FileList"),T_=t=>zu(t)&&yn(t.pipe),N_=t=>{let h;return t&&(typeof FormData=="function"&&t instanceof FormData||yn(t.append)&&((h=Lu(t))==="formdata"||h==="object"&&yn(t.toString)&&t.toString()==="[object FormData]"))},M_=es("URLSearchParams"),[R_,A_,O_,B_]=["ReadableStream","Request","Response","Headers"].map(es),P_=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bl(t,h,{allOwnKeys:e=!1}={}){if(t===null||typeof t>"u")return;let a,l;if(typeof t!="object"&&(t=[t]),ea(t))for(a=0,l=t.length;a<l;a++)h.call(null,t[a],a,t);else{const f=e?Object.getOwnPropertyNames(t):Object.keys(t),o=f.length;let c;for(a=0;a<o;a++)c=f[a],h.call(null,t[c],c,t)}}function p1(t,h){h=h.toLowerCase();const e=Object.keys(t);let a=e.length,l;for(;a-- >0;)if(l=e[a],h===l.toLowerCase())return l;return null}const Yi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,m1=t=>!hl(t)&&t!==Yi;function zh(){const{caseless:t}=m1(this)&&this||{},h={},e=(a,l)=>{const f=t&&p1(h,l)||l;nu(h[f])&&nu(a)?h[f]=zh(h[f],a):nu(a)?h[f]=zh({},a):ea(a)?h[f]=a.slice():h[f]=a};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&bl(arguments[a],e);return h}const D_=(t,h,e,{allOwnKeys:a}={})=>(bl(h,(l,f)=>{e&&yn(l)?t[f]=u1(l,e):t[f]=l},{allOwnKeys:a}),t),L_=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),I_=(t,h,e,a)=>{t.prototype=Object.create(h.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:h.prototype}),e&&Object.assign(t.prototype,e)},z_=(t,h,e,a)=>{let l,f,o;const c={};if(h=h||{},t==null)return h;do{for(l=Object.getOwnPropertyNames(t),f=l.length;f-- >0;)o=l[f],(!a||a(o,t,h))&&!c[o]&&(h[o]=t[o],c[o]=!0);t=e!==!1&&_p(t)}while(t&&(!e||e(t,h))&&t!==Object.prototype);return h},F_=(t,h,e)=>{t=String(t),(e===void 0||e>t.length)&&(e=t.length),e-=h.length;const a=t.indexOf(h,e);return a!==-1&&a===e},$_=t=>{if(!t)return null;if(ea(t))return t;let h=t.length;if(!h1(h))return null;const e=new Array(h);for(;h-- >0;)e[h]=t[h];return e},q_=(t=>h=>t&&h instanceof t)(typeof Uint8Array<"u"&&_p(Uint8Array)),U_=(t,h)=>{const a=(t&&t[Du]).call(t);let l;for(;(l=a.next())&&!l.done;){const f=l.value;h.call(t,f[0],f[1])}},H_=(t,h)=>{let e;const a=[];for(;(e=t.exec(h))!==null;)a.push(e);return a},V_=es("HTMLFormElement"),K_=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,a,l){return a.toUpperCase()+l}),qb=(({hasOwnProperty:t})=>(h,e)=>t.call(h,e))(Object.prototype),X_=es("RegExp"),g1=(t,h)=>{const e=Object.getOwnPropertyDescriptors(t),a={};bl(e,(l,f)=>{let o;(o=h(l,f,t))!==!1&&(a[f]=o||l)}),Object.defineProperties(t,a)},Y_=t=>{g1(t,(h,e)=>{if(yn(t)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const a=t[e];if(yn(a)){if(h.enumerable=!1,"writable"in h){h.writable=!1;return}h.set||(h.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},W_=(t,h)=>{const e={},a=l=>{l.forEach(f=>{e[f]=!0})};return ea(t)?a(t):a(String(t).split(h)),e},G_=()=>{},Z_=(t,h)=>t!=null&&Number.isFinite(t=+t)?t:h;function J_(t){return!!(t&&yn(t.append)&&t[d1]==="FormData"&&t[Du])}const Q_=t=>{const h=new Array(10),e=(a,l)=>{if(zu(a)){if(h.indexOf(a)>=0)return;if(!("toJSON"in a)){h[l]=a;const f=ea(a)?[]:{};return bl(a,(o,c)=>{const s=e(o,l+1);!hl(s)&&(f[c]=s)}),h[l]=void 0,f}}return a};return e(t,0)},e4=es("AsyncFunction"),t4=t=>t&&(zu(t)||yn(t))&&yn(t.then)&&yn(t.catch),b1=((t,h)=>t?setImmediate:h?((e,a)=>(Yi.addEventListener("message",({source:l,data:f})=>{l===Yi&&f===e&&a.length&&a.shift()()},!1),l=>{a.push(l),Yi.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",yn(Yi.postMessage)),r4=typeof queueMicrotask<"u"?queueMicrotask.bind(Yi):typeof process<"u"&&process.nextTick||b1,n4=t=>t!=null&&yn(t[Du]),Ge={isArray:ea,isArrayBuffer:f1,isBuffer:x_,isFormData:N_,isArrayBufferView:w_,isString:__,isNumber:h1,isBoolean:S_,isObject:zu,isPlainObject:nu,isReadableStream:R_,isRequest:A_,isResponse:O_,isHeaders:B_,isUndefined:hl,isDate:C_,isFile:j_,isBlob:k_,isRegExp:X_,isFunction:yn,isStream:T_,isURLSearchParams:M_,isTypedArray:q_,isFileList:E_,forEach:bl,merge:zh,extend:D_,trim:P_,stripBOM:L_,inherits:I_,toFlatObject:z_,kindOf:Lu,kindOfTest:es,endsWith:F_,toArray:$_,forEachEntry:U_,matchAll:H_,isHTMLForm:V_,hasOwnProperty:qb,hasOwnProp:qb,reduceDescriptors:g1,freezeMethods:Y_,toObjectSet:W_,toCamelCase:K_,noop:G_,toFiniteNumber:Z_,findKey:p1,global:Yi,isContextDefined:m1,isSpecCompliantForm:J_,toJSONObject:Q_,isAsyncFn:e4,isThenable:t4,setImmediate:b1,asap:r4,isIterable:n4};function zt(t,h,e,a,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",h&&(this.code=h),e&&(this.config=e),a&&(this.request=a),l&&(this.response=l,this.status=l.status?l.status:null)}Ge.inherits(zt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ge.toJSONObject(this.config),code:this.code,status:this.status}}});const y1=zt.prototype,v1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{v1[t]={value:t}});Object.defineProperties(zt,v1);Object.defineProperty(y1,"isAxiosError",{value:!0});zt.from=(t,h,e,a,l,f)=>{const o=Object.create(y1);return Ge.toFlatObject(t,o,function(s){return s!==Error.prototype},c=>c!=="isAxiosError"),zt.call(o,t.message,h,e,a,l),o.cause=t,o.name=t.name,f&&Object.assign(o,f),o};const s4=null;function Fh(t){return Ge.isPlainObject(t)||Ge.isArray(t)}function x1(t){return Ge.endsWith(t,"[]")?t.slice(0,-2):t}function Ub(t,h,e){return t?t.concat(h).map(function(l,f){return l=x1(l),!e&&f?"["+l+"]":l}).join(e?".":""):h}function i4(t){return Ge.isArray(t)&&!t.some(Fh)}const o4=Ge.toFlatObject(Ge,{},null,function(h){return/^is[A-Z]/.test(h)});function Fu(t,h,e){if(!Ge.isObject(t))throw new TypeError("target must be an object");h=h||new FormData,e=Ge.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,m){return!Ge.isUndefined(m[x])});const a=e.metaTokens,l=e.visitor||i,f=e.dots,o=e.indexes,s=(e.Blob||typeof Blob<"u"&&Blob)&&Ge.isSpecCompliantForm(h);if(!Ge.isFunction(l))throw new TypeError("visitor must be a function");function r(v){if(v===null)return"";if(Ge.isDate(v))return v.toISOString();if(!s&&Ge.isBlob(v))throw new zt("Blob is not supported. Use a Buffer instead.");return Ge.isArrayBuffer(v)||Ge.isTypedArray(v)?s&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function i(v,x,m){let g=v;if(v&&!m&&typeof v=="object"){if(Ge.endsWith(x,"{}"))x=a?x:x.slice(0,-2),v=JSON.stringify(v);else if(Ge.isArray(v)&&i4(v)||(Ge.isFileList(v)||Ge.endsWith(x,"[]"))&&(g=Ge.toArray(v)))return x=x1(x),g.forEach(function(C,E){!(Ge.isUndefined(C)||C===null)&&h.append(o===!0?Ub([x],E,f):o===null?x:x+"[]",r(C))}),!1}return Fh(v)?!0:(h.append(Ub(m,x,f),r(v)),!1)}const b=[],d=Object.assign(o4,{defaultVisitor:i,convertValue:r,isVisitable:Fh});function u(v,x){if(!Ge.isUndefined(v)){if(b.indexOf(v)!==-1)throw Error("Circular reference detected in "+x.join("."));b.push(v),Ge.forEach(v,function(g,y){(!(Ge.isUndefined(g)||g===null)&&l.call(h,g,Ge.isString(y)?y.trim():y,x,d))===!0&&u(g,x?x.concat(y):[y])}),b.pop()}}if(!Ge.isObject(t))throw new TypeError("data must be an object");return u(t),h}function Hb(t){const h={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return h[a]})}function Sp(t,h){this._pairs=[],t&&Fu(t,this,h)}const w1=Sp.prototype;w1.append=function(h,e){this._pairs.push([h,e])};w1.toString=function(h){const e=h?function(a){return h.call(this,a,Hb)}:Hb;return this._pairs.map(function(l){return e(l[0])+"="+e(l[1])},"").join("&")};function a4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _1(t,h,e){if(!h)return t;const a=e&&e.encode||a4;Ge.isFunction(e)&&(e={serialize:e});const l=e&&e.serialize;let f;if(l?f=l(h,e):f=Ge.isURLSearchParams(h)?h.toString():new Sp(h,e).toString(a),f){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+f}return t}class Vb{constructor(){this.handlers=[]}use(h,e,a){return this.handlers.push({fulfilled:h,rejected:e,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(h){this.handlers[h]&&(this.handlers[h]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(h){Ge.forEach(this.handlers,function(a){a!==null&&h(a)})}}const S1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},l4=typeof URLSearchParams<"u"?URLSearchParams:Sp,c4=typeof FormData<"u"?FormData:null,u4=typeof Blob<"u"?Blob:null,d4={isBrowser:!0,classes:{URLSearchParams:l4,FormData:c4,Blob:u4},protocols:["http","https","file","blob","url","data"]},Cp=typeof window<"u"&&typeof document<"u",$h=typeof navigator=="object"&&navigator||void 0,f4=Cp&&(!$h||["ReactNative","NativeScript","NS"].indexOf($h.product)<0),h4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",p4=Cp&&window.location.href||"http://localhost",m4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Cp,hasStandardBrowserEnv:f4,hasStandardBrowserWebWorkerEnv:h4,navigator:$h,origin:p4},Symbol.toStringTag,{value:"Module"})),on={...m4,...d4};function g4(t,h){return Fu(t,new on.classes.URLSearchParams,Object.assign({visitor:function(e,a,l,f){return on.isNode&&Ge.isBuffer(e)?(this.append(a,e.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},h))}function b4(t){return Ge.matchAll(/\w+|\[(\w*)]/g,t).map(h=>h[0]==="[]"?"":h[1]||h[0])}function y4(t){const h={},e=Object.keys(t);let a;const l=e.length;let f;for(a=0;a<l;a++)f=e[a],h[f]=t[f];return h}function C1(t){function h(e,a,l,f){let o=e[f++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),s=f>=e.length;return o=!o&&Ge.isArray(l)?l.length:o,s?(Ge.hasOwnProp(l,o)?l[o]=[l[o],a]:l[o]=a,!c):((!l[o]||!Ge.isObject(l[o]))&&(l[o]=[]),h(e,a,l[o],f)&&Ge.isArray(l[o])&&(l[o]=y4(l[o])),!c)}if(Ge.isFormData(t)&&Ge.isFunction(t.entries)){const e={};return Ge.forEachEntry(t,(a,l)=>{h(b4(a),l,e,0)}),e}return null}function v4(t,h,e){if(Ge.isString(t))try{return(h||JSON.parse)(t),Ge.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(e||JSON.stringify)(t)}const yl={transitional:S1,adapter:["xhr","http","fetch"],transformRequest:[function(h,e){const a=e.getContentType()||"",l=a.indexOf("application/json")>-1,f=Ge.isObject(h);if(f&&Ge.isHTMLForm(h)&&(h=new FormData(h)),Ge.isFormData(h))return l?JSON.stringify(C1(h)):h;if(Ge.isArrayBuffer(h)||Ge.isBuffer(h)||Ge.isStream(h)||Ge.isFile(h)||Ge.isBlob(h)||Ge.isReadableStream(h))return h;if(Ge.isArrayBufferView(h))return h.buffer;if(Ge.isURLSearchParams(h))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),h.toString();let c;if(f){if(a.indexOf("application/x-www-form-urlencoded")>-1)return g4(h,this.formSerializer).toString();if((c=Ge.isFileList(h))||a.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return Fu(c?{"files[]":h}:h,s&&new s,this.formSerializer)}}return f||l?(e.setContentType("application/json",!1),v4(h)):h}],transformResponse:[function(h){const e=this.transitional||yl.transitional,a=e&&e.forcedJSONParsing,l=this.responseType==="json";if(Ge.isResponse(h)||Ge.isReadableStream(h))return h;if(h&&Ge.isString(h)&&(a&&!this.responseType||l)){const o=!(e&&e.silentJSONParsing)&&l;try{return JSON.parse(h)}catch(c){if(o)throw c.name==="SyntaxError"?zt.from(c,zt.ERR_BAD_RESPONSE,this,null,this.response):c}}return h}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:on.classes.FormData,Blob:on.classes.Blob},validateStatus:function(h){return h>=200&&h<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ge.forEach(["delete","get","head","post","put","patch"],t=>{yl.headers[t]={}});const x4=Ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),w4=t=>{const h={};let e,a,l;return t&&t.split(`
`).forEach(function(o){l=o.indexOf(":"),e=o.substring(0,l).trim().toLowerCase(),a=o.substring(l+1).trim(),!(!e||h[e]&&x4[e])&&(e==="set-cookie"?h[e]?h[e].push(a):h[e]=[a]:h[e]=h[e]?h[e]+", "+a:a)}),h},Kb=Symbol("internals");function sl(t){return t&&String(t).trim().toLowerCase()}function su(t){return t===!1||t==null?t:Ge.isArray(t)?t.map(su):String(t)}function _4(t){const h=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=e.exec(t);)h[a[1]]=a[2];return h}const S4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function lh(t,h,e,a,l){if(Ge.isFunction(a))return a.call(this,h,e);if(l&&(h=e),!!Ge.isString(h)){if(Ge.isString(a))return h.indexOf(a)!==-1;if(Ge.isRegExp(a))return a.test(h)}}function C4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(h,e,a)=>e.toUpperCase()+a)}function j4(t,h){const e=Ge.toCamelCase(" "+h);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+e,{value:function(l,f,o){return this[a].call(this,h,l,f,o)},configurable:!0})})}let vn=class{constructor(h){h&&this.set(h)}set(h,e,a){const l=this;function f(c,s,r){const i=sl(s);if(!i)throw new Error("header name must be a non-empty string");const b=Ge.findKey(l,i);(!b||l[b]===void 0||r===!0||r===void 0&&l[b]!==!1)&&(l[b||s]=su(c))}const o=(c,s)=>Ge.forEach(c,(r,i)=>f(r,i,s));if(Ge.isPlainObject(h)||h instanceof this.constructor)o(h,e);else if(Ge.isString(h)&&(h=h.trim())&&!S4(h))o(w4(h),e);else if(Ge.isObject(h)&&Ge.isIterable(h)){let c={},s,r;for(const i of h){if(!Ge.isArray(i))throw TypeError("Object iterator must return a key-value pair");c[r=i[0]]=(s=c[r])?Ge.isArray(s)?[...s,i[1]]:[s,i[1]]:i[1]}o(c,e)}else h!=null&&f(e,h,a);return this}get(h,e){if(h=sl(h),h){const a=Ge.findKey(this,h);if(a){const l=this[a];if(!e)return l;if(e===!0)return _4(l);if(Ge.isFunction(e))return e.call(this,l,a);if(Ge.isRegExp(e))return e.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(h,e){if(h=sl(h),h){const a=Ge.findKey(this,h);return!!(a&&this[a]!==void 0&&(!e||lh(this,this[a],a,e)))}return!1}delete(h,e){const a=this;let l=!1;function f(o){if(o=sl(o),o){const c=Ge.findKey(a,o);c&&(!e||lh(a,a[c],c,e))&&(delete a[c],l=!0)}}return Ge.isArray(h)?h.forEach(f):f(h),l}clear(h){const e=Object.keys(this);let a=e.length,l=!1;for(;a--;){const f=e[a];(!h||lh(this,this[f],f,h,!0))&&(delete this[f],l=!0)}return l}normalize(h){const e=this,a={};return Ge.forEach(this,(l,f)=>{const o=Ge.findKey(a,f);if(o){e[o]=su(l),delete e[f];return}const c=h?C4(f):String(f).trim();c!==f&&delete e[f],e[c]=su(l),a[c]=!0}),this}concat(...h){return this.constructor.concat(this,...h)}toJSON(h){const e=Object.create(null);return Ge.forEach(this,(a,l)=>{a!=null&&a!==!1&&(e[l]=h&&Ge.isArray(a)?a.join(", "):a)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([h,e])=>h+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(h){return h instanceof this?h:new this(h)}static concat(h,...e){const a=new this(h);return e.forEach(l=>a.set(l)),a}static accessor(h){const a=(this[Kb]=this[Kb]={accessors:{}}).accessors,l=this.prototype;function f(o){const c=sl(o);a[c]||(j4(l,o),a[c]=!0)}return Ge.isArray(h)?h.forEach(f):f(h),this}};vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ge.reduceDescriptors(vn.prototype,({value:t},h)=>{let e=h[0].toUpperCase()+h.slice(1);return{get:()=>t,set(a){this[e]=a}}});Ge.freezeMethods(vn);function ch(t,h){const e=this||yl,a=h||e,l=vn.from(a.headers);let f=a.data;return Ge.forEach(t,function(c){f=c.call(e,f,l.normalize(),h?h.status:void 0)}),l.normalize(),f}function j1(t){return!!(t&&t.__CANCEL__)}function ta(t,h,e){zt.call(this,t??"canceled",zt.ERR_CANCELED,h,e),this.name="CanceledError"}Ge.inherits(ta,zt,{__CANCEL__:!0});function k1(t,h,e){const a=e.config.validateStatus;!e.status||!a||a(e.status)?t(e):h(new zt("Request failed with status code "+e.status,[zt.ERR_BAD_REQUEST,zt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function k4(t){const h=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return h&&h[1]||""}function E4(t,h){t=t||10;const e=new Array(t),a=new Array(t);let l=0,f=0,o;return h=h!==void 0?h:1e3,function(s){const r=Date.now(),i=a[f];o||(o=r),e[l]=s,a[l]=r;let b=f,d=0;for(;b!==l;)d+=e[b++],b=b%t;if(l=(l+1)%t,l===f&&(f=(f+1)%t),r-o<h)return;const u=i&&r-i;return u?Math.round(d*1e3/u):void 0}}function T4(t,h){let e=0,a=1e3/h,l,f;const o=(r,i=Date.now())=>{e=i,l=null,f&&(clearTimeout(f),f=null),t.apply(null,r)};return[(...r)=>{const i=Date.now(),b=i-e;b>=a?o(r,i):(l=r,f||(f=setTimeout(()=>{f=null,o(l)},a-b)))},()=>l&&o(l)]}const fu=(t,h,e=3)=>{let a=0;const l=E4(50,250);return T4(f=>{const o=f.loaded,c=f.lengthComputable?f.total:void 0,s=o-a,r=l(s),i=o<=c;a=o;const b={loaded:o,total:c,progress:c?o/c:void 0,bytes:s,rate:r||void 0,estimated:r&&c&&i?(c-o)/r:void 0,event:f,lengthComputable:c!=null,[h?"download":"upload"]:!0};t(b)},e)},Xb=(t,h)=>{const e=t!=null;return[a=>h[0]({lengthComputable:e,total:t,loaded:a}),h[1]]},Yb=t=>(...h)=>Ge.asap(()=>t(...h)),N4=on.hasStandardBrowserEnv?((t,h)=>e=>(e=new URL(e,on.origin),t.protocol===e.protocol&&t.host===e.host&&(h||t.port===e.port)))(new URL(on.origin),on.navigator&&/(msie|trident)/i.test(on.navigator.userAgent)):()=>!0,M4=on.hasStandardBrowserEnv?{write(t,h,e,a,l,f){const o=[t+"="+encodeURIComponent(h)];Ge.isNumber(e)&&o.push("expires="+new Date(e).toGMTString()),Ge.isString(a)&&o.push("path="+a),Ge.isString(l)&&o.push("domain="+l),f===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const h=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return h?decodeURIComponent(h[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function R4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function A4(t,h){return h?t.replace(/\/?\/$/,"")+"/"+h.replace(/^\/+/,""):t}function E1(t,h,e){let a=!R4(h);return t&&(a||e==!1)?A4(t,h):h}const Wb=t=>t instanceof vn?{...t}:t;function Qi(t,h){h=h||{};const e={};function a(r,i,b,d){return Ge.isPlainObject(r)&&Ge.isPlainObject(i)?Ge.merge.call({caseless:d},r,i):Ge.isPlainObject(i)?Ge.merge({},i):Ge.isArray(i)?i.slice():i}function l(r,i,b,d){if(Ge.isUndefined(i)){if(!Ge.isUndefined(r))return a(void 0,r,b,d)}else return a(r,i,b,d)}function f(r,i){if(!Ge.isUndefined(i))return a(void 0,i)}function o(r,i){if(Ge.isUndefined(i)){if(!Ge.isUndefined(r))return a(void 0,r)}else return a(void 0,i)}function c(r,i,b){if(b in h)return a(r,i);if(b in t)return a(void 0,r)}const s={url:f,method:f,data:f,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(r,i,b)=>l(Wb(r),Wb(i),b,!0)};return Ge.forEach(Object.keys(Object.assign({},t,h)),function(i){const b=s[i]||l,d=b(t[i],h[i],i);Ge.isUndefined(d)&&b!==c||(e[i]=d)}),e}const T1=t=>{const h=Qi({},t);let{data:e,withXSRFToken:a,xsrfHeaderName:l,xsrfCookieName:f,headers:o,auth:c}=h;h.headers=o=vn.from(o),h.url=_1(E1(h.baseURL,h.url,h.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let s;if(Ge.isFormData(e)){if(on.hasStandardBrowserEnv||on.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((s=o.getContentType())!==!1){const[r,...i]=s?s.split(";").map(b=>b.trim()).filter(Boolean):[];o.setContentType([r||"multipart/form-data",...i].join("; "))}}if(on.hasStandardBrowserEnv&&(a&&Ge.isFunction(a)&&(a=a(h)),a||a!==!1&&N4(h.url))){const r=l&&f&&M4.read(f);r&&o.set(l,r)}return h},O4=typeof XMLHttpRequest<"u",B4=O4&&function(t){return new Promise(function(e,a){const l=T1(t);let f=l.data;const o=vn.from(l.headers).normalize();let{responseType:c,onUploadProgress:s,onDownloadProgress:r}=l,i,b,d,u,v;function x(){u&&u(),v&&v(),l.cancelToken&&l.cancelToken.unsubscribe(i),l.signal&&l.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;m.open(l.method.toUpperCase(),l.url,!0),m.timeout=l.timeout;function g(){if(!m)return;const C=vn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),A={data:!c||c==="text"||c==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:C,config:t,request:m};k1(function(q){e(q),x()},function(q){a(q),x()},A),m=null}"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(g)},m.onabort=function(){m&&(a(new zt("Request aborted",zt.ECONNABORTED,t,m)),m=null)},m.onerror=function(){a(new zt("Network Error",zt.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let E=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const A=l.transitional||S1;l.timeoutErrorMessage&&(E=l.timeoutErrorMessage),a(new zt(E,A.clarifyTimeoutError?zt.ETIMEDOUT:zt.ECONNABORTED,t,m)),m=null},f===void 0&&o.setContentType(null),"setRequestHeader"in m&&Ge.forEach(o.toJSON(),function(E,A){m.setRequestHeader(A,E)}),Ge.isUndefined(l.withCredentials)||(m.withCredentials=!!l.withCredentials),c&&c!=="json"&&(m.responseType=l.responseType),r&&([d,v]=fu(r,!0),m.addEventListener("progress",d)),s&&m.upload&&([b,u]=fu(s),m.upload.addEventListener("progress",b),m.upload.addEventListener("loadend",u)),(l.cancelToken||l.signal)&&(i=C=>{m&&(a(!C||C.type?new ta(null,t,m):C),m.abort(),m=null)},l.cancelToken&&l.cancelToken.subscribe(i),l.signal&&(l.signal.aborted?i():l.signal.addEventListener("abort",i)));const y=k4(l.url);if(y&&on.protocols.indexOf(y)===-1){a(new zt("Unsupported protocol "+y+":",zt.ERR_BAD_REQUEST,t));return}m.send(f||null)})},P4=(t,h)=>{const{length:e}=t=t?t.filter(Boolean):[];if(h||e){let a=new AbortController,l;const f=function(r){if(!l){l=!0,c();const i=r instanceof Error?r:this.reason;a.abort(i instanceof zt?i:new ta(i instanceof Error?i.message:i))}};let o=h&&setTimeout(()=>{o=null,f(new zt(`timeout ${h} of ms exceeded`,zt.ETIMEDOUT))},h);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(r=>{r.unsubscribe?r.unsubscribe(f):r.removeEventListener("abort",f)}),t=null)};t.forEach(r=>r.addEventListener("abort",f));const{signal:s}=a;return s.unsubscribe=()=>Ge.asap(c),s}},D4=function*(t,h){let e=t.byteLength;if(e<h){yield t;return}let a=0,l;for(;a<e;)l=a+h,yield t.slice(a,l),a=l},L4=async function*(t,h){for await(const e of I4(t))yield*D4(e,h)},I4=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const h=t.getReader();try{for(;;){const{done:e,value:a}=await h.read();if(e)break;yield a}}finally{await h.cancel()}},Gb=(t,h,e,a)=>{const l=L4(t,h);let f=0,o,c=s=>{o||(o=!0,a&&a(s))};return new ReadableStream({async pull(s){try{const{done:r,value:i}=await l.next();if(r){c(),s.close();return}let b=i.byteLength;if(e){let d=f+=b;e(d)}s.enqueue(new Uint8Array(i))}catch(r){throw c(r),r}},cancel(s){return c(s),l.return()}},{highWaterMark:2})},$u=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",N1=$u&&typeof ReadableStream=="function",z4=$u&&(typeof TextEncoder=="function"?(t=>h=>t.encode(h))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),M1=(t,...h)=>{try{return!!t(...h)}catch{return!1}},F4=N1&&M1(()=>{let t=!1;const h=new Request(on.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!h}),Zb=64*1024,qh=N1&&M1(()=>Ge.isReadableStream(new Response("").body)),hu={stream:qh&&(t=>t.body)};$u&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!hu[h]&&(hu[h]=Ge.isFunction(t[h])?e=>e[h]():(e,a)=>{throw new zt(`Response type '${h}' is not supported`,zt.ERR_NOT_SUPPORT,a)})})})(new Response);const $4=async t=>{if(t==null)return 0;if(Ge.isBlob(t))return t.size;if(Ge.isSpecCompliantForm(t))return(await new Request(on.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ge.isArrayBufferView(t)||Ge.isArrayBuffer(t))return t.byteLength;if(Ge.isURLSearchParams(t)&&(t=t+""),Ge.isString(t))return(await z4(t)).byteLength},q4=async(t,h)=>{const e=Ge.toFiniteNumber(t.getContentLength());return e??$4(h)},U4=$u&&(async t=>{let{url:h,method:e,data:a,signal:l,cancelToken:f,timeout:o,onDownloadProgress:c,onUploadProgress:s,responseType:r,headers:i,withCredentials:b="same-origin",fetchOptions:d}=T1(t);r=r?(r+"").toLowerCase():"text";let u=P4([l,f&&f.toAbortSignal()],o),v;const x=u&&u.unsubscribe&&(()=>{u.unsubscribe()});let m;try{if(s&&F4&&e!=="get"&&e!=="head"&&(m=await q4(i,a))!==0){let A=new Request(h,{method:"POST",body:a,duplex:"half"}),D;if(Ge.isFormData(a)&&(D=A.headers.get("content-type"))&&i.setContentType(D),A.body){const[q,B]=Xb(m,fu(Yb(s)));a=Gb(A.body,Zb,q,B)}}Ge.isString(b)||(b=b?"include":"omit");const g="credentials"in Request.prototype;v=new Request(h,{...d,signal:u,method:e.toUpperCase(),headers:i.normalize().toJSON(),body:a,duplex:"half",credentials:g?b:void 0});let y=await fetch(v);const C=qh&&(r==="stream"||r==="response");if(qh&&(c||C&&x)){const A={};["status","statusText","headers"].forEach(z=>{A[z]=y[z]});const D=Ge.toFiniteNumber(y.headers.get("content-length")),[q,B]=c&&Xb(D,fu(Yb(c),!0))||[];y=new Response(Gb(y.body,Zb,q,()=>{B&&B(),x&&x()}),A)}r=r||"text";let E=await hu[Ge.findKey(hu,r)||"text"](y,t);return!C&&x&&x(),await new Promise((A,D)=>{k1(A,D,{data:E,headers:vn.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:v})})}catch(g){throw x&&x(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new zt("Network Error",zt.ERR_NETWORK,t,v),{cause:g.cause||g}):zt.from(g,g&&g.code,t,v)}}),Uh={http:s4,xhr:B4,fetch:U4};Ge.forEach(Uh,(t,h)=>{if(t){try{Object.defineProperty(t,"name",{value:h})}catch{}Object.defineProperty(t,"adapterName",{value:h})}});const Jb=t=>`- ${t}`,H4=t=>Ge.isFunction(t)||t===null||t===!1,R1={getAdapter:t=>{t=Ge.isArray(t)?t:[t];const{length:h}=t;let e,a;const l={};for(let f=0;f<h;f++){e=t[f];let o;if(a=e,!H4(e)&&(a=Uh[(o=String(e)).toLowerCase()],a===void 0))throw new zt(`Unknown adapter '${o}'`);if(a)break;l[o||"#"+f]=a}if(!a){const f=Object.entries(l).map(([c,s])=>`adapter ${c} `+(s===!1?"is not supported by the environment":"is not available in the build"));let o=h?f.length>1?`since :
`+f.map(Jb).join(`
`):" "+Jb(f[0]):"as no adapter specified";throw new zt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:Uh};function uh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ta(null,t)}function Qb(t){return uh(t),t.headers=vn.from(t.headers),t.data=ch.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),R1.getAdapter(t.adapter||yl.adapter)(t).then(function(a){return uh(t),a.data=ch.call(t,t.transformResponse,a),a.headers=vn.from(a.headers),a},function(a){return j1(a)||(uh(t),a&&a.response&&(a.response.data=ch.call(t,t.transformResponse,a.response),a.response.headers=vn.from(a.response.headers))),Promise.reject(a)})}const A1="1.9.0",qu={};["object","boolean","number","function","string","symbol"].forEach((t,h)=>{qu[t]=function(a){return typeof a===t||"a"+(h<1?"n ":" ")+t}});const ey={};qu.transitional=function(h,e,a){function l(f,o){return"[Axios v"+A1+"] Transitional option '"+f+"'"+o+(a?". "+a:"")}return(f,o,c)=>{if(h===!1)throw new zt(l(o," has been removed"+(e?" in "+e:"")),zt.ERR_DEPRECATED);return e&&!ey[o]&&(ey[o]=!0,console.warn(l(o," has been deprecated since v"+e+" and will be removed in the near future"))),h?h(f,o,c):!0}};qu.spelling=function(h){return(e,a)=>(console.warn(`${a} is likely a misspelling of ${h}`),!0)};function V4(t,h,e){if(typeof t!="object")throw new zt("options must be an object",zt.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let l=a.length;for(;l-- >0;){const f=a[l],o=h[f];if(o){const c=t[f],s=c===void 0||o(c,f,t);if(s!==!0)throw new zt("option "+f+" must be "+s,zt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new zt("Unknown option "+f,zt.ERR_BAD_OPTION)}}const iu={assertOptions:V4,validators:qu},cs=iu.validators;let Zi=class{constructor(h){this.defaults=h||{},this.interceptors={request:new Vb,response:new Vb}}async request(h,e){try{return await this._request(h,e)}catch(a){if(a instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const f=l.stack?l.stack.replace(/^.+\n/,""):"";try{a.stack?f&&!String(a.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+f):a.stack=f}catch{}}throw a}}_request(h,e){typeof h=="string"?(e=e||{},e.url=h):e=h||{},e=Qi(this.defaults,e);const{transitional:a,paramsSerializer:l,headers:f}=e;a!==void 0&&iu.assertOptions(a,{silentJSONParsing:cs.transitional(cs.boolean),forcedJSONParsing:cs.transitional(cs.boolean),clarifyTimeoutError:cs.transitional(cs.boolean)},!1),l!=null&&(Ge.isFunction(l)?e.paramsSerializer={serialize:l}:iu.assertOptions(l,{encode:cs.function,serialize:cs.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),iu.assertOptions(e,{baseUrl:cs.spelling("baseURL"),withXsrfToken:cs.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=f&&Ge.merge(f.common,f[e.method]);f&&Ge.forEach(["delete","get","head","post","put","patch","common"],v=>{delete f[v]}),e.headers=vn.concat(o,f);const c=[];let s=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(e)===!1||(s=s&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const r=[];this.interceptors.response.forEach(function(x){r.push(x.fulfilled,x.rejected)});let i,b=0,d;if(!s){const v=[Qb.bind(this),void 0];for(v.unshift.apply(v,c),v.push.apply(v,r),d=v.length,i=Promise.resolve(e);b<d;)i=i.then(v[b++],v[b++]);return i}d=c.length;let u=e;for(b=0;b<d;){const v=c[b++],x=c[b++];try{u=v(u)}catch(m){x.call(this,m);break}}try{i=Qb.call(this,u)}catch(v){return Promise.reject(v)}for(b=0,d=r.length;b<d;)i=i.then(r[b++],r[b++]);return i}getUri(h){h=Qi(this.defaults,h);const e=E1(h.baseURL,h.url,h.allowAbsoluteUrls);return _1(e,h.params,h.paramsSerializer)}};Ge.forEach(["delete","get","head","options"],function(h){Zi.prototype[h]=function(e,a){return this.request(Qi(a||{},{method:h,url:e,data:(a||{}).data}))}});Ge.forEach(["post","put","patch"],function(h){function e(a){return function(f,o,c){return this.request(Qi(c||{},{method:h,headers:a?{"Content-Type":"multipart/form-data"}:{},url:f,data:o}))}}Zi.prototype[h]=e(),Zi.prototype[h+"Form"]=e(!0)});let K4=class O1{constructor(h){if(typeof h!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(f){e=f});const a=this;this.promise.then(l=>{if(!a._listeners)return;let f=a._listeners.length;for(;f-- >0;)a._listeners[f](l);a._listeners=null}),this.promise.then=l=>{let f;const o=new Promise(c=>{a.subscribe(c),f=c}).then(l);return o.cancel=function(){a.unsubscribe(f)},o},h(function(f,o,c){a.reason||(a.reason=new ta(f,o,c),e(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(h){if(this.reason){h(this.reason);return}this._listeners?this._listeners.push(h):this._listeners=[h]}unsubscribe(h){if(!this._listeners)return;const e=this._listeners.indexOf(h);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const h=new AbortController,e=a=>{h.abort(a)};return this.subscribe(e),h.signal.unsubscribe=()=>this.unsubscribe(e),h.signal}static source(){let h;return{token:new O1(function(l){h=l}),cancel:h}}};function X4(t){return function(e){return t.apply(null,e)}}function Y4(t){return Ge.isObject(t)&&t.isAxiosError===!0}const Hh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hh).forEach(([t,h])=>{Hh[h]=t});function B1(t){const h=new Zi(t),e=u1(Zi.prototype.request,h);return Ge.extend(e,Zi.prototype,h,{allOwnKeys:!0}),Ge.extend(e,h,null,{allOwnKeys:!0}),e.create=function(l){return B1(Qi(t,l))},e}const mt=B1(yl);mt.Axios=Zi;mt.CanceledError=ta;mt.CancelToken=K4;mt.isCancel=j1;mt.VERSION=A1;mt.toFormData=Fu;mt.AxiosError=zt;mt.Cancel=mt.CanceledError;mt.all=function(h){return Promise.all(h)};mt.spread=X4;mt.isAxiosError=Y4;mt.mergeConfig=Qi;mt.AxiosHeaders=vn;mt.formToJSON=t=>C1(Ge.isHTMLForm(t)?new FormData(t):t);mt.getAdapter=R1.getAdapter;mt.HttpStatusCode=Hh;mt.default=mt;const{Axios:WE,AxiosError:GE,CanceledError:ZE,isCancel:JE,CancelToken:QE,VERSION:eT,all:tT,Cancel:rT,isAxiosError:nT,spread:sT,toFormData:iT,AxiosHeaders:oT,HttpStatusCode:aT,formToJSON:lT,getAdapter:cT,mergeConfig:uT}=mt;/*!
* sweetalert2 v11.22.0
* Released under the MIT License.
*/function P1(t,h,e){if(typeof t=="function"?t===h:t.has(h))return arguments.length<3?h:e;throw new TypeError("Private element is not present on this object")}function W4(t,h){if(h.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ty(t,h){return t.get(P1(t,h))}function G4(t,h,e){W4(t,h),h.set(t,e)}function Z4(t,h,e){return t.set(P1(t,h),e),e}const J4=100,Tt={},Q4=()=>{Tt.previousActiveElement instanceof HTMLElement?(Tt.previousActiveElement.focus(),Tt.previousActiveElement=null):document.body&&document.body.focus()},e3=t=>new Promise(h=>{if(!t)return h();const e=window.scrollX,a=window.scrollY;Tt.restoreFocusTimeout=setTimeout(()=>{Q4(),h()},J4),window.scrollTo(e,a)}),D1="swal2-",t3=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Ze=t3.reduce((t,h)=>(t[h]=D1+h,t),{}),r3=["success","warning","info","question","error"],pu=r3.reduce((t,h)=>(t[h]=D1+h,t),{}),L1="SweetAlert2:",jp=t=>t.charAt(0).toUpperCase()+t.slice(1),un=t=>{console.warn(`${L1} ${typeof t=="object"?t.join(" "):t}`)},no=t=>{console.error(`${L1} ${t}`)},ry=[],n3=t=>{ry.includes(t)||(ry.push(t),un(t))},I1=(t,h=null)=>{n3(`"${t}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},Uu=t=>typeof t=="function"?t():t,kp=t=>t&&typeof t.toPromise=="function",vl=t=>kp(t)?t.toPromise():Promise.resolve(t),Ep=t=>t&&Promise.resolve(t)===t,dn=()=>document.body.querySelector(`.${Ze.container}`),xl=t=>{const h=dn();return h?h.querySelector(t):null},On=t=>xl(`.${t}`),tr=()=>On(Ze.popup),ra=()=>On(Ze.icon),s3=()=>On(Ze["icon-content"]),z1=()=>On(Ze.title),Tp=()=>On(Ze["html-container"]),F1=()=>On(Ze.image),Np=()=>On(Ze["progress-steps"]),Hu=()=>On(Ze["validation-message"]),ms=()=>xl(`.${Ze.actions} .${Ze.confirm}`),na=()=>xl(`.${Ze.actions} .${Ze.cancel}`),so=()=>xl(`.${Ze.actions} .${Ze.deny}`),i3=()=>On(Ze["input-label"]),sa=()=>xl(`.${Ze.loader}`),wl=()=>On(Ze.actions),$1=()=>On(Ze.footer),Vu=()=>On(Ze["timer-progress-bar"]),Mp=()=>On(Ze.close),o3=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Rp=()=>{const t=tr();if(!t)return[];const h=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),e=Array.from(h).sort((f,o)=>{const c=parseInt(f.getAttribute("tabindex")||"0"),s=parseInt(o.getAttribute("tabindex")||"0");return c>s?1:c<s?-1:0}),a=t.querySelectorAll(o3),l=Array.from(a).filter(f=>f.getAttribute("tabindex")!=="-1");return[...new Set(e.concat(l))].filter(f=>xn(f))},Ap=()=>Bs(document.body,Ze.shown)&&!Bs(document.body,Ze["toast-shown"])&&!Bs(document.body,Ze["no-backdrop"]),Ku=()=>{const t=tr();return t?Bs(t,Ze.toast):!1},a3=()=>{const t=tr();return t?t.hasAttribute("data-loading"):!1},Bn=(t,h)=>{if(t.textContent="",h){const a=new DOMParser().parseFromString(h,"text/html"),l=a.querySelector("head");l&&Array.from(l.childNodes).forEach(o=>{t.appendChild(o)});const f=a.querySelector("body");f&&Array.from(f.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},Bs=(t,h)=>{if(!h)return!1;const e=h.split(/\s+/);for(let a=0;a<e.length;a++)if(!t.classList.contains(e[a]))return!1;return!0},l3=(t,h)=>{Array.from(t.classList).forEach(e=>{!Object.values(Ze).includes(e)&&!Object.values(pu).includes(e)&&!Object.values(h.showClass||{}).includes(e)&&t.classList.remove(e)})},Rn=(t,h,e)=>{if(l3(t,h),!h.customClass)return;const a=h.customClass[e];if(a){if(typeof a!="string"&&!a.forEach){un(`Invalid type of customClass.${e}! Expected string or iterable object, got "${typeof a}"`);return}ir(t,a)}},Xu=(t,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return t.querySelector(`.${Ze.popup} > .${Ze[h]}`);case"checkbox":return t.querySelector(`.${Ze.popup} > .${Ze.checkbox} input`);case"radio":return t.querySelector(`.${Ze.popup} > .${Ze.radio} input:checked`)||t.querySelector(`.${Ze.popup} > .${Ze.radio} input:first-child`);case"range":return t.querySelector(`.${Ze.popup} > .${Ze.range} input`);default:return t.querySelector(`.${Ze.popup} > .${Ze.input}`)}},q1=t=>{if(t.focus(),t.type!=="file"){const h=t.value;t.value="",t.value=h}},U1=(t,h,e)=>{!t||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(a=>{Array.isArray(t)?t.forEach(l=>{e?l.classList.add(a):l.classList.remove(a)}):e?t.classList.add(a):t.classList.remove(a)}))},ir=(t,h)=>{U1(t,h,!0)},Un=(t,h)=>{U1(t,h,!1)},yi=(t,h)=>{const e=Array.from(t.children);for(let a=0;a<e.length;a++){const l=e[a];if(l instanceof HTMLElement&&Bs(l,h))return l}},Ji=(t,h,e)=>{e===`${parseInt(e)}`&&(e=parseInt(e)),e||parseInt(e)===0?t.style.setProperty(h,typeof e=="number"?`${e}px`:e):t.style.removeProperty(h)},Hr=(t,h="flex")=>{t&&(t.style.display=h)},an=t=>{t&&(t.style.display="none")},Op=(t,h="block")=>{t&&new MutationObserver(()=>{_l(t,t.innerHTML,h)}).observe(t,{childList:!0,subtree:!0})},ny=(t,h,e,a)=>{const l=t.querySelector(h);l&&l.style.setProperty(e,a)},_l=(t,h,e="flex")=>{h?Hr(t,e):an(t)},xn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),c3=()=>!xn(ms())&&!xn(so())&&!xn(na()),Vh=t=>t.scrollHeight>t.clientHeight,u3=(t,h)=>{let e=t;for(;e&&e!==h;){if(Vh(e))return!0;e=e.parentElement}return!1},H1=t=>{const h=window.getComputedStyle(t),e=parseFloat(h.getPropertyValue("animation-duration")||"0"),a=parseFloat(h.getPropertyValue("transition-duration")||"0");return e>0||a>0},Bp=(t,h=!1)=>{const e=Vu();e&&xn(e)&&(h&&(e.style.transition="none",e.style.width="100%"),setTimeout(()=>{e.style.transition=`width ${t/1e3}s linear`,e.style.width="0%"},10))},d3=()=>{const t=Vu();if(!t)return;const h=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const e=parseInt(window.getComputedStyle(t).width),a=h/e*100;t.style.width=`${a}%`},f3=()=>typeof window>"u"||typeof document>"u",h3=`
 <div aria-labelledby="${Ze.title}" aria-describedby="${Ze["html-container"]}" class="${Ze.popup}" tabindex="-1">
   <button type="button" class="${Ze.close}"></button>
   <ul class="${Ze["progress-steps"]}"></ul>
   <div class="${Ze.icon}"></div>
   <img class="${Ze.image}" />
   <h2 class="${Ze.title}" id="${Ze.title}"></h2>
   <div class="${Ze["html-container"]}" id="${Ze["html-container"]}"></div>
   <input class="${Ze.input}" id="${Ze.input}" />
   <input type="file" class="${Ze.file}" />
   <div class="${Ze.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Ze.select}" id="${Ze.select}"></select>
   <div class="${Ze.radio}"></div>
   <label class="${Ze.checkbox}">
     <input type="checkbox" id="${Ze.checkbox}" />
     <span class="${Ze.label}"></span>
   </label>
   <textarea class="${Ze.textarea}" id="${Ze.textarea}"></textarea>
   <div class="${Ze["validation-message"]}" id="${Ze["validation-message"]}"></div>
   <div class="${Ze.actions}">
     <div class="${Ze.loader}"></div>
     <button type="button" class="${Ze.confirm}"></button>
     <button type="button" class="${Ze.deny}"></button>
     <button type="button" class="${Ze.cancel}"></button>
   </div>
   <div class="${Ze.footer}"></div>
   <div class="${Ze["timer-progress-bar-container"]}">
     <div class="${Ze["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),p3=()=>{const t=dn();return t?(t.remove(),Un([document.documentElement,document.body],[Ze["no-backdrop"],Ze["toast-shown"],Ze["has-column"]]),!0):!1},Ui=()=>{Tt.currentInstance.resetValidationMessage()},m3=()=>{const t=tr(),h=yi(t,Ze.input),e=yi(t,Ze.file),a=t.querySelector(`.${Ze.range} input`),l=t.querySelector(`.${Ze.range} output`),f=yi(t,Ze.select),o=t.querySelector(`.${Ze.checkbox} input`),c=yi(t,Ze.textarea);h.oninput=Ui,e.onchange=Ui,f.onchange=Ui,o.onchange=Ui,c.oninput=Ui,a.oninput=()=>{Ui(),l.value=a.value},a.onchange=()=>{Ui(),l.value=a.value}},g3=t=>typeof t=="string"?document.querySelector(t):t,b3=t=>{const h=tr();h.setAttribute("role",t.toast?"alert":"dialog"),h.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||h.setAttribute("aria-modal","true")},y3=t=>{window.getComputedStyle(t).direction==="rtl"&&ir(dn(),Ze.rtl)},v3=t=>{const h=p3();if(f3()){no("SweetAlert2 requires document to initialize");return}const e=document.createElement("div");e.className=Ze.container,h&&ir(e,Ze["no-transition"]),Bn(e,h3),e.dataset.swal2Theme=t.theme;const a=g3(t.target);a.appendChild(e),t.topLayer&&(e.setAttribute("popover",""),e.showPopover()),b3(t),y3(a),m3()},Pp=(t,h)=>{t instanceof HTMLElement?h.appendChild(t):typeof t=="object"?x3(t,h):t&&Bn(h,t)},x3=(t,h)=>{t.jquery?w3(h,t):Bn(h,t.toString())},w3=(t,h)=>{if(t.textContent="",0 in h)for(let e=0;e in h;e++)t.appendChild(h[e].cloneNode(!0));else t.appendChild(h.cloneNode(!0))},_3=(t,h)=>{const e=wl(),a=sa();!e||!a||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?an(e):Hr(e),Rn(e,h,"actions"),S3(e,a,h),Bn(a,h.loaderHtml||""),Rn(a,h,"loader"))};function S3(t,h,e){const a=ms(),l=so(),f=na();!a||!l||!f||(fh(a,"confirm",e),fh(l,"deny",e),fh(f,"cancel",e),C3(a,l,f,e),e.reverseButtons&&(e.toast?(t.insertBefore(f,a),t.insertBefore(l,a)):(t.insertBefore(f,h),t.insertBefore(l,h),t.insertBefore(a,h))))}function C3(t,h,e,a){if(!a.buttonsStyling){Un([t,h,e],Ze.styled);return}ir([t,h,e],Ze.styled),a.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",a.confirmButtonColor),a.denyButtonColor&&h.style.setProperty("--swal2-deny-button-background-color",a.denyButtonColor),a.cancelButtonColor&&e.style.setProperty("--swal2-cancel-button-background-color",a.cancelButtonColor),dh(t),dh(h),dh(e)}function dh(t){const h=window.getComputedStyle(t);if(h.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const e=h.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",h.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${e}`))}function fh(t,h,e){const a=jp(h);_l(t,e[`show${a}Button`],"inline-block"),Bn(t,e[`${h}ButtonText`]||""),t.setAttribute("aria-label",e[`${h}ButtonAriaLabel`]||""),t.className=Ze[h],Rn(t,e,`${h}Button`)}const j3=(t,h)=>{const e=Mp();e&&(Bn(e,h.closeButtonHtml||""),Rn(e,h,"closeButton"),_l(e,h.showCloseButton),e.setAttribute("aria-label",h.closeButtonAriaLabel||""))},k3=(t,h)=>{const e=dn();e&&(E3(e,h.backdrop),T3(e,h.position),N3(e,h.grow),Rn(e,h,"container"))};function E3(t,h){typeof h=="string"?t.style.background=h:h||ir([document.documentElement,document.body],Ze["no-backdrop"])}function T3(t,h){h&&(h in Ze?ir(t,Ze[h]):(un('The "position" parameter is not valid, defaulting to "center"'),ir(t,Ze.center)))}function N3(t,h){h&&ir(t,Ze[`grow-${h}`])}var yr={innerParams:new WeakMap,domCache:new WeakMap};const M3=["input","file","range","select","radio","checkbox","textarea"],R3=(t,h)=>{const e=tr();if(!e)return;const a=yr.innerParams.get(t),l=!a||h.input!==a.input;M3.forEach(f=>{const o=yi(e,Ze[f]);o&&(B3(f,h.inputAttributes),o.className=Ze[f],l&&an(o))}),h.input&&(l&&A3(h),P3(h))},A3=t=>{if(!t.input)return;if(!Tr[t.input]){no(`Unexpected type of input! Expected ${Object.keys(Tr).join(" | ")}, got "${t.input}"`);return}const h=V1(t.input);if(!h)return;const e=Tr[t.input](h,t);Hr(h),t.inputAutoFocus&&setTimeout(()=>{q1(e)})},O3=t=>{for(let h=0;h<t.attributes.length;h++){const e=t.attributes[h].name;["id","type","value","style"].includes(e)||t.removeAttribute(e)}},B3=(t,h)=>{const e=tr();if(!e)return;const a=Xu(e,t);if(a){O3(a);for(const l in h)a.setAttribute(l,h[l])}},P3=t=>{if(!t.input)return;const h=V1(t.input);h&&Rn(h,t,"input")},Dp=(t,h)=>{!t.placeholder&&h.inputPlaceholder&&(t.placeholder=h.inputPlaceholder)},Sl=(t,h,e)=>{if(e.inputLabel){const a=document.createElement("label"),l=Ze["input-label"];a.setAttribute("for",t.id),a.className=l,typeof e.customClass=="object"&&ir(a,e.customClass.inputLabel),a.innerText=e.inputLabel,h.insertAdjacentElement("beforebegin",a)}},V1=t=>{const h=tr();if(h)return yi(h,Ze[t]||Ze.input)},mu=(t,h)=>{["string","number"].includes(typeof h)?t.value=`${h}`:Ep(h)||un(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Tr={};Tr.text=Tr.email=Tr.password=Tr.number=Tr.tel=Tr.url=Tr.search=Tr.date=Tr["datetime-local"]=Tr.time=Tr.week=Tr.month=(t,h)=>(mu(t,h.inputValue),Sl(t,t,h),Dp(t,h),t.type=h.input,t);Tr.file=(t,h)=>(Sl(t,t,h),Dp(t,h),t);Tr.range=(t,h)=>{const e=t.querySelector("input"),a=t.querySelector("output");return mu(e,h.inputValue),e.type=h.input,mu(a,h.inputValue),Sl(e,t,h),t};Tr.select=(t,h)=>{if(t.textContent="",h.inputPlaceholder){const e=document.createElement("option");Bn(e,h.inputPlaceholder),e.value="",e.disabled=!0,e.selected=!0,t.appendChild(e)}return Sl(t,t,h),t};Tr.radio=t=>(t.textContent="",t);Tr.checkbox=(t,h)=>{const e=Xu(tr(),"checkbox");e.value="1",e.checked=!!h.inputValue;const a=t.querySelector("span");return Bn(a,h.inputPlaceholder||h.inputLabel),e};Tr.textarea=(t,h)=>{mu(t,h.inputValue),Dp(t,h),Sl(t,t,h);const e=a=>parseInt(window.getComputedStyle(a).marginLeft)+parseInt(window.getComputedStyle(a).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const a=parseInt(window.getComputedStyle(tr()).width),l=()=>{if(!document.body.contains(t))return;const f=t.offsetWidth+e(t);f>a?tr().style.width=`${f}px`:Ji(tr(),"width",h.width)};new MutationObserver(l).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const D3=(t,h)=>{const e=Tp();e&&(Op(e),Rn(e,h,"htmlContainer"),h.html?(Pp(h.html,e),Hr(e,"block")):h.text?(e.textContent=h.text,Hr(e,"block")):an(e),R3(t,h))},L3=(t,h)=>{const e=$1();e&&(Op(e),_l(e,h.footer,"block"),h.footer&&Pp(h.footer,e),Rn(e,h,"footer"))},I3=(t,h)=>{const e=yr.innerParams.get(t),a=ra();if(!a)return;if(e&&h.icon===e.icon){iy(a,h),sy(a,h);return}if(!h.icon&&!h.iconHtml){an(a);return}if(h.icon&&Object.keys(pu).indexOf(h.icon)===-1){no(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),an(a);return}Hr(a),iy(a,h),sy(a,h),ir(a,h.showClass&&h.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",K1)},sy=(t,h)=>{for(const[e,a]of Object.entries(pu))h.icon!==e&&Un(t,a);ir(t,h.icon&&pu[h.icon]),$3(t,h),K1(),Rn(t,h,"icon")},K1=()=>{const t=tr();if(!t)return;const h=window.getComputedStyle(t).getPropertyValue("background-color"),e=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let a=0;a<e.length;a++)e[a].style.backgroundColor=h},z3=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,F3=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,iy=(t,h)=>{if(!h.icon&&!h.iconHtml)return;let e=t.innerHTML,a="";h.iconHtml?a=oy(h.iconHtml):h.icon==="success"?(a=z3,e=e.replace(/ style=".*?"/g,"")):h.icon==="error"?a=F3:h.icon&&(a=oy({question:"?",warning:"!",info:"i"}[h.icon])),e.trim()!==a.trim()&&Bn(t,a)},$3=(t,h)=>{if(h.iconColor){t.style.color=h.iconColor,t.style.borderColor=h.iconColor;for(const e of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ny(t,e,"background-color",h.iconColor);ny(t,".swal2-success-ring","border-color",h.iconColor)}},oy=t=>`<div class="${Ze["icon-content"]}">${t}</div>`,q3=(t,h)=>{const e=F1();if(e){if(!h.imageUrl){an(e);return}Hr(e,""),e.setAttribute("src",h.imageUrl),e.setAttribute("alt",h.imageAlt||""),Ji(e,"width",h.imageWidth),Ji(e,"height",h.imageHeight),e.className=Ze.image,Rn(e,h,"image")}};let Lp=!1,X1=0,Y1=0,W1=0,G1=0;const U3=t=>{t.addEventListener("mousedown",gu),document.body.addEventListener("mousemove",bu),t.addEventListener("mouseup",yu),t.addEventListener("touchstart",gu),document.body.addEventListener("touchmove",bu),t.addEventListener("touchend",yu)},H3=t=>{t.removeEventListener("mousedown",gu),document.body.removeEventListener("mousemove",bu),t.removeEventListener("mouseup",yu),t.removeEventListener("touchstart",gu),document.body.removeEventListener("touchmove",bu),t.removeEventListener("touchend",yu)},gu=t=>{const h=tr();if(t.target===h||ra().contains(t.target)){Lp=!0;const e=Z1(t);X1=e.clientX,Y1=e.clientY,W1=parseInt(h.style.insetInlineStart)||0,G1=parseInt(h.style.insetBlockStart)||0,ir(h,"swal2-dragging")}},bu=t=>{const h=tr();if(Lp){let{clientX:e,clientY:a}=Z1(t);h.style.insetInlineStart=`${W1+(e-X1)}px`,h.style.insetBlockStart=`${G1+(a-Y1)}px`}},yu=()=>{const t=tr();Lp=!1,Un(t,"swal2-dragging")},Z1=t=>{let h=0,e=0;return t.type.startsWith("mouse")?(h=t.clientX,e=t.clientY):t.type.startsWith("touch")&&(h=t.touches[0].clientX,e=t.touches[0].clientY),{clientX:h,clientY:e}},V3=(t,h)=>{const e=dn(),a=tr();if(!(!e||!a)){if(h.toast){Ji(e,"width",h.width),a.style.width="100%";const l=sa();l&&a.insertBefore(l,ra())}else Ji(a,"width",h.width);Ji(a,"padding",h.padding),h.color&&(a.style.color=h.color),h.background&&(a.style.background=h.background),an(Hu()),K3(a,h),h.draggable&&!h.toast?(ir(a,Ze.draggable),U3(a)):(Un(a,Ze.draggable),H3(a))}},K3=(t,h)=>{const e=h.showClass||{};t.className=`${Ze.popup} ${xn(t)?e.popup:""}`,h.toast?(ir([document.documentElement,document.body],Ze["toast-shown"]),ir(t,Ze.toast)):ir(t,Ze.modal),Rn(t,h,"popup"),typeof h.customClass=="string"&&ir(t,h.customClass),h.icon&&ir(t,Ze[`icon-${h.icon}`])},X3=(t,h)=>{const e=Np();if(!e)return;const{progressSteps:a,currentProgressStep:l}=h;if(!a||a.length===0||l===void 0){an(e);return}Hr(e),e.textContent="",l>=a.length&&un("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),a.forEach((f,o)=>{const c=Y3(f);if(e.appendChild(c),o===l&&ir(c,Ze["active-progress-step"]),o!==a.length-1){const s=W3(h);e.appendChild(s)}})},Y3=t=>{const h=document.createElement("li");return ir(h,Ze["progress-step"]),Bn(h,t),h},W3=t=>{const h=document.createElement("li");return ir(h,Ze["progress-step-line"]),t.progressStepsDistance&&Ji(h,"width",t.progressStepsDistance),h},G3=(t,h)=>{const e=z1();e&&(Op(e),_l(e,h.title||h.titleText,"block"),h.title&&Pp(h.title,e),h.titleText&&(e.innerText=h.titleText),Rn(e,h,"title"))},J1=(t,h)=>{V3(t,h),k3(t,h),X3(t,h),I3(t,h),q3(t,h),G3(t,h),j3(t,h),D3(t,h),_3(t,h),L3(t,h);const e=tr();typeof h.didRender=="function"&&e&&h.didRender(e),Tt.eventEmitter.emit("didRender",e)},Z3=()=>xn(tr()),Q1=()=>{var t;return(t=ms())===null||t===void 0?void 0:t.click()},J3=()=>{var t;return(t=so())===null||t===void 0?void 0:t.click()},Q3=()=>{var t;return(t=na())===null||t===void 0?void 0:t.click()},ia=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ev=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},e6=(t,h,e)=>{ev(t),h.toast||(t.keydownHandler=a=>r6(h,a,e),t.keydownTarget=h.keydownListenerCapture?window:tr(),t.keydownListenerCapture=h.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Kh=(t,h)=>{var e;const a=Rp();if(a.length){t=t+h,t===-2&&(t=a.length-1),t===a.length?t=0:t===-1&&(t=a.length-1),a[t].focus();return}(e=tr())===null||e===void 0||e.focus()},tv=["ArrowRight","ArrowDown"],t6=["ArrowLeft","ArrowUp"],r6=(t,h,e)=>{t&&(h.isComposing||h.keyCode===229||(t.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?n6(h,t):h.key==="Tab"?s6(h):[...tv,...t6].includes(h.key)?i6(h.key):h.key==="Escape"&&o6(h,t,e)))},n6=(t,h)=>{if(!Uu(h.allowEnterKey))return;const e=Xu(tr(),h.input);if(t.target&&e&&t.target instanceof HTMLElement&&t.target.outerHTML===e.outerHTML){if(["textarea","file"].includes(h.input))return;Q1(),t.preventDefault()}},s6=t=>{const h=t.target,e=Rp();let a=-1;for(let l=0;l<e.length;l++)if(h===e[l]){a=l;break}t.shiftKey?Kh(a,-1):Kh(a,1),t.stopPropagation(),t.preventDefault()},i6=t=>{const h=wl(),e=ms(),a=so(),l=na();if(!h||!e||!a||!l)return;const f=[e,a,l];if(document.activeElement instanceof HTMLElement&&!f.includes(document.activeElement))return;const o=tv.includes(t)?"nextElementSibling":"previousElementSibling";let c=document.activeElement;if(c){for(let s=0;s<h.children.length;s++){if(c=c[o],!c)return;if(c instanceof HTMLButtonElement&&xn(c))break}c instanceof HTMLButtonElement&&c.focus()}},o6=(t,h,e)=>{Uu(h.allowEscapeKey)&&(t.preventDefault(),e(ia.esc))};var Zo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const a6=()=>{const t=dn();Array.from(document.body.children).forEach(e=>{e.contains(t)||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))})},rv=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},nv=typeof window<"u"&&!!window.GestureEvent,l6=()=>{if(nv&&!Bs(document.body,Ze.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,ir(document.body,Ze.iosfix),c6()}},c6=()=>{const t=dn();if(!t)return;let h;t.ontouchstart=e=>{h=u6(e)},t.ontouchmove=e=>{h&&(e.preventDefault(),e.stopPropagation())}},u6=t=>{const h=t.target,e=dn(),a=Tp();return!e||!a||d6(t)||f6(t)?!1:h===e||!Vh(e)&&h instanceof HTMLElement&&!u3(h,a)&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(Vh(a)&&a.contains(h))},d6=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",f6=t=>t.touches&&t.touches.length>1,h6=()=>{if(Bs(document.body,Ze.iosfix)){const t=parseInt(document.body.style.top,10);Un(document.body,Ze.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},p6=()=>{const t=document.createElement("div");t.className=Ze["scrollbar-measure"],document.body.appendChild(t);const h=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),h};let Vo=null;const m6=t=>{Vo===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Vo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Vo+p6()}px`)},g6=()=>{Vo!==null&&(document.body.style.paddingRight=`${Vo}px`,Vo=null)};function sv(t,h,e,a){Ku()?ay(t,a):(e3(e).then(()=>ay(t,a)),ev(Tt)),nv?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Ap()&&(g6(),h6(),rv()),b6()}function b6(){Un([document.documentElement,document.body],[Ze.shown,Ze["height-auto"],Ze["no-backdrop"],Ze["toast-shown"]])}function vi(t){t=v6(t);const h=Zo.swalPromiseResolve.get(this),e=y6(this);this.isAwaitingPromise?t.isDismissed||(Cl(this),h(t)):e&&h(t)}const y6=t=>{const h=tr();if(!h)return!1;const e=yr.innerParams.get(t);if(!e||Bs(h,e.hideClass.popup))return!1;Un(h,e.showClass.popup),ir(h,e.hideClass.popup);const a=dn();return Un(a,e.showClass.backdrop),ir(a,e.hideClass.backdrop),x6(t,h,e),!0};function iv(t){const h=Zo.swalPromiseReject.get(this);Cl(this),h&&h(t)}const Cl=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,yr.innerParams.get(t)||t._destroy())},v6=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),x6=(t,h,e)=>{var a;const l=dn(),f=H1(h);typeof e.willClose=="function"&&e.willClose(h),(a=Tt.eventEmitter)===null||a===void 0||a.emit("willClose",h),f?w6(t,h,l,e.returnFocus,e.didClose):sv(t,l,e.returnFocus,e.didClose)},w6=(t,h,e,a,l)=>{Tt.swalCloseEventFinishedCallback=sv.bind(null,t,e,a,l);const f=function(o){if(o.target===h){var c;(c=Tt.swalCloseEventFinishedCallback)===null||c===void 0||c.call(Tt),delete Tt.swalCloseEventFinishedCallback,h.removeEventListener("animationend",f),h.removeEventListener("transitionend",f)}};h.addEventListener("animationend",f),h.addEventListener("transitionend",f)},ay=(t,h)=>{setTimeout(()=>{var e;typeof h=="function"&&h.bind(t.params)(),(e=Tt.eventEmitter)===null||e===void 0||e.emit("didClose"),t._destroy&&t._destroy()})},Jo=t=>{let h=tr();if(h||new Se,h=tr(),!h)return;const e=sa();Ku()?an(ra()):_6(h,t),Hr(e),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},_6=(t,h)=>{const e=wl(),a=sa();!e||!a||(!h&&xn(ms())&&(h=ms()),Hr(e),h&&(an(h),a.setAttribute("data-button-to-replace",h.className),e.insertBefore(a,h)),ir([t,e],Ze.loading))},S6=(t,h)=>{h.input==="select"||h.input==="radio"?T6(t,h):["text","email","number","tel","textarea"].some(e=>e===h.input)&&(kp(h.inputValue)||Ep(h.inputValue))&&(Jo(ms()),N6(t,h))},C6=(t,h)=>{const e=t.getInput();if(!e)return null;switch(h.input){case"checkbox":return j6(e);case"radio":return k6(e);case"file":return E6(e);default:return h.inputAutoTrim?e.value.trim():e.value}},j6=t=>t.checked?1:0,k6=t=>t.checked?t.value:null,E6=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,T6=(t,h)=>{const e=tr();if(!e)return;const a=l=>{h.input==="select"?M6(e,vu(l),h):h.input==="radio"&&R6(e,vu(l),h)};kp(h.inputOptions)||Ep(h.inputOptions)?(Jo(ms()),vl(h.inputOptions).then(l=>{t.hideLoading(),a(l)})):typeof h.inputOptions=="object"?a(h.inputOptions):no(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},N6=(t,h)=>{const e=t.getInput();e&&(an(e),vl(h.inputValue).then(a=>{e.value=h.input==="number"?`${parseFloat(a)||0}`:`${a}`,Hr(e),e.focus(),t.hideLoading()}).catch(a=>{no(`Error in inputValue promise: ${a}`),e.value="",Hr(e),e.focus(),t.hideLoading()}))};function M6(t,h,e){const a=yi(t,Ze.select);if(!a)return;const l=(f,o,c)=>{const s=document.createElement("option");s.value=c,Bn(s,o),s.selected=ov(c,e.inputValue),f.appendChild(s)};h.forEach(f=>{const o=f[0],c=f[1];if(Array.isArray(c)){const s=document.createElement("optgroup");s.label=o,s.disabled=!1,a.appendChild(s),c.forEach(r=>l(s,r[1],r[0]))}else l(a,c,o)}),a.focus()}function R6(t,h,e){const a=yi(t,Ze.radio);if(!a)return;h.forEach(f=>{const o=f[0],c=f[1],s=document.createElement("input"),r=document.createElement("label");s.type="radio",s.name=Ze.radio,s.value=o,ov(o,e.inputValue)&&(s.checked=!0);const i=document.createElement("span");Bn(i,c),i.className=Ze.label,r.appendChild(s),r.appendChild(i),a.appendChild(r)});const l=a.querySelectorAll("input");l.length&&l[0].focus()}const vu=t=>{const h=[];return t instanceof Map?t.forEach((e,a)=>{let l=e;typeof l=="object"&&(l=vu(l)),h.push([a,l])}):Object.keys(t).forEach(e=>{let a=t[e];typeof a=="object"&&(a=vu(a)),h.push([e,a])}),h},ov=(t,h)=>!!h&&h.toString()===t.toString(),A6=t=>{const h=yr.innerParams.get(t);t.disableButtons(),h.input?av(t,"confirm"):zp(t,!0)},O6=t=>{const h=yr.innerParams.get(t);t.disableButtons(),h.returnInputValueOnDeny?av(t,"deny"):Ip(t,!1)},B6=(t,h)=>{t.disableButtons(),h(ia.cancel)},av=(t,h)=>{const e=yr.innerParams.get(t);if(!e.input){no(`The "input" parameter is needed to be set when using returnInputValueOn${jp(h)}`);return}const a=t.getInput(),l=C6(t,e);e.inputValidator?P6(t,l,h):a&&!a.checkValidity()?(t.enableButtons(),t.showValidationMessage(e.validationMessage||a.validationMessage)):h==="deny"?Ip(t,l):zp(t,l)},P6=(t,h,e)=>{const a=yr.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>vl(a.inputValidator(h,a.validationMessage))).then(f=>{t.enableButtons(),t.enableInput(),f?t.showValidationMessage(f):e==="deny"?Ip(t,h):zp(t,h)})},Ip=(t,h)=>{const e=yr.innerParams.get(t||void 0);e.showLoaderOnDeny&&Jo(so()),e.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>vl(e.preDeny(h,e.validationMessage))).then(l=>{l===!1?(t.hideLoading(),Cl(t)):t.close({isDenied:!0,value:typeof l>"u"?h:l})}).catch(l=>lv(t||void 0,l))):t.close({isDenied:!0,value:h})},ly=(t,h)=>{t.close({isConfirmed:!0,value:h})},lv=(t,h)=>{t.rejectPromise(h)},zp=(t,h)=>{const e=yr.innerParams.get(t||void 0);e.showLoaderOnConfirm&&Jo(),e.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>vl(e.preConfirm(h,e.validationMessage))).then(l=>{xn(Hu())||l===!1?(t.hideLoading(),Cl(t)):ly(t,typeof l>"u"?h:l)}).catch(l=>lv(t||void 0,l))):ly(t,h)};function xu(){const t=yr.innerParams.get(this);if(!t)return;const h=yr.domCache.get(this);an(h.loader),Ku()?t.icon&&Hr(ra()):D6(h),Un([h.popup,h.actions],Ze.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}const D6=t=>{const h=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));h.length?Hr(h[0],"inline-block"):c3()&&an(t.actions)};function cv(){const t=yr.innerParams.get(this),h=yr.domCache.get(this);return h?Xu(h.popup,t.input):null}function uv(t,h,e){const a=yr.domCache.get(t);h.forEach(l=>{a[l].disabled=e})}function dv(t,h){const e=tr();if(!(!e||!t))if(t.type==="radio"){const a=e.querySelectorAll(`[name="${Ze.radio}"]`);for(let l=0;l<a.length;l++)a[l].disabled=h}else t.disabled=h}function fv(){uv(this,["confirmButton","denyButton","cancelButton"],!1)}function hv(){uv(this,["confirmButton","denyButton","cancelButton"],!0)}function pv(){dv(this.getInput(),!1)}function mv(){dv(this.getInput(),!0)}function gv(t){const h=yr.domCache.get(this),e=yr.innerParams.get(this);Bn(h.validationMessage,t),h.validationMessage.className=Ze["validation-message"],e.customClass&&e.customClass.validationMessage&&ir(h.validationMessage,e.customClass.validationMessage),Hr(h.validationMessage);const a=this.getInput();a&&(a.setAttribute("aria-invalid","true"),a.setAttribute("aria-describedby",Ze["validation-message"]),q1(a),ir(a,Ze.inputerror))}function bv(){const t=yr.domCache.get(this);t.validationMessage&&an(t.validationMessage);const h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),Un(h,Ze.inputerror))}const Ko={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},L6=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],I6={allowEnterKey:void 0},z6=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],yv=t=>Object.prototype.hasOwnProperty.call(Ko,t),vv=t=>L6.indexOf(t)!==-1,xv=t=>I6[t],F6=t=>{yv(t)||un(`Unknown parameter "${t}"`)},$6=t=>{z6.includes(t)&&un(`The parameter "${t}" is incompatible with toasts`)},q6=t=>{const h=xv(t);h&&I1(t,h)},wv=t=>{t.backdrop===!1&&t.allowOutsideClick&&un('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&un(`Invalid theme "${t.theme}"`);for(const h in t)F6(h),t.toast&&$6(h),q6(h)};function _v(t){const h=dn(),e=tr(),a=yr.innerParams.get(this);if(!e||Bs(e,a.hideClass.popup)){un("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const l=U6(t),f=Object.assign({},a,l);wv(f),h.dataset.swal2Theme=f.theme,J1(this,f),yr.innerParams.set(this,f),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const U6=t=>{const h={};return Object.keys(t).forEach(e=>{vv(e)?h[e]=t[e]:un(`Invalid parameter to update: ${e}`)}),h};function Sv(){const t=yr.domCache.get(this),h=yr.innerParams.get(this);if(!h){Cv(this);return}t.popup&&Tt.swalCloseEventFinishedCallback&&(Tt.swalCloseEventFinishedCallback(),delete Tt.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),Tt.eventEmitter.emit("didDestroy"),H6(this)}const H6=t=>{Cv(t),delete t.params,delete Tt.keydownHandler,delete Tt.keydownTarget,delete Tt.currentInstance},Cv=t=>{t.isAwaitingPromise?(hh(yr,t),t.isAwaitingPromise=!0):(hh(Zo,t),hh(yr,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},hh=(t,h)=>{for(const e in t)t[e].delete(h)};var V6=Object.freeze({__proto__:null,_destroy:Sv,close:vi,closeModal:vi,closePopup:vi,closeToast:vi,disableButtons:hv,disableInput:mv,disableLoading:xu,enableButtons:fv,enableInput:pv,getInput:cv,handleAwaitingPromise:Cl,hideLoading:xu,rejectPromise:iv,resetValidationMessage:bv,showValidationMessage:gv,update:_v});const K6=(t,h,e)=>{t.toast?X6(t,h,e):(W6(h),G6(h),Z6(t,h,e))},X6=(t,h,e)=>{h.popup.onclick=()=>{t&&(Y6(t)||t.timer||t.input)||e(ia.close)}},Y6=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let wu=!1;const W6=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(h){t.container.onmouseup=()=>{},h.target===t.container&&(wu=!0)}}},G6=t=>{t.container.onmousedown=h=>{h.target===t.container&&h.preventDefault(),t.popup.onmouseup=function(e){t.popup.onmouseup=()=>{},(e.target===t.popup||e.target instanceof HTMLElement&&t.popup.contains(e.target))&&(wu=!0)}}},Z6=(t,h,e)=>{h.container.onclick=a=>{if(wu){wu=!1;return}a.target===h.container&&Uu(t.allowOutsideClick)&&e(ia.backdrop)}},J6=t=>typeof t=="object"&&t.jquery,cy=t=>t instanceof Element||J6(t),Q6=t=>{const h={};return typeof t[0]=="object"&&!cy(t[0])?Object.assign(h,t[0]):["title","html","icon"].forEach((e,a)=>{const l=t[a];typeof l=="string"||cy(l)?h[e]=l:l!==void 0&&no(`Unexpected type of ${e}! Expected "string" or "Element", got ${typeof l}`)}),h};function e5(...t){return new this(...t)}function t5(t){class h extends this{_main(a,l){return super._main(a,Object.assign({},t,l))}}return h}const r5=()=>Tt.timeout&&Tt.timeout.getTimerLeft(),jv=()=>{if(Tt.timeout)return d3(),Tt.timeout.stop()},kv=()=>{if(Tt.timeout){const t=Tt.timeout.start();return Bp(t),t}},n5=()=>{const t=Tt.timeout;return t&&(t.running?jv():kv())},s5=t=>{if(Tt.timeout){const h=Tt.timeout.increase(t);return Bp(h,!0),h}},i5=()=>!!(Tt.timeout&&Tt.timeout.isRunning());let uy=!1;const Xh={};function o5(t="data-swal-template"){Xh[t]=this,uy||(document.body.addEventListener("click",a5),uy=!0)}const a5=t=>{for(let h=t.target;h&&h!==document;h=h.parentNode)for(const e in Xh){const a=h.getAttribute(e);if(a){Xh[e].fire({template:a});return}}};class l5{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,e){const a=this._getHandlersByEventName(h);a.includes(e)||a.push(e)}once(h,e){const a=(...l)=>{this.removeListener(h,a),e.apply(this,l)};this.on(h,a)}emit(h,...e){this._getHandlersByEventName(h).forEach(a=>{try{a.apply(this,e)}catch(l){console.error(l)}})}removeListener(h,e){const a=this._getHandlersByEventName(h),l=a.indexOf(e);l>-1&&a.splice(l,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}Tt.eventEmitter=new l5;const c5=(t,h)=>{Tt.eventEmitter.on(t,h)},u5=(t,h)=>{Tt.eventEmitter.once(t,h)},d5=(t,h)=>{if(!t){Tt.eventEmitter.reset();return}h?Tt.eventEmitter.removeListener(t,h):Tt.eventEmitter.removeAllListeners(t)};var f5=Object.freeze({__proto__:null,argsToParams:Q6,bindClickHandler:o5,clickCancel:Q3,clickConfirm:Q1,clickDeny:J3,enableLoading:Jo,fire:e5,getActions:wl,getCancelButton:na,getCloseButton:Mp,getConfirmButton:ms,getContainer:dn,getDenyButton:so,getFocusableElements:Rp,getFooter:$1,getHtmlContainer:Tp,getIcon:ra,getIconContent:s3,getImage:F1,getInputLabel:i3,getLoader:sa,getPopup:tr,getProgressSteps:Np,getTimerLeft:r5,getTimerProgressBar:Vu,getTitle:z1,getValidationMessage:Hu,increaseTimer:s5,isDeprecatedParameter:xv,isLoading:a3,isTimerRunning:i5,isUpdatableParameter:vv,isValidParameter:yv,isVisible:Z3,mixin:t5,off:d5,on:c5,once:u5,resumeTimer:kv,showLoading:Jo,stopTimer:jv,toggleTimer:n5});class h5{constructor(h,e){this.callback=h,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){const e=this.running;return e&&this.stop(),this.remaining+=h,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ev=["swal-title","swal-html","swal-footer"],p5=t=>{const h=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!h)return{};const e=h.content;return _5(e),Object.assign(m5(e),g5(e),b5(e),y5(e),v5(e),x5(e),w5(e,Ev))},m5=t=>{const h={};return Array.from(t.querySelectorAll("swal-param")).forEach(a=>{eo(a,["name","value"]);const l=a.getAttribute("name"),f=a.getAttribute("value");!l||!f||(typeof Ko[l]=="boolean"?h[l]=f!=="false":typeof Ko[l]=="object"?h[l]=JSON.parse(f):h[l]=f)}),h},g5=t=>{const h={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(a=>{const l=a.getAttribute("name"),f=a.getAttribute("value");!l||!f||(h[l]=new Function(`return ${f}`)())}),h},b5=t=>{const h={};return Array.from(t.querySelectorAll("swal-button")).forEach(a=>{eo(a,["type","color","aria-label"]);const l=a.getAttribute("type");!l||!["confirm","cancel","deny"].includes(l)||(h[`${l}ButtonText`]=a.innerHTML,h[`show${jp(l)}Button`]=!0,a.hasAttribute("color")&&(h[`${l}ButtonColor`]=a.getAttribute("color")),a.hasAttribute("aria-label")&&(h[`${l}ButtonAriaLabel`]=a.getAttribute("aria-label")))}),h},y5=t=>{const h={},e=t.querySelector("swal-image");return e&&(eo(e,["src","width","height","alt"]),e.hasAttribute("src")&&(h.imageUrl=e.getAttribute("src")||void 0),e.hasAttribute("width")&&(h.imageWidth=e.getAttribute("width")||void 0),e.hasAttribute("height")&&(h.imageHeight=e.getAttribute("height")||void 0),e.hasAttribute("alt")&&(h.imageAlt=e.getAttribute("alt")||void 0)),h},v5=t=>{const h={},e=t.querySelector("swal-icon");return e&&(eo(e,["type","color"]),e.hasAttribute("type")&&(h.icon=e.getAttribute("type")),e.hasAttribute("color")&&(h.iconColor=e.getAttribute("color")),h.iconHtml=e.innerHTML),h},x5=t=>{const h={},e=t.querySelector("swal-input");e&&(eo(e,["type","label","placeholder","value"]),h.input=e.getAttribute("type")||"text",e.hasAttribute("label")&&(h.inputLabel=e.getAttribute("label")),e.hasAttribute("placeholder")&&(h.inputPlaceholder=e.getAttribute("placeholder")),e.hasAttribute("value")&&(h.inputValue=e.getAttribute("value")));const a=Array.from(t.querySelectorAll("swal-input-option"));return a.length&&(h.inputOptions={},a.forEach(l=>{eo(l,["value"]);const f=l.getAttribute("value");if(!f)return;const o=l.innerHTML;h.inputOptions[f]=o})),h},w5=(t,h)=>{const e={};for(const a in h){const l=h[a],f=t.querySelector(l);f&&(eo(f,[]),e[l.replace(/^swal-/,"")]=f.innerHTML.trim())}return e},_5=t=>{const h=Ev.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(e=>{const a=e.tagName.toLowerCase();h.includes(a)||un(`Unrecognized element <${a}>`)})},eo=(t,h)=>{Array.from(t.attributes).forEach(e=>{h.indexOf(e.name)===-1&&un([`Unrecognized attribute "${e.name}" on <${t.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},Tv=10,S5=t=>{const h=dn(),e=tr();typeof t.willOpen=="function"&&t.willOpen(e),Tt.eventEmitter.emit("willOpen",e);const l=window.getComputedStyle(document.body).overflowY;k5(h,e,t),setTimeout(()=>{C5(h,e)},Tv),Ap()&&(j5(h,t.scrollbarPadding,l),a6()),!Ku()&&!Tt.previousActiveElement&&(Tt.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(e)),Tt.eventEmitter.emit("didOpen",e),Un(h,Ze["no-transition"])},_u=t=>{const h=tr();if(t.target!==h)return;const e=dn();h.removeEventListener("animationend",_u),h.removeEventListener("transitionend",_u),e.style.overflowY="auto"},C5=(t,h)=>{H1(h)?(t.style.overflowY="hidden",h.addEventListener("animationend",_u),h.addEventListener("transitionend",_u)):t.style.overflowY="auto"},j5=(t,h,e)=>{l6(),h&&e!=="hidden"&&m6(e),setTimeout(()=>{t.scrollTop=0})},k5=(t,h,e)=>{ir(t,e.showClass.backdrop),e.animation?(h.style.setProperty("opacity","0","important"),Hr(h,"grid"),setTimeout(()=>{ir(h,e.showClass.popup),h.style.removeProperty("opacity")},Tv)):Hr(h,"grid"),ir([document.documentElement,document.body],Ze.shown),e.heightAuto&&e.backdrop&&!e.toast&&ir([document.documentElement,document.body],Ze["height-auto"])};var dy={email:(t,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(t,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function E5(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=dy.email),t.input==="url"&&(t.inputValidator=dy.url))}function T5(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(un('Target parameter is not valid, defaulting to "body"'),t.target="body")}function N5(t){E5(t),t.showLoaderOnConfirm&&!t.preConfirm&&un(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),T5(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),v3(t)}let ds;var Oc=new WeakMap;class Nr{constructor(...h){if(G4(this,Oc,void 0),typeof window>"u")return;ds=this;const e=Object.freeze(this.constructor.argsToParams(h));this.params=e,this.isAwaitingPromise=!1,Z4(Oc,this,this._main(ds.params))}_main(h,e={}){if(wv(Object.assign({},e,h)),Tt.currentInstance){const f=Zo.swalPromiseResolve.get(Tt.currentInstance),{isAwaitingPromise:o}=Tt.currentInstance;Tt.currentInstance._destroy(),o||f({isDismissed:!0}),Ap()&&rv()}Tt.currentInstance=ds;const a=R5(h,e);N5(a),Object.freeze(a),Tt.timeout&&(Tt.timeout.stop(),delete Tt.timeout),clearTimeout(Tt.restoreFocusTimeout);const l=A5(ds);return J1(ds,a),yr.innerParams.set(ds,a),M5(ds,l,a)}then(h){return ty(Oc,this).then(h)}finally(h){return ty(Oc,this).finally(h)}}const M5=(t,h,e)=>new Promise((a,l)=>{const f=o=>{t.close({isDismissed:!0,dismiss:o})};Zo.swalPromiseResolve.set(t,a),Zo.swalPromiseReject.set(t,l),h.confirmButton.onclick=()=>{A6(t)},h.denyButton.onclick=()=>{O6(t)},h.cancelButton.onclick=()=>{B6(t,f)},h.closeButton.onclick=()=>{f(ia.close)},K6(e,h,f),e6(Tt,e,f),S6(t,e),S5(e),O5(Tt,e,f),B5(h,e),setTimeout(()=>{h.container.scrollTop=0})}),R5=(t,h)=>{const e=p5(t),a=Object.assign({},Ko,h,e,t);return a.showClass=Object.assign({},Ko.showClass,a.showClass),a.hideClass=Object.assign({},Ko.hideClass,a.hideClass),a.animation===!1&&(a.showClass={backdrop:"swal2-noanimation"},a.hideClass={}),a},A5=t=>{const h={popup:tr(),container:dn(),actions:wl(),confirmButton:ms(),denyButton:so(),cancelButton:na(),loader:sa(),closeButton:Mp(),validationMessage:Hu(),progressSteps:Np()};return yr.domCache.set(t,h),h},O5=(t,h,e)=>{const a=Vu();an(a),h.timer&&(t.timeout=new h5(()=>{e("timer"),delete t.timeout},h.timer),h.timerProgressBar&&(Hr(a),Rn(a,h,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Bp(h.timer)})))},B5=(t,h)=>{if(!h.toast){if(!Uu(h.allowEnterKey)){I1("allowEnterKey"),L5();return}P5(t)||D5(t,h)||Kh(-1,1)}},P5=t=>{const h=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const e of h)if(e instanceof HTMLElement&&xn(e))return e.focus(),!0;return!1},D5=(t,h)=>h.focusDeny&&xn(t.denyButton)?(t.denyButton.focus(),!0):h.focusCancel&&xn(t.cancelButton)?(t.cancelButton.focus(),!0):h.focusConfirm&&xn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,L5=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,h=localStorage.getItem("swal-initiation");h?(t.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout(()=>{e.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}Nr.prototype.disableButtons=hv;Nr.prototype.enableButtons=fv;Nr.prototype.getInput=cv;Nr.prototype.disableInput=mv;Nr.prototype.enableInput=pv;Nr.prototype.hideLoading=xu;Nr.prototype.disableLoading=xu;Nr.prototype.showValidationMessage=gv;Nr.prototype.resetValidationMessage=bv;Nr.prototype.close=vi;Nr.prototype.closePopup=vi;Nr.prototype.closeModal=vi;Nr.prototype.closeToast=vi;Nr.prototype.rejectPromise=iv;Nr.prototype.update=_v;Nr.prototype._destroy=Sv;Object.assign(Nr,f5);Object.keys(V6).forEach(t=>{Nr[t]=function(...h){return ds&&ds[t]?ds[t](...h):null}});Nr.DismissReason=ia;Nr.version="11.22.0";const Se=Nr;Se.default=Se;typeof document<"u"&&function(t,h){var e=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=h);else try{e.innerHTML=h}catch{e.innerText=h}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const I5=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"})),Nv="/assets/MattelLogo.CgoLKQzY.png";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F5=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(h,e,a)=>a?a.toUpperCase():e.toLowerCase()),fy=t=>{const h=F5(t);return h.charAt(0).toUpperCase()+h.slice(1)},Mv=(...t)=>t.filter((h,e,a)=>!!h&&h.trim()!==""&&a.indexOf(h)===e).join(" ").trim(),$5=t=>{for(const h in t)if(h.startsWith("aria-")||h==="role"||h==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=J.forwardRef(({color:t="currentColor",size:h=24,strokeWidth:e=2,absoluteStrokeWidth:a,className:l="",children:f,iconNode:o,...c},s)=>J.createElement("svg",{ref:s,...q5,width:h,height:h,stroke:t,strokeWidth:a?Number(e)*24/Number(h):e,className:Mv("lucide",l),...!f&&!$5(c)&&{"aria-hidden":"true"},...c},[...o.map(([r,i])=>J.createElement(r,i)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=(t,h)=>{const e=J.forwardRef(({className:a,...l},f)=>J.createElement(U5,{ref:f,iconNode:h,className:Mv(`lucide-${z5(fy(t))}`,`lucide-${t}`,a),...l}));return e.displayName=fy(t),e};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],V5=wr("badge-check",H5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Rv=wr("calendar-days",K5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Su=wr("calendar",X5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Av=wr("check",Y5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ov=wr("chevron-down",W5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Z5=wr("circle-alert",G5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wi=wr("circle-check-big",J5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],eS=wr("circle-plus",Q5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bv=wr("clock",tS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Xo=wr("copy",rS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yh=wr("eye-off",nS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wh=wr("eye",sS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Cu=wr("funnel",iS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],aS=wr("hash",oS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Os=wr("info",lS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Gh=wr("lock",cS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],dS=wr("mail",uS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],io=wr("pen-line",fS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Pv=wr("rotate-ccw",hS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Ur=wr("ruler",pS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],As=wr("settings",mS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],oo=wr("trash-2",gS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zh=wr("user",bS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oa=wr("x",yS),vS=({onLoginSuccess:t,onRegisterClick:h})=>{const[e,a]=J.useState(""),[l,f]=J.useState(!1),[o,c]=J.useState(!1),[s,r]=J.useState(!1),[i,b]=J.useState(localStorage.getItem("remember_me")==="true"),[d,u]=J.useState(localStorage.getItem("remembered_employee_id")||""),v=()=>{f(!l)},x=g=>{if(g.preventDefault(),d&&e){const y={employee_id:d,password:e};console.log(" Submitting Login payload:",y),r(!0),mt.post("/api/auth/login",y).then(C=>{console.log(" API Response:",C.data);const E=C.data.token;i?(localStorage.setItem("remembered_employee_id",d),localStorage.setItem("remember_me","true")):(localStorage.removeItem("remembered_employee_id"),localStorage.removeItem("remember_me")),localStorage.setItem("token",E),localStorage.setItem("LMS_User_EmployeeID",d),localStorage.setItem("LMS_remember_log","active"),Se.fire({title:"Login Successful",text:"Welcome back!",icon:"success",confirmButtonText:"OK",customClass:{confirmButton:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},buttonsStyling:!1}).then(()=>{const A=E.split(".")[1],D=atob(A),q=JSON.parse(D),B=q.role||"",z=q.employee_id||"";t(z,B)})}).catch(C=>{var E,A,D;console.error(" API Error:",C),console.log(" err.response.data:",(E=C.response)==null?void 0:E.data),Se.fire({title:"Login Failed",text:((D=(A=C.response)==null?void 0:A.data)==null?void 0:D.message)||"Username or password is incorrect.",icon:"error",confirmButtonText:"Try Again",customClass:{confirmButton:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"},buttonsStyling:!1})}).finally(()=>{r(!1)})}else Se.fire({title:"Missing Fields",text:"Please enter both username and password.",icon:"warning",confirmButtonText:"OK",customClass:{confirmButton:"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600"},buttonsStyling:!1})},m=()=>{h?h():alert("Register clicked!")};return w.jsxs("form",{onSubmit:x,className:"p-8 bg-white shadow-lg rounded-lg w-full max-w-lg",children:[w.jsx("img",{src:Nv,alt:"Logo",className:"mx-auto mb-6 w-40 h-auto"}),w.jsx("h2",{className:"text-2xl text-center font-semibold mb-6",children:"MBK Barbell Data Management"}),w.jsxs("div",{className:"relative mb-4",children:[w.jsx(Zh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),w.jsx("input",{type:"text",value:d,onChange:g=>u(g.target.value),placeholder:"Employee ID",required:!0,className:"w-full pl-10 p-3 border rounded focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),w.jsxs("div",{className:"relative mb-4",children:[w.jsx(Gh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),w.jsx("input",{type:l?"text":"password",value:e,onChange:g=>{a(g.target.value),g.target.value!==""?c(!0):c(!1)},onFocus:()=>c(!0),onBlur:()=>{e===""&&c(!1)},placeholder:"Password",required:!0,className:"w-full pl-10 pr-10 p-3 border rounded focus:outline-none focus:ring-2 focus:ring-blue-600"}),o&&w.jsx("button",{type:"button",onClick:v,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:l?w.jsx(Yh,{className:"w-5 h-5"}):w.jsx(Wh,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"flex items-center mb-4",children:[w.jsx("input",{id:"rememberMe",type:"checkbox",checked:i,onChange:g=>b(g.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),w.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-700 select-none cursor-pointer",children:"Remember Me"})]}),w.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-3 rounded hover:bg-blue-700 transition",children:s?"Signing in...":"Sign in"}),w.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Dont have an account?"," ",w.jsx("button",{type:"button",onClick:m,className:"font-semibold text-blue-600 hover:underline",children:"Register"})]})]})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function xi(t,h){return typeof t=="function"?t(h):t}function An(t,h){return e=>{h.setState(a=>({...a,[t]:xi(e,a[t])}))}}function Yu(t){return t instanceof Function}function xS(t){return Array.isArray(t)&&t.every(h=>typeof h=="number")}function wS(t,h){const e=[],a=l=>{l.forEach(f=>{e.push(f);const o=h(f);o!=null&&o.length&&a(o)})};return a(t),e}function Bt(t,h,e){let a=[],l;return f=>{let o;e.key&&e.debug&&(o=Date.now());const c=t(f);if(!(c.length!==a.length||c.some((i,b)=>a[b]!==i)))return l;a=c;let r;if(e.key&&e.debug&&(r=Date.now()),l=h(...c),e==null||e.onChange==null||e.onChange(l),e.key&&e.debug&&e!=null&&e.debug()){const i=Math.round((Date.now()-o)*100)/100,b=Math.round((Date.now()-r)*100)/100,d=b/16,u=(v,x)=>{for(v=String(v);v.length<x;)v=" "+v;return v};console.info(`%c ${u(b,5)} /${u(i,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*d,120))}deg 100% 31%);`,e==null?void 0:e.key)}return l}}function Pt(t,h,e,a){return{debug:()=>{var l;return(l=t==null?void 0:t.debugAll)!=null?l:t[h]},key:!1,onChange:a}}function _S(t,h,e,a){const l=()=>{var o;return(o=f.getValue())!=null?o:t.options.renderFallbackValue},f={id:`${h.id}_${e.id}`,row:h,column:e,getValue:()=>h.getValue(a),renderValue:l,getContext:Bt(()=>[t,e,h,f],(o,c,s,r)=>({table:o,column:c,row:s,cell:r,getValue:r.getValue,renderValue:r.renderValue}),Pt(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(f,e,h,t)},{}),f}function SS(t,h,e,a){var l,f;const c={...t._getDefaultColumnDef(),...h},s=c.accessorKey;let r=(l=(f=c.id)!=null?f:s?typeof String.prototype.replaceAll=="function"?s.replaceAll(".","_"):s.replace(/\./g,"_"):void 0)!=null?l:typeof c.header=="string"?c.header:void 0,i;if(c.accessorFn?i=c.accessorFn:s&&(s.includes(".")?i=d=>{let u=d;for(const x of s.split(".")){var v;u=(v=u)==null?void 0:v[x]}return u}:i=d=>d[c.accessorKey]),!r)throw new Error;let b={id:`${String(r)}`,accessorFn:i,parent:a,depth:e,columnDef:c,columns:[],getFlatColumns:Bt(()=>[!0],()=>{var d;return[b,...(d=b.columns)==null?void 0:d.flatMap(u=>u.getFlatColumns())]},Pt(t.options,"debugColumns")),getLeafColumns:Bt(()=>[t._getOrderColumnsFn()],d=>{var u;if((u=b.columns)!=null&&u.length){let v=b.columns.flatMap(x=>x.getLeafColumns());return d(v)}return[b]},Pt(t.options,"debugColumns"))};for(const d of t._features)d.createColumn==null||d.createColumn(b,t);return b}const nn="debugHeaders";function hy(t,h,e){var a;let f={id:(a=e.id)!=null?a:h.id,column:h,index:e.index,isPlaceholder:!!e.isPlaceholder,placeholderId:e.placeholderId,depth:e.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],c=s=>{s.subHeaders&&s.subHeaders.length&&s.subHeaders.map(c),o.push(s)};return c(f),o},getContext:()=>({table:t,header:f,column:h})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(f,t)}),f}const CS={createTable:t=>{t.getHeaderGroups=Bt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(h,e,a,l)=>{var f,o;const c=(f=a==null?void 0:a.map(b=>e.find(d=>d.id===b)).filter(Boolean))!=null?f:[],s=(o=l==null?void 0:l.map(b=>e.find(d=>d.id===b)).filter(Boolean))!=null?o:[],r=e.filter(b=>!(a!=null&&a.includes(b.id))&&!(l!=null&&l.includes(b.id)));return Bc(h,[...c,...r,...s],t)},Pt(t.options,nn)),t.getCenterHeaderGroups=Bt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(h,e,a,l)=>(e=e.filter(f=>!(a!=null&&a.includes(f.id))&&!(l!=null&&l.includes(f.id))),Bc(h,e,t,"center")),Pt(t.options,nn)),t.getLeftHeaderGroups=Bt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(h,e,a)=>{var l;const f=(l=a==null?void 0:a.map(o=>e.find(c=>c.id===o)).filter(Boolean))!=null?l:[];return Bc(h,f,t,"left")},Pt(t.options,nn)),t.getRightHeaderGroups=Bt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(h,e,a)=>{var l;const f=(l=a==null?void 0:a.map(o=>e.find(c=>c.id===o)).filter(Boolean))!=null?l:[];return Bc(h,f,t,"right")},Pt(t.options,nn)),t.getFooterGroups=Bt(()=>[t.getHeaderGroups()],h=>[...h].reverse(),Pt(t.options,nn)),t.getLeftFooterGroups=Bt(()=>[t.getLeftHeaderGroups()],h=>[...h].reverse(),Pt(t.options,nn)),t.getCenterFooterGroups=Bt(()=>[t.getCenterHeaderGroups()],h=>[...h].reverse(),Pt(t.options,nn)),t.getRightFooterGroups=Bt(()=>[t.getRightHeaderGroups()],h=>[...h].reverse(),Pt(t.options,nn)),t.getFlatHeaders=Bt(()=>[t.getHeaderGroups()],h=>h.map(e=>e.headers).flat(),Pt(t.options,nn)),t.getLeftFlatHeaders=Bt(()=>[t.getLeftHeaderGroups()],h=>h.map(e=>e.headers).flat(),Pt(t.options,nn)),t.getCenterFlatHeaders=Bt(()=>[t.getCenterHeaderGroups()],h=>h.map(e=>e.headers).flat(),Pt(t.options,nn)),t.getRightFlatHeaders=Bt(()=>[t.getRightHeaderGroups()],h=>h.map(e=>e.headers).flat(),Pt(t.options,nn)),t.getCenterLeafHeaders=Bt(()=>[t.getCenterFlatHeaders()],h=>h.filter(e=>{var a;return!((a=e.subHeaders)!=null&&a.length)}),Pt(t.options,nn)),t.getLeftLeafHeaders=Bt(()=>[t.getLeftFlatHeaders()],h=>h.filter(e=>{var a;return!((a=e.subHeaders)!=null&&a.length)}),Pt(t.options,nn)),t.getRightLeafHeaders=Bt(()=>[t.getRightFlatHeaders()],h=>h.filter(e=>{var a;return!((a=e.subHeaders)!=null&&a.length)}),Pt(t.options,nn)),t.getLeafHeaders=Bt(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(h,e,a)=>{var l,f,o,c,s,r;return[...(l=(f=h[0])==null?void 0:f.headers)!=null?l:[],...(o=(c=e[0])==null?void 0:c.headers)!=null?o:[],...(s=(r=a[0])==null?void 0:r.headers)!=null?s:[]].map(i=>i.getLeafHeaders()).flat()},Pt(t.options,nn))}};function Bc(t,h,e,a){var l,f;let o=0;const c=function(d,u){u===void 0&&(u=1),o=Math.max(o,u),d.filter(v=>v.getIsVisible()).forEach(v=>{var x;(x=v.columns)!=null&&x.length&&c(v.columns,u+1)},0)};c(t);let s=[];const r=(d,u)=>{const v={depth:u,id:[a,`${u}`].filter(Boolean).join("_"),headers:[]},x=[];d.forEach(m=>{const g=[...x].reverse()[0],y=m.column.depth===v.depth;let C,E=!1;if(y&&m.column.parent?C=m.column.parent:(C=m.column,E=!0),g&&(g==null?void 0:g.column)===C)g.subHeaders.push(m);else{const A=hy(e,C,{id:[a,u,C.id,m==null?void 0:m.id].filter(Boolean).join("_"),isPlaceholder:E,placeholderId:E?`${x.filter(D=>D.column===C).length}`:void 0,depth:u,index:x.length});A.subHeaders.push(m),x.push(A)}v.headers.push(m),m.headerGroup=v}),s.push(v),u>0&&r(x,u-1)},i=h.map((d,u)=>hy(e,d,{depth:o,index:u}));r(i,o-1),s.reverse();const b=d=>d.filter(v=>v.column.getIsVisible()).map(v=>{let x=0,m=0,g=[0];v.subHeaders&&v.subHeaders.length?(g=[],b(v.subHeaders).forEach(C=>{let{colSpan:E,rowSpan:A}=C;x+=E,g.push(A)})):x=1;const y=Math.min(...g);return m=m+y,v.colSpan=x,v.rowSpan=m,{colSpan:x,rowSpan:m}});return b((l=(f=s[0])==null?void 0:f.headers)!=null?l:[]),s}const jS=(t,h,e,a,l,f,o)=>{let c={id:h,index:a,original:e,depth:l,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:s=>{if(c._valuesCache.hasOwnProperty(s))return c._valuesCache[s];const r=t.getColumn(s);if(r!=null&&r.accessorFn)return c._valuesCache[s]=r.accessorFn(c.original,a),c._valuesCache[s]},getUniqueValues:s=>{if(c._uniqueValuesCache.hasOwnProperty(s))return c._uniqueValuesCache[s];const r=t.getColumn(s);if(r!=null&&r.accessorFn)return r.columnDef.getUniqueValues?(c._uniqueValuesCache[s]=r.columnDef.getUniqueValues(c.original,a),c._uniqueValuesCache[s]):(c._uniqueValuesCache[s]=[c.getValue(s)],c._uniqueValuesCache[s])},renderValue:s=>{var r;return(r=c.getValue(s))!=null?r:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>wS(c.subRows,s=>s.subRows),getParentRow:()=>c.parentId?t.getRow(c.parentId,!0):void 0,getParentRows:()=>{let s=[],r=c;for(;;){const i=r.getParentRow();if(!i)break;s.push(i),r=i}return s.reverse()},getAllCells:Bt(()=>[t.getAllLeafColumns()],s=>s.map(r=>_S(t,c,r,r.id)),Pt(t.options,"debugRows")),_getAllCellsByColumnId:Bt(()=>[c.getAllCells()],s=>s.reduce((r,i)=>(r[i.column.id]=i,r),{}),Pt(t.options,"debugRows"))};for(let s=0;s<t._features.length;s++){const r=t._features[s];r==null||r.createRow==null||r.createRow(c,t)}return c},kS={createColumn:(t,h)=>{t._getFacetedRowModel=h.options.getFacetedRowModel&&h.options.getFacetedRowModel(h,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():h.getPreFilteredRowModel(),t._getFacetedUniqueValues=h.options.getFacetedUniqueValues&&h.options.getFacetedUniqueValues(h,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=h.options.getFacetedMinMaxValues&&h.options.getFacetedMinMaxValues(h,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},Dv=(t,h,e)=>{var a,l;const f=e==null||(a=e.toString())==null?void 0:a.toLowerCase();return!!(!((l=t.getValue(h))==null||(l=l.toString())==null||(l=l.toLowerCase())==null)&&l.includes(f))};Dv.autoRemove=t=>Qn(t);const Lv=(t,h,e)=>{var a;return!!(!((a=t.getValue(h))==null||(a=a.toString())==null)&&a.includes(e))};Lv.autoRemove=t=>Qn(t);const Iv=(t,h,e)=>{var a;return((a=t.getValue(h))==null||(a=a.toString())==null?void 0:a.toLowerCase())===(e==null?void 0:e.toLowerCase())};Iv.autoRemove=t=>Qn(t);const zv=(t,h,e)=>{var a;return(a=t.getValue(h))==null?void 0:a.includes(e)};zv.autoRemove=t=>Qn(t);const Fv=(t,h,e)=>!e.some(a=>{var l;return!((l=t.getValue(h))!=null&&l.includes(a))});Fv.autoRemove=t=>Qn(t)||!(t!=null&&t.length);const $v=(t,h,e)=>e.some(a=>{var l;return(l=t.getValue(h))==null?void 0:l.includes(a)});$v.autoRemove=t=>Qn(t)||!(t!=null&&t.length);const qv=(t,h,e)=>t.getValue(h)===e;qv.autoRemove=t=>Qn(t);const Uv=(t,h,e)=>t.getValue(h)==e;Uv.autoRemove=t=>Qn(t);const Fp=(t,h,e)=>{let[a,l]=e;const f=t.getValue(h);return f>=a&&f<=l};Fp.resolveFilterValue=t=>{let[h,e]=t,a=typeof h!="number"?parseFloat(h):h,l=typeof e!="number"?parseFloat(e):e,f=h===null||Number.isNaN(a)?-1/0:a,o=e===null||Number.isNaN(l)?1/0:l;if(f>o){const c=f;f=o,o=c}return[f,o]};Fp.autoRemove=t=>Qn(t)||Qn(t[0])&&Qn(t[1]);const Rs={includesString:Dv,includesStringSensitive:Lv,equalsString:Iv,arrIncludes:zv,arrIncludesAll:Fv,arrIncludesSome:$v,equals:qv,weakEquals:Uv,inNumberRange:Fp};function Qn(t){return t==null||t===""}const ES={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:An("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,h)=>{t.getAutoFilterFn=()=>{const e=h.getCoreRowModel().flatRows[0],a=e==null?void 0:e.getValue(t.id);return typeof a=="string"?Rs.includesString:typeof a=="number"?Rs.inNumberRange:typeof a=="boolean"||a!==null&&typeof a=="object"?Rs.equals:Array.isArray(a)?Rs.arrIncludes:Rs.weakEquals},t.getFilterFn=()=>{var e,a;return Yu(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(e=(a=h.options.filterFns)==null?void 0:a[t.columnDef.filterFn])!=null?e:Rs[t.columnDef.filterFn]},t.getCanFilter=()=>{var e,a,l;return((e=t.columnDef.enableColumnFilter)!=null?e:!0)&&((a=h.options.enableColumnFilters)!=null?a:!0)&&((l=h.options.enableFilters)!=null?l:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var e;return(e=h.getState().columnFilters)==null||(e=e.find(a=>a.id===t.id))==null?void 0:e.value},t.getFilterIndex=()=>{var e,a;return(e=(a=h.getState().columnFilters)==null?void 0:a.findIndex(l=>l.id===t.id))!=null?e:-1},t.setFilterValue=e=>{h.setColumnFilters(a=>{const l=t.getFilterFn(),f=a==null?void 0:a.find(i=>i.id===t.id),o=xi(e,f?f.value:void 0);if(py(l,o,t)){var c;return(c=a==null?void 0:a.filter(i=>i.id!==t.id))!=null?c:[]}const s={id:t.id,value:o};if(f){var r;return(r=a==null?void 0:a.map(i=>i.id===t.id?s:i))!=null?r:[]}return a!=null&&a.length?[...a,s]:[s]})}},createRow:(t,h)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=h=>{const e=t.getAllLeafColumns(),a=l=>{var f;return(f=xi(h,l))==null?void 0:f.filter(o=>{const c=e.find(s=>s.id===o.id);if(c){const s=c.getFilterFn();if(py(s,o.value,c))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(a)},t.resetColumnFilters=h=>{var e,a;t.setColumnFilters(h?[]:(e=(a=t.initialState)==null?void 0:a.columnFilters)!=null?e:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function py(t,h,e){return(t&&t.autoRemove?t.autoRemove(h,e):!1)||typeof h>"u"||typeof h=="string"&&!h}const TS=(t,h,e)=>e.reduce((a,l)=>{const f=l.getValue(t);return a+(typeof f=="number"?f:0)},0),NS=(t,h,e)=>{let a;return e.forEach(l=>{const f=l.getValue(t);f!=null&&(a>f||a===void 0&&f>=f)&&(a=f)}),a},MS=(t,h,e)=>{let a;return e.forEach(l=>{const f=l.getValue(t);f!=null&&(a<f||a===void 0&&f>=f)&&(a=f)}),a},RS=(t,h,e)=>{let a,l;return e.forEach(f=>{const o=f.getValue(t);o!=null&&(a===void 0?o>=o&&(a=l=o):(a>o&&(a=o),l<o&&(l=o)))}),[a,l]},AS=(t,h)=>{let e=0,a=0;if(h.forEach(l=>{let f=l.getValue(t);f!=null&&(f=+f)>=f&&(++e,a+=f)}),e)return a/e},OS=(t,h)=>{if(!h.length)return;const e=h.map(f=>f.getValue(t));if(!xS(e))return;if(e.length===1)return e[0];const a=Math.floor(e.length/2),l=e.sort((f,o)=>f-o);return e.length%2!==0?l[a]:(l[a-1]+l[a])/2},BS=(t,h)=>Array.from(new Set(h.map(e=>e.getValue(t))).values()),PS=(t,h)=>new Set(h.map(e=>e.getValue(t))).size,DS=(t,h)=>h.length,ph={sum:TS,min:NS,max:MS,extent:RS,mean:AS,median:OS,unique:BS,uniqueCount:PS,count:DS},LS={getDefaultColumnDef:()=>({aggregatedCell:t=>{var h,e;return(h=(e=t.getValue())==null||e.toString==null?void 0:e.toString())!=null?h:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:An("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,h)=>{t.toggleGrouping=()=>{h.setGrouping(e=>e!=null&&e.includes(t.id)?e.filter(a=>a!==t.id):[...e??[],t.id])},t.getCanGroup=()=>{var e,a;return((e=t.columnDef.enableGrouping)!=null?e:!0)&&((a=h.options.enableGrouping)!=null?a:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var e;return(e=h.getState().grouping)==null?void 0:e.includes(t.id)},t.getGroupedIndex=()=>{var e;return(e=h.getState().grouping)==null?void 0:e.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const e=t.getCanGroup();return()=>{e&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const e=h.getCoreRowModel().flatRows[0],a=e==null?void 0:e.getValue(t.id);if(typeof a=="number")return ph.sum;if(Object.prototype.toString.call(a)==="[object Date]")return ph.extent},t.getAggregationFn=()=>{var e,a;if(!t)throw new Error;return Yu(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(e=(a=h.options.aggregationFns)==null?void 0:a[t.columnDef.aggregationFn])!=null?e:ph[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=h=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(h),t.resetGrouping=h=>{var e,a;t.setGrouping(h?[]:(e=(a=t.initialState)==null?void 0:a.grouping)!=null?e:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,h)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=e=>{if(t._groupingValuesCache.hasOwnProperty(e))return t._groupingValuesCache[e];const a=h.getColumn(e);return a!=null&&a.columnDef.getGroupingValue?(t._groupingValuesCache[e]=a.columnDef.getGroupingValue(t.original),t._groupingValuesCache[e]):t.getValue(e)},t._groupingValuesCache={}},createCell:(t,h,e,a)=>{t.getIsGrouped=()=>h.getIsGrouped()&&h.id===e.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&h.getIsGrouped(),t.getIsAggregated=()=>{var l;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((l=e.subRows)!=null&&l.length)}}};function IS(t,h,e){if(!(h!=null&&h.length)||!e)return t;const a=t.filter(f=>!h.includes(f.id));return e==="remove"?a:[...h.map(f=>t.find(o=>o.id===f)).filter(Boolean),...a]}const zS={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:An("columnOrder",t)}),createColumn:(t,h)=>{t.getIndex=Bt(e=>[dl(h,e)],e=>e.findIndex(a=>a.id===t.id),Pt(h.options,"debugColumns")),t.getIsFirstColumn=e=>{var a;return((a=dl(h,e)[0])==null?void 0:a.id)===t.id},t.getIsLastColumn=e=>{var a;const l=dl(h,e);return((a=l[l.length-1])==null?void 0:a.id)===t.id}},createTable:t=>{t.setColumnOrder=h=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(h),t.resetColumnOrder=h=>{var e;t.setColumnOrder(h?[]:(e=t.initialState.columnOrder)!=null?e:[])},t._getOrderColumnsFn=Bt(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(h,e,a)=>l=>{let f=[];if(!(h!=null&&h.length))f=l;else{const o=[...h],c=[...l];for(;c.length&&o.length;){const s=o.shift(),r=c.findIndex(i=>i.id===s);r>-1&&f.push(c.splice(r,1)[0])}f=[...f,...c]}return IS(f,e,a)},Pt(t.options,"debugTable"))}},mh=()=>({left:[],right:[]}),FS={getInitialState:t=>({columnPinning:mh(),...t}),getDefaultOptions:t=>({onColumnPinningChange:An("columnPinning",t)}),createColumn:(t,h)=>{t.pin=e=>{const a=t.getLeafColumns().map(l=>l.id).filter(Boolean);h.setColumnPinning(l=>{var f,o;if(e==="right"){var c,s;return{left:((c=l==null?void 0:l.left)!=null?c:[]).filter(b=>!(a!=null&&a.includes(b))),right:[...((s=l==null?void 0:l.right)!=null?s:[]).filter(b=>!(a!=null&&a.includes(b))),...a]}}if(e==="left"){var r,i;return{left:[...((r=l==null?void 0:l.left)!=null?r:[]).filter(b=>!(a!=null&&a.includes(b))),...a],right:((i=l==null?void 0:l.right)!=null?i:[]).filter(b=>!(a!=null&&a.includes(b)))}}return{left:((f=l==null?void 0:l.left)!=null?f:[]).filter(b=>!(a!=null&&a.includes(b))),right:((o=l==null?void 0:l.right)!=null?o:[]).filter(b=>!(a!=null&&a.includes(b)))}})},t.getCanPin=()=>t.getLeafColumns().some(a=>{var l,f,o;return((l=a.columnDef.enablePinning)!=null?l:!0)&&((f=(o=h.options.enableColumnPinning)!=null?o:h.options.enablePinning)!=null?f:!0)}),t.getIsPinned=()=>{const e=t.getLeafColumns().map(c=>c.id),{left:a,right:l}=h.getState().columnPinning,f=e.some(c=>a==null?void 0:a.includes(c)),o=e.some(c=>l==null?void 0:l.includes(c));return f?"left":o?"right":!1},t.getPinnedIndex=()=>{var e,a;const l=t.getIsPinned();return l?(e=(a=h.getState().columnPinning)==null||(a=a[l])==null?void 0:a.indexOf(t.id))!=null?e:-1:0}},createRow:(t,h)=>{t.getCenterVisibleCells=Bt(()=>[t._getAllVisibleCells(),h.getState().columnPinning.left,h.getState().columnPinning.right],(e,a,l)=>{const f=[...a??[],...l??[]];return e.filter(o=>!f.includes(o.column.id))},Pt(h.options,"debugRows")),t.getLeftVisibleCells=Bt(()=>[t._getAllVisibleCells(),h.getState().columnPinning.left],(e,a)=>(a??[]).map(f=>e.find(o=>o.column.id===f)).filter(Boolean).map(f=>({...f,position:"left"})),Pt(h.options,"debugRows")),t.getRightVisibleCells=Bt(()=>[t._getAllVisibleCells(),h.getState().columnPinning.right],(e,a)=>(a??[]).map(f=>e.find(o=>o.column.id===f)).filter(Boolean).map(f=>({...f,position:"right"})),Pt(h.options,"debugRows"))},createTable:t=>{t.setColumnPinning=h=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(h),t.resetColumnPinning=h=>{var e,a;return t.setColumnPinning(h?mh():(e=(a=t.initialState)==null?void 0:a.columnPinning)!=null?e:mh())},t.getIsSomeColumnsPinned=h=>{var e;const a=t.getState().columnPinning;if(!h){var l,f;return!!((l=a.left)!=null&&l.length||(f=a.right)!=null&&f.length)}return!!((e=a[h])!=null&&e.length)},t.getLeftLeafColumns=Bt(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(h,e)=>(e??[]).map(a=>h.find(l=>l.id===a)).filter(Boolean),Pt(t.options,"debugColumns")),t.getRightLeafColumns=Bt(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(h,e)=>(e??[]).map(a=>h.find(l=>l.id===a)).filter(Boolean),Pt(t.options,"debugColumns")),t.getCenterLeafColumns=Bt(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(h,e,a)=>{const l=[...e??[],...a??[]];return h.filter(f=>!l.includes(f.id))},Pt(t.options,"debugColumns"))}};function $S(t){return t||(typeof document<"u"?document:null)}const Pc={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},gh=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),qS={getDefaultColumnDef:()=>Pc,getInitialState:t=>({columnSizing:{},columnSizingInfo:gh(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:An("columnSizing",t),onColumnSizingInfoChange:An("columnSizingInfo",t)}),createColumn:(t,h)=>{t.getSize=()=>{var e,a,l;const f=h.getState().columnSizing[t.id];return Math.min(Math.max((e=t.columnDef.minSize)!=null?e:Pc.minSize,(a=f??t.columnDef.size)!=null?a:Pc.size),(l=t.columnDef.maxSize)!=null?l:Pc.maxSize)},t.getStart=Bt(e=>[e,dl(h,e),h.getState().columnSizing],(e,a)=>a.slice(0,t.getIndex(e)).reduce((l,f)=>l+f.getSize(),0),Pt(h.options,"debugColumns")),t.getAfter=Bt(e=>[e,dl(h,e),h.getState().columnSizing],(e,a)=>a.slice(t.getIndex(e)+1).reduce((l,f)=>l+f.getSize(),0),Pt(h.options,"debugColumns")),t.resetSize=()=>{h.setColumnSizing(e=>{let{[t.id]:a,...l}=e;return l})},t.getCanResize=()=>{var e,a;return((e=t.columnDef.enableResizing)!=null?e:!0)&&((a=h.options.enableColumnResizing)!=null?a:!0)},t.getIsResizing=()=>h.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,h)=>{t.getSize=()=>{let e=0;const a=l=>{if(l.subHeaders.length)l.subHeaders.forEach(a);else{var f;e+=(f=l.column.getSize())!=null?f:0}};return a(t),e},t.getStart=()=>{if(t.index>0){const e=t.headerGroup.headers[t.index-1];return e.getStart()+e.getSize()}return 0},t.getResizeHandler=e=>{const a=h.getColumn(t.column.id),l=a==null?void 0:a.getCanResize();return f=>{if(!a||!l||(f.persist==null||f.persist(),bh(f)&&f.touches&&f.touches.length>1))return;const o=t.getSize(),c=t?t.getLeafHeaders().map(g=>[g.column.id,g.column.getSize()]):[[a.id,a.getSize()]],s=bh(f)?Math.round(f.touches[0].clientX):f.clientX,r={},i=(g,y)=>{typeof y=="number"&&(h.setColumnSizingInfo(C=>{var E,A;const D=h.options.columnResizeDirection==="rtl"?-1:1,q=(y-((E=C==null?void 0:C.startOffset)!=null?E:0))*D,B=Math.max(q/((A=C==null?void 0:C.startSize)!=null?A:0),-.999999);return C.columnSizingStart.forEach(z=>{let[K,Y]=z;r[K]=Math.round(Math.max(Y+Y*B,0)*100)/100}),{...C,deltaOffset:q,deltaPercentage:B}}),(h.options.columnResizeMode==="onChange"||g==="end")&&h.setColumnSizing(C=>({...C,...r})))},b=g=>i("move",g),d=g=>{i("end",g),h.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},u=$S(e),v={moveHandler:g=>b(g.clientX),upHandler:g=>{u==null||u.removeEventListener("mousemove",v.moveHandler),u==null||u.removeEventListener("mouseup",v.upHandler),d(g.clientX)}},x={moveHandler:g=>(g.cancelable&&(g.preventDefault(),g.stopPropagation()),b(g.touches[0].clientX),!1),upHandler:g=>{var y;u==null||u.removeEventListener("touchmove",x.moveHandler),u==null||u.removeEventListener("touchend",x.upHandler),g.cancelable&&(g.preventDefault(),g.stopPropagation()),d((y=g.touches[0])==null?void 0:y.clientX)}},m=US()?{passive:!1}:!1;bh(f)?(u==null||u.addEventListener("touchmove",x.moveHandler,m),u==null||u.addEventListener("touchend",x.upHandler,m)):(u==null||u.addEventListener("mousemove",v.moveHandler,m),u==null||u.addEventListener("mouseup",v.upHandler,m)),h.setColumnSizingInfo(g=>({...g,startOffset:s,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:a.id}))}}},createTable:t=>{t.setColumnSizing=h=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(h),t.setColumnSizingInfo=h=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(h),t.resetColumnSizing=h=>{var e;t.setColumnSizing(h?{}:(e=t.initialState.columnSizing)!=null?e:{})},t.resetHeaderSizeInfo=h=>{var e;t.setColumnSizingInfo(h?gh():(e=t.initialState.columnSizingInfo)!=null?e:gh())},t.getTotalSize=()=>{var h,e;return(h=(e=t.getHeaderGroups()[0])==null?void 0:e.headers.reduce((a,l)=>a+l.getSize(),0))!=null?h:0},t.getLeftTotalSize=()=>{var h,e;return(h=(e=t.getLeftHeaderGroups()[0])==null?void 0:e.headers.reduce((a,l)=>a+l.getSize(),0))!=null?h:0},t.getCenterTotalSize=()=>{var h,e;return(h=(e=t.getCenterHeaderGroups()[0])==null?void 0:e.headers.reduce((a,l)=>a+l.getSize(),0))!=null?h:0},t.getRightTotalSize=()=>{var h,e;return(h=(e=t.getRightHeaderGroups()[0])==null?void 0:e.headers.reduce((a,l)=>a+l.getSize(),0))!=null?h:0}}};let Dc=null;function US(){if(typeof Dc=="boolean")return Dc;let t=!1;try{const h={get passive(){return t=!0,!1}},e=()=>{};window.addEventListener("test",e,h),window.removeEventListener("test",e)}catch{t=!1}return Dc=t,Dc}function bh(t){return t.type==="touchstart"}const HS={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:An("columnVisibility",t)}),createColumn:(t,h)=>{t.toggleVisibility=e=>{t.getCanHide()&&h.setColumnVisibility(a=>({...a,[t.id]:e??!t.getIsVisible()}))},t.getIsVisible=()=>{var e,a;const l=t.columns;return(e=l.length?l.some(f=>f.getIsVisible()):(a=h.getState().columnVisibility)==null?void 0:a[t.id])!=null?e:!0},t.getCanHide=()=>{var e,a;return((e=t.columnDef.enableHiding)!=null?e:!0)&&((a=h.options.enableHiding)!=null?a:!0)},t.getToggleVisibilityHandler=()=>e=>{t.toggleVisibility==null||t.toggleVisibility(e.target.checked)}},createRow:(t,h)=>{t._getAllVisibleCells=Bt(()=>[t.getAllCells(),h.getState().columnVisibility],e=>e.filter(a=>a.column.getIsVisible()),Pt(h.options,"debugRows")),t.getVisibleCells=Bt(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(e,a,l)=>[...e,...a,...l],Pt(h.options,"debugRows"))},createTable:t=>{const h=(e,a)=>Bt(()=>[a(),a().filter(l=>l.getIsVisible()).map(l=>l.id).join("_")],l=>l.filter(f=>f.getIsVisible==null?void 0:f.getIsVisible()),Pt(t.options,"debugColumns"));t.getVisibleFlatColumns=h("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=h("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=h("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=h("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=h("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=e=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(e),t.resetColumnVisibility=e=>{var a;t.setColumnVisibility(e?{}:(a=t.initialState.columnVisibility)!=null?a:{})},t.toggleAllColumnsVisible=e=>{var a;e=(a=e)!=null?a:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((l,f)=>({...l,[f.id]:e||!(f.getCanHide!=null&&f.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(e=>!(e.getIsVisible!=null&&e.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(e=>e.getIsVisible==null?void 0:e.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>e=>{var a;t.toggleAllColumnsVisible((a=e.target)==null?void 0:a.checked)}}};function dl(t,h){return h?h==="center"?t.getCenterVisibleLeafColumns():h==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const VS={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},KS={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:An("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:h=>{var e;const a=(e=t.getCoreRowModel().flatRows[0])==null||(e=e._getAllCellsByColumnId()[h.id])==null?void 0:e.getValue();return typeof a=="string"||typeof a=="number"}}),createColumn:(t,h)=>{t.getCanGlobalFilter=()=>{var e,a,l,f;return((e=t.columnDef.enableGlobalFilter)!=null?e:!0)&&((a=h.options.enableGlobalFilter)!=null?a:!0)&&((l=h.options.enableFilters)!=null?l:!0)&&((f=h.options.getColumnCanGlobalFilter==null?void 0:h.options.getColumnCanGlobalFilter(t))!=null?f:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Rs.includesString,t.getGlobalFilterFn=()=>{var h,e;const{globalFilterFn:a}=t.options;return Yu(a)?a:a==="auto"?t.getGlobalAutoFilterFn():(h=(e=t.options.filterFns)==null?void 0:e[a])!=null?h:Rs[a]},t.setGlobalFilter=h=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(h)},t.resetGlobalFilter=h=>{t.setGlobalFilter(h?void 0:t.initialState.globalFilter)}}},XS={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:An("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let h=!1,e=!1;t._autoResetExpanded=()=>{var a,l;if(!h){t._queue(()=>{h=!0});return}if((a=(l=t.options.autoResetAll)!=null?l:t.options.autoResetExpanded)!=null?a:!t.options.manualExpanding){if(e)return;e=!0,t._queue(()=>{t.resetExpanded(),e=!1})}},t.setExpanded=a=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(a),t.toggleAllRowsExpanded=a=>{a??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=a=>{var l,f;t.setExpanded(a?{}:(l=(f=t.initialState)==null?void 0:f.expanded)!=null?l:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(a=>a.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>a=>{a.persist==null||a.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const a=t.getState().expanded;return a===!0||Object.values(a).some(Boolean)},t.getIsAllRowsExpanded=()=>{const a=t.getState().expanded;return typeof a=="boolean"?a===!0:!(!Object.keys(a).length||t.getRowModel().flatRows.some(l=>!l.getIsExpanded()))},t.getExpandedDepth=()=>{let a=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(f=>{const o=f.split(".");a=Math.max(a,o.length)}),a},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,h)=>{t.toggleExpanded=e=>{h.setExpanded(a=>{var l;const f=a===!0?!0:!!(a!=null&&a[t.id]);let o={};if(a===!0?Object.keys(h.getRowModel().rowsById).forEach(c=>{o[c]=!0}):o=a,e=(l=e)!=null?l:!f,!f&&e)return{...o,[t.id]:!0};if(f&&!e){const{[t.id]:c,...s}=o;return s}return a})},t.getIsExpanded=()=>{var e;const a=h.getState().expanded;return!!((e=h.options.getIsRowExpanded==null?void 0:h.options.getIsRowExpanded(t))!=null?e:a===!0||a!=null&&a[t.id])},t.getCanExpand=()=>{var e,a,l;return(e=h.options.getRowCanExpand==null?void 0:h.options.getRowCanExpand(t))!=null?e:((a=h.options.enableExpanding)!=null?a:!0)&&!!((l=t.subRows)!=null&&l.length)},t.getIsAllParentsExpanded=()=>{let e=!0,a=t;for(;e&&a.parentId;)a=h.getRow(a.parentId,!0),e=a.getIsExpanded();return e},t.getToggleExpandedHandler=()=>{const e=t.getCanExpand();return()=>{e&&t.toggleExpanded()}}}},Jh=0,Qh=10,yh=()=>({pageIndex:Jh,pageSize:Qh}),YS={getInitialState:t=>({...t,pagination:{...yh(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:An("pagination",t)}),createTable:t=>{let h=!1,e=!1;t._autoResetPageIndex=()=>{var a,l;if(!h){t._queue(()=>{h=!0});return}if((a=(l=t.options.autoResetAll)!=null?l:t.options.autoResetPageIndex)!=null?a:!t.options.manualPagination){if(e)return;e=!0,t._queue(()=>{t.resetPageIndex(),e=!1})}},t.setPagination=a=>{const l=f=>xi(a,f);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(l)},t.resetPagination=a=>{var l;t.setPagination(a?yh():(l=t.initialState.pagination)!=null?l:yh())},t.setPageIndex=a=>{t.setPagination(l=>{let f=xi(a,l.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return f=Math.max(0,Math.min(f,o)),{...l,pageIndex:f}})},t.resetPageIndex=a=>{var l,f;t.setPageIndex(a?Jh:(l=(f=t.initialState)==null||(f=f.pagination)==null?void 0:f.pageIndex)!=null?l:Jh)},t.resetPageSize=a=>{var l,f;t.setPageSize(a?Qh:(l=(f=t.initialState)==null||(f=f.pagination)==null?void 0:f.pageSize)!=null?l:Qh)},t.setPageSize=a=>{t.setPagination(l=>{const f=Math.max(1,xi(a,l.pageSize)),o=l.pageSize*l.pageIndex,c=Math.floor(o/f);return{...l,pageIndex:c,pageSize:f}})},t.setPageCount=a=>t.setPagination(l=>{var f;let o=xi(a,(f=t.options.pageCount)!=null?f:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...l,pageCount:o}}),t.getPageOptions=Bt(()=>[t.getPageCount()],a=>{let l=[];return a&&a>0&&(l=[...new Array(a)].fill(null).map((f,o)=>o)),l},Pt(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:a}=t.getState().pagination,l=t.getPageCount();return l===-1?!0:l===0?!1:a<l-1},t.previousPage=()=>t.setPageIndex(a=>a-1),t.nextPage=()=>t.setPageIndex(a=>a+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var a;return(a=t.options.pageCount)!=null?a:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var a;return(a=t.options.rowCount)!=null?a:t.getPrePaginationRowModel().rows.length}}},vh=()=>({top:[],bottom:[]}),WS={getInitialState:t=>({rowPinning:vh(),...t}),getDefaultOptions:t=>({onRowPinningChange:An("rowPinning",t)}),createRow:(t,h)=>{t.pin=(e,a,l)=>{const f=a?t.getLeafRows().map(s=>{let{id:r}=s;return r}):[],o=l?t.getParentRows().map(s=>{let{id:r}=s;return r}):[],c=new Set([...o,t.id,...f]);h.setRowPinning(s=>{var r,i;if(e==="bottom"){var b,d;return{top:((b=s==null?void 0:s.top)!=null?b:[]).filter(x=>!(c!=null&&c.has(x))),bottom:[...((d=s==null?void 0:s.bottom)!=null?d:[]).filter(x=>!(c!=null&&c.has(x))),...Array.from(c)]}}if(e==="top"){var u,v;return{top:[...((u=s==null?void 0:s.top)!=null?u:[]).filter(x=>!(c!=null&&c.has(x))),...Array.from(c)],bottom:((v=s==null?void 0:s.bottom)!=null?v:[]).filter(x=>!(c!=null&&c.has(x)))}}return{top:((r=s==null?void 0:s.top)!=null?r:[]).filter(x=>!(c!=null&&c.has(x))),bottom:((i=s==null?void 0:s.bottom)!=null?i:[]).filter(x=>!(c!=null&&c.has(x)))}})},t.getCanPin=()=>{var e;const{enableRowPinning:a,enablePinning:l}=h.options;return typeof a=="function"?a(t):(e=a??l)!=null?e:!0},t.getIsPinned=()=>{const e=[t.id],{top:a,bottom:l}=h.getState().rowPinning,f=e.some(c=>a==null?void 0:a.includes(c)),o=e.some(c=>l==null?void 0:l.includes(c));return f?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var e,a;const l=t.getIsPinned();if(!l)return-1;const f=(e=l==="top"?h.getTopRows():h.getBottomRows())==null?void 0:e.map(o=>{let{id:c}=o;return c});return(a=f==null?void 0:f.indexOf(t.id))!=null?a:-1}},createTable:t=>{t.setRowPinning=h=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(h),t.resetRowPinning=h=>{var e,a;return t.setRowPinning(h?vh():(e=(a=t.initialState)==null?void 0:a.rowPinning)!=null?e:vh())},t.getIsSomeRowsPinned=h=>{var e;const a=t.getState().rowPinning;if(!h){var l,f;return!!((l=a.top)!=null&&l.length||(f=a.bottom)!=null&&f.length)}return!!((e=a[h])!=null&&e.length)},t._getPinnedRows=(h,e,a)=>{var l;return((l=t.options.keepPinnedRows)==null||l?(e??[]).map(o=>{const c=t.getRow(o,!0);return c.getIsAllParentsExpanded()?c:null}):(e??[]).map(o=>h.find(c=>c.id===o))).filter(Boolean).map(o=>({...o,position:a}))},t.getTopRows=Bt(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(h,e)=>t._getPinnedRows(h,e,"top"),Pt(t.options,"debugRows")),t.getBottomRows=Bt(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(h,e)=>t._getPinnedRows(h,e,"bottom"),Pt(t.options,"debugRows")),t.getCenterRows=Bt(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(h,e,a)=>{const l=new Set([...e??[],...a??[]]);return h.filter(f=>!l.has(f.id))},Pt(t.options,"debugRows"))}},GS={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:An("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=h=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(h),t.resetRowSelection=h=>{var e;return t.setRowSelection(h?{}:(e=t.initialState.rowSelection)!=null?e:{})},t.toggleAllRowsSelected=h=>{t.setRowSelection(e=>{h=typeof h<"u"?h:!t.getIsAllRowsSelected();const a={...e},l=t.getPreGroupedRowModel().flatRows;return h?l.forEach(f=>{f.getCanSelect()&&(a[f.id]=!0)}):l.forEach(f=>{delete a[f.id]}),a})},t.toggleAllPageRowsSelected=h=>t.setRowSelection(e=>{const a=typeof h<"u"?h:!t.getIsAllPageRowsSelected(),l={...e};return t.getRowModel().rows.forEach(f=>{ep(l,f.id,a,!0,t)}),l}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Bt(()=>[t.getState().rowSelection,t.getCoreRowModel()],(h,e)=>Object.keys(h).length?xh(t,e):{rows:[],flatRows:[],rowsById:{}},Pt(t.options,"debugTable")),t.getFilteredSelectedRowModel=Bt(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(h,e)=>Object.keys(h).length?xh(t,e):{rows:[],flatRows:[],rowsById:{}},Pt(t.options,"debugTable")),t.getGroupedSelectedRowModel=Bt(()=>[t.getState().rowSelection,t.getSortedRowModel()],(h,e)=>Object.keys(h).length?xh(t,e):{rows:[],flatRows:[],rowsById:{}},Pt(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const h=t.getFilteredRowModel().flatRows,{rowSelection:e}=t.getState();let a=!!(h.length&&Object.keys(e).length);return a&&h.some(l=>l.getCanSelect()&&!e[l.id])&&(a=!1),a},t.getIsAllPageRowsSelected=()=>{const h=t.getPaginationRowModel().flatRows.filter(l=>l.getCanSelect()),{rowSelection:e}=t.getState();let a=!!h.length;return a&&h.some(l=>!e[l.id])&&(a=!1),a},t.getIsSomeRowsSelected=()=>{var h;const e=Object.keys((h=t.getState().rowSelection)!=null?h:{}).length;return e>0&&e<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const h=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:h.filter(e=>e.getCanSelect()).some(e=>e.getIsSelected()||e.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>h=>{t.toggleAllRowsSelected(h.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>h=>{t.toggleAllPageRowsSelected(h.target.checked)}},createRow:(t,h)=>{t.toggleSelected=(e,a)=>{const l=t.getIsSelected();h.setRowSelection(f=>{var o;if(e=typeof e<"u"?e:!l,t.getCanSelect()&&l===e)return f;const c={...f};return ep(c,t.id,e,(o=a==null?void 0:a.selectChildren)!=null?o:!0,h),c})},t.getIsSelected=()=>{const{rowSelection:e}=h.getState();return $p(t,e)},t.getIsSomeSelected=()=>{const{rowSelection:e}=h.getState();return tp(t,e)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:e}=h.getState();return tp(t,e)==="all"},t.getCanSelect=()=>{var e;return typeof h.options.enableRowSelection=="function"?h.options.enableRowSelection(t):(e=h.options.enableRowSelection)!=null?e:!0},t.getCanSelectSubRows=()=>{var e;return typeof h.options.enableSubRowSelection=="function"?h.options.enableSubRowSelection(t):(e=h.options.enableSubRowSelection)!=null?e:!0},t.getCanMultiSelect=()=>{var e;return typeof h.options.enableMultiRowSelection=="function"?h.options.enableMultiRowSelection(t):(e=h.options.enableMultiRowSelection)!=null?e:!0},t.getToggleSelectedHandler=()=>{const e=t.getCanSelect();return a=>{var l;e&&t.toggleSelected((l=a.target)==null?void 0:l.checked)}}}},ep=(t,h,e,a,l)=>{var f;const o=l.getRow(h,!0);e?(o.getCanMultiSelect()||Object.keys(t).forEach(c=>delete t[c]),o.getCanSelect()&&(t[h]=!0)):delete t[h],a&&(f=o.subRows)!=null&&f.length&&o.getCanSelectSubRows()&&o.subRows.forEach(c=>ep(t,c.id,e,a,l))};function xh(t,h){const e=t.getState().rowSelection,a=[],l={},f=function(o,c){return o.map(s=>{var r;const i=$p(s,e);if(i&&(a.push(s),l[s.id]=s),(r=s.subRows)!=null&&r.length&&(s={...s,subRows:f(s.subRows)}),i)return s}).filter(Boolean)};return{rows:f(h.rows),flatRows:a,rowsById:l}}function $p(t,h){var e;return(e=h[t.id])!=null?e:!1}function tp(t,h,e){var a;if(!((a=t.subRows)!=null&&a.length))return!1;let l=!0,f=!1;return t.subRows.forEach(o=>{if(!(f&&!l)&&(o.getCanSelect()&&($p(o,h)?f=!0:l=!1),o.subRows&&o.subRows.length)){const c=tp(o,h);c==="all"?f=!0:(c==="some"&&(f=!0),l=!1)}}),l?"all":f?"some":!1}const rp=/([0-9]+)/gm,ZS=(t,h,e)=>Hv(wi(t.getValue(e)).toLowerCase(),wi(h.getValue(e)).toLowerCase()),JS=(t,h,e)=>Hv(wi(t.getValue(e)),wi(h.getValue(e))),QS=(t,h,e)=>qp(wi(t.getValue(e)).toLowerCase(),wi(h.getValue(e)).toLowerCase()),e8=(t,h,e)=>qp(wi(t.getValue(e)),wi(h.getValue(e))),t8=(t,h,e)=>{const a=t.getValue(e),l=h.getValue(e);return a>l?1:a<l?-1:0},r8=(t,h,e)=>qp(t.getValue(e),h.getValue(e));function qp(t,h){return t===h?0:t>h?1:-1}function wi(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function Hv(t,h){const e=t.split(rp).filter(Boolean),a=h.split(rp).filter(Boolean);for(;e.length&&a.length;){const l=e.shift(),f=a.shift(),o=parseInt(l,10),c=parseInt(f,10),s=[o,c].sort();if(isNaN(s[0])){if(l>f)return 1;if(f>l)return-1;continue}if(isNaN(s[1]))return isNaN(o)?-1:1;if(o>c)return 1;if(c>o)return-1}return e.length-a.length}const il={alphanumeric:ZS,alphanumericCaseSensitive:JS,text:QS,textCaseSensitive:e8,datetime:t8,basic:r8},n8={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:An("sorting",t),isMultiSortEvent:h=>h.shiftKey}),createColumn:(t,h)=>{t.getAutoSortingFn=()=>{const e=h.getFilteredRowModel().flatRows.slice(10);let a=!1;for(const l of e){const f=l==null?void 0:l.getValue(t.id);if(Object.prototype.toString.call(f)==="[object Date]")return il.datetime;if(typeof f=="string"&&(a=!0,f.split(rp).length>1))return il.alphanumeric}return a?il.text:il.basic},t.getAutoSortDir=()=>{const e=h.getFilteredRowModel().flatRows[0];return typeof(e==null?void 0:e.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var e,a;if(!t)throw new Error;return Yu(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(e=(a=h.options.sortingFns)==null?void 0:a[t.columnDef.sortingFn])!=null?e:il[t.columnDef.sortingFn]},t.toggleSorting=(e,a)=>{const l=t.getNextSortingOrder(),f=typeof e<"u"&&e!==null;h.setSorting(o=>{const c=o==null?void 0:o.find(u=>u.id===t.id),s=o==null?void 0:o.findIndex(u=>u.id===t.id);let r=[],i,b=f?e:l==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&a?c?i="toggle":i="add":o!=null&&o.length&&s!==o.length-1?i="replace":c?i="toggle":i="replace",i==="toggle"&&(f||l||(i="remove")),i==="add"){var d;r=[...o,{id:t.id,desc:b}],r.splice(0,r.length-((d=h.options.maxMultiSortColCount)!=null?d:Number.MAX_SAFE_INTEGER))}else i==="toggle"?r=o.map(u=>u.id===t.id?{...u,desc:b}:u):i==="remove"?r=o.filter(u=>u.id!==t.id):r=[{id:t.id,desc:b}];return r})},t.getFirstSortDir=()=>{var e,a;return((e=(a=t.columnDef.sortDescFirst)!=null?a:h.options.sortDescFirst)!=null?e:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=e=>{var a,l;const f=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==f&&((a=h.options.enableSortingRemoval)==null||a)&&(!(e&&(l=h.options.enableMultiRemove)!=null)||l)?!1:o==="desc"?"asc":"desc":f},t.getCanSort=()=>{var e,a;return((e=t.columnDef.enableSorting)!=null?e:!0)&&((a=h.options.enableSorting)!=null?a:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var e,a;return(e=(a=t.columnDef.enableMultiSort)!=null?a:h.options.enableMultiSort)!=null?e:!!t.accessorFn},t.getIsSorted=()=>{var e;const a=(e=h.getState().sorting)==null?void 0:e.find(l=>l.id===t.id);return a?a.desc?"desc":"asc":!1},t.getSortIndex=()=>{var e,a;return(e=(a=h.getState().sorting)==null?void 0:a.findIndex(l=>l.id===t.id))!=null?e:-1},t.clearSorting=()=>{h.setSorting(e=>e!=null&&e.length?e.filter(a=>a.id!==t.id):[])},t.getToggleSortingHandler=()=>{const e=t.getCanSort();return a=>{e&&(a.persist==null||a.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?h.options.isMultiSortEvent==null?void 0:h.options.isMultiSortEvent(a):!1))}}},createTable:t=>{t.setSorting=h=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(h),t.resetSorting=h=>{var e,a;t.setSorting(h?[]:(e=(a=t.initialState)==null?void 0:a.sorting)!=null?e:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},s8=[CS,HS,zS,FS,kS,ES,VS,KS,n8,LS,XS,YS,WS,GS,qS];function i8(t){var h,e;const a=[...s8,...(h=t._features)!=null?h:[]];let l={_features:a};const f=l._features.reduce((d,u)=>Object.assign(d,u.getDefaultOptions==null?void 0:u.getDefaultOptions(l)),{}),o=d=>l.options.mergeOptions?l.options.mergeOptions(f,d):{...f,...d};let s={...{},...(e=t.initialState)!=null?e:{}};l._features.forEach(d=>{var u;s=(u=d.getInitialState==null?void 0:d.getInitialState(s))!=null?u:s});const r=[];let i=!1;const b={_features:a,options:{...f,...t},initialState:s,_queue:d=>{r.push(d),i||(i=!0,Promise.resolve().then(()=>{for(;r.length;)r.shift()();i=!1}).catch(u=>setTimeout(()=>{throw u})))},reset:()=>{l.setState(l.initialState)},setOptions:d=>{const u=xi(d,l.options);l.options=o(u)},getState:()=>l.options.state,setState:d=>{l.options.onStateChange==null||l.options.onStateChange(d)},_getRowId:(d,u,v)=>{var x;return(x=l.options.getRowId==null?void 0:l.options.getRowId(d,u,v))!=null?x:`${v?[v.id,u].join("."):u}`},getCoreRowModel:()=>(l._getCoreRowModel||(l._getCoreRowModel=l.options.getCoreRowModel(l)),l._getCoreRowModel()),getRowModel:()=>l.getPaginationRowModel(),getRow:(d,u)=>{let v=(u?l.getPrePaginationRowModel():l.getRowModel()).rowsById[d];if(!v&&(v=l.getCoreRowModel().rowsById[d],!v))throw new Error;return v},_getDefaultColumnDef:Bt(()=>[l.options.defaultColumn],d=>{var u;return d=(u=d)!=null?u:{},{header:v=>{const x=v.header.column.columnDef;return x.accessorKey?x.accessorKey:x.accessorFn?x.id:null},cell:v=>{var x,m;return(x=(m=v.renderValue())==null||m.toString==null?void 0:m.toString())!=null?x:null},...l._features.reduce((v,x)=>Object.assign(v,x.getDefaultColumnDef==null?void 0:x.getDefaultColumnDef()),{}),...d}},Pt(t,"debugColumns")),_getColumnDefs:()=>l.options.columns,getAllColumns:Bt(()=>[l._getColumnDefs()],d=>{const u=function(v,x,m){return m===void 0&&(m=0),v.map(g=>{const y=SS(l,g,m,x),C=g;return y.columns=C.columns?u(C.columns,y,m+1):[],y})};return u(d)},Pt(t,"debugColumns")),getAllFlatColumns:Bt(()=>[l.getAllColumns()],d=>d.flatMap(u=>u.getFlatColumns()),Pt(t,"debugColumns")),_getAllFlatColumnsById:Bt(()=>[l.getAllFlatColumns()],d=>d.reduce((u,v)=>(u[v.id]=v,u),{}),Pt(t,"debugColumns")),getAllLeafColumns:Bt(()=>[l.getAllColumns(),l._getOrderColumnsFn()],(d,u)=>{let v=d.flatMap(x=>x.getLeafColumns());return u(v)},Pt(t,"debugColumns")),getColumn:d=>l._getAllFlatColumnsById()[d]};Object.assign(l,b);for(let d=0;d<l._features.length;d++){const u=l._features[d];u==null||u.createTable==null||u.createTable(l)}return l}function Vr(){return t=>Bt(()=>[t.options.data],h=>{const e={rows:[],flatRows:[],rowsById:{}},a=function(l,f,o){f===void 0&&(f=0);const c=[];for(let r=0;r<l.length;r++){const i=jS(t,t._getRowId(l[r],r,o),l[r],r,f,void 0,o==null?void 0:o.id);if(e.flatRows.push(i),e.rowsById[i.id]=i,c.push(i),t.options.getSubRows){var s;i.originalSubRows=t.options.getSubRows(l[r],r),(s=i.originalSubRows)!=null&&s.length&&(i.subRows=a(i.originalSubRows,f+1,i))}}return c};return e.rows=a(h),e},Pt(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function o8(t){const h=[],e=a=>{var l;h.push(a),(l=a.subRows)!=null&&l.length&&a.getIsExpanded()&&a.subRows.forEach(e)};return t.rows.forEach(e),{rows:h,flatRows:t.flatRows,rowsById:t.rowsById}}function Kr(t){return h=>Bt(()=>[h.getState().pagination,h.getPrePaginationRowModel(),h.options.paginateExpandedRows?void 0:h.getState().expanded],(e,a)=>{if(!a.rows.length)return a;const{pageSize:l,pageIndex:f}=e;let{rows:o,flatRows:c,rowsById:s}=a;const r=l*f,i=r+l;o=o.slice(r,i);let b;h.options.paginateExpandedRows?b={rows:o,flatRows:c,rowsById:s}:b=o8({rows:o,flatRows:c,rowsById:s}),b.flatRows=[];const d=u=>{b.flatRows.push(u),u.subRows.length&&u.subRows.forEach(d)};return b.rows.forEach(d),b},Pt(h.options,"debugTable"))}function Ls(){return t=>Bt(()=>[t.getState().sorting,t.getPreSortedRowModel()],(h,e)=>{if(!e.rows.length||!(h!=null&&h.length))return e;const a=t.getState().sorting,l=[],f=a.filter(s=>{var r;return(r=t.getColumn(s.id))==null?void 0:r.getCanSort()}),o={};f.forEach(s=>{const r=t.getColumn(s.id);r&&(o[s.id]={sortUndefined:r.columnDef.sortUndefined,invertSorting:r.columnDef.invertSorting,sortingFn:r.getSortingFn()})});const c=s=>{const r=s.map(i=>({...i}));return r.sort((i,b)=>{for(let u=0;u<f.length;u+=1){var d;const v=f[u],x=o[v.id],m=x.sortUndefined,g=(d=v==null?void 0:v.desc)!=null?d:!1;let y=0;if(m){const C=i.getValue(v.id),E=b.getValue(v.id),A=C===void 0,D=E===void 0;if(A||D){if(m==="first")return A?-1:1;if(m==="last")return A?1:-1;y=A&&D?0:A?m:-m}}if(y===0&&(y=x.sortingFn(i,b,v.id)),y!==0)return g&&(y*=-1),x.invertSorting&&(y*=-1),y}return i.index-b.index}),r.forEach(i=>{var b;l.push(i),(b=i.subRows)!=null&&b.length&&(i.subRows=c(i.subRows))}),r};return{rows:c(e.rows),flatRows:l,rowsById:e.rowsById}},Pt(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Yt(t,h){return t?a8(t)?J.createElement(t,h):t:null}function a8(t){return l8(t)||typeof t=="function"||c8(t)}function l8(t){return typeof t=="function"&&(()=>{const h=Object.getPrototypeOf(t);return h.prototype&&h.prototype.isReactComponent})()}function c8(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function Xr(t){const h={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[e]=J.useState(()=>({current:i8(h)})),[a,l]=J.useState(()=>e.current.initialState);return e.current.setOptions(f=>({...f,...t,state:{...a,...t.state},onStateChange:o=>{l(o),t.onStateChange==null||t.onStateChange(o)}})),e.current}var ou={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var u8=ou.exports,my;function d8(){return my||(my=1,function(t,h){((e,a)=>{t.exports=a()})(u8,function e(){var a=typeof self<"u"?self:typeof window<"u"?window:a!==void 0?a:{},l,f=!a.document&&!!a.postMessage,o=a.IS_PAPA_WORKER||!1,c={},s=0,r={};function i(B){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(z){var K=A(z);K.chunkSize=parseInt(K.chunkSize),z.step||z.chunk||(K.chunkSize=null),this._handle=new x(K),(this._handle.streamer=this)._config=K}).call(this,B),this.parseChunk=function(z,K){var Y=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<Y){let O=this._config.newline;O||(X=this._config.quoteChar||'"',O=this._handle.guessLineEndings(z,X)),z=[...z.split(O).slice(Y)].join(O)}this.isFirstChunk&&q(this._config.beforeFirstChunk)&&(X=this._config.beforeFirstChunk(z))!==void 0&&(z=X),this.isFirstChunk=!1,this._halted=!1;var Y=this._partialLine+z,X=(this._partialLine="",this._handle.parse(Y,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(z=X.meta.cursor,Y=(this._finished||(this._partialLine=Y.substring(z-this._baseIndex),this._baseIndex=z),X&&X.data&&(this._rowCount+=X.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)a.postMessage({results:X,workerId:r.WORKER_ID,finished:Y});else if(q(this._config.chunk)&&!K){if(this._config.chunk(X,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=X=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(X.data),this._completeResults.errors=this._completeResults.errors.concat(X.errors),this._completeResults.meta=X.meta),this._completed||!Y||!q(this._config.complete)||X&&X.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Y||X&&X.meta.paused||this._nextChunk(),X}this._halted=!0},this._sendError=function(z){q(this._config.error)?this._config.error(z):o&&this._config.error&&a.postMessage({workerId:r.WORKER_ID,error:z,finished:!1})}}function b(B){var z;(B=B||{}).chunkSize||(B.chunkSize=r.RemoteChunkSize),i.call(this,B),this._nextChunk=f?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(K){this._input=K,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(z=new XMLHttpRequest,this._config.withCredentials&&(z.withCredentials=this._config.withCredentials),f||(z.onload=D(this._chunkLoaded,this),z.onerror=D(this._chunkError,this)),z.open(this._config.downloadRequestBody?"POST":"GET",this._input,!f),this._config.downloadRequestHeaders){var K,Y=this._config.downloadRequestHeaders;for(K in Y)z.setRequestHeader(K,Y[K])}var X;this._config.chunkSize&&(X=this._start+this._config.chunkSize-1,z.setRequestHeader("Range","bytes="+this._start+"-"+X));try{z.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}f&&z.status===0&&this._chunkError()}},this._chunkLoaded=function(){z.readyState===4&&(z.status<200||400<=z.status?this._chunkError():(this._start+=this._config.chunkSize||z.responseText.length,this._finished=!this._config.chunkSize||this._start>=(K=>(K=K.getResponseHeader("Content-Range"))!==null?parseInt(K.substring(K.lastIndexOf("/")+1)):-1)(z),this.parseChunk(z.responseText)))},this._chunkError=function(K){K=z.statusText||K,this._sendError(new Error(K))}}function d(B){(B=B||{}).chunkSize||(B.chunkSize=r.LocalChunkSize),i.call(this,B);var z,K,Y=typeof FileReader<"u";this.stream=function(X){this._input=X,K=X.slice||X.webkitSlice||X.mozSlice,Y?((z=new FileReader).onload=D(this._chunkLoaded,this),z.onerror=D(this._chunkError,this)):z=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var X=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),X=K.call(X,this._start,O)),z.readAsText(X,this._config.encoding));Y||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(X){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(X.target.result)},this._chunkError=function(){this._sendError(z.error)}}function u(B){var z;i.call(this,B=B||{}),this.stream=function(K){return z=K,this._nextChunk()},this._nextChunk=function(){var K,Y;if(!this._finished)return K=this._config.chunkSize,z=K?(Y=z.substring(0,K),z.substring(K)):(Y=z,""),this._finished=!z,this.parseChunk(Y)}}function v(B){i.call(this,B=B||{});var z=[],K=!0,Y=!1;this.pause=function(){i.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){i.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(X){this._input=X,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Y&&z.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),z.length?this.parseChunk(z.shift()):K=!0},this._streamData=D(function(X){try{z.push(typeof X=="string"?X:X.toString(this._config.encoding)),K&&(K=!1,this._checkIsFinished(),this.parseChunk(z.shift()))}catch(O){this._streamError(O)}},this),this._streamError=D(function(X){this._streamCleanUp(),this._sendError(X)},this),this._streamEnd=D(function(){this._streamCleanUp(),Y=!0,this._streamData("")},this),this._streamCleanUp=D(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(B){var z,K,Y,X,O=Math.pow(2,53),P=-O,N=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,_=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,j=this,k=0,T=0,M=!1,F=!1,$=[],V={data:[],errors:[],meta:{}};function W(L){return B.skipEmptyLines==="greedy"?L.join("").trim()==="":L.length===1&&L[0].length===0}function ee(){if(V&&Y&&(Q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+r.DefaultDelimiter+"'"),Y=!1),B.skipEmptyLines&&(V.data=V.data.filter(function(ie){return!W(ie)})),U()){let ie=function(se,le){q(B.transformHeader)&&(se=B.transformHeader(se,le)),$.push(se)};var te=ie;if(V)if(Array.isArray(V.data[0])){for(var L=0;U()&&L<V.data.length;L++)V.data[L].forEach(ie);V.data.splice(0,1)}else V.data.forEach(ie)}function I(ie,se){for(var le=B.header?{}:[],me=0;me<ie.length;me++){var ae=me,re=ie[me],re=((oe,ue)=>(fe=>(B.dynamicTypingFunction&&B.dynamicTyping[fe]===void 0&&(B.dynamicTyping[fe]=B.dynamicTypingFunction(fe)),(B.dynamicTyping[fe]||B.dynamicTyping)===!0))(oe)?ue==="true"||ue==="TRUE"||ue!=="false"&&ue!=="FALSE"&&((fe=>{if(N.test(fe)&&(fe=parseFloat(fe),P<fe&&fe<O))return 1})(ue)?parseFloat(ue):_.test(ue)?new Date(ue):ue===""?null:ue):ue)(ae=B.header?me>=$.length?"__parsed_extra":$[me]:ae,re=B.transform?B.transform(re,ae):re);ae==="__parsed_extra"?(le[ae]=le[ae]||[],le[ae].push(re)):le[ae]=re}return B.header&&(me>$.length?Q("FieldMismatch","TooManyFields","Too many fields: expected "+$.length+" fields but parsed "+me,T+se):me<$.length&&Q("FieldMismatch","TooFewFields","Too few fields: expected "+$.length+" fields but parsed "+me,T+se)),le}var Z;V&&(B.header||B.dynamicTyping||B.transform)&&(Z=1,!V.data.length||Array.isArray(V.data[0])?(V.data=V.data.map(I),Z=V.data.length):V.data=I(V.data,0),B.header&&V.meta&&(V.meta.fields=$),T+=Z)}function U(){return B.header&&$.length===0}function Q(L,I,Z,te){L={type:L,code:I,message:Z},te!==void 0&&(L.row=te),V.errors.push(L)}q(B.step)&&(X=B.step,B.step=function(L){V=L,U()?ee():(ee(),V.data.length!==0&&(k+=L.data.length,B.preview&&k>B.preview?K.abort():(V.data=V.data[0],X(V,j))))}),this.parse=function(L,I,Z){var te=B.quoteChar||'"',te=(B.newline||(B.newline=this.guessLineEndings(L,te)),Y=!1,B.delimiter?q(B.delimiter)&&(B.delimiter=B.delimiter(L),V.meta.delimiter=B.delimiter):((te=((ie,se,le,me,ae)=>{var re,oe,ue,fe;ae=ae||[",","	","|",";",r.RECORD_SEP,r.UNIT_SEP];for(var be=0;be<ae.length;be++){for(var Ce,Ae=ae[be],Pe=0,Fe=0,pe=0,Ee=(ue=void 0,new g({comments:me,delimiter:Ae,newline:se,preview:10}).parse(ie)),He=0;He<Ee.data.length;He++)le&&W(Ee.data[He])?pe++:(Ce=Ee.data[He].length,Fe+=Ce,ue===void 0?ue=Ce:0<Ce&&(Pe+=Math.abs(Ce-ue),ue=Ce));0<Ee.data.length&&(Fe/=Ee.data.length-pe),(oe===void 0||Pe<=oe)&&(fe===void 0||fe<Fe)&&1.99<Fe&&(oe=Pe,re=Ae,fe=Fe)}return{successful:!!(B.delimiter=re),bestDelimiter:re}})(L,B.newline,B.skipEmptyLines,B.comments,B.delimitersToGuess)).successful?B.delimiter=te.bestDelimiter:(Y=!0,B.delimiter=r.DefaultDelimiter),V.meta.delimiter=B.delimiter),A(B));return B.preview&&B.header&&te.preview++,z=L,K=new g(te),V=K.parse(z,I,Z),ee(),M?{meta:{paused:!0}}:V||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,K.abort(),z=q(B.chunk)?"":z.substring(K.getCharIndex())},this.resume=function(){j.streamer._halted?(M=!1,j.streamer.parseChunk(z,!0)):setTimeout(j.resume,3)},this.aborted=function(){return F},this.abort=function(){F=!0,K.abort(),V.meta.aborted=!0,q(B.complete)&&B.complete(V),z=""},this.guessLineEndings=function(ie,te){ie=ie.substring(0,1048576);var te=new RegExp(m(te)+"([^]*?)"+m(te),"gm"),Z=(ie=ie.replace(te,"")).split("\r"),te=ie.split(`
`),ie=1<te.length&&te[0].length<Z[0].length;if(Z.length===1||ie)return`
`;for(var se=0,le=0;le<Z.length;le++)Z[le][0]===`
`&&se++;return se>=Z.length/2?`\r
`:"\r"}}function m(B){return B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(B){var z=(B=B||{}).delimiter,K=B.newline,Y=B.comments,X=B.step,O=B.preview,P=B.fastMode,N=null,_=!1,j=B.quoteChar==null?'"':B.quoteChar,k=j;if(B.escapeChar!==void 0&&(k=B.escapeChar),(typeof z!="string"||-1<r.BAD_DELIMITERS.indexOf(z))&&(z=","),Y===z)throw new Error("Comment character same as delimiter");Y===!0?Y="#":(typeof Y!="string"||-1<r.BAD_DELIMITERS.indexOf(Y))&&(Y=!1),K!==`
`&&K!=="\r"&&K!==`\r
`&&(K=`
`);var T=0,M=!1;this.parse=function(F,$,V){if(typeof F!="string")throw new Error("Input must be a string");var W=F.length,ee=z.length,U=K.length,Q=Y.length,L=q(X),I=[],Z=[],te=[],ie=T=0;if(!F)return Pe();if(P||P!==!1&&F.indexOf(j)===-1){for(var se=F.split(K),le=0;le<se.length;le++){if(te=se[le],T+=te.length,le!==se.length-1)T+=K.length;else if(V)return Pe();if(!Y||te.substring(0,Q)!==Y){if(L){if(I=[],fe(te.split(z)),Fe(),M)return Pe()}else fe(te.split(z));if(O&&O<=le)return I=I.slice(0,O),Pe(!0)}}return Pe()}for(var me=F.indexOf(z,T),ae=F.indexOf(K,T),re=new RegExp(m(k)+m(j),"g"),oe=F.indexOf(j,T);;)if(F[T]===j)for(oe=T,T++;;){if((oe=F.indexOf(j,oe+1))===-1)return V||Z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:I.length,index:T}),Ce();if(oe===W-1)return Ce(F.substring(T,oe).replace(re,j));if(j===k&&F[oe+1]===k)oe++;else if(j===k||oe===0||F[oe-1]!==k){me!==-1&&me<oe+1&&(me=F.indexOf(z,oe+1));var ue=be((ae=ae!==-1&&ae<oe+1?F.indexOf(K,oe+1):ae)===-1?me:Math.min(me,ae));if(F.substr(oe+1+ue,ee)===z){te.push(F.substring(T,oe).replace(re,j)),F[T=oe+1+ue+ee]!==j&&(oe=F.indexOf(j,T)),me=F.indexOf(z,T),ae=F.indexOf(K,T);break}if(ue=be(ae),F.substring(oe+1+ue,oe+1+ue+U)===K){if(te.push(F.substring(T,oe).replace(re,j)),Ae(oe+1+ue+U),me=F.indexOf(z,T),oe=F.indexOf(j,T),L&&(Fe(),M))return Pe();if(O&&I.length>=O)return Pe(!0);break}Z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:I.length,index:T}),oe++}}else if(Y&&te.length===0&&F.substring(T,T+Q)===Y){if(ae===-1)return Pe();T=ae+U,ae=F.indexOf(K,T),me=F.indexOf(z,T)}else if(me!==-1&&(me<ae||ae===-1))te.push(F.substring(T,me)),T=me+ee,me=F.indexOf(z,T);else{if(ae===-1)break;if(te.push(F.substring(T,ae)),Ae(ae+U),L&&(Fe(),M))return Pe();if(O&&I.length>=O)return Pe(!0)}return Ce();function fe(pe){I.push(pe),ie=T}function be(pe){var Ee=0;return Ee=pe!==-1&&(pe=F.substring(oe+1,pe))&&pe.trim()===""?pe.length:Ee}function Ce(pe){return V||(pe===void 0&&(pe=F.substring(T)),te.push(pe),T=W,fe(te),L&&Fe()),Pe()}function Ae(pe){T=pe,fe(te),te=[],ae=F.indexOf(K,T)}function Pe(pe){if(B.header&&!$&&I.length&&!_){var Ee=I[0],He=Object.create(null),Me=new Set(Ee);let ve=!1;for(let de=0;de<Ee.length;de++){let we=Ee[de];if(He[we=q(B.transformHeader)?B.transformHeader(we,de):we]){let he,ye=He[we];for(;he=we+"_"+ye,ye++,Me.has(he););Me.add(he),Ee[de]=he,He[we]++,ve=!0,(N=N===null?{}:N)[he]=we}else He[we]=1,Ee[de]=we;Me.add(we)}ve&&console.warn("Duplicate headers found and renamed."),_=!0}return{data:I,errors:Z,meta:{delimiter:z,linebreak:K,aborted:M,truncated:!!pe,cursor:ie+($||0),renamedHeaders:N}}}function Fe(){X(Pe()),I=[],Z=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return T}}function y(B){var z=B.data,K=c[z.workerId],Y=!1;if(z.error)K.userError(z.error,z.file);else if(z.results&&z.results.data){var X={abort:function(){Y=!0,C(z.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(q(K.userStep)){for(var O=0;O<z.results.data.length&&(K.userStep({data:z.results.data[O],errors:z.results.errors,meta:z.results.meta},X),!Y);O++);delete z.results}else q(K.userChunk)&&(K.userChunk(z.results,X,z.file),delete z.results)}z.finished&&!Y&&C(z.workerId,z.results)}function C(B,z){var K=c[B];q(K.userComplete)&&K.userComplete(z),K.terminate(),delete c[B]}function E(){throw new Error("Not implemented.")}function A(B){if(typeof B!="object"||B===null)return B;var z,K=Array.isArray(B)?[]:{};for(z in B)K[z]=A(B[z]);return K}function D(B,z){return function(){B.apply(z,arguments)}}function q(B){return typeof B=="function"}return r.parse=function(B,z){var K=(z=z||{}).dynamicTyping||!1;if(q(K)&&(z.dynamicTypingFunction=K,K={}),z.dynamicTyping=K,z.transform=!!q(z.transform)&&z.transform,!z.worker||!r.WORKERS_SUPPORTED)return K=null,r.NODE_STREAM_INPUT,typeof B=="string"?(B=(Y=>Y.charCodeAt(0)!==65279?Y:Y.slice(1))(B),K=new(z.download?b:u)(z)):B.readable===!0&&q(B.read)&&q(B.on)?K=new v(z):(a.File&&B instanceof File||B instanceof Object)&&(K=new d(z)),K.stream(B);(K=(()=>{var Y;return!!r.WORKERS_SUPPORTED&&(Y=(()=>{var X=a.URL||a.webkitURL||null,O=e.toString();return r.BLOB_URL||(r.BLOB_URL=X.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(Y=new a.Worker(Y)).onmessage=y,Y.id=s++,c[Y.id]=Y)})()).userStep=z.step,K.userChunk=z.chunk,K.userComplete=z.complete,K.userError=z.error,z.step=q(z.step),z.chunk=q(z.chunk),z.complete=q(z.complete),z.error=q(z.error),delete z.worker,K.postMessage({input:B,config:z,workerId:K.id})},r.unparse=function(B,z){var K=!1,Y=!0,X=",",O=`\r
`,P='"',N=P+P,_=!1,j=null,k=!1,T=((()=>{if(typeof z=="object"){if(typeof z.delimiter!="string"||r.BAD_DELIMITERS.filter(function($){return z.delimiter.indexOf($)!==-1}).length||(X=z.delimiter),typeof z.quotes!="boolean"&&typeof z.quotes!="function"&&!Array.isArray(z.quotes)||(K=z.quotes),typeof z.skipEmptyLines!="boolean"&&typeof z.skipEmptyLines!="string"||(_=z.skipEmptyLines),typeof z.newline=="string"&&(O=z.newline),typeof z.quoteChar=="string"&&(P=z.quoteChar),typeof z.header=="boolean"&&(Y=z.header),Array.isArray(z.columns)){if(z.columns.length===0)throw new Error("Option columns is empty");j=z.columns}z.escapeChar!==void 0&&(N=z.escapeChar+P),z.escapeFormulae instanceof RegExp?k=z.escapeFormulae:typeof z.escapeFormulae=="boolean"&&z.escapeFormulae&&(k=/^[=+\-@\t\r].*$/)}})(),new RegExp(m(P),"g"));if(typeof B=="string"&&(B=JSON.parse(B)),Array.isArray(B)){if(!B.length||Array.isArray(B[0]))return M(null,B,_);if(typeof B[0]=="object")return M(j||Object.keys(B[0]),B,_)}else if(typeof B=="object")return typeof B.data=="string"&&(B.data=JSON.parse(B.data)),Array.isArray(B.data)&&(B.fields||(B.fields=B.meta&&B.meta.fields||j),B.fields||(B.fields=Array.isArray(B.data[0])?B.fields:typeof B.data[0]=="object"?Object.keys(B.data[0]):[]),Array.isArray(B.data[0])||typeof B.data[0]=="object"||(B.data=[B.data])),M(B.fields||[],B.data||[],_);throw new Error("Unable to serialize unrecognized input");function M($,V,W){var ee="",U=(typeof $=="string"&&($=JSON.parse($)),typeof V=="string"&&(V=JSON.parse(V)),Array.isArray($)&&0<$.length),Q=!Array.isArray(V[0]);if(U&&Y){for(var L=0;L<$.length;L++)0<L&&(ee+=X),ee+=F($[L],L);0<V.length&&(ee+=O)}for(var I=0;I<V.length;I++){var Z=(U?$:V[I]).length,te=!1,ie=U?Object.keys(V[I]).length===0:V[I].length===0;if(W&&!U&&(te=W==="greedy"?V[I].join("").trim()==="":V[I].length===1&&V[I][0].length===0),W==="greedy"&&U){for(var se=[],le=0;le<Z;le++){var me=Q?$[le]:le;se.push(V[I][me])}te=se.join("").trim()===""}if(!te){for(var ae=0;ae<Z;ae++){0<ae&&!ie&&(ee+=X);var re=U&&Q?$[ae]:ae;ee+=F(V[I][re],ae)}I<V.length-1&&(!W||0<Z&&!ie)&&(ee+=O)}}return ee}function F($,V){var W,ee;return $==null?"":$.constructor===Date?JSON.stringify($).slice(1,25):(ee=!1,k&&typeof $=="string"&&k.test($)&&($="'"+$,ee=!0),W=$.toString().replace(T,N),(ee=ee||K===!0||typeof K=="function"&&K($,V)||Array.isArray(K)&&K[V]||((U,Q)=>{for(var L=0;L<Q.length;L++)if(-1<U.indexOf(Q[L]))return!0;return!1})(W,r.BAD_DELIMITERS)||-1<W.indexOf(X)||W.charAt(0)===" "||W.charAt(W.length-1)===" ")?P+W+P:W)}},r.RECORD_SEP="",r.UNIT_SEP="",r.BYTE_ORDER_MARK="\uFEFF",r.BAD_DELIMITERS=["\r",`
`,'"',r.BYTE_ORDER_MARK],r.WORKERS_SUPPORTED=!f&&!!a.Worker,r.NODE_STREAM_INPUT=1,r.LocalChunkSize=10485760,r.RemoteChunkSize=5242880,r.DefaultDelimiter=",",r.Parser=g,r.ParserHandle=x,r.NetworkStreamer=b,r.FileStreamer=d,r.StringStreamer=u,r.ReadableStreamStreamer=v,a.jQuery&&((l=a.jQuery).fn.parse=function(B){var z=B.config||{},K=[];return this.each(function(O){if(!(l(this).prop("tagName").toUpperCase()==="INPUT"&&l(this).attr("type").toLowerCase()==="file"&&a.FileReader)||!this.files||this.files.length===0)return!0;for(var P=0;P<this.files.length;P++)K.push({file:this.files[P],inputElem:this,instanceConfig:l.extend({},z)})}),Y(),this;function Y(){if(K.length===0)q(B.complete)&&B.complete();else{var O,P,N,_,j=K[0];if(q(B.before)){var k=B.before(j.file,j.inputElem);if(typeof k=="object"){if(k.action==="abort")return O="AbortError",P=j.file,N=j.inputElem,_=k.reason,void(q(B.error)&&B.error({name:O},P,N,_));if(k.action==="skip")return void X();typeof k.config=="object"&&(j.instanceConfig=l.extend(j.instanceConfig,k.config))}else if(k==="skip")return void X()}var T=j.instanceConfig.complete;j.instanceConfig.complete=function(M){q(T)&&T(M,j.file,j.inputElem),X()},r.parse(j.file,j.instanceConfig)}}function X(){K.splice(0,1),Y()}}),o&&(a.onmessage=function(B){B=B.data,r.WORKER_ID===void 0&&B&&(r.WORKER_ID=B.workerId),typeof B.input=="string"?a.postMessage({workerId:r.WORKER_ID,results:r.parse(B.input,B.config),finished:!0}):(a.File&&B.input instanceof File||B.input instanceof Object)&&(B=r.parse(B.input,B.config))&&a.postMessage({workerId:r.WORKER_ID,results:B,finished:!0})}),(b.prototype=Object.create(i.prototype)).constructor=b,(d.prototype=Object.create(i.prototype)).constructor=d,(u.prototype=Object.create(u.prototype)).constructor=u,(v.prototype=Object.create(i.prototype)).constructor=v,r})}(ou)),ou.exports}var f8=d8();const Is=xp(f8);function to(t){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},to(t)}function h8(t,h){if(to(t)!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var a=e.call(t,h);if(to(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(t)}function Vv(t){var h=h8(t,"string");return to(h)=="symbol"?h:h+""}function ul(t,h,e){return(h=Vv(h))in t?Object.defineProperty(t,h,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[h]=e,t}function gy(t,h){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);h&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),e.push.apply(e,a)}return e}function Nt(t){for(var h=1;h<arguments.length;h++){var e=arguments[h]!=null?arguments[h]:{};h%2?gy(Object(e),!0).forEach(function(a){ul(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):gy(Object(e)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}function p8(t){if(Array.isArray(t))return t}function m8(t,h){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var a,l,f,o,c=[],s=!0,r=!1;try{if(f=(e=e.call(t)).next,h===0){if(Object(e)!==e)return;s=!1}else for(;!(s=(a=f.call(e)).done)&&(c.push(a.value),c.length!==h);s=!0);}catch(i){r=!0,l=i}finally{try{if(!s&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(r)throw l}}return c}}function np(t,h){(h==null||h>t.length)&&(h=t.length);for(var e=0,a=Array(h);e<h;e++)a[e]=t[e];return a}function Kv(t,h){if(t){if(typeof t=="string")return np(t,h);var e={}.toString.call(t).slice(8,-1);return e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set"?Array.from(t):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?np(t,h):void 0}}function g8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ps(t,h){return p8(t)||m8(t,h)||Kv(t,h)||g8()}function b8(t,h){if(t==null)return{};var e={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(h.indexOf(a)!==-1)continue;e[a]=t[a]}return e}function zs(t,h){if(t==null)return{};var e,a,l=b8(t,h);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(t);for(a=0;a<f.length;a++)e=f[a],h.indexOf(e)===-1&&{}.propertyIsEnumerable.call(t,e)&&(l[e]=t[e])}return l}var y8=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function v8(t){var h=t.defaultInputValue,e=h===void 0?"":h,a=t.defaultMenuIsOpen,l=a===void 0?!1:a,f=t.defaultValue,o=f===void 0?null:f,c=t.inputValue,s=t.menuIsOpen,r=t.onChange,i=t.onInputChange,b=t.onMenuClose,d=t.onMenuOpen,u=t.value,v=zs(t,y8),x=J.useState(c!==void 0?c:e),m=Ps(x,2),g=m[0],y=m[1],C=J.useState(s!==void 0?s:l),E=Ps(C,2),A=E[0],D=E[1],q=J.useState(u!==void 0?u:o),B=Ps(q,2),z=B[0],K=B[1],Y=J.useCallback(function(k,T){typeof r=="function"&&r(k,T),K(k)},[r]),X=J.useCallback(function(k,T){var M;typeof i=="function"&&(M=i(k,T)),y(M!==void 0?M:k)},[i]),O=J.useCallback(function(){typeof d=="function"&&d(),D(!0)},[d]),P=J.useCallback(function(){typeof b=="function"&&b(),D(!1)},[b]),N=c!==void 0?c:g,_=s!==void 0?s:A,j=u!==void 0?u:z;return Nt(Nt({},v),{},{inputValue:N,menuIsOpen:_,onChange:Y,onInputChange:X,onMenuClose:P,onMenuOpen:O,value:j})}function At(){return At=Object.assign?Object.assign.bind():function(t){for(var h=1;h<arguments.length;h++){var e=arguments[h];for(var a in e)({}).hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},At.apply(null,arguments)}function x8(t,h){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}function by(t,h){for(var e=0;e<h.length;e++){var a=h[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Vv(a.key),a)}}function w8(t,h,e){return h&&by(t.prototype,h),e&&by(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sp(t,h){return sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,a){return e.__proto__=a,e},sp(t,h)}function _8(t,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(h&&h.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),h&&sp(t,h)}function ju(t){return ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},ju(t)}function Xv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xv=function(){return!!t})()}function S8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C8(t,h){if(h&&(to(h)=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S8(t)}function j8(t){var h=Xv();return function(){var e,a=ju(t);if(h){var l=ju(this).constructor;e=Reflect.construct(a,arguments,l)}else e=a.apply(this,arguments);return C8(this,e)}}function k8(t){if(Array.isArray(t))return np(t)}function E8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Up(t){return k8(t)||E8(t)||Kv(t)||T8()}function N8(t){if(t.sheet)return t.sheet;for(var h=0;h<document.styleSheets.length;h++)if(document.styleSheets[h].ownerNode===t)return document.styleSheets[h]}function M8(t){var h=document.createElement("style");return h.setAttribute("data-emotion",t.key),t.nonce!==void 0&&h.setAttribute("nonce",t.nonce),h.appendChild(document.createTextNode("")),h.setAttribute("data-s",""),h}var R8=function(){function t(e){var a=this;this._insertTag=function(l){var f;a.tags.length===0?a.insertionPoint?f=a.insertionPoint.nextSibling:a.prepend?f=a.container.firstChild:f=a.before:f=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(l,f),a.tags.push(l)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var h=t.prototype;return h.hydrate=function(a){a.forEach(this._insertTag)},h.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(M8(this));var l=this.tags[this.tags.length-1];if(this.isSpeedy){var f=N8(l);try{f.insertRule(a,f.cssRules.length)}catch{}}else l.appendChild(document.createTextNode(a));this.ctr++},h.flush=function(){this.tags.forEach(function(a){var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),this.tags=[],this.ctr=0},t}(),sn="-ms-",ku="-moz-",nr="-webkit-",Yv="comm",Hp="rule",Vp="decl",A8="@import",Wv="@keyframes",O8="@layer",B8=Math.abs,Wu=String.fromCharCode,P8=Object.assign;function D8(t,h){return Zr(t,0)^45?(((h<<2^Zr(t,0))<<2^Zr(t,1))<<2^Zr(t,2))<<2^Zr(t,3):0}function Gv(t){return t.trim()}function L8(t,h){return(t=h.exec(t))?t[0]:t}function sr(t,h,e){return t.replace(h,e)}function ip(t,h){return t.indexOf(h)}function Zr(t,h){return t.charCodeAt(h)|0}function pl(t,h,e){return t.slice(h,e)}function fs(t){return t.length}function Kp(t){return t.length}function Lc(t,h){return h.push(t),t}function I8(t,h){return t.map(h).join("")}var Gu=1,Qo=1,Zv=0,wn=0,Pr=0,aa="";function Zu(t,h,e,a,l,f,o){return{value:t,root:h,parent:e,type:a,props:l,children:f,line:Gu,column:Qo,length:o,return:""}}function ol(t,h){return P8(Zu("",null,null,"",null,null,0),t,{length:-t.length},h)}function z8(){return Pr}function F8(){return Pr=wn>0?Zr(aa,--wn):0,Qo--,Pr===10&&(Qo=1,Gu--),Pr}function Mn(){return Pr=wn<Zv?Zr(aa,wn++):0,Qo++,Pr===10&&(Qo=1,Gu++),Pr}function ps(){return Zr(aa,wn)}function au(){return wn}function jl(t,h){return pl(aa,t,h)}function ml(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Jv(t){return Gu=Qo=1,Zv=fs(aa=t),wn=0,[]}function Qv(t){return aa="",t}function lu(t){return Gv(jl(wn-1,op(t===91?t+2:t===40?t+1:t)))}function $8(t){for(;(Pr=ps())&&Pr<33;)Mn();return ml(t)>2||ml(Pr)>3?"":" "}function q8(t,h){for(;--h&&Mn()&&!(Pr<48||Pr>102||Pr>57&&Pr<65||Pr>70&&Pr<97););return jl(t,au()+(h<6&&ps()==32&&Mn()==32))}function op(t){for(;Mn();)switch(Pr){case t:return wn;case 34:case 39:t!==34&&t!==39&&op(Pr);break;case 40:t===41&&op(t);break;case 92:Mn();break}return wn}function U8(t,h){for(;Mn()&&t+Pr!==57;)if(t+Pr===84&&ps()===47)break;return"/*"+jl(h,wn-1)+"*"+Wu(t===47?t:Mn())}function H8(t){for(;!ml(ps());)Mn();return jl(t,wn)}function V8(t){return Qv(cu("",null,null,null,[""],t=Jv(t),0,[0],t))}function cu(t,h,e,a,l,f,o,c,s){for(var r=0,i=0,b=o,d=0,u=0,v=0,x=1,m=1,g=1,y=0,C="",E=l,A=f,D=a,q=C;m;)switch(v=y,y=Mn()){case 40:if(v!=108&&Zr(q,b-1)==58){ip(q+=sr(lu(y),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:q+=lu(y);break;case 9:case 10:case 13:case 32:q+=$8(v);break;case 92:q+=q8(au()-1,7);continue;case 47:switch(ps()){case 42:case 47:Lc(K8(U8(Mn(),au()),h,e),s);break;default:q+="/"}break;case 123*x:c[r++]=fs(q)*g;case 125*x:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+i:g==-1&&(q=sr(q,/\f/g,"")),u>0&&fs(q)-b&&Lc(u>32?vy(q+";",a,e,b-1):vy(sr(q," ","")+";",a,e,b-2),s);break;case 59:q+=";";default:if(Lc(D=yy(q,h,e,r,i,l,c,C,E=[],A=[],b),f),y===123)if(i===0)cu(q,h,D,D,E,f,b,c,A);else switch(d===99&&Zr(q,3)===110?100:d){case 100:case 108:case 109:case 115:cu(t,D,D,a&&Lc(yy(t,D,D,0,0,l,c,C,l,E=[],b),A),l,A,b,c,a?E:A);break;default:cu(q,D,D,D,[""],A,0,c,A)}}r=i=u=0,x=g=1,C=q="",b=o;break;case 58:b=1+fs(q),u=v;default:if(x<1){if(y==123)--x;else if(y==125&&x++==0&&F8()==125)continue}switch(q+=Wu(y),y*x){case 38:g=i>0?1:(q+="\f",-1);break;case 44:c[r++]=(fs(q)-1)*g,g=1;break;case 64:ps()===45&&(q+=lu(Mn())),d=ps(),i=b=fs(C=q+=H8(au())),y++;break;case 45:v===45&&fs(q)==2&&(x=0)}}return f}function yy(t,h,e,a,l,f,o,c,s,r,i){for(var b=l-1,d=l===0?f:[""],u=Kp(d),v=0,x=0,m=0;v<a;++v)for(var g=0,y=pl(t,b+1,b=B8(x=o[v])),C=t;g<u;++g)(C=Gv(x>0?d[g]+" "+y:sr(y,/&\f/g,d[g])))&&(s[m++]=C);return Zu(t,h,e,l===0?Hp:c,s,r,i)}function K8(t,h,e){return Zu(t,h,e,Yv,Wu(z8()),pl(t,2,-2),0)}function vy(t,h,e,a){return Zu(t,h,e,Vp,pl(t,0,a),pl(t,a+1,-1),a)}function Yo(t,h){for(var e="",a=Kp(t),l=0;l<a;l++)e+=h(t[l],l,t,h)||"";return e}function X8(t,h,e,a){switch(t.type){case O8:if(t.children.length)break;case A8:case Vp:return t.return=t.return||t.value;case Yv:return"";case Wv:return t.return=t.value+"{"+Yo(t.children,a)+"}";case Hp:t.value=t.props.join(",")}return fs(e=Yo(t.children,a))?t.return=t.value+"{"+e+"}":""}function Y8(t){var h=Kp(t);return function(e,a,l,f){for(var o="",c=0;c<h;c++)o+=t[c](e,a,l,f)||"";return o}}function W8(t){return function(h){h.root||(h=h.return)&&t(h)}}function G8(t){var h=Object.create(null);return function(e){return h[e]===void 0&&(h[e]=t(e)),h[e]}}var Z8=function(h,e,a){for(var l=0,f=0;l=f,f=ps(),l===38&&f===12&&(e[a]=1),!ml(f);)Mn();return jl(h,wn)},J8=function(h,e){var a=-1,l=44;do switch(ml(l)){case 0:l===38&&ps()===12&&(e[a]=1),h[a]+=Z8(wn-1,e,a);break;case 2:h[a]+=lu(l);break;case 4:if(l===44){h[++a]=ps()===58?"&\f":"",e[a]=h[a].length;break}default:h[a]+=Wu(l)}while(l=Mn());return h},Q8=function(h,e){return Qv(J8(Jv(h),e))},xy=new WeakMap,e7=function(h){if(!(h.type!=="rule"||!h.parent||h.length<1)){for(var e=h.value,a=h.parent,l=h.column===a.column&&h.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(h.props.length===1&&e.charCodeAt(0)!==58&&!xy.get(a))&&!l){xy.set(h,!0);for(var f=[],o=Q8(e,f),c=a.props,s=0,r=0;s<o.length;s++)for(var i=0;i<c.length;i++,r++)h.props[r]=f[s]?o[s].replace(/&\f/g,c[i]):c[i]+" "+o[s]}}},t7=function(h){if(h.type==="decl"){var e=h.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(h.return="",h.value="")}};function e2(t,h){switch(D8(t,h)){case 5103:return nr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return nr+t+ku+t+sn+t+t;case 6828:case 4268:return nr+t+sn+t+t;case 6165:return nr+t+sn+"flex-"+t+t;case 5187:return nr+t+sr(t,/(\w+).+(:[^]+)/,nr+"box-$1$2"+sn+"flex-$1$2")+t;case 5443:return nr+t+sn+"flex-item-"+sr(t,/flex-|-self/,"")+t;case 4675:return nr+t+sn+"flex-line-pack"+sr(t,/align-content|flex-|-self/,"")+t;case 5548:return nr+t+sn+sr(t,"shrink","negative")+t;case 5292:return nr+t+sn+sr(t,"basis","preferred-size")+t;case 6060:return nr+"box-"+sr(t,"-grow","")+nr+t+sn+sr(t,"grow","positive")+t;case 4554:return nr+sr(t,/([^-])(transform)/g,"$1"+nr+"$2")+t;case 6187:return sr(sr(sr(t,/(zoom-|grab)/,nr+"$1"),/(image-set)/,nr+"$1"),t,"")+t;case 5495:case 3959:return sr(t,/(image-set\([^]*)/,nr+"$1$`$1");case 4968:return sr(sr(t,/(.+:)(flex-)?(.*)/,nr+"box-pack:$3"+sn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nr+t+t;case 4095:case 3583:case 4068:case 2532:return sr(t,/(.+)-inline(.+)/,nr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fs(t)-1-h>6)switch(Zr(t,h+1)){case 109:if(Zr(t,h+4)!==45)break;case 102:return sr(t,/(.+:)(.+)-([^]+)/,"$1"+nr+"$2-$3$1"+ku+(Zr(t,h+3)==108?"$3":"$2-$3"))+t;case 115:return~ip(t,"stretch")?e2(sr(t,"stretch","fill-available"),h)+t:t}break;case 4949:if(Zr(t,h+1)!==115)break;case 6444:switch(Zr(t,fs(t)-3-(~ip(t,"!important")&&10))){case 107:return sr(t,":",":"+nr)+t;case 101:return sr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nr+(Zr(t,14)===45?"inline-":"")+"box$3$1"+nr+"$2$3$1"+sn+"$2box$3")+t}break;case 5936:switch(Zr(t,h+11)){case 114:return nr+t+sn+sr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return nr+t+sn+sr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return nr+t+sn+sr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return nr+t+sn+t+t}return t}var r7=function(h,e,a,l){if(h.length>-1&&!h.return)switch(h.type){case Vp:h.return=e2(h.value,h.length);break;case Wv:return Yo([ol(h,{value:sr(h.value,"@","@"+nr)})],l);case Hp:if(h.length)return I8(h.props,function(f){switch(L8(f,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Yo([ol(h,{props:[sr(f,/:(read-\w+)/,":"+ku+"$1")]})],l);case"::placeholder":return Yo([ol(h,{props:[sr(f,/:(plac\w+)/,":"+nr+"input-$1")]}),ol(h,{props:[sr(f,/:(plac\w+)/,":"+ku+"$1")]}),ol(h,{props:[sr(f,/:(plac\w+)/,sn+"input-$1")]})],l)}return""})}},n7=[r7],s7=function(h){var e=h.key;if(e==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(x){var m=x.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var l=h.stylisPlugins||n7,f={},o,c=[];o=h.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(x){for(var m=x.getAttribute("data-emotion").split(" "),g=1;g<m.length;g++)f[m[g]]=!0;c.push(x)});var s,r=[e7,t7];{var i,b=[X8,W8(function(x){i.insert(x)})],d=Y8(r.concat(l,b)),u=function(m){return Yo(V8(m),d)};s=function(m,g,y,C){i=y,u(m?m+"{"+g.styles+"}":g.styles),C&&(v.inserted[g.name]=!0)}}var v={key:e,sheet:new R8({key:e,container:o,nonce:h.nonce,speedy:h.speedy,prepend:h.prepend,insertionPoint:h.insertionPoint}),nonce:h.nonce,inserted:f,registered:{},insert:s};return v.sheet.hydrate(c),v},wh={exports:{}},ar={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function i7(){if(wy)return ar;wy=1;var t=typeof Symbol=="function"&&Symbol.for,h=t?Symbol.for("react.element"):60103,e=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,f=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,s=t?Symbol.for("react.async_mode"):60111,r=t?Symbol.for("react.concurrent_mode"):60111,i=t?Symbol.for("react.forward_ref"):60112,b=t?Symbol.for("react.suspense"):60113,d=t?Symbol.for("react.suspense_list"):60120,u=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,x=t?Symbol.for("react.block"):60121,m=t?Symbol.for("react.fundamental"):60117,g=t?Symbol.for("react.responder"):60118,y=t?Symbol.for("react.scope"):60119;function C(A){if(typeof A=="object"&&A!==null){var D=A.$$typeof;switch(D){case h:switch(A=A.type,A){case s:case r:case a:case f:case l:case b:return A;default:switch(A=A&&A.$$typeof,A){case c:case i:case v:case u:case o:return A;default:return D}}case e:return D}}}function E(A){return C(A)===r}return ar.AsyncMode=s,ar.ConcurrentMode=r,ar.ContextConsumer=c,ar.ContextProvider=o,ar.Element=h,ar.ForwardRef=i,ar.Fragment=a,ar.Lazy=v,ar.Memo=u,ar.Portal=e,ar.Profiler=f,ar.StrictMode=l,ar.Suspense=b,ar.isAsyncMode=function(A){return E(A)||C(A)===s},ar.isConcurrentMode=E,ar.isContextConsumer=function(A){return C(A)===c},ar.isContextProvider=function(A){return C(A)===o},ar.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===h},ar.isForwardRef=function(A){return C(A)===i},ar.isFragment=function(A){return C(A)===a},ar.isLazy=function(A){return C(A)===v},ar.isMemo=function(A){return C(A)===u},ar.isPortal=function(A){return C(A)===e},ar.isProfiler=function(A){return C(A)===f},ar.isStrictMode=function(A){return C(A)===l},ar.isSuspense=function(A){return C(A)===b},ar.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===a||A===r||A===f||A===l||A===b||A===d||typeof A=="object"&&A!==null&&(A.$$typeof===v||A.$$typeof===u||A.$$typeof===o||A.$$typeof===c||A.$$typeof===i||A.$$typeof===m||A.$$typeof===g||A.$$typeof===y||A.$$typeof===x)},ar.typeOf=C,ar}var _y;function o7(){return _y||(_y=1,wh.exports=i7()),wh.exports}var _h,Sy;function a7(){if(Sy)return _h;Sy=1;var t=o7(),h={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},f={};f[t.ForwardRef]=a,f[t.Memo]=l;function o(v){return t.isMemo(v)?l:f[v.$$typeof]||h}var c=Object.defineProperty,s=Object.getOwnPropertyNames,r=Object.getOwnPropertySymbols,i=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,d=Object.prototype;function u(v,x,m){if(typeof x!="string"){if(d){var g=b(x);g&&g!==d&&u(v,g,m)}var y=s(x);r&&(y=y.concat(r(x)));for(var C=o(v),E=o(x),A=0;A<y.length;++A){var D=y[A];if(!e[D]&&!(m&&m[D])&&!(E&&E[D])&&!(C&&C[D])){var q=i(x,D);try{c(v,D,q)}catch{}}}}return v}return _h=u,_h}a7();var l7=!0;function c7(t,h,e){var a="";return e.split(" ").forEach(function(l){t[l]!==void 0?h.push(t[l]+";"):l&&(a+=l+" ")}),a}var t2=function(h,e,a){var l=h.key+"-"+e.name;(a===!1||l7===!1)&&h.registered[l]===void 0&&(h.registered[l]=e.styles)},u7=function(h,e,a){t2(h,e,a);var l=h.key+"-"+e.name;if(h.inserted[e.name]===void 0){var f=e;do h.insert(e===f?"."+l:"",f,h.sheet,!0),f=f.next;while(f!==void 0)}};function d7(t){for(var h=0,e,a=0,l=t.length;l>=4;++a,l-=4)e=t.charCodeAt(a)&255|(t.charCodeAt(++a)&255)<<8|(t.charCodeAt(++a)&255)<<16|(t.charCodeAt(++a)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,h=(e&65535)*1540483477+((e>>>16)*59797<<16)^(h&65535)*1540483477+((h>>>16)*59797<<16);switch(l){case 3:h^=(t.charCodeAt(a+2)&255)<<16;case 2:h^=(t.charCodeAt(a+1)&255)<<8;case 1:h^=t.charCodeAt(a)&255,h=(h&65535)*1540483477+((h>>>16)*59797<<16)}return h^=h>>>13,h=(h&65535)*1540483477+((h>>>16)*59797<<16),((h^h>>>15)>>>0).toString(36)}var f7={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},h7=/[A-Z]|^ms/g,p7=/_EMO_([^_]+?)_([^]*?)_EMO_/g,r2=function(h){return h.charCodeAt(1)===45},Cy=function(h){return h!=null&&typeof h!="boolean"},Sh=G8(function(t){return r2(t)?t:t.replace(h7,"-$&").toLowerCase()}),jy=function(h,e){switch(h){case"animation":case"animationName":if(typeof e=="string")return e.replace(p7,function(a,l,f){return hs={name:l,styles:f,next:hs},l})}return f7[h]!==1&&!r2(h)&&typeof e=="number"&&e!==0?e+"px":e};function gl(t,h,e){if(e==null)return"";var a=e;if(a.__emotion_styles!==void 0)return a;switch(typeof e){case"boolean":return"";case"object":{var l=e;if(l.anim===1)return hs={name:l.name,styles:l.styles,next:hs},l.name;var f=e;if(f.styles!==void 0){var o=f.next;if(o!==void 0)for(;o!==void 0;)hs={name:o.name,styles:o.styles,next:hs},o=o.next;var c=f.styles+";";return c}return m7(t,h,e)}case"function":{if(t!==void 0){var s=hs,r=e(t);return hs=s,gl(t,h,r)}break}}var i=e;return i}function m7(t,h,e){var a="";if(Array.isArray(e))for(var l=0;l<e.length;l++)a+=gl(t,h,e[l])+";";else for(var f in e){var o=e[f];if(typeof o!="object"){var c=o;Cy(c)&&(a+=Sh(f)+":"+jy(f,c)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&h==null)for(var s=0;s<o.length;s++)Cy(o[s])&&(a+=Sh(f)+":"+jy(f,o[s])+";");else{var r=gl(t,h,o);switch(f){case"animation":case"animationName":{a+=Sh(f)+":"+r+";";break}default:a+=f+"{"+r+"}"}}}return a}var ky=/label:\s*([^\s;{]+)\s*(;|$)/g,hs;function n2(t,h,e){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var a=!0,l="";hs=void 0;var f=t[0];if(f==null||f.raw===void 0)a=!1,l+=gl(e,h,f);else{var o=f;l+=o[0]}for(var c=1;c<t.length;c++)if(l+=gl(e,h,t[c]),a){var s=f;l+=s[c]}ky.lastIndex=0;for(var r="",i;(i=ky.exec(l))!==null;)r+="-"+i[1];var b=d7(l)+r;return{name:b,styles:l,next:hs}}var g7=function(h){return h()},b7=Bb.useInsertionEffect?Bb.useInsertionEffect:!1,y7=b7||g7,s2=J.createContext(typeof HTMLElement<"u"?s7({key:"css"}):null);s2.Provider;var v7=function(h){return J.forwardRef(function(e,a){var l=J.useContext(s2);return h(e,l,a)})},x7=J.createContext({}),Xp={}.hasOwnProperty,ap="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",w7=function(h,e){var a={};for(var l in e)Xp.call(e,l)&&(a[l]=e[l]);return a[ap]=h,a},_7=function(h){var e=h.cache,a=h.serialized,l=h.isStringTag;return t2(e,a,l),y7(function(){return u7(e,a,l)}),null},S7=v7(function(t,h,e){var a=t.css;typeof a=="string"&&h.registered[a]!==void 0&&(a=h.registered[a]);var l=t[ap],f=[a],o="";typeof t.className=="string"?o=c7(h.registered,f,t.className):t.className!=null&&(o=t.className+" ");var c=n2(f,void 0,J.useContext(x7));o+=h.key+"-"+c.name;var s={};for(var r in t)Xp.call(t,r)&&r!=="css"&&r!==ap&&(s[r]=t[r]);return s.className=o,e&&(s.ref=e),J.createElement(J.Fragment,null,J.createElement(_7,{cache:h,serialized:c,isStringTag:typeof l=="string"}),J.createElement(l,s))}),C7=S7,jt=function(h,e){var a=arguments;if(e==null||!Xp.call(e,"css"))return J.createElement.apply(void 0,a);var l=a.length,f=new Array(l);f[0]=C7,f[1]=w7(h,e);for(var o=2;o<l;o++)f[o]=a[o];return J.createElement.apply(null,f)};(function(t){var h;h||(h=t.JSX||(t.JSX={}))})(jt||(jt={}));function Yp(){for(var t=arguments.length,h=new Array(t),e=0;e<t;e++)h[e]=arguments[e];return n2(h)}function j7(){var t=Yp.apply(void 0,arguments),h="animation-"+t.name;return{name:h,styles:"@keyframes "+h+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function k7(t,h){return h||(h=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(h)}}))}var Jr=c1();const E7=Math.min,T7=Math.max,Eu=Math.round,Ic=Math.floor,Tu=t=>({x:t,y:t});function N7(t){const{x:h,y:e,width:a,height:l}=t;return{width:a,height:l,top:e,left:h,right:h+a,bottom:e+l,x:h,y:e}}function Ju(){return typeof window<"u"}function i2(t){return a2(t)?(t.nodeName||"").toLowerCase():"#document"}function Ds(t){var h;return(t==null||(h=t.ownerDocument)==null?void 0:h.defaultView)||window}function o2(t){var h;return(h=(a2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:h.documentElement}function a2(t){return Ju()?t instanceof Node||t instanceof Ds(t).Node:!1}function M7(t){return Ju()?t instanceof Element||t instanceof Ds(t).Element:!1}function Wp(t){return Ju()?t instanceof HTMLElement||t instanceof Ds(t).HTMLElement:!1}function Ey(t){return!Ju()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ds(t).ShadowRoot}const R7=new Set(["inline","contents"]);function l2(t){const{overflow:h,overflowX:e,overflowY:a,display:l}=Gp(t);return/auto|scroll|overlay|hidden|clip/.test(h+a+e)&&!R7.has(l)}function A7(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const O7=new Set(["html","body","#document"]);function B7(t){return O7.has(i2(t))}function Gp(t){return Ds(t).getComputedStyle(t)}function P7(t){if(i2(t)==="html")return t;const h=t.assignedSlot||t.parentNode||Ey(t)&&t.host||o2(t);return Ey(h)?h.host:h}function c2(t){const h=P7(t);return B7(h)?t.ownerDocument?t.ownerDocument.body:t.body:Wp(h)&&l2(h)?h:c2(h)}function Nu(t,h,e){var a;h===void 0&&(h=[]),e===void 0&&(e=!0);const l=c2(t),f=l===((a=t.ownerDocument)==null?void 0:a.body),o=Ds(l);if(f){const c=lp(o);return h.concat(o,o.visualViewport||[],l2(l)?l:[],c&&e?Nu(c):[])}return h.concat(l,Nu(l,[],e))}function lp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function D7(t){const h=Gp(t);let e=parseFloat(h.width)||0,a=parseFloat(h.height)||0;const l=Wp(t),f=l?t.offsetWidth:e,o=l?t.offsetHeight:a,c=Eu(e)!==f||Eu(a)!==o;return c&&(e=f,a=o),{width:e,height:a,$:c}}function Zp(t){return M7(t)?t:t.contextElement}function Ty(t){const h=Zp(t);if(!Wp(h))return Tu(1);const e=h.getBoundingClientRect(),{width:a,height:l,$:f}=D7(h);let o=(f?Eu(e.width):e.width)/a,c=(f?Eu(e.height):e.height)/l;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const L7=Tu(0);function I7(t){const h=Ds(t);return!A7()||!h.visualViewport?L7:{x:h.visualViewport.offsetLeft,y:h.visualViewport.offsetTop}}function z7(t,h,e){return!1}function Ny(t,h,e,a){h===void 0&&(h=!1);const l=t.getBoundingClientRect(),f=Zp(t);let o=Tu(1);h&&(o=Ty(t));const c=z7()?I7(f):Tu(0);let s=(l.left+c.x)/o.x,r=(l.top+c.y)/o.y,i=l.width/o.x,b=l.height/o.y;if(f){const d=Ds(f),u=a;let v=d,x=lp(v);for(;x&&a&&u!==v;){const m=Ty(x),g=x.getBoundingClientRect(),y=Gp(x),C=g.left+(x.clientLeft+parseFloat(y.paddingLeft))*m.x,E=g.top+(x.clientTop+parseFloat(y.paddingTop))*m.y;s*=m.x,r*=m.y,i*=m.x,b*=m.y,s+=C,r+=E,v=Ds(x),x=lp(v)}}return N7({width:i,height:b,x:s,y:r})}function u2(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height}function F7(t,h){let e=null,a;const l=o2(t);function f(){var c;clearTimeout(a),(c=e)==null||c.disconnect(),e=null}function o(c,s){c===void 0&&(c=!1),s===void 0&&(s=1),f();const r=t.getBoundingClientRect(),{left:i,top:b,width:d,height:u}=r;if(c||h(),!d||!u)return;const v=Ic(b),x=Ic(l.clientWidth-(i+d)),m=Ic(l.clientHeight-(b+u)),g=Ic(i),C={rootMargin:-v+"px "+-x+"px "+-m+"px "+-g+"px",threshold:T7(0,E7(1,s))||1};let E=!0;function A(D){const q=D[0].intersectionRatio;if(q!==s){if(!E)return o();q?o(!1,q):a=setTimeout(()=>{o(!1,1e-7)},1e3)}q===1&&!u2(r,t.getBoundingClientRect())&&o(),E=!1}try{e=new IntersectionObserver(A,{...C,root:l.ownerDocument})}catch{e=new IntersectionObserver(A,C)}e.observe(t)}return o(!0),f}function $7(t,h,e,a){a===void 0&&(a={});const{ancestorScroll:l=!0,ancestorResize:f=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:s=!1}=a,r=Zp(t),i=l||f?[...r?Nu(r):[],...Nu(h)]:[];i.forEach(g=>{l&&g.addEventListener("scroll",e,{passive:!0}),f&&g.addEventListener("resize",e)});const b=r&&c?F7(r,e):null;let d=-1,u=null;o&&(u=new ResizeObserver(g=>{let[y]=g;y&&y.target===r&&u&&(u.unobserve(h),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var C;(C=u)==null||C.observe(h)})),e()}),r&&!s&&u.observe(r),u.observe(h));let v,x=s?Ny(t):null;s&&m();function m(){const g=Ny(t);x&&!u2(x,g)&&e(),x=g,v=requestAnimationFrame(m)}return e(),()=>{var g;i.forEach(y=>{l&&y.removeEventListener("scroll",e),f&&y.removeEventListener("resize",e)}),b==null||b(),(g=u)==null||g.disconnect(),u=null,s&&cancelAnimationFrame(v)}}var cp=J.useLayoutEffect,q7=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Mu=function(){};function U7(t,h){return h?h[0]==="-"?t+h:t+"__"+h:t}function H7(t,h){for(var e=arguments.length,a=new Array(e>2?e-2:0),l=2;l<e;l++)a[l-2]=arguments[l];var f=[].concat(a);if(h&&t)for(var o in h)h.hasOwnProperty(o)&&h[o]&&f.push("".concat(U7(t,o)));return f.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var My=function(h){return Q7(h)?h.filter(Boolean):to(h)==="object"&&h!==null?[h]:[]},d2=function(h){h.className,h.clearValue,h.cx,h.getStyles,h.getClassNames,h.getValue,h.hasValue,h.isMulti,h.isRtl,h.options,h.selectOption,h.selectProps,h.setValue,h.theme;var e=zs(h,q7);return Nt({},e)},jr=function(h,e,a){var l=h.cx,f=h.getStyles,o=h.getClassNames,c=h.className;return{css:f(e,h),className:l(a??{},o(e,h),c)}};function Qu(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function V7(t){return Qu(t)?window.innerHeight:t.clientHeight}function f2(t){return Qu(t)?window.pageYOffset:t.scrollTop}function Ru(t,h){if(Qu(t)){window.scrollTo(0,h);return}t.scrollTop=h}function K7(t){var h=getComputedStyle(t),e=h.position==="absolute",a=/(auto|scroll)/;if(h.position==="fixed")return document.documentElement;for(var l=t;l=l.parentElement;)if(h=getComputedStyle(l),!(e&&h.position==="static")&&a.test(h.overflow+h.overflowY+h.overflowX))return l;return document.documentElement}function X7(t,h,e,a){return e*((t=t/a-1)*t*t+1)+h}function zc(t,h){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Mu,l=f2(t),f=h-l,o=10,c=0;function s(){c+=o;var r=X7(c,l,f,e);Ru(t,r),c<e?window.requestAnimationFrame(s):a(t)}s()}function Ry(t,h){var e=t.getBoundingClientRect(),a=h.getBoundingClientRect(),l=h.offsetHeight/3;a.bottom+l>e.bottom?Ru(t,Math.min(h.offsetTop+h.clientHeight-t.offsetHeight+l,t.scrollHeight)):a.top-l<e.top&&Ru(t,Math.max(h.offsetTop-l,0))}function Y7(t){var h=t.getBoundingClientRect();return{bottom:h.bottom,height:h.height,left:h.left,right:h.right,top:h.top,width:h.width}}function Ay(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function W7(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var h2=!1,G7={get passive(){return h2=!0}},Fc=typeof window<"u"?window:{};Fc.addEventListener&&Fc.removeEventListener&&(Fc.addEventListener("p",Mu,G7),Fc.removeEventListener("p",Mu,!1));var Z7=h2;function J7(t){return t!=null}function Q7(t){return Array.isArray(t)}function $c(t,h,e){return t?h:e}var eC=function(h){for(var e=arguments.length,a=new Array(e>1?e-1:0),l=1;l<e;l++)a[l-1]=arguments[l];var f=Object.entries(h).filter(function(o){var c=Ps(o,1),s=c[0];return!a.includes(s)});return f.reduce(function(o,c){var s=Ps(c,2),r=s[0],i=s[1];return o[r]=i,o},{})},tC=["children","innerProps"],rC=["children","innerProps"];function nC(t){var h=t.maxHeight,e=t.menuEl,a=t.minHeight,l=t.placement,f=t.shouldScroll,o=t.isFixedPosition,c=t.controlHeight,s=K7(e),r={placement:"bottom",maxHeight:h};if(!e||!e.offsetParent)return r;var i=s.getBoundingClientRect(),b=i.height,d=e.getBoundingClientRect(),u=d.bottom,v=d.height,x=d.top,m=e.offsetParent.getBoundingClientRect(),g=m.top,y=o?window.innerHeight:V7(s),C=f2(s),E=parseInt(getComputedStyle(e).marginBottom,10),A=parseInt(getComputedStyle(e).marginTop,10),D=g-A,q=y-x,B=D+C,z=b-C-x,K=u-y+C+E,Y=C+x-A,X=160;switch(l){case"auto":case"bottom":if(q>=v)return{placement:"bottom",maxHeight:h};if(z>=v&&!o)return f&&zc(s,K,X),{placement:"bottom",maxHeight:h};if(!o&&z>=a||o&&q>=a){f&&zc(s,K,X);var O=o?q-E:z-E;return{placement:"bottom",maxHeight:O}}if(l==="auto"||o){var P=h,N=o?D:B;return N>=a&&(P=Math.min(N-E-c,h)),{placement:"top",maxHeight:P}}if(l==="bottom")return f&&Ru(s,K),{placement:"bottom",maxHeight:h};break;case"top":if(D>=v)return{placement:"top",maxHeight:h};if(B>=v&&!o)return f&&zc(s,Y,X),{placement:"top",maxHeight:h};if(!o&&B>=a||o&&D>=a){var _=h;return(!o&&B>=a||o&&D>=a)&&(_=o?D-A:B-A),f&&zc(s,Y,X),{placement:"top",maxHeight:_}}return{placement:"bottom",maxHeight:h};default:throw new Error('Invalid placement provided "'.concat(l,'".'))}return r}function sC(t){var h={bottom:"top",top:"bottom"};return t?h[t]:"bottom"}var p2=function(h){return h==="auto"?"bottom":h},iC=function(h,e){var a,l=h.placement,f=h.theme,o=f.borderRadius,c=f.spacing,s=f.colors;return Nt((a={label:"menu"},ul(a,sC(l),"100%"),ul(a,"position","absolute"),ul(a,"width","100%"),ul(a,"zIndex",1),a),e?{}:{backgroundColor:s.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},m2=J.createContext(null),oC=function(h){var e=h.children,a=h.minMenuHeight,l=h.maxMenuHeight,f=h.menuPlacement,o=h.menuPosition,c=h.menuShouldScrollIntoView,s=h.theme,r=J.useContext(m2)||{},i=r.setPortalPlacement,b=J.useRef(null),d=J.useState(l),u=Ps(d,2),v=u[0],x=u[1],m=J.useState(null),g=Ps(m,2),y=g[0],C=g[1],E=s.spacing.controlHeight;return cp(function(){var A=b.current;if(A){var D=o==="fixed",q=c&&!D,B=nC({maxHeight:l,menuEl:A,minHeight:a,placement:f,shouldScroll:q,isFixedPosition:D,controlHeight:E});x(B.maxHeight),C(B.placement),i==null||i(B.placement)}},[l,f,o,c,a,i,E]),e({ref:b,placerProps:Nt(Nt({},h),{},{placement:y||p2(f),maxHeight:v})})},aC=function(h){var e=h.children,a=h.innerRef,l=h.innerProps;return jt("div",At({},jr(h,"menu",{menu:!0}),{ref:a},l),e)},lC=aC,cC=function(h,e){var a=h.maxHeight,l=h.theme.spacing.baseUnit;return Nt({maxHeight:a,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},e?{}:{paddingBottom:l,paddingTop:l})},uC=function(h){var e=h.children,a=h.innerProps,l=h.innerRef,f=h.isMulti;return jt("div",At({},jr(h,"menuList",{"menu-list":!0,"menu-list--is-multi":f}),{ref:l},a),e)},g2=function(h,e){var a=h.theme,l=a.spacing.baseUnit,f=a.colors;return Nt({textAlign:"center"},e?{}:{color:f.neutral40,padding:"".concat(l*2,"px ").concat(l*3,"px")})},dC=g2,fC=g2,hC=function(h){var e=h.children,a=e===void 0?"No options":e,l=h.innerProps,f=zs(h,tC);return jt("div",At({},jr(Nt(Nt({},f),{},{children:a,innerProps:l}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),l),a)},pC=function(h){var e=h.children,a=e===void 0?"Loading...":e,l=h.innerProps,f=zs(h,rC);return jt("div",At({},jr(Nt(Nt({},f),{},{children:a,innerProps:l}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),l),a)},mC=function(h){var e=h.rect,a=h.offset,l=h.position;return{left:e.left,position:l,top:a,width:e.width,zIndex:1}},gC=function(h){var e=h.appendTo,a=h.children,l=h.controlElement,f=h.innerProps,o=h.menuPlacement,c=h.menuPosition,s=J.useRef(null),r=J.useRef(null),i=J.useState(p2(o)),b=Ps(i,2),d=b[0],u=b[1],v=J.useMemo(function(){return{setPortalPlacement:u}},[]),x=J.useState(null),m=Ps(x,2),g=m[0],y=m[1],C=J.useCallback(function(){if(l){var q=Y7(l),B=c==="fixed"?0:window.pageYOffset,z=q[d]+B;(z!==(g==null?void 0:g.offset)||q.left!==(g==null?void 0:g.rect.left)||q.width!==(g==null?void 0:g.rect.width))&&y({offset:z,rect:q})}},[l,c,d,g==null?void 0:g.offset,g==null?void 0:g.rect.left,g==null?void 0:g.rect.width]);cp(function(){C()},[C]);var E=J.useCallback(function(){typeof r.current=="function"&&(r.current(),r.current=null),l&&s.current&&(r.current=$7(l,s.current,C,{elementResize:"ResizeObserver"in window}))},[l,C]);cp(function(){E()},[E]);var A=J.useCallback(function(q){s.current=q,E()},[E]);if(!e&&c!=="fixed"||!g)return null;var D=jt("div",At({ref:A},jr(Nt(Nt({},h),{},{offset:g.offset,position:c,rect:g.rect}),"menuPortal",{"menu-portal":!0}),f),a);return jt(m2.Provider,{value:v},e?Jr.createPortal(D,e):D)},bC=function(h){var e=h.isDisabled,a=h.isRtl;return{label:"container",direction:a?"rtl":void 0,pointerEvents:e?"none":void 0,position:"relative"}},yC=function(h){var e=h.children,a=h.innerProps,l=h.isDisabled,f=h.isRtl;return jt("div",At({},jr(h,"container",{"--is-disabled":l,"--is-rtl":f}),a),e)},vC=function(h,e){var a=h.theme.spacing,l=h.isMulti,f=h.hasValue,o=h.selectProps.controlShouldRenderValue;return Nt({alignItems:"center",display:l&&f&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},e?{}:{padding:"".concat(a.baseUnit/2,"px ").concat(a.baseUnit*2,"px")})},xC=function(h){var e=h.children,a=h.innerProps,l=h.isMulti,f=h.hasValue;return jt("div",At({},jr(h,"valueContainer",{"value-container":!0,"value-container--is-multi":l,"value-container--has-value":f}),a),e)},wC=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},_C=function(h){var e=h.children,a=h.innerProps;return jt("div",At({},jr(h,"indicatorsContainer",{indicators:!0}),a),e)},Oy,SC=["size"],CC=["innerProps","isRtl","size"],jC={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},b2=function(h){var e=h.size,a=zs(h,SC);return jt("svg",At({height:e,width:e,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:jC},a))},Jp=function(h){return jt(b2,At({size:20},h),jt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},y2=function(h){return jt(b2,At({size:20},h),jt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},v2=function(h,e){var a=h.isFocused,l=h.theme,f=l.spacing.baseUnit,o=l.colors;return Nt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},e?{}:{color:a?o.neutral60:o.neutral20,padding:f*2,":hover":{color:a?o.neutral80:o.neutral40}})},kC=v2,EC=function(h){var e=h.children,a=h.innerProps;return jt("div",At({},jr(h,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),a),e||jt(y2,null))},TC=v2,NC=function(h){var e=h.children,a=h.innerProps;return jt("div",At({},jr(h,"clearIndicator",{indicator:!0,"clear-indicator":!0}),a),e||jt(Jp,null))},MC=function(h,e){var a=h.isDisabled,l=h.theme,f=l.spacing.baseUnit,o=l.colors;return Nt({label:"indicatorSeparator",alignSelf:"stretch",width:1},e?{}:{backgroundColor:a?o.neutral10:o.neutral20,marginBottom:f*2,marginTop:f*2})},RC=function(h){var e=h.innerProps;return jt("span",At({},e,jr(h,"indicatorSeparator",{"indicator-separator":!0})))},AC=j7(Oy||(Oy=k7([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),OC=function(h,e){var a=h.isFocused,l=h.size,f=h.theme,o=f.colors,c=f.spacing.baseUnit;return Nt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:l,lineHeight:1,marginRight:l,textAlign:"center",verticalAlign:"middle"},e?{}:{color:a?o.neutral60:o.neutral20,padding:c*2})},Ch=function(h){var e=h.delay,a=h.offset;return jt("span",{css:Yp({animation:"".concat(AC," 1s ease-in-out ").concat(e,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:a?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},BC=function(h){var e=h.innerProps,a=h.isRtl,l=h.size,f=l===void 0?4:l,o=zs(h,CC);return jt("div",At({},jr(Nt(Nt({},o),{},{innerProps:e,isRtl:a,size:f}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),e),jt(Ch,{delay:0,offset:a}),jt(Ch,{delay:160,offset:!0}),jt(Ch,{delay:320,offset:!a}))},PC=function(h,e){var a=h.isDisabled,l=h.isFocused,f=h.theme,o=f.colors,c=f.borderRadius,s=f.spacing;return Nt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:s.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},e?{}:{backgroundColor:a?o.neutral5:o.neutral0,borderColor:a?o.neutral10:l?o.primary:o.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:l?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:l?o.primary:o.neutral30}})},DC=function(h){var e=h.children,a=h.isDisabled,l=h.isFocused,f=h.innerRef,o=h.innerProps,c=h.menuIsOpen;return jt("div",At({ref:f},jr(h,"control",{control:!0,"control--is-disabled":a,"control--is-focused":l,"control--menu-is-open":c}),o,{"aria-disabled":a||void 0}),e)},LC=DC,IC=["data"],zC=function(h,e){var a=h.theme.spacing;return e?{}:{paddingBottom:a.baseUnit*2,paddingTop:a.baseUnit*2}},FC=function(h){var e=h.children,a=h.cx,l=h.getStyles,f=h.getClassNames,o=h.Heading,c=h.headingProps,s=h.innerProps,r=h.label,i=h.theme,b=h.selectProps;return jt("div",At({},jr(h,"group",{group:!0}),s),jt(o,At({},c,{selectProps:b,theme:i,getStyles:l,getClassNames:f,cx:a}),r),jt("div",null,e))},$C=function(h,e){var a=h.theme,l=a.colors,f=a.spacing;return Nt({label:"group",cursor:"default",display:"block"},e?{}:{color:l.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:f.baseUnit*3,paddingRight:f.baseUnit*3,textTransform:"uppercase"})},qC=function(h){var e=d2(h);e.data;var a=zs(e,IC);return jt("div",At({},jr(h,"groupHeading",{"group-heading":!0}),a))},UC=FC,HC=["innerRef","isDisabled","isHidden","inputClassName"],VC=function(h,e){var a=h.isDisabled,l=h.value,f=h.theme,o=f.spacing,c=f.colors;return Nt(Nt({visibility:a?"hidden":"visible",transform:l?"translateZ(0)":""},KC),e?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:c.neutral80})},x2={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},KC={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Nt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},x2)},XC=function(h){return Nt({label:"input",color:"inherit",background:0,opacity:h?0:1,width:"100%"},x2)},YC=function(h){var e=h.cx,a=h.value,l=d2(h),f=l.innerRef,o=l.isDisabled,c=l.isHidden,s=l.inputClassName,r=zs(l,HC);return jt("div",At({},jr(h,"input",{"input-container":!0}),{"data-value":a||""}),jt("input",At({className:e({input:!0},s),ref:f,style:XC(c),disabled:o},r)))},WC=YC,GC=function(h,e){var a=h.theme,l=a.spacing,f=a.borderRadius,o=a.colors;return Nt({label:"multiValue",display:"flex",minWidth:0},e?{}:{backgroundColor:o.neutral10,borderRadius:f/2,margin:l.baseUnit/2})},ZC=function(h,e){var a=h.theme,l=a.borderRadius,f=a.colors,o=h.cropWithEllipsis;return Nt({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},e?{}:{borderRadius:l/2,color:f.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},JC=function(h,e){var a=h.theme,l=a.spacing,f=a.borderRadius,o=a.colors,c=h.isFocused;return Nt({alignItems:"center",display:"flex"},e?{}:{borderRadius:f/2,backgroundColor:c?o.dangerLight:void 0,paddingLeft:l.baseUnit,paddingRight:l.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},w2=function(h){var e=h.children,a=h.innerProps;return jt("div",a,e)},QC=w2,e9=w2;function t9(t){var h=t.children,e=t.innerProps;return jt("div",At({role:"button"},e),h||jt(Jp,{size:14}))}var r9=function(h){var e=h.children,a=h.components,l=h.data,f=h.innerProps,o=h.isDisabled,c=h.removeProps,s=h.selectProps,r=a.Container,i=a.Label,b=a.Remove;return jt(r,{data:l,innerProps:Nt(Nt({},jr(h,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),f),selectProps:s},jt(i,{data:l,innerProps:Nt({},jr(h,"multiValueLabel",{"multi-value__label":!0})),selectProps:s},e),jt(b,{data:l,innerProps:Nt(Nt({},jr(h,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(e||"option")},c),selectProps:s}))},n9=r9,s9=function(h,e){var a=h.isDisabled,l=h.isFocused,f=h.isSelected,o=h.theme,c=o.spacing,s=o.colors;return Nt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},e?{}:{backgroundColor:f?s.primary:l?s.primary25:"transparent",color:a?s.neutral20:f?s.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:a?void 0:f?s.primary:s.primary50}})},i9=function(h){var e=h.children,a=h.isDisabled,l=h.isFocused,f=h.isSelected,o=h.innerRef,c=h.innerProps;return jt("div",At({},jr(h,"option",{option:!0,"option--is-disabled":a,"option--is-focused":l,"option--is-selected":f}),{ref:o,"aria-disabled":a},c),e)},o9=i9,a9=function(h,e){var a=h.theme,l=a.spacing,f=a.colors;return Nt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},e?{}:{color:f.neutral50,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},l9=function(h){var e=h.children,a=h.innerProps;return jt("div",At({},jr(h,"placeholder",{placeholder:!0}),a),e)},c9=l9,u9=function(h,e){var a=h.isDisabled,l=h.theme,f=l.spacing,o=l.colors;return Nt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e?{}:{color:a?o.neutral40:o.neutral80,marginLeft:f.baseUnit/2,marginRight:f.baseUnit/2})},d9=function(h){var e=h.children,a=h.isDisabled,l=h.innerProps;return jt("div",At({},jr(h,"singleValue",{"single-value":!0,"single-value--is-disabled":a}),l),e)},f9=d9,h9={ClearIndicator:NC,Control:LC,DropdownIndicator:EC,DownChevron:y2,CrossIcon:Jp,Group:UC,GroupHeading:qC,IndicatorsContainer:_C,IndicatorSeparator:RC,Input:WC,LoadingIndicator:BC,Menu:lC,MenuList:uC,MenuPortal:gC,LoadingMessage:pC,NoOptionsMessage:hC,MultiValue:n9,MultiValueContainer:QC,MultiValueLabel:e9,MultiValueRemove:t9,Option:o9,Placeholder:c9,SelectContainer:yC,SingleValue:f9,ValueContainer:xC},p9=function(h){return Nt(Nt({},h9),h.components)},By=Number.isNaN||function(h){return typeof h=="number"&&h!==h};function m9(t,h){return!!(t===h||By(t)&&By(h))}function g9(t,h){if(t.length!==h.length)return!1;for(var e=0;e<t.length;e++)if(!m9(t[e],h[e]))return!1;return!0}function b9(t,h){h===void 0&&(h=g9);var e=null;function a(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];if(e&&e.lastThis===this&&h(l,e.lastArgs))return e.lastResult;var o=t.apply(this,l);return e={lastResult:o,lastArgs:l,lastThis:this},o}return a.clear=function(){e=null},a}var y9={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},v9=function(h){return jt("span",At({css:y9},h))},Py=v9,x9={guidance:function(h){var e=h.isSearchable,a=h.isMulti,l=h.tabSelectsValue,f=h.context,o=h.isInitialFocus;switch(f){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(l?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(h["aria-label"]||"Select"," is focused ").concat(e?",type to refine list":"",", press Down to open the menu, ").concat(a?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(h){var e=h.action,a=h.label,l=a===void 0?"":a,f=h.labels,o=h.isDisabled;switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(l,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(f.length>1?"s":""," ").concat(f.join(","),", selected.");case"select-option":return o?"option ".concat(l," is disabled. Select another option."):"option ".concat(l,", selected.");default:return""}},onFocus:function(h){var e=h.context,a=h.focused,l=h.options,f=h.label,o=f===void 0?"":f,c=h.selectValue,s=h.isDisabled,r=h.isSelected,i=h.isAppleDevice,b=function(x,m){return x&&x.length?"".concat(x.indexOf(m)+1," of ").concat(x.length):""};if(e==="value"&&c)return"value ".concat(o," focused, ").concat(b(c,a),".");if(e==="menu"&&i){var d=s?" disabled":"",u="".concat(r?" selected":"").concat(d);return"".concat(o).concat(u,", ").concat(b(l,a),".")}return""},onFilter:function(h){var e=h.inputValue,a=h.resultsMessage;return"".concat(a).concat(e?" for search term "+e:"",".")}},w9=function(h){var e=h.ariaSelection,a=h.focusedOption,l=h.focusedValue,f=h.focusableOptions,o=h.isFocused,c=h.selectValue,s=h.selectProps,r=h.id,i=h.isAppleDevice,b=s.ariaLiveMessages,d=s.getOptionLabel,u=s.inputValue,v=s.isMulti,x=s.isOptionDisabled,m=s.isSearchable,g=s.menuIsOpen,y=s.options,C=s.screenReaderStatus,E=s.tabSelectsValue,A=s.isLoading,D=s["aria-label"],q=s["aria-live"],B=J.useMemo(function(){return Nt(Nt({},x9),b||{})},[b]),z=J.useMemo(function(){var N="";if(e&&B.onChange){var _=e.option,j=e.options,k=e.removedValue,T=e.removedValues,M=e.value,F=function(L){return Array.isArray(L)?null:L},$=k||_||F(M),V=$?d($):"",W=j||T||void 0,ee=W?W.map(d):[],U=Nt({isDisabled:$&&x($,c),label:V,labels:ee},e);N=B.onChange(U)}return N},[e,B,x,c,d]),K=J.useMemo(function(){var N="",_=a||l,j=!!(a&&c&&c.includes(a));if(_&&B.onFocus){var k={focused:_,label:d(_),isDisabled:x(_,c),isSelected:j,options:f,context:_===a?"menu":"value",selectValue:c,isAppleDevice:i};N=B.onFocus(k)}return N},[a,l,d,x,B,f,c,i]),Y=J.useMemo(function(){var N="";if(g&&y.length&&!A&&B.onFilter){var _=C({count:f.length});N=B.onFilter({inputValue:u,resultsMessage:_})}return N},[f,u,g,B,y,C,A]),X=(e==null?void 0:e.action)==="initial-input-focus",O=J.useMemo(function(){var N="";if(B.guidance){var _=l?"value":g?"menu":"input";N=B.guidance({"aria-label":D,context:_,isDisabled:a&&x(a,c),isMulti:v,isSearchable:m,tabSelectsValue:E,isInitialFocus:X})}return N},[D,a,l,v,x,m,g,B,c,E,X]),P=jt(J.Fragment,null,jt("span",{id:"aria-selection"},z),jt("span",{id:"aria-focused"},K),jt("span",{id:"aria-results"},Y),jt("span",{id:"aria-guidance"},O));return jt(J.Fragment,null,jt(Py,{id:r},X&&P),jt(Py,{"aria-live":q,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!X&&P))},_9=w9,up=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],S9=new RegExp("["+up.map(function(t){return t.letters}).join("")+"]","g"),_2={};for(var jh=0;jh<up.length;jh++)for(var kh=up[jh],Eh=0;Eh<kh.letters.length;Eh++)_2[kh.letters[Eh]]=kh.base;var S2=function(h){return h.replace(S9,function(e){return _2[e]})},C9=b9(S2),Dy=function(h){return h.replace(/^\s+|\s+$/g,"")},j9=function(h){return"".concat(h.label," ").concat(h.value)},k9=function(h){return function(e,a){if(e.data.__isNew__)return!0;var l=Nt({ignoreCase:!0,ignoreAccents:!0,stringify:j9,trim:!0,matchFrom:"any"},h),f=l.ignoreCase,o=l.ignoreAccents,c=l.stringify,s=l.trim,r=l.matchFrom,i=s?Dy(a):a,b=s?Dy(c(e)):c(e);return f&&(i=i.toLowerCase(),b=b.toLowerCase()),o&&(i=C9(i),b=S2(b)),r==="start"?b.substr(0,i.length)===i:b.indexOf(i)>-1}},E9=["innerRef"];function T9(t){var h=t.innerRef,e=zs(t,E9),a=eC(e,"onExited","in","enter","exit","appear");return jt("input",At({ref:h},a,{css:Yp({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var N9=function(h){h.cancelable&&h.preventDefault(),h.stopPropagation()};function M9(t){var h=t.isEnabled,e=t.onBottomArrive,a=t.onBottomLeave,l=t.onTopArrive,f=t.onTopLeave,o=J.useRef(!1),c=J.useRef(!1),s=J.useRef(0),r=J.useRef(null),i=J.useCallback(function(m,g){if(r.current!==null){var y=r.current,C=y.scrollTop,E=y.scrollHeight,A=y.clientHeight,D=r.current,q=g>0,B=E-A-C,z=!1;B>g&&o.current&&(a&&a(m),o.current=!1),q&&c.current&&(f&&f(m),c.current=!1),q&&g>B?(e&&!o.current&&e(m),D.scrollTop=E,z=!0,o.current=!0):!q&&-g>C&&(l&&!c.current&&l(m),D.scrollTop=0,z=!0,c.current=!0),z&&N9(m)}},[e,a,l,f]),b=J.useCallback(function(m){i(m,m.deltaY)},[i]),d=J.useCallback(function(m){s.current=m.changedTouches[0].clientY},[]),u=J.useCallback(function(m){var g=s.current-m.changedTouches[0].clientY;i(m,g)},[i]),v=J.useCallback(function(m){if(m){var g=Z7?{passive:!1}:!1;m.addEventListener("wheel",b,g),m.addEventListener("touchstart",d,g),m.addEventListener("touchmove",u,g)}},[u,d,b]),x=J.useCallback(function(m){m&&(m.removeEventListener("wheel",b,!1),m.removeEventListener("touchstart",d,!1),m.removeEventListener("touchmove",u,!1))},[u,d,b]);return J.useEffect(function(){if(h){var m=r.current;return v(m),function(){x(m)}}},[h,v,x]),function(m){r.current=m}}var Ly=["boxSizing","height","overflow","paddingRight","position"],Iy={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function zy(t){t.cancelable&&t.preventDefault()}function Fy(t){t.stopPropagation()}function $y(){var t=this.scrollTop,h=this.scrollHeight,e=t+this.offsetHeight;t===0?this.scrollTop=1:e===h&&(this.scrollTop=t-1)}function qy(){return"ontouchstart"in window||navigator.maxTouchPoints}var Uy=!!(typeof window<"u"&&window.document&&window.document.createElement),al=0,Lo={capture:!1,passive:!1};function R9(t){var h=t.isEnabled,e=t.accountForScrollbars,a=e===void 0?!0:e,l=J.useRef({}),f=J.useRef(null),o=J.useCallback(function(s){if(Uy){var r=document.body,i=r&&r.style;if(a&&Ly.forEach(function(v){var x=i&&i[v];l.current[v]=x}),a&&al<1){var b=parseInt(l.current.paddingRight,10)||0,d=document.body?document.body.clientWidth:0,u=window.innerWidth-d+b||0;Object.keys(Iy).forEach(function(v){var x=Iy[v];i&&(i[v]=x)}),i&&(i.paddingRight="".concat(u,"px"))}r&&qy()&&(r.addEventListener("touchmove",zy,Lo),s&&(s.addEventListener("touchstart",$y,Lo),s.addEventListener("touchmove",Fy,Lo))),al+=1}},[a]),c=J.useCallback(function(s){if(Uy){var r=document.body,i=r&&r.style;al=Math.max(al-1,0),a&&al<1&&Ly.forEach(function(b){var d=l.current[b];i&&(i[b]=d)}),r&&qy()&&(r.removeEventListener("touchmove",zy,Lo),s&&(s.removeEventListener("touchstart",$y,Lo),s.removeEventListener("touchmove",Fy,Lo)))}},[a]);return J.useEffect(function(){if(h){var s=f.current;return o(s),function(){c(s)}}},[h,o,c]),function(s){f.current=s}}var A9=function(h){var e=h.target;return e.ownerDocument.activeElement&&e.ownerDocument.activeElement.blur()},O9={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function B9(t){var h=t.children,e=t.lockEnabled,a=t.captureEnabled,l=a===void 0?!0:a,f=t.onBottomArrive,o=t.onBottomLeave,c=t.onTopArrive,s=t.onTopLeave,r=M9({isEnabled:l,onBottomArrive:f,onBottomLeave:o,onTopArrive:c,onTopLeave:s}),i=R9({isEnabled:e}),b=function(u){r(u),i(u)};return jt(J.Fragment,null,e&&jt("div",{onClick:A9,css:O9}),h(b))}var P9={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},D9=function(h){var e=h.name,a=h.onFocus;return jt("input",{required:!0,name:e,tabIndex:-1,"aria-hidden":"true",onFocus:a,css:P9,value:"",onChange:function(){}})},L9=D9;function Qp(t){var h;return typeof window<"u"&&window.navigator!=null?t.test(((h=window.navigator.userAgentData)===null||h===void 0?void 0:h.platform)||window.navigator.platform):!1}function I9(){return Qp(/^iPhone/i)}function C2(){return Qp(/^Mac/i)}function z9(){return Qp(/^iPad/i)||C2()&&navigator.maxTouchPoints>1}function F9(){return I9()||z9()}function $9(){return C2()||F9()}var q9=function(h){return h.label},U9=function(h){return h.label},H9=function(h){return h.value},V9=function(h){return!!h.isDisabled},K9={clearIndicator:TC,container:bC,control:PC,dropdownIndicator:kC,group:zC,groupHeading:$C,indicatorsContainer:wC,indicatorSeparator:MC,input:VC,loadingIndicator:OC,loadingMessage:fC,menu:iC,menuList:cC,menuPortal:mC,multiValue:GC,multiValueLabel:ZC,multiValueRemove:JC,noOptionsMessage:dC,option:s9,placeholder:a9,singleValue:u9,valueContainer:vC},X9={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Y9=4,j2=4,W9=38,G9=j2*2,Z9={baseUnit:j2,controlHeight:W9,menuGutter:G9},Th={borderRadius:Y9,colors:X9,spacing:Z9},J9={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Ay(),captureMenuScroll:!Ay(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:k9(),formatGroupLabel:q9,getOptionLabel:U9,getOptionValue:H9,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:V9,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!W7(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(h){var e=h.count;return"".concat(e," result").concat(e!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Hy(t,h,e,a){var l=T2(t,h,e),f=N2(t,h,e),o=E2(t,h),c=Au(t,h);return{type:"option",data:h,isDisabled:l,isSelected:f,label:o,value:c,index:a}}function uu(t,h){return t.options.map(function(e,a){if("options"in e){var l=e.options.map(function(o,c){return Hy(t,o,h,c)}).filter(function(o){return Ky(t,o)});return l.length>0?{type:"group",data:e,options:l,index:a}:void 0}var f=Hy(t,e,h,a);return Ky(t,f)?f:void 0}).filter(J7)}function k2(t){return t.reduce(function(h,e){return e.type==="group"?h.push.apply(h,Up(e.options.map(function(a){return a.data}))):h.push(e.data),h},[])}function Vy(t,h){return t.reduce(function(e,a){return a.type==="group"?e.push.apply(e,Up(a.options.map(function(l){return{data:l.data,id:"".concat(h,"-").concat(a.index,"-").concat(l.index)}}))):e.push({data:a.data,id:"".concat(h,"-").concat(a.index)}),e},[])}function Q9(t,h){return k2(uu(t,h))}function Ky(t,h){var e=t.inputValue,a=e===void 0?"":e,l=h.data,f=h.isSelected,o=h.label,c=h.value;return(!R2(t)||!f)&&M2(t,{label:o,value:c,data:l},a)}function ej(t,h){var e=t.focusedValue,a=t.selectValue,l=a.indexOf(e);if(l>-1){var f=h.indexOf(e);if(f>-1)return e;if(l<h.length)return h[l]}return null}function tj(t,h){var e=t.focusedOption;return e&&h.indexOf(e)>-1?e:h[0]}var Nh=function(h,e){var a,l=(a=h.find(function(f){return f.data===e}))===null||a===void 0?void 0:a.id;return l||null},E2=function(h,e){return h.getOptionLabel(e)},Au=function(h,e){return h.getOptionValue(e)};function T2(t,h,e){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(h,e):!1}function N2(t,h,e){if(e.indexOf(h)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(h,e);var a=Au(t,h);return e.some(function(l){return Au(t,l)===a})}function M2(t,h,e){return t.filterOption?t.filterOption(h,e):!0}var R2=function(h){var e=h.hideSelectedOptions,a=h.isMulti;return e===void 0?a:e},rj=1,A2=function(t){_8(e,t);var h=j8(e);function e(a){var l;if(x8(this,e),l=h.call(this,a),l.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},l.blockOptionHover=!1,l.isComposing=!1,l.commonProps=void 0,l.initialTouchX=0,l.initialTouchY=0,l.openAfterFocus=!1,l.scrollToFocusedOptionOnUpdate=!1,l.userIsDragging=void 0,l.isAppleDevice=$9(),l.controlRef=null,l.getControlRef=function(s){l.controlRef=s},l.focusedOptionRef=null,l.getFocusedOptionRef=function(s){l.focusedOptionRef=s},l.menuListRef=null,l.getMenuListRef=function(s){l.menuListRef=s},l.inputRef=null,l.getInputRef=function(s){l.inputRef=s},l.focus=l.focusInput,l.blur=l.blurInput,l.onChange=function(s,r){var i=l.props,b=i.onChange,d=i.name;r.name=d,l.ariaOnChange(s,r),b(s,r)},l.setValue=function(s,r,i){var b=l.props,d=b.closeMenuOnSelect,u=b.isMulti,v=b.inputValue;l.onInputChange("",{action:"set-value",prevInputValue:v}),d&&(l.setState({inputIsHiddenAfterUpdate:!u}),l.onMenuClose()),l.setState({clearFocusValueOnUpdate:!0}),l.onChange(s,{action:r,option:i})},l.selectOption=function(s){var r=l.props,i=r.blurInputOnSelect,b=r.isMulti,d=r.name,u=l.state.selectValue,v=b&&l.isOptionSelected(s,u),x=l.isOptionDisabled(s,u);if(v){var m=l.getOptionValue(s);l.setValue(u.filter(function(g){return l.getOptionValue(g)!==m}),"deselect-option",s)}else if(!x)b?l.setValue([].concat(Up(u),[s]),"select-option",s):l.setValue(s,"select-option");else{l.ariaOnChange(s,{action:"select-option",option:s,name:d});return}i&&l.blurInput()},l.removeValue=function(s){var r=l.props.isMulti,i=l.state.selectValue,b=l.getOptionValue(s),d=i.filter(function(v){return l.getOptionValue(v)!==b}),u=$c(r,d,d[0]||null);l.onChange(u,{action:"remove-value",removedValue:s}),l.focusInput()},l.clearValue=function(){var s=l.state.selectValue;l.onChange($c(l.props.isMulti,[],null),{action:"clear",removedValues:s})},l.popValue=function(){var s=l.props.isMulti,r=l.state.selectValue,i=r[r.length-1],b=r.slice(0,r.length-1),d=$c(s,b,b[0]||null);i&&l.onChange(d,{action:"pop-value",removedValue:i})},l.getFocusedOptionId=function(s){return Nh(l.state.focusableOptionsWithIds,s)},l.getFocusableOptionsWithIds=function(){return Vy(uu(l.props,l.state.selectValue),l.getElementId("option"))},l.getValue=function(){return l.state.selectValue},l.cx=function(){for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return H7.apply(void 0,[l.props.classNamePrefix].concat(r))},l.getOptionLabel=function(s){return E2(l.props,s)},l.getOptionValue=function(s){return Au(l.props,s)},l.getStyles=function(s,r){var i=l.props.unstyled,b=K9[s](r,i);b.boxSizing="border-box";var d=l.props.styles[s];return d?d(b,r):b},l.getClassNames=function(s,r){var i,b;return(i=(b=l.props.classNames)[s])===null||i===void 0?void 0:i.call(b,r)},l.getElementId=function(s){return"".concat(l.state.instancePrefix,"-").concat(s)},l.getComponents=function(){return p9(l.props)},l.buildCategorizedOptions=function(){return uu(l.props,l.state.selectValue)},l.getCategorizedOptions=function(){return l.props.menuIsOpen?l.buildCategorizedOptions():[]},l.buildFocusableOptions=function(){return k2(l.buildCategorizedOptions())},l.getFocusableOptions=function(){return l.props.menuIsOpen?l.buildFocusableOptions():[]},l.ariaOnChange=function(s,r){l.setState({ariaSelection:Nt({value:s},r)})},l.onMenuMouseDown=function(s){s.button===0&&(s.stopPropagation(),s.preventDefault(),l.focusInput())},l.onMenuMouseMove=function(s){l.blockOptionHover=!1},l.onControlMouseDown=function(s){if(!s.defaultPrevented){var r=l.props.openMenuOnClick;l.state.isFocused?l.props.menuIsOpen?s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&l.onMenuClose():r&&l.openMenu("first"):(r&&(l.openAfterFocus=!0),l.focusInput()),s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&s.preventDefault()}},l.onDropdownIndicatorMouseDown=function(s){if(!(s&&s.type==="mousedown"&&s.button!==0)&&!l.props.isDisabled){var r=l.props,i=r.isMulti,b=r.menuIsOpen;l.focusInput(),b?(l.setState({inputIsHiddenAfterUpdate:!i}),l.onMenuClose()):l.openMenu("first"),s.preventDefault()}},l.onClearIndicatorMouseDown=function(s){s&&s.type==="mousedown"&&s.button!==0||(l.clearValue(),s.preventDefault(),l.openAfterFocus=!1,s.type==="touchend"?l.focusInput():setTimeout(function(){return l.focusInput()}))},l.onScroll=function(s){typeof l.props.closeMenuOnScroll=="boolean"?s.target instanceof HTMLElement&&Qu(s.target)&&l.props.onMenuClose():typeof l.props.closeMenuOnScroll=="function"&&l.props.closeMenuOnScroll(s)&&l.props.onMenuClose()},l.onCompositionStart=function(){l.isComposing=!0},l.onCompositionEnd=function(){l.isComposing=!1},l.onTouchStart=function(s){var r=s.touches,i=r&&r.item(0);i&&(l.initialTouchX=i.clientX,l.initialTouchY=i.clientY,l.userIsDragging=!1)},l.onTouchMove=function(s){var r=s.touches,i=r&&r.item(0);if(i){var b=Math.abs(i.clientX-l.initialTouchX),d=Math.abs(i.clientY-l.initialTouchY),u=5;l.userIsDragging=b>u||d>u}},l.onTouchEnd=function(s){l.userIsDragging||(l.controlRef&&!l.controlRef.contains(s.target)&&l.menuListRef&&!l.menuListRef.contains(s.target)&&l.blurInput(),l.initialTouchX=0,l.initialTouchY=0)},l.onControlTouchEnd=function(s){l.userIsDragging||l.onControlMouseDown(s)},l.onClearIndicatorTouchEnd=function(s){l.userIsDragging||l.onClearIndicatorMouseDown(s)},l.onDropdownIndicatorTouchEnd=function(s){l.userIsDragging||l.onDropdownIndicatorMouseDown(s)},l.handleInputChange=function(s){var r=l.props.inputValue,i=s.currentTarget.value;l.setState({inputIsHiddenAfterUpdate:!1}),l.onInputChange(i,{action:"input-change",prevInputValue:r}),l.props.menuIsOpen||l.onMenuOpen()},l.onInputFocus=function(s){l.props.onFocus&&l.props.onFocus(s),l.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(l.openAfterFocus||l.props.openMenuOnFocus)&&l.openMenu("first"),l.openAfterFocus=!1},l.onInputBlur=function(s){var r=l.props.inputValue;if(l.menuListRef&&l.menuListRef.contains(document.activeElement)){l.inputRef.focus();return}l.props.onBlur&&l.props.onBlur(s),l.onInputChange("",{action:"input-blur",prevInputValue:r}),l.onMenuClose(),l.setState({focusedValue:null,isFocused:!1})},l.onOptionHover=function(s){if(!(l.blockOptionHover||l.state.focusedOption===s)){var r=l.getFocusableOptions(),i=r.indexOf(s);l.setState({focusedOption:s,focusedOptionId:i>-1?l.getFocusedOptionId(s):null})}},l.shouldHideSelectedOptions=function(){return R2(l.props)},l.onValueInputFocus=function(s){s.preventDefault(),s.stopPropagation(),l.focus()},l.onKeyDown=function(s){var r=l.props,i=r.isMulti,b=r.backspaceRemovesValue,d=r.escapeClearsValue,u=r.inputValue,v=r.isClearable,x=r.isDisabled,m=r.menuIsOpen,g=r.onKeyDown,y=r.tabSelectsValue,C=r.openMenuOnFocus,E=l.state,A=E.focusedOption,D=E.focusedValue,q=E.selectValue;if(!x&&!(typeof g=="function"&&(g(s),s.defaultPrevented))){switch(l.blockOptionHover=!0,s.key){case"ArrowLeft":if(!i||u)return;l.focusValue("previous");break;case"ArrowRight":if(!i||u)return;l.focusValue("next");break;case"Delete":case"Backspace":if(u)return;if(D)l.removeValue(D);else{if(!b)return;i?l.popValue():v&&l.clearValue()}break;case"Tab":if(l.isComposing||s.shiftKey||!m||!y||!A||C&&l.isOptionSelected(A,q))return;l.selectOption(A);break;case"Enter":if(s.keyCode===229)break;if(m){if(!A||l.isComposing)return;l.selectOption(A);break}return;case"Escape":m?(l.setState({inputIsHiddenAfterUpdate:!1}),l.onInputChange("",{action:"menu-close",prevInputValue:u}),l.onMenuClose()):v&&d&&l.clearValue();break;case" ":if(u)return;if(!m){l.openMenu("first");break}if(!A)return;l.selectOption(A);break;case"ArrowUp":m?l.focusOption("up"):l.openMenu("last");break;case"ArrowDown":m?l.focusOption("down"):l.openMenu("first");break;case"PageUp":if(!m)return;l.focusOption("pageup");break;case"PageDown":if(!m)return;l.focusOption("pagedown");break;case"Home":if(!m)return;l.focusOption("first");break;case"End":if(!m)return;l.focusOption("last");break;default:return}s.preventDefault()}},l.state.instancePrefix="react-select-"+(l.props.instanceId||++rj),l.state.selectValue=My(a.value),a.menuIsOpen&&l.state.selectValue.length){var f=l.getFocusableOptionsWithIds(),o=l.buildFocusableOptions(),c=o.indexOf(l.state.selectValue[0]);l.state.focusableOptionsWithIds=f,l.state.focusedOption=o[c],l.state.focusedOptionId=Nh(f,o[c])}return l}return w8(e,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Ry(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(l){var f=this.props,o=f.isDisabled,c=f.menuIsOpen,s=this.state.isFocused;(s&&!o&&l.isDisabled||s&&c&&!l.menuIsOpen)&&this.focusInput(),s&&o&&!l.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!s&&!o&&l.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Ry(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(l,f){this.props.onInputChange(l,f)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(l){var f=this,o=this.state,c=o.selectValue,s=o.isFocused,r=this.buildFocusableOptions(),i=l==="first"?0:r.length-1;if(!this.props.isMulti){var b=r.indexOf(c[0]);b>-1&&(i=b)}this.scrollToFocusedOptionOnUpdate=!(s&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:r[i],focusedOptionId:this.getFocusedOptionId(r[i])},function(){return f.onMenuOpen()})}},{key:"focusValue",value:function(l){var f=this.state,o=f.selectValue,c=f.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var s=o.indexOf(c);c||(s=-1);var r=o.length-1,i=-1;if(o.length){switch(l){case"previous":s===0?i=0:s===-1?i=r:i=s-1;break;case"next":s>-1&&s<r&&(i=s+1);break}this.setState({inputIsHidden:i!==-1,focusedValue:o[i]})}}}},{key:"focusOption",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",f=this.props.pageSize,o=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var s=0,r=c.indexOf(o);o||(r=-1),l==="up"?s=r>0?r-1:c.length-1:l==="down"?s=(r+1)%c.length:l==="pageup"?(s=r-f,s<0&&(s=0)):l==="pagedown"?(s=r+f,s>c.length-1&&(s=c.length-1)):l==="last"&&(s=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[s],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[s])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Th):Nt(Nt({},Th),this.props.theme):Th}},{key:"getCommonProps",value:function(){var l=this.clearValue,f=this.cx,o=this.getStyles,c=this.getClassNames,s=this.getValue,r=this.selectOption,i=this.setValue,b=this.props,d=b.isMulti,u=b.isRtl,v=b.options,x=this.hasValue();return{clearValue:l,cx:f,getStyles:o,getClassNames:c,getValue:s,hasValue:x,isMulti:d,isRtl:u,options:v,selectOption:r,selectProps:b,setValue:i,theme:this.getTheme()}}},{key:"hasValue",value:function(){var l=this.state.selectValue;return l.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var l=this.props,f=l.isClearable,o=l.isMulti;return f===void 0?o:f}},{key:"isOptionDisabled",value:function(l,f){return T2(this.props,l,f)}},{key:"isOptionSelected",value:function(l,f){return N2(this.props,l,f)}},{key:"filterOption",value:function(l,f){return M2(this.props,l,f)}},{key:"formatOptionLabel",value:function(l,f){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(l,{context:f,inputValue:o,selectValue:c})}else return this.getOptionLabel(l)}},{key:"formatGroupLabel",value:function(l){return this.props.formatGroupLabel(l)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var l=this.props,f=l.isDisabled,o=l.isSearchable,c=l.inputId,s=l.inputValue,r=l.tabIndex,i=l.form,b=l.menuIsOpen,d=l.required,u=this.getComponents(),v=u.Input,x=this.state,m=x.inputIsHidden,g=x.ariaSelection,y=this.commonProps,C=c||this.getElementId("input"),E=Nt(Nt(Nt({"aria-autocomplete":"list","aria-expanded":b,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":d,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},b&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(g==null?void 0:g.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?J.createElement(v,At({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:C,innerRef:this.getInputRef,isDisabled:f,isHidden:m,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:r,form:i,type:"text",value:s},E)):J.createElement(T9,At({id:C,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Mu,onFocus:this.onInputFocus,disabled:f,tabIndex:r,inputMode:"none",form:i,value:""},E))}},{key:"renderPlaceholderOrValue",value:function(){var l=this,f=this.getComponents(),o=f.MultiValue,c=f.MultiValueContainer,s=f.MultiValueLabel,r=f.MultiValueRemove,i=f.SingleValue,b=f.Placeholder,d=this.commonProps,u=this.props,v=u.controlShouldRenderValue,x=u.isDisabled,m=u.isMulti,g=u.inputValue,y=u.placeholder,C=this.state,E=C.selectValue,A=C.focusedValue,D=C.isFocused;if(!this.hasValue()||!v)return g?null:J.createElement(b,At({},d,{key:"placeholder",isDisabled:x,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),y);if(m)return E.map(function(B,z){var K=B===A,Y="".concat(l.getOptionLabel(B),"-").concat(l.getOptionValue(B));return J.createElement(o,At({},d,{components:{Container:c,Label:s,Remove:r},isFocused:K,isDisabled:x,key:Y,index:z,removeProps:{onClick:function(){return l.removeValue(B)},onTouchEnd:function(){return l.removeValue(B)},onMouseDown:function(O){O.preventDefault()}},data:B}),l.formatOptionLabel(B,"value"))});if(g)return null;var q=E[0];return J.createElement(i,At({},d,{data:q,isDisabled:x}),this.formatOptionLabel(q,"value"))}},{key:"renderClearIndicator",value:function(){var l=this.getComponents(),f=l.ClearIndicator,o=this.commonProps,c=this.props,s=c.isDisabled,r=c.isLoading,i=this.state.isFocused;if(!this.isClearable()||!f||s||!this.hasValue()||r)return null;var b={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return J.createElement(f,At({},o,{innerProps:b,isFocused:i}))}},{key:"renderLoadingIndicator",value:function(){var l=this.getComponents(),f=l.LoadingIndicator,o=this.commonProps,c=this.props,s=c.isDisabled,r=c.isLoading,i=this.state.isFocused;if(!f||!r)return null;var b={"aria-hidden":"true"};return J.createElement(f,At({},o,{innerProps:b,isDisabled:s,isFocused:i}))}},{key:"renderIndicatorSeparator",value:function(){var l=this.getComponents(),f=l.DropdownIndicator,o=l.IndicatorSeparator;if(!f||!o)return null;var c=this.commonProps,s=this.props.isDisabled,r=this.state.isFocused;return J.createElement(o,At({},c,{isDisabled:s,isFocused:r}))}},{key:"renderDropdownIndicator",value:function(){var l=this.getComponents(),f=l.DropdownIndicator;if(!f)return null;var o=this.commonProps,c=this.props.isDisabled,s=this.state.isFocused,r={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return J.createElement(f,At({},o,{innerProps:r,isDisabled:c,isFocused:s}))}},{key:"renderMenu",value:function(){var l=this,f=this.getComponents(),o=f.Group,c=f.GroupHeading,s=f.Menu,r=f.MenuList,i=f.MenuPortal,b=f.LoadingMessage,d=f.NoOptionsMessage,u=f.Option,v=this.commonProps,x=this.state.focusedOption,m=this.props,g=m.captureMenuScroll,y=m.inputValue,C=m.isLoading,E=m.loadingMessage,A=m.minMenuHeight,D=m.maxMenuHeight,q=m.menuIsOpen,B=m.menuPlacement,z=m.menuPosition,K=m.menuPortalTarget,Y=m.menuShouldBlockScroll,X=m.menuShouldScrollIntoView,O=m.noOptionsMessage,P=m.onMenuScrollToTop,N=m.onMenuScrollToBottom;if(!q)return null;var _=function(V,W){var ee=V.type,U=V.data,Q=V.isDisabled,L=V.isSelected,I=V.label,Z=V.value,te=x===U,ie=Q?void 0:function(){return l.onOptionHover(U)},se=Q?void 0:function(){return l.selectOption(U)},le="".concat(l.getElementId("option"),"-").concat(W),me={id:le,onClick:se,onMouseMove:ie,onMouseOver:ie,tabIndex:-1,role:"option","aria-selected":l.isAppleDevice?void 0:L};return J.createElement(u,At({},v,{innerProps:me,data:U,isDisabled:Q,isSelected:L,key:le,label:I,type:ee,value:Z,isFocused:te,innerRef:te?l.getFocusedOptionRef:void 0}),l.formatOptionLabel(V.data,"menu"))},j;if(this.hasOptions())j=this.getCategorizedOptions().map(function($){if($.type==="group"){var V=$.data,W=$.options,ee=$.index,U="".concat(l.getElementId("group"),"-").concat(ee),Q="".concat(U,"-heading");return J.createElement(o,At({},v,{key:U,data:V,options:W,Heading:c,headingProps:{id:Q,data:$.data},label:l.formatGroupLabel($.data)}),$.options.map(function(L){return _(L,"".concat(ee,"-").concat(L.index))}))}else if($.type==="option")return _($,"".concat($.index))});else if(C){var k=E({inputValue:y});if(k===null)return null;j=J.createElement(b,v,k)}else{var T=O({inputValue:y});if(T===null)return null;j=J.createElement(d,v,T)}var M={minMenuHeight:A,maxMenuHeight:D,menuPlacement:B,menuPosition:z,menuShouldScrollIntoView:X},F=J.createElement(oC,At({},v,M),function($){var V=$.ref,W=$.placerProps,ee=W.placement,U=W.maxHeight;return J.createElement(s,At({},v,M,{innerRef:V,innerProps:{onMouseDown:l.onMenuMouseDown,onMouseMove:l.onMenuMouseMove},isLoading:C,placement:ee}),J.createElement(B9,{captureEnabled:g,onTopArrive:P,onBottomArrive:N,lockEnabled:Y},function(Q){return J.createElement(r,At({},v,{innerRef:function(I){l.getMenuListRef(I),Q(I)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:l.getElementId("listbox")},isLoading:C,maxHeight:U,focusedOption:x}),j)}))});return K||z==="fixed"?J.createElement(i,At({},v,{appendTo:K,controlElement:this.controlRef,menuPlacement:B,menuPosition:z}),F):F}},{key:"renderFormField",value:function(){var l=this,f=this.props,o=f.delimiter,c=f.isDisabled,s=f.isMulti,r=f.name,i=f.required,b=this.state.selectValue;if(i&&!this.hasValue()&&!c)return J.createElement(L9,{name:r,onFocus:this.onValueInputFocus});if(!(!r||c))if(s)if(o){var d=b.map(function(x){return l.getOptionValue(x)}).join(o);return J.createElement("input",{name:r,type:"hidden",value:d})}else{var u=b.length>0?b.map(function(x,m){return J.createElement("input",{key:"i-".concat(m),name:r,type:"hidden",value:l.getOptionValue(x)})}):J.createElement("input",{name:r,type:"hidden",value:""});return J.createElement("div",null,u)}else{var v=b[0]?this.getOptionValue(b[0]):"";return J.createElement("input",{name:r,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var l=this.commonProps,f=this.state,o=f.ariaSelection,c=f.focusedOption,s=f.focusedValue,r=f.isFocused,i=f.selectValue,b=this.getFocusableOptions();return J.createElement(_9,At({},l,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:c,focusedValue:s,isFocused:r,selectValue:i,focusableOptions:b,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var l=this.getComponents(),f=l.Control,o=l.IndicatorsContainer,c=l.SelectContainer,s=l.ValueContainer,r=this.props,i=r.className,b=r.id,d=r.isDisabled,u=r.menuIsOpen,v=this.state.isFocused,x=this.commonProps=this.getCommonProps();return J.createElement(c,At({},x,{className:i,innerProps:{id:b,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:v}),this.renderLiveRegion(),J.createElement(f,At({},x,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:v,menuIsOpen:u}),J.createElement(s,At({},x,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),J.createElement(o,At({},x,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(l,f){var o=f.prevProps,c=f.clearFocusValueOnUpdate,s=f.inputIsHiddenAfterUpdate,r=f.ariaSelection,i=f.isFocused,b=f.prevWasFocused,d=f.instancePrefix,u=l.options,v=l.value,x=l.menuIsOpen,m=l.inputValue,g=l.isMulti,y=My(v),C={};if(o&&(v!==o.value||u!==o.options||x!==o.menuIsOpen||m!==o.inputValue)){var E=x?Q9(l,y):[],A=x?Vy(uu(l,y),"".concat(d,"-option")):[],D=c?ej(f,y):null,q=tj(f,E),B=Nh(A,q);C={selectValue:y,focusedOption:q,focusedOptionId:B,focusableOptionsWithIds:A,focusedValue:D,clearFocusValueOnUpdate:!1}}var z=s!=null&&l!==o?{inputIsHidden:s,inputIsHiddenAfterUpdate:void 0}:{},K=r,Y=i&&b;return i&&!Y&&(K={value:$c(g,y,y[0]||null),options:y,action:"initial-input-focus"},Y=!b),(r==null?void 0:r.action)==="initial-input-focus"&&(K=null),Nt(Nt(Nt({},C),z),{},{prevProps:l,ariaSelection:K,prevWasFocused:Y})}}]),e}(J.Component);A2.defaultProps=J9;var nj=J.forwardRef(function(t,h){var e=v8(t);return J.createElement(A2,At({ref:h},e))}),bn=nj;const Xy=[{key:"title",getter:t=>t.getTitle()},{key:"html",getter:t=>t.getHtmlContainer()},{key:"confirmButtonText",getter:t=>t.getConfirmButton()},{key:"denyButtonText",getter:t=>t.getDenyButton()},{key:"cancelButtonText",getter:t=>t.getCancelButton()},{key:"footer",getter:t=>t.getFooter()},{key:"closeButtonHtml",getter:t=>t.getCloseButton()},{key:"iconHtml",getter:t=>t.getIconContent()},{key:"loaderHtml",getter:t=>t.getLoader()}],Mh=()=>{};function zr(t){function h(l){const f={},o={},c=Xy.map(s=>s.key);return Object.entries(l).forEach(s=>{let[r,i]=s;c.includes(r)&&Wt.isValidElement(i)?(f[r]=i,o[r]=" "):o[r]=i}),[f,o]}function e(l,f){Object.entries(f).forEach(o=>{let[c,s]=o;const i=Xy.find(d=>d.key===c).getter(t),b=Go.createRoot(i);b.render(s),l.__roots.push(b)})}function a(l){l.__roots.forEach(f=>{f.unmount()}),l.__roots=[]}return class extends t{static argsToParams(l){if(Wt.isValidElement(l[0])||Wt.isValidElement(l[1])){const f={};return["title","html","icon"].forEach((o,c)=>{l[c]!==void 0&&(f[o]=l[c])}),f}else return t.argsToParams(l)}_main(l,f){this.__roots=[],this.__params=Object.assign({},f,l);const[o,c]=h(this.__params),s=c.willOpen||Mh,r=c.didOpen||Mh,i=c.didDestroy||Mh;return super._main(Object.assign({},c,{willOpen:b=>{e(this,o),s(b)},didOpen:b=>{setTimeout(()=>{r(b)})},didDestroy:b=>{i(b),a(this)}}))}update(l){Object.assign(this.__params,l),a(this);const[f,o]=h(this.__params);super.update(o),e(this,f)}}}const qc=zr(Se),sj=[{value:1,label:"Yes"},{value:0,label:"No"}],ij=({initialData:t,fromClone:h=!1,onClose:e,onSubmitSuccess:a})=>{const[l,f]=J.useState([]),[o,c]=J.useState([]),[s,r]=J.useState([]),[i,b]=J.useState([]),[d,u]=J.useState([]),[v,x]=J.useState([]),[m,g]=J.useState([]),[y,C]=J.useState(!1),[E,A]=J.useState(null),[D,q]=J.useState(null),[B,z]=J.useState(()=>({type_id:(t==null?void 0:t.type_id)??null,tool_id:(t==null?void 0:t.tool_id)??null,position_type_id:(t==null?void 0:t.position_type_id)??null,type_ref_id:(t==null?void 0:t.type_ref_id)??null,tool_ref_id:(t==null?void 0:t.tool_ref_id)??null,size_ref_id:(t==null?void 0:t.size_ref_id)??null,axle_type_id:(t==null?void 0:t.axle_type_id)??null,chassis_span_override:(t==null?void 0:t.chassis_span_override)??"",knurling_type:(t==null?void 0:t.knurling_type)??null,description:(t==null?void 0:t.description)??""}));J.useEffect(()=>{Promise.all([mt.get("/api/TypeModels"),mt.get("/api/Tools"),mt.get("/api/PositionTypes"),mt.get("/api/SizeRefs"),mt.get("/api/AxleTypes")]).then(([P,N,_,j,k])=>{const T=(M,F,$)=>M.map(V=>({value:V[$],label:V[F]??"(Blanks)"}));f(T(P.data,"type_name","type_id")),b(T(P.data,"type_name","type_id")),c(T(N.data,"tool_name","tool_id")),u(T(N.data,"tool_name","tool_id")),r(T(_.data,"position_type","position_type_id")),x(T(j.data,"size_ref","size_ref_id")),g(T(k.data,"axle_type","axle_type_id"))})},[y]),J.useEffect(()=>{const{type_ref_id:P,tool_ref_id:N,size_ref_id:_,axle_type_id:j}=B,k=(M,F)=>{var $;return(($=M.find(V=>V.value===F))==null?void 0:$.label)??null},T=(M,F)=>M==="(Blanks)"?F===null:(F??"").toLowerCase().trim()===(M==null?void 0:M.toLowerCase().trim());if(P&&N&&_&&j){const M=k(i,P),F=k(d,N),$=k(v,_),V=k(m,j);console.log(" Searching for span with:",{tool_type:M,tool_name:F,size_ref:$,axle_type:V}),mt.get("/api/ResolvedOriginals/spec").then(W=>{const ee=W.data.find(U=>T(M,U.tool_type)&&T(F,U.tool_name)&&T($,U.size_ref)&&T(V,U.axle_type));if(console.log(" Matched Result:",ee),ee){const U=parseFloat(ee.chassis_span1),Q=parseFloat(ee.chassis_span2);console.log(" Chassis Span 1:",U),console.log(" Chassis Span 2:",Q),A({span1:isNaN(U)?void 0:U,span2:isNaN(Q)?void 0:Q})}else A(null)}).catch(W=>{console.error(" Failed to fetch chassis spans:",W),A(null)})}else A(null)},[B.type_ref_id,B.tool_ref_id,B.size_ref_id,B.axle_type_id]);const K=(P,N)=>{var _;return((_=P.find(j=>j.value===N))==null?void 0:_.label)??null},Y=async()=>{var j,k,T;if([B.type_id,B.tool_id,B.position_type_id,B.type_ref_id,B.tool_ref_id,B.size_ref_id,B.axle_type_id,B.knurling_type,B.chassis_span_override].some(M=>M==null)){await qc.fire({icon:"warning",title:"Missing fields",text:"Please fill all required fields.",confirmButtonText:"OK",customClass:{confirmButton:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded"}});return}const N=localStorage.getItem("token");if(console.log("TOKEN:",N),N){const M=N.split(".")[1],F=atob(M),$=JSON.parse(F);console.log("Decoded Payload:",$),console.log("ROLE FROM TOKEN:",$.role)}if((await qc.fire({title:"Confirm submission?",text:"Do you want to submit this request for adding new DDC tool?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Submit",cancelButtonText:"Cancel",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded",popup:"text-sm"}})).isConfirmed)try{const M={type_id:B.type_id,tool_id:B.tool_id,position_type_id:B.position_type_id,type_ref_id:B.type_ref_id,tool_ref_id:B.tool_ref_id,size_ref_id:B.size_ref_id,axle_type_id:B.axle_type_id,tool_type:K(l,B.type_id),tool_name:K(o,B.tool_id),position_type:K(s,B.position_type_id),type_ref:K(i,B.type_ref_id),tool_ref:K(d,B.tool_ref_id),size_ref:K(v,B.size_ref_id),axle_type:K(m,B.axle_type_id),chassis_span_override:X(B.chassis_span_override),knurling_type:B.knurling_type,description:B.description},F=await mt.post("/api/Requests",{request_type:"INSERT",target_table:"DdcSpec",target_pk_id:null,old_data:null,new_data:M,note:B.note||null},{headers:N?{Authorization:`Bearer ${N}`}:void 0});console.log(" Request submitted:",F.data),await qc.fire({icon:"success",title:"Submitted!",html:`Your request has been submitted and is pending approval.<br/><br/>
         <b>Request ID:</b> <span class="text-blue-600">${F.data.request_id}</span>`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",popup:"text-sm"}}),a(),e()}catch(M){console.error("Request submission failed:",M);let F="Something went wrong while submitting the request.";mt.isAxiosError(M)?typeof((j=M.response)==null?void 0:j.data)=="string"?F=M.response.data:(T=(k=M.response)==null?void 0:k.data)!=null&&T.message&&(F=M.response.data.message):M&&typeof M=="object"&&"message"in M&&(F=M.message),await qc.fire({icon:"error",title:"Submission Failed",text:F,confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",popup:"text-sm"}})}},X=P=>{if(P==null||P==="")return null;const N=String(P).trim(),_=parseFloat(N);if(isNaN(_))return null;const j=N.includes(".")?N.split(".")[1].length:0;return parseFloat(_.toFixed(j))},O=(P,N,_)=>w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:N}),w.jsx(bn,{options:_,value:_.find(j=>j.value===B[P])||null,onChange:j=>z({...B,[P]:j==null?void 0:j.value}),isClearable:!0,menuPortalTarget:document.body,styles:{menuPortal:j=>({...j,zIndex:9999})}})]});return Jr.createPortal(w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-[999] flex justify-center items-center",children:w.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-auto shadow-xl",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Add DDC Tool Spec"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[O("type_id","Tool Type",l),O("tool_id","Tool Name",o),O("position_type_id","Position Type",s),O("type_ref_id","Type Ref",i),O("tool_ref_id","Tool Ref",d),O("size_ref_id","Size Ref",v),O("axle_type_id","Axle Type",m),O("knurling_type","Knurling",sj),w.jsxs("div",{className:"col-span-2 md:col-span-1",children:[w.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Chassis Span Override"}),E!=null&&E.span1||E!=null&&E.span2?w.jsxs("div",{className:"space-y-2",children:[(E==null?void 0:E.span1)&&w.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[w.jsx("input",{type:"radio",name:"chassis_span_option",checked:D==="span1",onChange:()=>{q("span1"),z({...B,chassis_span_override:E.span1})}}),"Chassis Span 1:"," ",w.jsx("span",{className:"text-blue-600",children:E.span1})]}),(E==null?void 0:E.span2)&&w.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[w.jsx("input",{type:"radio",name:"chassis_span_option",checked:D==="span2",onChange:()=>{q("span2"),z({...B,chassis_span_override:E.span2})}}),"Chassis Span 2:"," ",w.jsx("span",{className:"text-blue-600",children:E.span2})]}),w.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[w.jsx("input",{type:"radio",name:"chassis_span_option",checked:D==="custom",onChange:()=>{q("custom"),z({...B,chassis_span_override:""})}}),"Enter custom:"]}),w.jsx("input",{type:"number",step:"any",value:B.chassis_span_override,onChange:P=>z({...B,chassis_span_override:P.target.value}),className:"border px-3 py-1.5 rounded text-sm w-full",disabled:D!=="custom"})]}):w.jsx("input",{type:"number",step:"any",value:B.chassis_span_override,onChange:P=>z({...B,chassis_span_override:P.target.value}),className:"border px-3 py-1.5 rounded text-sm w-full"})]}),w.jsxs("div",{className:"col-span-3",children:[w.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Description"}),w.jsx("textarea",{value:B.description,onChange:P=>z({...B,description:P.target.value}),className:"border px-3 py-1.5 rounded text-sm w-full",rows:3,placeholder:"Enter description or notes"})]})]}),w.jsxs("div",{className:"flex justify-end gap-3",children:[w.jsx("button",{onClick:e,className:"border px-5 py-1.5 rounded text-sm hover:bg-gray-100",children:"Cancel"}),w.jsx("button",{onClick:Y,className:"bg-blue-600 text-white px-5 py-1.5 rounded text-sm hover:bg-blue-700",children:"Submit"})]})]})}),document.body)},ll=zr(Se),oj=({tool_spec_id:t,ref_key_id:h,initialChassisSpanOverride:e,initialDescription:a,displayInfo:l,onClose:f,onSubmitSuccess:o})=>{const[c,s]=J.useState(e??null),[r,i]=J.useState(a??""),b=async()=>{var y,C,E;if(console.log(" Submitting update for tool_spec_id:",t),console.log(" New chassis_span_override:",c),console.log(" Description:",r),c===null||isNaN(c)){await ll.fire({icon:"warning",title:"Invalid Input",text:"Please enter a valid chassis span (must be a number).",confirmButtonText:"OK",customClass:{confirmButton:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded",popup:"text-sm"}});return}if(!(await ll.fire({title:"Confirm Update?",text:"Do you want to submit this update request for approval?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Submit",cancelButtonText:"Cancel",customClass:{confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded",popup:"text-sm"}})).isConfirmed){console.log(" User cancelled update.");return}const g=localStorage.getItem("token");if(console.log("TOKEN:",g),g){const A=g.split(".")[1],D=atob(A),q=JSON.parse(D);console.log("Decoded Payload:",q),console.log("ROLE FROM TOKEN:",q.role)}try{const A=await fetch(`/api/ToolSpecs/${t}`,{headers:g?{Authorization:`Bearer ${g}`}:void 0}),D=_=>_==null?"":typeof _!="string"?_.toString().trim():_.trim();let q={};A.ok&&(q=await A.json(),console.log(" old.description (raw):",q==null?void 0:q.description),console.log(" new description (raw):",r),console.log(" old normalized:",D(q==null?void 0:q.description)),console.log(" new normalized:",D(r)),console.log(" Description equal?",D(q==null?void 0:q.description)===D(r)),console.log(" Old Data:",q));const B=x(c),z={tool_type:l.tool_type,tool_name:l.tool_name,position_type:l.position_type,type_ref:l.type_ref,tool_ref:l.tool_ref,size_ref:l.size_ref,axle_type:l.axle_type,chassis_span_override:B,description:r},K={},Y=q==null?void 0:q.chassis_span_override;console.log(" old chassis_span_override (raw):",Y),console.log(" new chassis_span_override (cleaned):",B);const X=Y==null&&B==null?!0:Number(Y)===Number(B);if(console.log(" Chassis override equal?",X),X||(K.chassis_span_override=B),D(q==null?void 0:q.description)!==D(r)&&(K.description=r),Object.keys(K).length===0){await ll.fire({icon:"info",title:"No Changes",text:"No data was changed. Nothing to submit.",confirmButtonText:"OK",customClass:{confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",popup:"text-sm"}});return}["tool_type","tool_name","type_ref","tool_ref","size_ref","axle_type","position_type"].forEach(_=>{const j=l[_];j!==void 0&&(_ in q||(q[_]=j),_ in K||(K[_]=j))});const P={request_type:"UPDATE",target_table:"DdcSpec",target_pk_id:t,old_data:q,new_data:z,note:null};console.log(" Submitting UPDATE request payload:",P);const N=await mt.post("/api/Requests",P,{headers:g?{Authorization:`Bearer ${g}`}:void 0});await ll.fire({icon:"success",title:"Submitted!",html:`Your request has been submitted and is pending approval.<br/><br/>
         <b>Request ID:</b> <span class="text-blue-600">${N.data.request_id}</span>`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",popup:"text-sm"}}),o(),f()}catch(A){console.error(" Update request submission failed:",A);let D="Failed to submit the update request.";mt.isAxiosError(A)?typeof((y=A.response)==null?void 0:y.data)=="string"?D=A.response.data:(E=(C=A.response)==null?void 0:C.data)!=null&&E.message&&(D=A.response.data.message):A!=null&&A.message&&(D=A.message),await ll.fire({icon:"error",title:"Request Failed",text:D,confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",popup:"text-sm"}})}},d=(m,g)=>w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:m}),w.jsx("input",{value:g,disabled:!0,className:"w-full border px-3 py-1.5 rounded text-sm bg-gray-100 text-gray-600"})]}),u=()=>w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"Chassis Span Override"}),w.jsx("input",{type:"number",step:"any",min:"0",value:c??"",onChange:m=>s(m.target.value===""?null:parseFloat(m.target.value)),className:"w-full border px-3 py-1.5 rounded text-sm focus:outline-blue-500"})]}),v=()=>w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"Description (optional)"}),w.jsx("textarea",{value:r,onChange:m=>i(m.target.value),className:"w-full border px-3 py-1.5 rounded text-sm focus:outline-blue-500",rows:3,placeholder:"Enter description or note..."})]}),x=m=>{if(m==null||m==="")return null;const g=parseFloat(m.toString());return isNaN(g)?null:g};return Jr.createPortal(w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-[999] flex justify-center items-center",children:w.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-5xl max-h-[90vh] overflow-auto shadow-xl",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Edit DDC Spec"}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Tool Info"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d("Tool Type",l.tool_type),d("Tool Name",l.tool_name),d("Position Type",l.position_type),d("Type Ref",l.type_ref),d("Tool Ref",l.tool_ref),d("Size Ref",l.size_ref),d("Axle Type",l.axle_type)]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Chassis Span"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:u()}),v()," "]}),w.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[w.jsx("button",{onClick:f,className:"border border-gray-400 px-5 py-1.5 rounded text-sm hover:bg-gray-100",children:"Cancel"}),w.jsx("button",{onClick:b,className:"bg-blue-600 text-white px-5 py-1.5 rounded text-sm hover:bg-blue-700",children:"Save"})]})]})}),document.body)},aj=({showDefModal:t,setShowDefModal:h})=>{const[e,a]=J.useState("field");if(!t)return null;const l=[["Tool Type","Series or model of the tool (e.g. HW, MB, Pixar)."],["Tool Name","Specific name of the tool or part."],["Position Type","Wheel position, e.g. Front Right (FR), Rear Left (RL)."],["Type Ref","Series reference from original tool."],["Tool Ref","Tool reference from original tool."],["Size Ref","Reference size code for the tool."],["Axle Type","Type of axle used in the barbell assembly."],["A","Wheel Diameter (mm)."],["B","Wheel Thickness (mm)."],["C","Wheel Thickness including wheel bump (mm)."],["Tolerance A","Allowed deviation for A."],["Tolerance B","Allowed deviation for B."],["Tolerance C","Allowed deviation for C."],["F-Shank Min","Minimum length from wheel hole bottom to bump (inches)."],["F-Shank Max","Maximum length from wheel hole bottom to bump (inches)."],["B2B Min","Minimum span wheel bump to bump (inches)."],["B2B Max","Maximum span wheel bump to bump (inches)."],["H2H Min","Minimum span axle head to axle head (inches)."],["H2H Max","Maximum span axle head to axle head (inches)."],["Chassis Span","Chassis span for compatibility (inches)."],["Knurling Type","Type of knurling on axle for grip or aesthetics."],["Pad HST","Pad specification for HST type."],["Pad RIM","Pad specification for RIM type."],["Pad INNER","Pad specification for INNER type."],["Pad EXTRA RIM","Pad specification for EXTRA RIM type."],["Brass HST","Brass specification for HST pad."],["Brass RIM","Brass specification for RIM pad."],["Brass INNER","Brass specification for INNER pad."],["Brass EXTRA RIM","Brass specification for EXTRA RIM pad."],["Pad Source","The source or origin of the pad specification."],["Pad Source Key","Reference key for the pad spec."],["Machine No","Machine ID used for manufacturing."],["Machine Source","Source description for the machine information."],["Machine Source Key","Reference key for machine details."]],f=[["SA","Short Axle"],["MA","Medium Axle"],["IA","Intermediate Axle"],["RA","Racing Axle"],["SRA","Step Racing Axle"],["LA","Long Axle"],["TSA","Top Speed Axle"],["CA","Camaro Axle"],["SCA","Step Camaro Axle"],["XLA","Extra Long Axle"],["S2","(no definition)"],["DA","Direct Axle"],["S3","(no definition)"],["PSA","Pixar Short Axle"],["PMA","Pixar Medium Axle"],["PIA","Pixar Intermediate Axle"]];return Jr.createPortal(w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:w.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] mx-4 overflow-hidden",children:[w.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 px-6 py-4",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:w.jsx(Os,{className:"h-5 w-5 text-blue-600"})}),w.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"DDC Field & Axle Type Definitions"})]}),w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[w.jsx("button",{onClick:()=>a("field"),className:`px-3 py-1.5 text-sm font-medium rounded-md ${e==="field"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Field"}),w.jsx("button",{onClick:()=>a("axle"),className:`px-3 py-1.5 text-sm font-medium rounded-md ${e==="axle"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Axle Type"})]}),w.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:"Close",children:w.jsx(oa,{className:"h-5 w-5"})})]})]})}),w.jsxs("div",{className:"overflow-y-auto px-6 py-6",style:{maxHeight:"calc(95vh - 80px)"},children:[e==="field"&&w.jsxs("div",{className:"mb-8",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"DDC Field Definitions"}),w.jsxs("table",{className:"min-w-full border border-gray-300 text-sm",children:[w.jsx("thead",{className:"bg-gray-100",children:w.jsxs("tr",{children:[w.jsx("th",{className:"py-2 px-4 text-left text-gray-700 font-semibold w-64",children:"Field"}),w.jsx("th",{className:"py-2 px-4 text-left text-gray-700 font-semibold",children:"Description"})]})}),w.jsx("tbody",{children:l.map(([o,c],s)=>w.jsxs("tr",{className:s%2===0?"bg-white":"bg-gray-50",children:[w.jsx("td",{className:"py-2 px-4 font-semibold text-gray-800",children:o}),w.jsx("td",{className:"py-2 px-4 text-gray-600",children:c})]},o))})]})]}),e==="axle"&&w.jsxs("div",{className:"mb-8",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Axle Type Definitions"}),w.jsxs("table",{className:"min-w-full border border-gray-300 text-sm",children:[w.jsx("thead",{className:"bg-gray-100",children:w.jsxs("tr",{children:[w.jsx("th",{className:"py-2 px-4 text-left text-gray-700 font-semibold w-32",children:"Axle Type"}),w.jsx("th",{className:"py-2 px-4 text-left text-gray-700 font-semibold",children:"Description"})]})}),w.jsx("tbody",{children:f.map(([o,c],s)=>w.jsxs("tr",{className:s%2===0?"bg-white":"bg-gray-50",children:[w.jsx("td",{className:"py-2 px-4 font-semibold text-gray-800",children:o}),w.jsx("td",{className:"py-2 px-4 text-gray-600",children:c})]},o))})]})]})]})]})}),document.body)},dp="/assets/definitions1.CT1RQP2o.png",fp="/assets/definitions2.DDKL7Lrb.png",lj=({showDetailModal:t,setShowDetailModal:h,detailData:e,definitions1:a,definitions2:l})=>{const[f,o]=J.useState(null),c=async(d,u)=>{try{await navigator.clipboard.writeText(d),o(u),setTimeout(()=>o(null),2e3)}catch(v){console.error("Failed to copy: ",v)}},s=d=>{d.key==="Escape"&&h(!1)};if(J.useEffect(()=>{if(t)return document.addEventListener("keydown",s),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[t]),!t||!e)return null;const r=({label:d,value:u,unit:v="",icon:x})=>{const m=`${d}-${u}`,g=f===m;return w.jsxs("div",{className:"group relative",children:[w.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all duration-200",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[x&&w.jsx(x,{className:"h-4 w-4 text-gray-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:d}),w.jsxs("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:[u," ",v]})]})]}),w.jsx("button",{onClick:()=>c(`${u} ${v}`.trim(),m),className:"opacity-0 group-hover:opacity-100 p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-all duration-200",title:"Copy value",children:g?w.jsx(Wi,{className:"h-4 w-4 text-green-600"}):w.jsx(Xo,{className:"h-4 w-4"})})]}),g&&w.jsx("div",{className:"absolute -top-8 right-0 bg-green-600 text-white text-xs px-2 py-1 rounded shadow-lg",children:"Copied!"})]})},i=({label:d,min:u,max:v,unit:x="",icon:m})=>{const g=`${d}-${u}-${v}`,y=f===g;return w.jsxs("div",{className:"group relative",children:[w.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all duration-200",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[m&&w.jsx(m,{className:"h-4 w-4 text-gray-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:d}),w.jsxs("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:[u,x," - ",v,x]})]})]}),w.jsx("button",{onClick:()=>c(`${u}${x} - ${v}${x}`,g),className:"opacity-0 group-hover:opacity-100 p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-all duration-200",title:"Copy range",children:y?w.jsx(Wi,{className:"h-4 w-4 text-green-600"}):w.jsx(Xo,{className:"h-4 w-4"})})]}),y&&w.jsx("div",{className:"absolute -top-8 right-0 bg-green-600 text-white text-xs px-2 py-1 rounded shadow-lg",children:"Copied!"})]})},b=({label:d,value:u,tolerance:v,unit:x="mm",icon:m})=>{const g=`${d}-${u}-${v}`,y=f===g;return w.jsxs("div",{className:"group relative",children:[w.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all duration-200",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[m&&w.jsx(m,{className:"h-4 w-4 text-gray-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:d}),w.jsxs("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:[u,"  ",v," ",x]})]})]}),w.jsx("button",{onClick:()=>c(`${u}  ${v} ${x}`,g),className:"opacity-0 group-hover:opacity-100 p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-all duration-200",title:"Copy tolerance",children:y?w.jsx(Wi,{className:"h-4 w-4 text-green-600"}):w.jsx(Xo,{className:"h-4 w-4"})})]}),y&&w.jsx("div",{className:"absolute -top-8 right-0 bg-green-600 text-white text-xs px-2 py-1 rounded shadow-lg",children:"Copied!"})]})};return Jr.createPortal(w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:w.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] mx-4 overflow-hidden",children:[w.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 px-6 py-4",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:w.jsx(As,{className:"h-5 w-5 text-blue-600"})}),w.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Tool DDC Detail View"})]}),w.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:"Close (Esc)",children:w.jsx(oa,{className:"h-5 w-5"})})]})}),w.jsxs("div",{className:"overflow-y-auto px-6 py-6",style:{maxHeight:"calc(95vh - 80px)"},children:[w.jsxs("div",{className:"mb-8",children:[w.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[w.jsx(Os,{className:"h-5 w-5 text-blue-600"}),w.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tool Information"})]}),w.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:[w.jsx(r,{label:"Tool Type",value:e.tool_type,icon:As}),w.jsx(r,{label:"Tool Name",value:e.tool_name,icon:Os}),w.jsx(r,{label:"Position Type",value:e.position_type,icon:Os}),w.jsx(r,{label:"Type Ref",value:e.type_ref,icon:As}),w.jsx(r,{label:"Tool Ref",value:e.tool_ref,icon:As}),w.jsx(r,{label:"Size Ref",value:e.size_ref,icon:Ur}),w.jsx(r,{label:"Axle Type",value:e.axle_type,icon:As}),w.jsx(r,{label:"Knurling Type",value:e.knurling_type,icon:As}),e.source&&w.jsx(r,{label:"Source",value:e.source,icon:Os})]})]}),w.jsxs("div",{className:"mb-8",children:[w.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[w.jsx(Ur,{className:"h-5 w-5 text-blue-600"}),w.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Technical Diagrams"})]}),w.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[w.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[w.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Chassis Span & F-Shank Specifications"}),w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:a,alt:"Diagram 1",className:"w-full h-auto rounded-lg border shadow-sm"}),w.jsx("div",{className:"absolute top-[12%] left-[50%] transform -translate-x-1/2",children:w.jsxs("div",{className:"bg-white/80 text-gray-800 text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:[e.chassis_span,'"']})}),w.jsx("div",{className:"absolute top-[80%] left-[51%] transform -translate-x-1/2",children:w.jsxs("div",{className:"bg-white/80 text-gray-800 text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:[e.b2b_min,'" - ',e.b2b_max,'"']})}),w.jsx("div",{className:"absolute top-[93%] left-[51%] transform -translate-x-1/2",children:w.jsxs("div",{className:"bg-white/80 text-gray-800 text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:[e.h2h_min,'" - ',e.h2h_max,'"']})}),w.jsx("div",{className:"absolute top-[70%] left-[79.5%] transform -translate-x-1/2",children:w.jsxs("div",{className:"bg-white/80 text-gray-800 text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:[e.f_shank_min,'" - ',e.f_shank_max,'"']})})]})]}),w.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[w.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Overall Dimensions"}),w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:l,alt:"Diagram 2",className:"w-full h-auto rounded-lg border shadow-sm"}),w.jsx("div",{className:"absolute top-[45%] left-[57%]",children:w.jsxs("div",{className:"bg-white/80 text-gray-800 text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:[e.overall_a,"  ",e.tolerance_a," mm"]})}),w.jsx("div",{className:"absolute top-[72%] left-[25%]",children:w.jsxs("div",{className:"bg-white/80 text-gray-800 text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:[e.overall_b,"  ",e.tolerance_b," mm"]})}),w.jsx("div",{className:"absolute top-[20%] left-[28%] transform -translate-x-1/2",children:w.jsxs("div",{className:"bg-white/80 text-gray-800 text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:[e.overall_c,"  ",e.tolerance_c," mm"]})})]})]})]})]}),w.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Chassis Specifications"}),w.jsxs("div",{className:"space-y-3",children:[w.jsx(i,{label:"Chassis Span",min:e.chassis_span,max:e.chassis_span,unit:'"',icon:Ur}),w.jsx(i,{label:"B2B Range",min:e.b2b_min,max:e.b2b_max,unit:'"',icon:Ur}),w.jsx(i,{label:"H2H Range",min:e.h2h_min,max:e.h2h_max,unit:'"',icon:Ur}),w.jsx(i,{label:"F Shank Range",min:e.f_shank_min,max:e.f_shank_max,unit:'"',icon:Ur})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Overall Dimensions"}),w.jsxs("div",{className:"space-y-3",children:[w.jsx(b,{label:"Overall A",value:e.overall_a,tolerance:e.tolerance_a,icon:Ur}),w.jsx(b,{label:"Overall B",value:e.overall_b,tolerance:e.tolerance_b,icon:Ur}),w.jsx(b,{label:"Overall C",value:e.overall_c,tolerance:e.tolerance_c,icon:Ur})]})]})]})]})]})}),document.body)};function Uc(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rh={exports:{}};/*! ExcelJS 19-10-2023 */var Yy;function cj(){return Yy||(Yy=1,function(t,h){(function(e){t.exports=e()})(function(){return function e(a,l,f){function o(r,i){if(!l[r]){if(!a[r]){var b=typeof Uc=="function"&&Uc;if(!i&&b)return b(r,!0);if(c)return c(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var u=l[r]={exports:{}};a[r][0].call(u.exports,function(v){return o(a[r][1][v]||v)},u,u.exports,e,a,l,f)}return l[r].exports}for(var c=typeof Uc=="function"&&Uc,s=0;s<f.length;s++)o(f[s]);return o}({1:[function(e,a,l){const f=e("fs"),o=e("fast-csv"),c=e("dayjs/plugin/customParseFormat"),s=e("dayjs/plugin/utc"),r=e("dayjs").extend(c).extend(s),i=e("../utils/stream-buf"),{fs:{exists:b}}=e("../utils/utils"),d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};a.exports=class{constructor(u){this.workbook=u,this.worksheet=null}async readFile(u,v){if(v=v||{},!await b(u))throw new Error("File not found: "+u);const x=f.createReadStream(u),m=await this.read(x,v);return x.close(),m}read(u,v){return v=v||{},new Promise((x,m)=>{const g=this.workbook.addWorksheet(v.sheetName),y=v.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],C=v.map||function(A){if(A==="")return null;const D=Number(A);if(!Number.isNaN(D)&&D!==1/0)return D;const q=y.reduce((z,K)=>{if(z)return z;const Y=r(A,K,!0);return Y.isValid()?Y:null},null);if(q)return new Date(q.valueOf());const B=d[A];return B!==void 0?B:A},E=o.parse(v.parserOptions).on("data",A=>{g.addRow(A.map(C))}).on("end",()=>{E.emit("worksheet",g)});E.on("worksheet",x).on("error",m),u.pipe(E)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(u,v){return new Promise((x,m)=>{v=v||{};const g=this.workbook.getWorksheet(v.sheetName||v.sheetId),y=o.format(v.formatterOptions);u.on("finish",()=>{x()}),y.on("error",m),y.pipe(u);const{dateFormat:C,dateUTC:E}=v,A=v.map||(B=>{if(B){if(B.text||B.hyperlink)return B.hyperlink||B.text||"";if(B.formula||B.result)return B.result||"";if(B instanceof Date)return C?E?r.utc(B).format(C):r(B).format(C):E?r.utc(B).format():r(B).format();if(B.error)return B.error;if(typeof B=="object")return JSON.stringify(B)}return B}),D=v.includeEmptyRows===void 0||v.includeEmptyRows;let q=1;g&&g.eachRow((B,z)=>{if(D)for(;q++<z-1;)y.write([]);const{values:K}=B;K.shift(),y.write(K.map(A)),q=z}),y.end()})}writeFile(u,v){const x={encoding:(v=v||{}).encoding||"utf8"},m=f.createWriteStream(u,x);return this.write(m,v)}async writeBuffer(u){const v=new i;return await this.write(v,u),v.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,a,l){const f=e("../utils/col-cache");class o{constructor(s,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=s,r)if(typeof r=="string"){const b=f.decodeAddress(r);this.nativeCol=b.col+i,this.nativeColOff=0,this.nativeRow=b.row+i,this.nativeRowOff=0}else r.nativeCol!==void 0?(this.nativeCol=r.nativeCol||0,this.nativeColOff=r.nativeColOff||0,this.nativeRow=r.nativeRow||0,this.nativeRowOff=r.nativeRowOff||0):r.col!==void 0?(this.col=r.col+i,this.row=r.row+i):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(s){return s instanceof o||s==null?s:new o(s)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(s){this.nativeCol=Math.floor(s),this.nativeColOff=Math.floor((s-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(s){this.nativeRow=Math.floor(s),this.nativeRowOff=Math.floor((s-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(s){this.nativeCol=s.nativeCol,this.nativeColOff=s.nativeColOff,this.nativeRow=s.nativeRow,this.nativeRowOff=s.nativeRowOff}}a.exports=o},{"../utils/col-cache":19}],3:[function(e,a,l){const f=e("../utils/col-cache"),o=e("../utils/under-dash"),c=e("./enums"),{slideFormula:s}=e("../utils/shared-formula"),r=e("./note");class i{constructor(u,v,x){if(!u||!v)throw new Error("A Cell needs a Row");this._row=u,this._column=v,f.validateAddress(x),this._address=x,this._value=b.create(i.Types.Null,this),this.style=this._mergeStyle(u.style,v.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(u){this.style.numFmt=u}get font(){return this.style.font}set font(u){this.style.font=u}get alignment(){return this.style.alignment}set alignment(u){this.style.alignment=u}get border(){return this.style.border}set border(u){this.style.border=u}get fill(){return this.style.fill}set fill(u){this.style.fill=u}get protection(){return this.style.protection}set protection(u){this.style.protection=u}_mergeStyle(u,v,x){const m=u&&u.numFmt||v&&v.numFmt;m&&(x.numFmt=m);const g=u&&u.font||v&&v.font;g&&(x.font=g);const y=u&&u.alignment||v&&v.alignment;y&&(x.alignment=y);const C=u&&u.border||v&&v.border;C&&(x.border=C);const E=u&&u.fill||v&&v.fill;E&&(x.fill=E);const A=u&&u.protection||v&&v.protection;return A&&(x.protection=A),x}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===i.Types.Merge}merge(u,v){this._value.release(),this._value=b.create(i.Types.Merge,this,u),v||(this.style=u.style)}unmerge(){this.type===i.Types.Merge&&(this._value.release(),this._value=b.create(i.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(u){return this._value.type===i.Types.Merge&&this._value.isMergedTo(u)}get master(){return this.type===i.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===i.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(u){this.type!==i.Types.Merge?(this._value.release(),this._value=b.create(b.getType(u),this,u)):this._value.master.value=u}get note(){return this._comment&&this._comment.note}set note(u){this._comment=new r(u)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(u){this.type===i.Types.String&&(this._value=b.create(i.Types.Hyperlink,this,{text:this._value.value,hyperlink:u}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:u}=this._row;return{sheetName:u.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(u){this.names=[u]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(u){const{definedNames:v}=this.workbook;v.removeAllNames(this.fullAddress),u.forEach(x=>{v.addEx(this.fullAddress,x)})}addName(u){this.workbook.definedNames.addEx(this.fullAddress,u)}removeName(u){this.workbook.definedNames.removeEx(this.fullAddress,u)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(u){this._dataValidations.add(this.address,u)}get model(){const{model:u}=this._value;return u.style=this.style,this._comment&&(u.comment=this._comment.model),u}set model(u){if(this._value.release(),this._value=b.create(u.type,this),this._value.model=u,u.comment)switch(u.comment.type){case"note":this._comment=r.fromModel(u.comment)}u.style?this.style=u.style:this.style={}}}i.Types=c.ValueType;const b={getType:d=>d==null?i.Types.Null:d instanceof String||typeof d=="string"?i.Types.String:typeof d=="number"?i.Types.Number:typeof d=="boolean"?i.Types.Boolean:d instanceof Date?i.Types.Date:d.text&&d.hyperlink?i.Types.Hyperlink:d.formula||d.sharedFormula?i.Types.Formula:d.richText?i.Types.RichText:d.sharedString?i.Types.SharedString:d.error?i.Types.Error:i.Types.JSON,types:[{t:i.Types.Null,f:class{constructor(d){this.model={address:d.address,type:i.Types.Null}}get value(){return null}set value(d){}get type(){return i.Types.Null}get effectiveType(){return i.Types.Null}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){}toString(){return""}}},{t:i.Types.Number,f:class{constructor(d,u){this.model={address:d.address,type:i.Types.Number,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return i.Types.Number}get effectiveType(){return i.Types.Number}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:i.Types.String,f:class{constructor(d,u){this.model={address:d.address,type:i.Types.String,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return i.Types.String}get effectiveType(){return i.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:i.Types.Date,f:class{constructor(d,u){this.model={address:d.address,type:i.Types.Date,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return i.Types.Date}get effectiveType(){return i.Types.Date}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:i.Types.Hyperlink,f:class{constructor(d,u){this.model={address:d.address,type:i.Types.Hyperlink,text:u?u.text:void 0,hyperlink:u?u.hyperlink:void 0},u&&u.tooltip&&(this.model.tooltip=u.tooltip)}get value(){const d={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(d.tooltip=this.model.tooltip),d}set value(d){this.model={text:d.text,hyperlink:d.hyperlink},d.tooltip&&(this.model.tooltip=d.tooltip)}get text(){return this.model.text}set text(d){this.model.text=d}get hyperlink(){return this.model.hyperlink}set hyperlink(d){this.model.hyperlink=d}get type(){return i.Types.Hyperlink}get effectiveType(){return i.Types.Hyperlink}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:i.Types.Formula,f:class{constructor(d,u){this.cell=d,this.model={address:d.address,type:i.Types.Formula,shareType:u?u.shareType:void 0,ref:u?u.ref:void 0,formula:u?u.formula:void 0,sharedFormula:u?u.sharedFormula:void 0,result:u?u.result:void 0}}_copyModel(d){const u={},v=x=>{const m=d[x];m&&(u[x]=m)};return v("formula"),v("result"),v("ref"),v("shareType"),v("sharedFormula"),u}get value(){return this._copyModel(this.model)}set value(d){this.model=this._copyModel(d)}validate(d){switch(b.getType(d)){case i.Types.Null:case i.Types.String:case i.Types.Number:case i.Types.Date:break;case i.Types.Hyperlink:case i.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(d){this.model.formula=d}get formulaType(){return this.model.formula?c.FormulaType.Master:this.model.sharedFormula?c.FormulaType.Shared:c.FormulaType.None}get result(){return this.model.result}set result(d){this.model.result=d}get type(){return i.Types.Formula}get effectiveType(){const d=this.model.result;return d==null?c.ValueType.Null:d instanceof String||typeof d=="string"?c.ValueType.String:typeof d=="number"?c.ValueType.Number:d instanceof Date?c.ValueType.Date:d.text&&d.hyperlink?c.ValueType.Hyperlink:d.formula?c.ValueType.Formula:c.ValueType.Null}get address(){return this.model.address}set address(d){this.model.address=d}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:d}=this.cell,u=d.findCell(this.model.sharedFormula);this._translatedFormula=u&&s(u.formula,u.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:i.Types.Merge,f:class{constructor(d,u){this.model={address:d.address,type:i.Types.Merge,master:u?u.address:void 0},this._master=u,u&&u.addMergeRef()}get value(){return this._master.value}set value(d){d instanceof i?(this._master&&this._master.releaseMergeRef(),d.addMergeRef(),this._master=d):this._master.value=d}isMergedTo(d){return d===this._master}get master(){return this._master}get type(){return i.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:i.Types.JSON,f:class{constructor(d,u){this.model={address:d.address,type:i.Types.String,value:JSON.stringify(u),rawValue:u}}get value(){return this.model.rawValue}set value(d){this.model.rawValue=d,this.model.value=JSON.stringify(d)}get type(){return i.Types.String}get effectiveType(){return i.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:i.Types.SharedString,f:class{constructor(d,u){this.model={address:d.address,type:i.Types.SharedString,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return i.Types.SharedString}get effectiveType(){return i.Types.SharedString}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:i.Types.RichText,f:class{constructor(d,u){this.model={address:d.address,type:i.Types.String,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}toString(){return this.model.value.richText.map(d=>d.text).join("")}get type(){return i.Types.RichText}get effectiveType(){return i.Types.RichText}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:i.Types.Boolean,f:class{constructor(d,u){this.model={address:d.address,type:i.Types.Boolean,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return i.Types.Boolean}get effectiveType(){return i.Types.Boolean}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:i.Types.Error,f:class{constructor(d,u){this.model={address:d.address,type:i.Types.Error,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return i.Types.Error}get effectiveType(){return i.Types.Error}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((d,u)=>(d[u.t]=u.f,d),[]),create(d,u,v){const x=this.types[d];if(!x)throw new Error("Could not create Value of type "+d);return new x(u,v)}};a.exports=i},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,a,l){const f=e("../utils/under-dash"),o=e("./enums"),c=e("../utils/col-cache");class s{constructor(i,b,d){this._worksheet=i,this._number=b,d!==!1&&(this.defn=d)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return c.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(i){i?(this.key=i.key,this.width=i.width!==void 0?i.width:9,this.outlineLevel=i.outlineLevel,i.style?this.style=i.style:this.style={},this.header=i.header,this._hidden=!!i.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(i){i!==void 0?(this._header=i,this.headers.forEach((b,d)=>{this._worksheet.getCell(d+1,this.number).value=b})):this._header=void 0}get key(){return this._key}set key(i){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=i,i&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(i){this._hidden=i}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(i){this._outlineLevel=i}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(i){return this.width===i.width&&this.hidden===i.hidden&&this.outlineLevel===i.outlineLevel&&f.isEqual(this.style,i.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const i=this.style;return!i||!(i.font||i.numFmt||i.alignment||i.border||i.fill||i.protection)}get headerCount(){return this.headers.length}eachCell(i,b){const d=this.number;b||(b=i,i=null),this._worksheet.eachRow(i,(u,v)=>{b(u.getCell(d),v)})}get values(){const i=[];return this.eachCell((b,d)=>{b&&b.type!==o.ValueType.Null&&(i[d]=b.value)}),i}set values(i){if(!i)return;const b=this.number;let d=0;i.hasOwnProperty("0")&&(d=1),i.forEach((u,v)=>{this._worksheet.getCell(v+d,b).value=u})}_applyStyle(i,b){return this.style[i]=b,this.eachCell(d=>{d[i]=b}),b}get numFmt(){return this.style.numFmt}set numFmt(i){this._applyStyle("numFmt",i)}get font(){return this.style.font}set font(i){this._applyStyle("font",i)}get alignment(){return this.style.alignment}set alignment(i){this._applyStyle("alignment",i)}get protection(){return this.style.protection}set protection(i){this._applyStyle("protection",i)}get border(){return this.style.border}set border(i){this._applyStyle("border",i)}get fill(){return this.style.fill}set fill(i){this._applyStyle("fill",i)}static toModel(i){const b=[];let d=null;return i&&i.forEach((u,v)=>{u.isDefault?d&&(d=null):d&&u.equivalentTo(d)?d.max=v+1:(d={min:v+1,max:v+1,width:u.width!==void 0?u.width:9,style:u.style,isCustomWidth:u.isCustomWidth,hidden:u.hidden,outlineLevel:u.outlineLevel,collapsed:u.collapsed},b.push(d))}),b.length?b:void 0}static fromModel(i,b){const d=[];let u=1,v=0;for(b=(b=b||[]).sort(function(x,m){return x.min-m.min});v<b.length;){const x=b[v++];for(;u<x.min;)d.push(new s(i,u++));for(;u<=x.max;)d.push(new s(i,u++,x))}return d.length?d:null}}a.exports=s},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,a,l){a.exports=class{constructor(f){this.model=f||{}}add(f,o){return this.model[f]=o}find(f){return this.model[f]}remove(f){this.model[f]=void 0}}},{}],6:[function(e,a,l){const f=e("../utils/under-dash"),o=e("../utils/col-cache"),c=e("../utils/cell-matrix"),s=e("./range"),r=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;a.exports=class{constructor(){this.matrixMap={}}getMatrix(i){return this.matrixMap[i]||(this.matrixMap[i]=new c)}add(i,b){const d=o.decodeEx(i);this.addEx(d,b)}addEx(i,b){const d=this.getMatrix(b);if(i.top)for(let u=i.left;u<=i.right;u++)for(let v=i.top;v<=i.bottom;v++){const x={sheetName:i.sheetName,address:o.n2l(u)+v,row:v,col:u};d.addCellEx(x)}else d.addCellEx(i)}remove(i,b){const d=o.decodeEx(i);this.removeEx(d,b)}removeEx(i,b){this.getMatrix(b).removeCellEx(i)}removeAllNames(i){f.each(this.matrixMap,b=>{b.removeCellEx(i)})}forEach(i){f.each(this.matrixMap,(b,d)=>{b.forEach(u=>{i(d,u)})})}getNames(i){return this.getNamesEx(o.decodeEx(i))}getNamesEx(i){return f.map(this.matrixMap,(b,d)=>b.findCellEx(i)&&d).filter(Boolean)}_explore(i,b){b.mark=!1;const{sheetName:d}=b,u=new s(b.row,b.col,b.row,b.col,d);let v,x;function m(y,C){const E=i.findCellAt(d,y,b.col);return!(!E||!E.mark)&&(u[C]=y,E.mark=!1,!0)}for(x=b.row-1;m(x,"top");x--);for(x=b.row+1;m(x,"bottom");x++);function g(y,C){const E=[];for(x=u.top;x<=u.bottom;x++){const A=i.findCellAt(d,x,y);if(!A||!A.mark)return!1;E.push(A)}u[C]=y;for(let A=0;A<E.length;A++)E[A].mark=!1;return!0}for(v=b.col-1;g(v,"left");v--);for(v=b.col+1;g(v,"right");v++);return u}getRanges(i,b){return(b=b||this.matrixMap[i])?(b.forEach(d=>{d.mark=!0}),{name:i,ranges:b.map(d=>d.mark&&this._explore(b,d)).filter(Boolean).map(d=>d.$shortRange)}):{name:i,ranges:[]}}normaliseMatrix(i,b){i.forEachInSheet(b,(d,u,v)=>{d&&(d.row===u&&d.col===v||(d.row=u,d.col=v,d.address=o.n2l(v)+u))})}spliceRows(i,b,d,u){f.each(this.matrixMap,v=>{v.spliceRows(i,b,d,u),this.normaliseMatrix(v,i)})}spliceColumns(i,b,d,u){f.each(this.matrixMap,v=>{v.spliceColumns(i,b,d,u),this.normaliseMatrix(v,i)})}get model(){return f.map(this.matrixMap,(i,b)=>this.getRanges(b,i)).filter(i=>i.ranges.length)}set model(i){const b=this.matrixMap={};i.forEach(d=>{const u=b[d.name]=new c;d.ranges.forEach(v=>{r.test(v.split("!").pop()||"")&&u.addCell(v)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,a,l){a.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,a,l){const f=e("../utils/col-cache"),o=e("./anchor");a.exports=class{constructor(c,s){this.worksheet=c,this.model=s}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(c){let{type:s,imageId:r,range:i,hyperlinks:b}=c;if(this.type=s,this.imageId=r,s==="image")if(typeof i=="string"){const d=f.decode(i);this.range={tl:new o(this.worksheet,{col:d.left,row:d.top},-1),br:new o(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,i.tl,0),br:i.br&&new o(this.worksheet,i.br,0),ext:i.ext,editAs:i.editAs,hyperlinks:b||i.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,a,l){const f=e("../utils/under-dash");class o{constructor(s){this.note=s}get model(){let s=null;switch(typeof this.note){case"string":s={type:"note",note:{texts:[{text:this.note}]}};break;default:s={type:"note",note:this.note}}return f.deepMerge({},o.DEFAULT_CONFIGS,s)}set model(s){const{note:r}=s,{texts:i}=r;i.length===1&&Object.keys(i[0]).length===1?this.note=i[0].text:this.note=r}static fromModel(s){const r=new o;return r.model=s,r}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},a.exports=o},{"../utils/under-dash":26}],10:[function(e,a,l){const f=e("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(s,r,i,b,d){if(arguments.length<4){const u=f.decodeAddress(s),v=f.decodeAddress(r);this.model={top:Math.min(u.row,v.row),left:Math.min(u.col,v.col),bottom:Math.max(u.row,v.row),right:Math.max(u.col,v.col),sheetName:i},this.setTLBR(u.row,u.col,v.row,v.col,d)}else this.model={top:Math.min(s,i),left:Math.min(r,b),bottom:Math.max(s,i),right:Math.max(r,b),sheetName:d}}decode(s){switch(s.length){case 5:this.setTLBR(s[0],s[1],s[2],s[3],s[4]);break;case 4:this.setTLBR(s[0],s[1],s[2],s[3]);break;case 3:this.setTLBR(s[0],s[1],s[2]);break;case 2:this.setTLBR(s[0],s[1]);break;case 1:{const r=s[0];if(r instanceof o)this.model={top:r.model.top,left:r.model.left,bottom:r.model.bottom,right:r.model.right,sheetName:r.sheetName};else if(r instanceof Array)this.decode(r);else if(r.top&&r.left&&r.bottom&&r.right)this.model={top:r.top,left:r.left,bottom:r.bottom,right:r.right,sheetName:r.sheetName};else{const i=f.decodeEx(r);i.top?this.model={top:i.top,left:i.left,bottom:i.bottom,right:i.right,sheetName:i.sheetName}:this.model={top:i.row,left:i.col,bottom:i.row,right:i.col,sheetName:i.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+s.length)}}get top(){return this.model.top||1}set top(s){this.model.top=s}get left(){return this.model.left||1}set left(s){this.model.left=s}get bottom(){return this.model.bottom||1}set bottom(s){this.model.bottom=s}get right(){return this.model.right||1}set right(s){this.model.right=s}get sheetName(){return this.model.sheetName}set sheetName(s){this.model.sheetName=s}get _serialisedSheetName(){const{sheetName:s}=this.model;return s?/^[a-zA-Z0-9]*$/.test(s)?s+"!":`'${s}'!`:""}expand(s,r,i,b){(!this.model.top||s<this.top)&&(this.top=s),(!this.model.left||r<this.left)&&(this.left=r),(!this.model.bottom||i>this.bottom)&&(this.bottom=i),(!this.model.right||b>this.right)&&(this.right=b)}expandRow(s){if(s){const{dimensions:r,number:i}=s;r&&this.expand(i,r.min,i,r.max)}}expandToAddress(s){const r=f.decodeEx(s);this.expand(r.row,r.col,r.row,r.col)}get tl(){return f.n2l(this.left)+this.top}get $t$l(){return`$${f.n2l(this.left)}$${this.top}`}get br(){return f.n2l(this.right)+this.bottom}get $b$r(){return`$${f.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&!(s.bottom<this.top)&&!(s.top>this.bottom)&&!(s.right<this.left)&&!(s.left>this.right)}contains(s){const r=f.decodeEx(s);return this.containsEx(r)}containsEx(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&s.row>=this.top&&s.row<=this.bottom&&s.col>=this.left&&s.col<=this.right}forEachAddress(s){for(let r=this.left;r<=this.right;r++)for(let i=this.top;i<=this.bottom;i++)s(f.encodeAddress(i,r),i,r)}}a.exports=o},{"../utils/col-cache":19}],11:[function(e,a,l){const f=e("../utils/under-dash"),o=e("./enums"),c=e("../utils/col-cache"),s=e("./cell");a.exports=class{constructor(r,i){this._worksheet=r,this._number=i,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(r){return this._cells[r-1]}getCellEx(r){let i=this._cells[r.col-1];if(!i){const b=this._worksheet.getColumn(r.col);i=new s(this,b,r.address),this._cells[r.col-1]=i}return i}getCell(r){if(typeof r=="string"){const i=this._worksheet.getColumnKey(r);r=i?i.number:c.l2n(r)}return this._cells[r-1]||this.getCellEx({address:c.encodeAddress(this._number,r),row:this._number,col:r})}splice(r,i){const b=r+i;for(var d=arguments.length,u=new Array(d>2?d-2:0),v=2;v<d;v++)u[v-2]=arguments[v];const x=u.length-i,m=this._cells.length;let g,y,C;if(x<0)for(g=r+u.length;g<=m;g++)C=this._cells[g-1],y=this._cells[g-x-1],y?(C=this.getCell(g),C.value=y.value,C.style=y.style,C._comment=y._comment):C&&(C.value=null,C.style={},C._comment=void 0);else if(x>0)for(g=m;g>=b;g--)y=this._cells[g-1],y?(C=this.getCell(g+x),C.value=y.value,C.style=y.style,C._comment=y._comment):this._cells[g+x-1]=void 0;for(g=0;g<u.length;g++)C=this.getCell(r+g),C.value=u[g],C.style={},C._comment=void 0}eachCell(r,i){if(i||(i=r,r=null),r&&r.includeEmpty){const b=this._cells.length;for(let d=1;d<=b;d++)i(this.getCell(d),d)}else this._cells.forEach((b,d)=>{b&&b.type!==o.ValueType.Null&&i(b,d+1)})}addPageBreak(r,i){const b=this._worksheet,d=Math.max(0,r-1)||0,u=Math.max(0,i-1)||16838,v={id:this._number,max:u,man:1};d&&(v.min=d),b.rowBreaks.push(v)}get values(){const r=[];return this._cells.forEach(i=>{i&&i.type!==o.ValueType.Null&&(r[i.col]=i.value)}),r}set values(r){if(this._cells=[],r)if(r instanceof Array){let i=0;r.hasOwnProperty("0")&&(i=1),r.forEach((b,d)=>{b!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,d+i),row:this._number,col:d+i}).value=b)})}else this._worksheet.eachColumnKey((i,b)=>{r[b]!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,i.number),row:this._number,col:i.number}).value=r[b])})}get hasValues(){return f.some(this._cells,r=>r&&r.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let r=0;return this.eachCell(()=>{r++}),r}get dimensions(){let r=0,i=0;return this._cells.forEach(b=>{b&&b.type!==o.ValueType.Null&&((!r||r>b.col)&&(r=b.col),i<b.col&&(i=b.col))}),r>0?{min:r,max:i}:null}_applyStyle(r,i){return this.style[r]=i,this._cells.forEach(b=>{b&&(b[r]=i)}),i}get numFmt(){return this.style.numFmt}set numFmt(r){this._applyStyle("numFmt",r)}get font(){return this.style.font}set font(r){this._applyStyle("font",r)}get alignment(){return this.style.alignment}set alignment(r){this._applyStyle("alignment",r)}get protection(){return this.style.protection}set protection(r){this._applyStyle("protection",r)}get border(){return this.style.border}set border(r){this._applyStyle("border",r)}get fill(){return this.style.fill}set fill(r){this._applyStyle("fill",r)}get hidden(){return!!this._hidden}set hidden(r){this._hidden=r}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(r){this._outlineLevel=r}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const r=[];let i=0,b=0;return this._cells.forEach(d=>{if(d){const u=d.model;u&&((!i||i>d.col)&&(i=d.col),b<d.col&&(b=d.col),r.push(u))}}),this.height||r.length?{cells:r,number:this.number,min:i,max:b,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(r){if(r.number!==this._number)throw new Error("Invalid row number in model");let i;this._cells=[],r.cells.forEach(b=>{switch(b.type){case s.Types.Merge:break;default:{let d;if(b.address)d=c.decodeAddress(b.address);else if(i){const{row:u}=i,v=i.col+1;d={row:u,col:v,address:c.encodeAddress(u,v),$col$row:`$${c.n2l(v)}$${u}`}}i=d,this.getCellEx(d).model=b;break}}}),r.height?this.height=r.height:delete this.height,this.hidden=r.hidden,this.outlineLevel=r.outlineLevel||0,this.style=r.style&&JSON.parse(JSON.stringify(r.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,a,l){const f=e("../utils/col-cache");class o{constructor(s,r,i){this.table=s,this.column=r,this.index=i}_set(s,r){this.table.cacheState(),this.column[s]=r}get name(){return this.column.name}set name(s){this._set("name",s)}get filterButton(){return this.column.filterButton}set filterButton(s){this.column.filterButton=s}get style(){return this.column.style}set style(s){this.column.style=s}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(s){this._set("totalsRowLabel",s)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(s){this._set("totalsRowFunction",s)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(s){this._set("totalsRowResult",s)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(s){this._set("totalsRowFormula",s)}}a.exports=class{constructor(c,s){this.worksheet=c,s&&(this.table=s,this.validate(),this.store())}getFormula(c){switch(c.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${c.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${c.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${c.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${c.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${c.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${c.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${c.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${c.name}])`;case"custom":return c.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+c.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:c}=this,s=(x,m,g)=>{x[m]===void 0&&(x[m]=g)};s(c,"headerRow",!0),s(c,"totalsRow",!1),s(c,"style",{}),s(c.style,"theme","TableStyleMedium2"),s(c.style,"showFirstColumn",!1),s(c.style,"showLastColumn",!1),s(c.style,"showRowStripes",!1),s(c.style,"showColumnStripes",!1);const r=(x,m)=>{if(!x)throw new Error(m)};r(c.ref,"Table must have ref"),r(c.columns,"Table must have column definitions"),r(c.rows,"Table must have row definitions"),c.tl=f.decodeAddress(c.ref);const{row:i,col:b}=c.tl;r(i>0,"Table must be on valid row"),r(b>0,"Table must be on valid col");const{width:d,filterHeight:u,tableHeight:v}=this;c.autoFilterRef=f.encode(i,b,i+u-1,b+d-1),c.tableRef=f.encode(i,b,i+v-1,b+d-1),c.columns.forEach((x,m)=>{r(x.name,`Column ${m} must have a name`),m===0?s(x,"totalsRowLabel","Total"):(s(x,"totalsRowFunction","none"),x.totalsRowFormula=this.getFormula(x))})}store(){const c=(u,v)=>{v&&Object.keys(v).forEach(x=>{u[x]=v[x]})},{worksheet:s,table:r}=this,{row:i,col:b}=r.tl;let d=0;if(r.headerRow){const u=s.getRow(i+d++);r.columns.forEach((v,x)=>{const{style:m,name:g}=v,y=u.getCell(b+x);y.value=g,c(y,m)})}if(r.rows.forEach(u=>{const v=s.getRow(i+d++);u.forEach((x,m)=>{const g=v.getCell(b+m);g.value=x,c(g,r.columns[m].style)})}),r.totalsRow){const u=s.getRow(i+d++);r.columns.forEach((v,x)=>{const m=u.getCell(b+x);if(x===0)m.value=v.totalsRowLabel;else{const g=this.getFormula(v);m.value=g?{formula:v.totalsRowFormula,result:v.totalsRowResult}:null}c(m,v.style)})}}load(c){const{table:s}=this,{row:r,col:i}=s.tl;let b=0;if(s.headerRow){const d=c.getRow(r+b++);s.columns.forEach((u,v)=>{d.getCell(i+v).value=u.name})}if(s.rows.forEach(d=>{const u=c.getRow(r+b++);d.forEach((v,x)=>{u.getCell(i+x).value=v})}),s.totalsRow){const d=c.getRow(r+b++);s.columns.forEach((u,v)=>{const x=d.getCell(i+v);v===0?x.value=u.totalsRowLabel:this.getFormula(u)&&(x.value={formula:u.totalsRowFormula,result:u.totalsRowResult})})}}get model(){return this.table}set model(c){this.table=c}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const c=f.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let s=0;s<this._cache.tableHeight;s++){const r=this.worksheet.getRow(c.row+s);for(let i=0;i<this._cache.width;i++)r.getCell(c.col+i).value=null}else{for(let s=this.tableHeight;s<this._cache.tableHeight;s++){const r=this.worksheet.getRow(c.row+s);for(let i=0;i<this._cache.width;i++)r.getCell(c.col+i).value=null}for(let s=0;s<this.tableHeight;s++){const r=this.worksheet.getRow(c.row+s);for(let i=this.width;i<this._cache.width;i++)r.getCell(c.col+i).value=null}}this.store()}addRow(c,s){this.cacheState(),s===void 0?this.table.rows.push(c):this.table.rows.splice(s,0,c)}removeRows(c){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(c,s)}getColumn(c){const s=this.table.columns[c];return new o(this,s,c)}addColumn(c,s,r){this.cacheState(),r===void 0?(this.table.columns.push(c),this.table.rows.forEach((i,b)=>{i.push(s[b])})):(this.table.columns.splice(r,0,c),this.table.rows.forEach((i,b)=>{i.splice(r,0,s[b])}))}removeColumns(c){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(c,s),this.table.rows.forEach(r=>{r.splice(c,s)})}_assign(c,s,r){this.cacheState(),c[s]=r}get ref(){return this.table.ref}set ref(c){this._assign(this.table,"ref",c)}get name(){return this.table.name}set name(c){this.table.name=c}get displayName(){return this.table.displyName||this.table.name}set displayNamename(c){this.table.displayName=c}get headerRow(){return this.table.headerRow}set headerRow(c){this._assign(this.table,"headerRow",c)}get totalsRow(){return this.table.totalsRow}set totalsRow(c){this._assign(this.table,"totalsRow",c)}get theme(){return this.table.style.name}set theme(c){this.table.style.name=c}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(c){this.table.style.showFirstColumn=c}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(c){this.table.style.showLastColumn=c}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(c){this.table.style.showRowStripes=c}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(c){this.table.style.showColumnStripes=c}}},{"../utils/col-cache":19}],13:[function(e,a,l){const f=e("./worksheet"),o=e("./defined-names"),c=e("../xlsx/xlsx"),s=e("../csv/csv");a.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new c(this)),this._xlsx}get csv(){return this._csv||(this._csv=new s(this)),this._csv}get nextId(){for(let r=1;r<this._worksheets.length;r++)if(!this._worksheets[r])return r;return this._worksheets.length||1}addWorksheet(r,i){const b=this.nextId;i&&(typeof i=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),i={properties:{tabColor:{argb:i}}}):(i.argb||i.theme||i.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),i={properties:{tabColor:i}}));const d=this._worksheets.reduce((x,m)=>(m&&m.orderNo)>x?m.orderNo:x,0),u=Object.assign({},i,{id:b,name:r,orderNo:d+1,workbook:this}),v=new f(u);return this._worksheets[b]=v,v}removeWorksheetEx(r){delete this._worksheets[r.id]}removeWorksheet(r){const i=this.getWorksheet(r);i&&i.destroy()}getWorksheet(r){return r===void 0?this._worksheets.find(Boolean):typeof r=="number"?this._worksheets[r]:typeof r=="string"?this._worksheets.find(i=>i&&i.name===r):void 0}get worksheets(){return this._worksheets.slice(1).sort((r,i)=>r.orderNo-i.orderNo).filter(Boolean)}eachSheet(r){this.worksheets.forEach(i=>{r(i,i.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(r){const i=this.media.length;return this.media.push(Object.assign({},r,{type:"image"})),i}getImage(r){return this.media[r]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(r=>r.model),sheets:this.worksheets.map(r=>r.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(r){this.creator=r.creator,this.lastModifiedBy=r.lastModifiedBy,this.lastPrinted=r.lastPrinted,this.created=r.created,this.modified=r.modified,this.company=r.company,this.manager=r.manager,this.title=r.title,this.subject=r.subject,this.keywords=r.keywords,this.category=r.category,this.description=r.description,this.language=r.language,this.revision=r.revision,this.contentStatus=r.contentStatus,this.properties=r.properties,this.calcProperties=r.calcProperties,this._worksheets=[],r.worksheets.forEach(i=>{const{id:b,name:d,state:u}=i,v=r.sheets&&r.sheets.findIndex(x=>x.id===b);(this._worksheets[b]=new f({id:b,name:d,orderNo:v,state:u,workbook:this})).model=i}),this._definedNames.model=r.definedNames,this.views=r.views,this._themes=r.themes,this.media=r.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,a,l){const f=e("../utils/under-dash"),o=e("../utils/col-cache"),c=e("./range"),s=e("./row"),r=e("./column"),i=e("./enums"),b=e("./image"),d=e("./table"),u=e("./data-validations"),v=e("../utils/encryptor"),{copyStyle:x}=e("../utils/copy-style");a.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new u,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(g=>g&&g.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new c;return this._rows.forEach(g=>{if(g){const y=g.dimensions;y&&m.expand(g.number,y.min,g.number,y.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((C,E)=>{const A=(E.header?1:E.headers&&E.headers.length)||0;return Math.max(C,A)},0);let g=1;const y=this._columns=[];m.forEach(C=>{const E=new r(this,g++,!1);y.push(E),E.defn=C})}getColumnKey(m){return this._keys[m]}setColumnKey(m,g){this._keys[m]=g}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){f.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const g=this._keys[m];if(g)return g;m=o.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let g=this._columns.length+1;for(;g<=m;)this._columns.push(new r(this,g++))}return this._columns[m-1]}spliceColumns(m,g){const y=this._rows.length;for(var C=arguments.length,E=new Array(C>2?C-2:0),A=2;A<C;A++)E[A-2]=arguments[A];if(E.length>0)for(let z=0;z<y;z++){const K=[m,g];E.forEach(X=>{K.push(X[z]||null)});const Y=this.getRow(z+1);Y.splice.apply(Y,K)}else this._rows.forEach(z=>{z&&z.splice(m,g)});const D=E.length-g,q=m+g,B=this._columns.length;if(D<0)for(let z=m+E.length;z<=B;z++)this.getColumn(z).defn=this.getColumn(z-D).defn;else if(D>0)for(let z=B;z>=q;z--)this.getColumn(z+D).defn=this.getColumn(z).defn;for(let z=m;z<m+E.length;z++)this.getColumn(z).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,g,E.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(g=>{m=Math.max(m,g.cellCount)}),m}get actualColumnCount(){const m=[];let g=0;return this.eachRow(y=>{y.eachCell(C=>{let{col:E}=C;m[E]||(m[E]=!0,g++)})}),g}_commitRow(){}get _lastRowNumber(){const m=this._rows;let g=m.length;for(;g>0&&m[g-1]===void 0;)g--;return g}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,g){return this._rows.slice(m-1,m-1+g)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let g=this._rows[m-1];return g||(g=this._rows[m-1]=new s(this,m)),g}getRows(m,g){if(g<1)return;const y=[];for(let C=m;C<m+g;C++)y.push(this.getRow(C));return y}addRow(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=this._nextRow,C=this.getRow(y);return C.values=m,this._setStyleOption(y,g[0]==="i"?g:"n"),C}addRows(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=[];return m.forEach(C=>{y.push(this.addRow(C,g))}),y}insertRow(m,g){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,g),this._setStyleOption(m,y),this.getRow(m)}insertRows(m,g){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...g),y!=="n")for(let C=0;C<g.length;C++)y[0]==="o"&&this.findRow(g.length+m+C)!==void 0?this._copyStyle(g.length+m+C,m+C,y[1]==="+"):y[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+C,y[1]==="+");return this.getRows(m,g.length)}_setStyleOption(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";g[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,g[1]==="+"):g[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,g[1]==="+")}_copyStyle(m,g){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const C=this.getRow(m),E=this.getRow(g);E.style=x(C.style),C.eachCell({includeEmpty:y},(A,D)=>{E.getCell(D).style=x(A.style)}),E.height=C.height}duplicateRow(m,g){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const C=this._rows[m-1],E=new Array(g).fill(C.values);this.spliceRows(m+1,y?0:g,...E);for(let A=0;A<g;A++){const D=this._rows[m+A];D.style=C.style,D.height=C.height,C.eachCell({includeEmpty:!0},(q,B)=>{D.getCell(B).style=q.style})}}spliceRows(m,g){const y=m+g;for(var C=arguments.length,E=new Array(C>2?C-2:0),A=2;A<C;A++)E[A-2]=arguments[A];const D=E.length,q=D-g,B=this._rows.length;let z,K;if(q<0)for(m===B&&(this._rows[B-1]=void 0),z=y;z<=B;z++)if(K=this._rows[z-1],K){const Y=this.getRow(z+q);Y.values=K.values,Y.style=K.style,Y.height=K.height,K.eachCell({includeEmpty:!0},(X,O)=>{Y.getCell(O).style=X.style}),this._rows[z-1]=void 0}else this._rows[z+q-1]=void 0;else if(q>0)for(z=B;z>=y;z--)if(K=this._rows[z-1],K){const Y=this.getRow(z+q);Y.values=K.values,Y.style=K.style,Y.height=K.height,K.eachCell({includeEmpty:!0},(X,O)=>{if(Y.getCell(O).style=X.style,X._value.constructor.name==="MergeValue"){const P=this.getRow(X._row._number+D).getCell(O),N=X._value._master,_=this.getRow(N._row._number+D).getCell(N._column._number);P.merge(_)}})}else this._rows[z+q-1]=void 0;for(z=0;z<D;z++){const Y=this.getRow(m+z);Y.style={},Y.values=E[z]}this.workbook.definedNames.spliceRows(this.name,m,g,D)}eachRow(m,g){if(g||(g=m,m=void 0),m&&m.includeEmpty){const y=this._rows.length;for(let C=1;C<=y;C++)g(this.getRow(C),C)}else this._rows.forEach(y=>{y&&y.hasValues&&g(y,y.number)})}getSheetValues(){const m=[];return this._rows.forEach(g=>{g&&(m[g.number]=g.values)}),m}findCell(m,g){const y=o.getAddress(m,g),C=this._rows[y.row-1];return C?C.findCell(y.col):void 0}getCell(m,g){const y=o.getAddress(m,g);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var m=arguments.length,g=new Array(m),y=0;y<m;y++)g[y]=arguments[y];const C=new c(g);this._mergeCellsInternal(C)}mergeCellsWithoutStyle(){for(var m=arguments.length,g=new Array(m),y=0;y<m;y++)g[y]=arguments[y];const C=new c(g);this._mergeCellsInternal(C,!0)}_mergeCellsInternal(m,g){f.each(this._merges,C=>{if(C.intersects(m))throw new Error("Cannot merge already merged cells")});const y=this.getCell(m.top,m.left);for(let C=m.top;C<=m.bottom;C++)for(let E=m.left;E<=m.right;E++)(C>m.top||E>m.left)&&this.getCell(C,E).merge(y,g);this._merges[y.address]=m}_unMergeMaster(m){const g=this._merges[m.address];if(g){for(let y=g.top;y<=g.bottom;y++)for(let C=g.left;C<=g.right;C++)this.getCell(y,C).unmerge();delete this._merges[m.address]}}get hasMerges(){return f.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,g=new Array(m),y=0;y<m;y++)g[y]=arguments[y];const C=new c(g);for(let E=C.top;E<=C.bottom;E++)for(let A=C.left;A<=C.right;A++){const D=this.findCell(E,A);D&&(D.type===i.ValueType.Merge?this._unMergeMaster(D.master):this._merges[D.address]&&this._unMergeMaster(D))}}fillFormula(m,g,y){let C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const E=o.decode(m),{top:A,left:D,bottom:q,right:B}=E,z=B-D+1,K=o.encodeAddress(A,D),Y=C==="shared";let X;X=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(P,N)=>y[P-A][N-D]:(P,N)=>y[(P-A)*z+(N-D)]:()=>{};let O=!0;for(let P=A;P<=q;P++)for(let N=D;N<=B;N++)O?(this.getCell(P,N).value={shareType:C,formula:g,ref:m,result:X(P,N)},O=!1):this.getCell(P,N).value=Y?{sharedFormula:K,result:X(P,N)}:X(P,N)}addImage(m,g){const y={type:"image",imageId:m,range:g};this._media.push(new b(this,y))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const g={type:"background",imageId:m};this._media.push(new b(this,g))}getBackgroundImageId(){const m=this._media.find(g=>g.type==="background");return m&&m.imageId}protect(m,g){return new Promise(y=>{this.sheetProtection={sheet:!0},g&&"spinCount"in g&&(g.spinCount=Number.isFinite(g.spinCount)?Math.round(Math.max(0,g.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=v.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=g&&"spinCount"in g?g.spinCount:1e5,this.sheetProtection.hashValue=v.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),g&&(this.sheetProtection=Object.assign(this.sheetProtection,g),!m&&"spinCount"in g&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(m){const g=new d(this,m);return this.tables[m.name]=g,g}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(C=>C.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(C=>C.model),conditionalFormattings:this.conditionalFormattings};m.cols=r.toModel(this.columns);const g=m.rows=[],y=m.dimensions=new c;return this._rows.forEach(C=>{const E=C&&C.model;E&&(y.expand(E.number,E.min,E.number,E.max),g.push(E))}),m.merges=[],f.each(this._merges,C=>{m.merges.push(C.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(g=>{const y=new s(this,g.number);this._rows[y.number-1]=y,y.model=g})}_parseMergeCells(m){f.each(m.mergeCells,g=>{this.mergeCellsWithoutStyle(g)})}set model(m){this.name=m.name,this._columns=r.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new u(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(g=>new b(this,g)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((g,y)=>{const C=new d;return C.model=y,g[y.name]=C,g},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,a,l){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const f={Workbook:e("./doc/workbook")},o=e("./doc/enums");Object.keys(o).forEach(c=>{f[c]=o[c]}),a.exports=f},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,a,l){const f=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");l.bufferToString=function(o){return typeof o=="string"?o:f?f.decode(o):o.toString()}},{}],17:[function(e,a,l){const f=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=e("buffer");l.stringToBuffer=function(c){return typeof c!="string"?c:f?o.from(f.encode(c).buffer):o.from(c)}},{buffer:220}],18:[function(e,a,l){const f=e("./under-dash"),o=e("./col-cache");a.exports=class{constructor(c){this.template=c,this.sheets={}}addCell(c){this.addCellEx(o.decodeEx(c))}getCell(c){return this.findCellEx(o.decodeEx(c),!0)}findCell(c){return this.findCellEx(o.decodeEx(c),!1)}findCellAt(c,s,r){const i=this.sheets[c],b=i&&i[s];return b&&b[r]}addCellEx(c){if(c.top)for(let s=c.top;s<=c.bottom;s++)for(let r=c.left;r<=c.right;r++)this.getCellAt(c.sheetName,s,r);else this.findCellEx(c,!0)}getCellEx(c){return this.findCellEx(c,!0)}findCellEx(c,s){const r=this.findSheet(c,s),i=this.findSheetRow(r,c,s);return this.findRowCell(i,c,s)}getCellAt(c,s,r){const i=this.sheets[c]||(this.sheets[c]=[]),b=i[s]||(i[s]=[]);return b[r]||(b[r]={sheetName:c,address:o.n2l(r)+s,row:s,col:r})}removeCellEx(c){const s=this.findSheet(c);if(!s)return;const r=this.findSheetRow(s,c);r&&delete r[c.col]}forEachInSheet(c,s){const r=this.sheets[c];r&&r.forEach((i,b)=>{i&&i.forEach((d,u)=>{d&&s(d,b,u)})})}forEach(c){f.each(this.sheets,(s,r)=>{this.forEachInSheet(r,c)})}map(c){const s=[];return this.forEach(r=>{s.push(c(r))}),s}findSheet(c,s){const r=c.sheetName;return this.sheets[r]?this.sheets[r]:s?this.sheets[r]=[]:void 0}findSheetRow(c,s,r){const{row:i}=s;return c&&c[i]?c[i]:r?c[i]=[]:void 0}findRowCell(c,s,r){const{col:i}=s;return c&&c[i]?c[i]:r?c[i]=this.template?Object.assign(s,JSON.parse(JSON.stringify(this.template))):s:void 0}spliceRows(c,s,r,i){const b=this.sheets[c];if(b){const d=[];for(let u=0;u<i;u++)d.push([]);b.splice(s,r,...d)}}spliceColumns(c,s,r,i){const b=this.sheets[c];if(b){const d=[];for(let u=0;u<i;u++)d.push(null);f.each(b,u=>{u.splice(s,r,...d)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,a,l){const f=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:c=>c<=26?1:c<=676?2:3,_fill(c){let s,r,i,b,d,u=1;if(c>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&c>=1){for(;u<=26;)s=this._dictionary[u-1],this._n2l[u]=s,this._l2n[s]=u,u++;this._l2nFill=1}if(this._l2nFill<2&&c>=2){for(u=27;u<=702;)r=u-27,i=r%26,b=Math.floor(r/26),s=this._dictionary[b]+this._dictionary[i],this._n2l[u]=s,this._l2n[s]=u,u++;this._l2nFill=2}if(this._l2nFill<3&&c>=3){for(u=703;u<=16384;)r=u-703,i=r%26,b=Math.floor(r/26)%26,d=Math.floor(r/676),s=this._dictionary[d]+this._dictionary[b]+this._dictionary[i],this._n2l[u]=s,this._l2n[s]=u,u++;this._l2nFill=3}},l2n(c){if(this._l2n[c]||this._fill(c.length),!this._l2n[c])throw new Error("Out of bounds. Invalid column letter: "+c);return this._l2n[c]},n2l(c){if(c<1||c>16384)throw new Error(c+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[c]||this._fill(this._level(c)),this._n2l[c]},_hash:{},validateAddress(c){if(!f.test(c))throw new Error("Invalid Address: "+c);return!0},decodeAddress(c){const s=c.length<5&&this._hash[c];if(s)return s;let r=!1,i="",b=0,d=!1,u="",v=0;for(let m,g=0;g<c.length;g++)if(m=c.charCodeAt(g),!d&&m>=65&&m<=90)r=!0,i+=c[g],b=26*b+m-64;else if(m>=48&&m<=57)d=!0,u+=c[g],v=10*v+m-48;else if(d&&r&&m!==36)break;if(r){if(b>16384)throw new Error("Out of bounds. Invalid column letter: "+i)}else b=void 0;d||(v=void 0);const x={address:c=i+u,col:b,row:v,$col$row:`$${i}$${u}`};return b<=100&&v<=100&&(this._hash[c]=x,this._hash[x.$col$row]=x),x},getAddress(c,s){if(s){const r=this.n2l(s)+c;return this.decodeAddress(r)}return this.decodeAddress(c)},decode(c){const s=c.split(":");if(s.length===2){const r=this.decodeAddress(s[0]),i=this.decodeAddress(s[1]),b={top:Math.min(r.row,i.row),left:Math.min(r.col,i.col),bottom:Math.max(r.row,i.row),right:Math.max(r.col,i.col)};return b.tl=this.n2l(b.left)+b.top,b.br=this.n2l(b.right)+b.bottom,b.dimensions=`${b.tl}:${b.br}`,b}return this.decodeAddress(c)},decodeEx(c){const s=c.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),r=s[1]||s[2],i=s[3],b=i.split(":");if(b.length>1){let u=this.decodeAddress(b[0]),v=this.decodeAddress(b[1]);const x=Math.min(u.row,v.row),m=Math.min(u.col,v.col),g=Math.max(u.row,v.row),y=Math.max(u.col,v.col);return u=this.n2l(m)+x,v=this.n2l(y)+g,{top:x,left:m,bottom:g,right:y,sheetName:r,tl:{address:u,col:m,row:x,$col$row:`$${this.n2l(m)}$${x}`,sheetName:r},br:{address:v,col:y,row:g,$col$row:`$${this.n2l(y)}$${g}`,sheetName:r},dimensions:`${u}:${v}`}}if(i.startsWith("#"))return r?{sheetName:r,error:i}:{error:i};const d=this.decodeAddress(i);return r?{sheetName:r,...d}:d},encodeAddress:(c,s)=>o.n2l(s)+c,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(c,s){const[r,i,,b,d]=c,[u,v]=s;return u>=r&&u<=b&&v>=i&&v<=d}};a.exports=o},{}],20:[function(e,a,l){const f=(c,s)=>({...c,...s.reduce((r,i)=>(c[i]&&(r[i]={...c[i]}),r),{})}),o=function(c,s,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];c[r]&&(s[r]=f(c[r],i))};l.copyStyle=c=>{if(!c)return c;if(s=c,Object.keys(s).length===0)return{};var s;const r={...c};return o(c,r,"font",["color"]),o(c,r,"alignment"),o(c,r,"protection"),c.border&&(o(c,r,"border"),o(c.border,r.border,"top",["color"]),o(c.border,r.border,"left",["color"]),o(c.border,r.border,"bottom",["color"]),o(c.border,r.border,"right",["color"]),o(c.border,r.border,"diagonal",["color"])),c.fill&&(o(c,r,"fill",["fgColor","bgColor","center"]),c.fill.stops&&(r.fill.stops=c.fill.stops.map(i=>f(i,["color"])))),r}},{}],21:[function(e,a,l){(function(f){(function(){const o=e("crypto"),c={hash(s){const r=o.createHash(s);for(var i=arguments.length,b=new Array(i>1?i-1:0),d=1;d<i;d++)b[d-1]=arguments[d];return r.update(f.concat(b)),r.digest()},convertPasswordToHash(s,r,i,b){if(r=r.toLowerCase(),o.getHashes().indexOf(r)<0)throw new Error(`Hash algorithm '${r}' not supported!`);const d=f.from(s,"utf16le");let u=this.hash(r,f.from(i,"base64"),d);for(let v=0;v<b;v++){const x=f.alloc(4);x.writeUInt32LE(v,0),u=this.hash(r,u,x)}return u.toString("base64")},randomBytes:s=>o.randomBytes(s)};a.exports=c}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,a,l){const{SaxesParser:f}=e("saxes"),{PassThrough:o}=e("readable-stream"),{bufferToString:c}=e("./browser-buffer-decode");a.exports=async function*(s){s.pipe&&!s[Symbol.asyncIterator]&&(s=s.pipe(new o));const r=new f;let i;r.on("error",d=>{i=d});let b=[];r.on("opentag",d=>b.push({eventType:"opentag",value:d})),r.on("text",d=>b.push({eventType:"text",value:d})),r.on("closetag",d=>b.push({eventType:"closetag",value:d}));for await(const d of s){if(r.write(c(d)),i)throw i;yield b,b=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,a,l){const f=e("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,c=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;a.exports={slideFormula:function(s,r,i){const b=f.decode(r),d=f.decode(i);return s.replace(o,(u,v,x,m,g)=>{if(g)return u;const y=c.exec(m);if(y){const C=y[1],E=y[2].toUpperCase(),A=y[3],D=y[4];if(E.length>3||E.length===3&&E>"XFD")return u;let q=f.l2n(E),B=parseInt(D,10);return C||(q+=d.col-b.col),A||(B+=d.row-b.row),(v||"")+(C||"")+f.n2l(q)+(A||"")+B}return u})}}},{"./col-cache":19}],24:[function(e,a,l){(function(f,o){(function(){const c=e("readable-stream"),s=e("./utils"),r=e("./string-buf");class i{constructor(m,g){this._data=m,this._encoding=g}get length(){return this.toBuffer().length}copy(m,g,y,C){return this.toBuffer().copy(m,g,y,C)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class b{constructor(m){this._data=m}get length(){return this._data.length}copy(m,g,y,C){return this._data._buf.copy(m,g,y,C)}toBuffer(){return this._data.toBuffer()}}class d{constructor(m){this._data=m}get length(){return this._data.length}copy(m,g,y,C){this._data.copy(m,g,y,C)}toBuffer(){return this._data}}class u{constructor(m){this.size=m,this.buffer=o.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let g;return m===0?null:m===void 0||m>=this.length?(g=this.toBuffer(),this.iRead=this.iWrite,g):(g=o.alloc(m),this.buffer.copy(g,0,this.iRead,m),this.iRead+=m,g)}write(m,g,y){const C=Math.min(y,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,g,g+C),this.iWrite+=C,C}}const v=function(x){x=x||{},this.bufSize=x.bufSize||1048576,this.buffers=[],this.batch=x.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};s.inherits(v,c.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(x=>x.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const x=new u(this.bufSize);return this.buffers.push(x),x},async _pipe(x){await Promise.all(this.pipes.map(function(m){return new Promise(g=>{m.write(x.toBuffer(),()=>{g()})})}))},_writeToBuffers(x){let m=0;const g=x.length;for(;m<g;)m+=this._getWritableBuffer().write(x,m,g-m)},async write(x,m,g){let y;if(m instanceof Function&&(g=m,m="utf8"),g=g||s.nop,x instanceof r)y=new b(x);else if(x instanceof o)y=new d(x);else{if(!(typeof x=="string"||x instanceof String||x instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");y=new i(x,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(y);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(y),f.nextTick(g)):(await this._pipe(y),g());else this.paused||this.emit("data",y.toBuffer()),this._writeToBuffers(y),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(x,m,g){const y=C=>{C?g(C):(this._flush(),this.pipes.forEach(E=>{E.end()}),this.emit("finish"))};x?this.write(x,m,y):y()},read(x){let m;if(x){for(m=[];x&&this.buffers.length&&!this.buffers[0].eod;){const g=this.buffers[0],y=g.read(x);x-=y.length,m.push(y),g.eod&&g.full&&this.buffers.shift()}return o.concat(m)}return m=this.buffers.map(g=>g.toBuffer()).filter(Boolean),this.buffers=[],o.concat(m)},setEncoding(x){this.encoding=x},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(x){this.pipes.push(x),!this.paused&&this.buffers.length&&this.end()},unpipe(x){this.pipes=this.pipes.filter(m=>m!==x)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),a.exports=v}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,a,l){(function(f){(function(){a.exports=class{constructor(o){this._buf=f.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=f.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let c=2*this._buf.length;for(;c<o;)c*=2;const s=f.alloc(c);this._buf.copy(s,0),this._buf=s}addText(o){this._buffer=void 0;let c=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;c>=this._buf.length-4;)this._grow(this._inPos+o.length),c=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=c}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,a,l){const{toString:f}=Object.prototype,o=/["&<>]/,c={each:function(s,r){s&&(Array.isArray(s)?s.forEach(r):Object.keys(s).forEach(i=>{r(s[i],i)}))},some:function(s,r){return!!s&&(Array.isArray(s)?s.some(r):Object.keys(s).some(i=>r(s[i],i)))},every:function(s,r){return!s||(Array.isArray(s)?s.every(r):Object.keys(s).every(i=>r(s[i],i)))},map:function(s,r){return s?Array.isArray(s)?s.map(r):Object.keys(s).map(i=>r(s[i],i)):[]},keyBy:(s,r)=>s.reduce((i,b)=>(i[b[r]]=b,i),{}),isEqual:function(s,r){const i=typeof s,b=typeof r,d=Array.isArray(s),u=Array.isArray(r);let v;if(i!==b)return!1;switch(typeof s){case"object":if(d||u)return!(!d||!u)&&s.length===r.length&&s.every((x,m)=>{const g=r[m];return c.isEqual(x,g)});if(s===null||r===null)return s===r;if(v=Object.keys(s),Object.keys(r).length!==v.length)return!1;for(const x of v)if(!r.hasOwnProperty(x))return!1;return c.every(s,(x,m)=>{const g=r[m];return c.isEqual(x,g)});default:return s===r}},escapeHtml(s){const r=o.exec(s);if(!r)return s;let i="",b="",d=0,u=r.index;for(;u<s.length;u++){switch(s.charAt(u)){case'"':b="&quot;";break;case"&":b="&amp;";break;case"'":b="&apos;";break;case"<":b="&lt;";break;case">":b="&gt;";break;default:continue}d!==u&&(i+=s.substring(d,u)),d=u+1,i+=b}return d!==u?i+s.substring(d,u):i},strcmp:(s,r)=>s<r?-1:s>r?1:0,isUndefined:s=>f.call(s)==="[object Undefined]",isObject:s=>f.call(s)==="[object Object]",deepMerge(){const s=arguments[0]||{},{length:r}=arguments;let i,b,d;function u(v,x){i=s[x],d=Array.isArray(v),c.isObject(v)||d?(d?(d=!1,b=i&&Array.isArray(i)?i:[]):b=i&&c.isObject(i)?i:{},s[x]=c.deepMerge(b,v)):c.isUndefined(v)||(s[x]=v)}for(let v=0;v<r;v++)c.each(arguments[v],u);return s}};a.exports=c},{}],27:[function(e,a,l){(function(f,o){(function(){const c=e("fs"),s=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,r={nop(){},promiseImmediate:i=>new Promise(b=>{f.setImmediate?o(()=>{b(i)}):setTimeout(()=>{b(i)},1)}),inherits:function(i,b,d,u){i.super_=b,u||(u=d,d=null),d&&Object.keys(d).forEach(x=>{Object.defineProperty(i,x,Object.getOwnPropertyDescriptor(d,x))});const v={constructor:{value:i,enumerable:!1,writable:!1,configurable:!0}};u&&Object.keys(u).forEach(x=>{v[x]=Object.getOwnPropertyDescriptor(u,x)}),i.prototype=Object.create(b.prototype,v)},dateToExcel:(i,b)=>25569+i.getTime()/864e5-(b?1462:0),excelToDate(i,b){const d=Math.round(24*(i-25569+(b?1462:0))*3600*1e3);return new Date(d)},parsePath(i){const b=i.lastIndexOf("/");return{path:i.substring(0,b),name:i.substring(b+1)}},getRelsPath(i){const b=r.parsePath(i);return`${b.path}/_rels/${b.name}.rels`},xmlEncode(i){const b=s.exec(i);if(!b)return i;let d="",u="",v=0,x=b.index;for(;x<i.length;x++){const m=i.charCodeAt(x);switch(m){case 34:u="&quot;";break;case 38:u="&amp;";break;case 39:u="&apos;";break;case 60:u="&lt;";break;case 62:u="&gt;";break;case 127:u="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){u="";break}continue}v!==x&&(d+=i.substring(v,x)),v=x+1,u&&(d+=u)}return v!==x?d+i.substring(v,x):d},xmlDecode:i=>i.replace(/&([a-z]*);/g,b=>{switch(b){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return b}}),validInt(i){const b=parseInt(i,10);return Number.isNaN(b)?0:b},isDateFmt(i){return i?(i=(i=i.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:i=>new Promise(b=>{c.access(i,c.constants.F_OK,d=>{b(!d)})})},toIsoDateString:i=>i.toIsoString().subsstr(0,10),parseBoolean:i=>i===!0||i==="true"||i===1||i==="1"};a.exports=r}).call(this)}).call(this,typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,a,l){const f=e("./under-dash"),o=e("./utils");function c(i,b,d){i.push(` ${b}="${o.xmlEncode(d.toString())}"`)}function s(i,b){if(b){const d=[];f.each(b,(u,v)=>{u!==void 0&&c(d,v,u)}),i.push(d.join(""))}}class r{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(b){const d=this._xml;d.push("<?xml"),s(d,b),d.push(`?>
`)}openNode(b,d){const u=this.tos,v=this._xml;u&&this.open&&v.push(">"),this._stack.push(b),v.push("<"),v.push(b),s(v,d),this.leaf=!0,this.open=!0}addAttribute(b,d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d!==void 0&&c(this._xml,b,d)}addAttributes(b){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");s(this._xml,b)}writeText(b){const d=this._xml;this.open&&(d.push(">"),this.open=!1),this.leaf=!1,d.push(o.xmlEncode(b.toString()))}writeXml(b){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(b)}closeNode(){const b=this._stack.pop(),d=this._xml;this.leaf?d.push("/>"):(d.push("</"),d.push(b),d.push(">")),this.open=!1,this.leaf=!1}leafNode(b,d,u){this.openNode(b,d),u!==void 0&&this.writeText(u),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const b=this._rollbacks.pop();this._xml.length>b.xml&&this._xml.splice(b.xml,this._xml.length-b.xml),this._stack.length>b.stack&&this._stack.splice(b.stack,this._stack.length-b.stack),this.leaf=b.leaf,this.open=b.open}get xml(){return this.closeAll(),this._xml.join("")}}r.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},a.exports=r},{"./under-dash":26,"./utils":27}],29:[function(e,a,l){(function(f){(function(){const o=e("events"),c=e("jszip"),s=e("./stream-buf"),{stringToBuffer:r}=e("./browser-buffer-encode");class i extends o.EventEmitter{constructor(d){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},d),this.zip=new c,this.stream=new s}append(d,u){u.hasOwnProperty("base64")&&u.base64?this.zip.file(u.name,d,{base64:!0}):(f.browser&&typeof d=="string"&&(d=r(d)),this.zip.file(u.name,d))}async finalize(){const d=await this.zip.generateAsync(this.options);this.stream.end(d),this.emit("finish")}read(d){return this.stream.read(d)}setEncoding(d){return this.stream.setEncoding(d)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(d,u){return this.stream.pipe(d,u)}unpipe(d){return this.stream.unpipe(d)}unshift(d){return this.stream.unshift(d)}wrap(d){return this.stream.wrap(d)}}a.exports={ZipWriter:i}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,a,l){a.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,a,l){a.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,a,l){const f=e("../../utils/parse-sax"),o=e("../../utils/xml-stream");class c{prepare(){}render(){}parseOpen(r){}parseText(r){}parseClose(r){}reconcile(r,i){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(r=>{r instanceof c?r.reset():r.xform&&r.xform.reset()})}mergeModel(r){this.model=Object.assign(this.model||{},r)}async parse(r){for await(const i of r)for(const{eventType:b,value:d}of i)if(b==="opentag")this.parseOpen(d);else if(b==="text")this.parseText(d);else if(b==="closetag"&&!this.parseClose(d.name))return this.model;return this.model}async parseStream(r){return this.parse(f(r))}get xml(){return this.toXml(this.model)}toXml(r){const i=new o;return this.render(i,r),i.xml}static toAttribute(r,i){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(r===void 0){if(b)return i}else if(b||r!==i)return r.toString()}static toStringAttribute(r,i){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(r,i,b)}static toStringValue(r,i){return r===void 0?i:r}static toBoolAttribute(r,i){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(r===void 0){if(b)return i}else if(b||r!==i)return r?"1":"0"}static toBoolValue(r,i){return r===void 0?i:r==="1"}static toIntAttribute(r,i){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(r,i,b)}static toIntValue(r,i){return r===void 0?i:parseInt(r,10)}static toFloatAttribute(r,i){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(r,i,b)}static toFloatValue(r,i){return r===void 0?i:parseFloat(r)}}a.exports=c},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,a,l){const f=e("../base-xform"),o=e("../../../utils/col-cache");function c(r){try{return o.decodeEx(r),!0}catch{return!1}}function s(r){const i=[];let b=!1,d="";return r.split(",").forEach(u=>{if(!u)return;const v=(u.match(/'/g)||[]).length;if(!v)return void(b?d+=u+",":c(u)&&i.push(u));const x=v%2==0;!b&&x&&c(u)?i.push(u):b&&!x?(b=!1,c(d+u)&&i.push(d+u),d=""):(b=!0,d+=u+",")}),i}a.exports=class extends f{render(r,i){r.openNode("definedName",{name:i.name,localSheetId:i.localSheetId}),r.writeText(i.ranges.join(",")),r.closeNode()}parseOpen(r){switch(r.name){case"definedName":return this._parsedName=r.attributes.name,this._parsedLocalSheetId=r.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(r){this._parsedText.push(r)}parseClose(){return this.model={name:this._parsedName,ranges:s(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,a,l){const f=e("../../../utils/utils"),o=e("../base-xform");a.exports=class extends o{render(c,s){c.leafNode("sheet",{sheetId:s.id,name:s.name,state:s.state,"r:id":s.rId})}parseOpen(c){return c.name==="sheet"&&(this.model={name:f.xmlDecode(c.attributes.name),id:parseInt(c.attributes.sheetId,10),state:c.attributes.state,rId:c.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{render(o,c){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:c.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{render(o,c){o.leafNode("workbookPr",{date1904:c.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{render(o,c){const s={xWindow:c.x||0,yWindow:c.y||0,windowWidth:c.width||12e3,windowHeight:c.height||24e3,firstSheet:c.firstSheet,activeTab:c.activeTab};c.visibility&&c.visibility!=="visible"&&(s.visibility=c.visibility),o.leafNode("workbookView",s)}parseOpen(o){if(o.name==="workbookView"){const c=this.model={},s=function(i,b,d){const u=b!==void 0?c[i]=b:d;u!==void 0&&(c[i]=u)},r=function(i,b,d){const u=b!==void 0?c[i]=parseInt(b,10):d;u!==void 0&&(c[i]=u)};return r("x",o.attributes.xWindow,0),r("y",o.attributes.yWindow,0),r("width",o.attributes.windowWidth,25e3),r("height",o.attributes.windowHeight,1e4),s("visibility",o.attributes.visibility,"visible"),r("activeTab",o.attributes.activeTab,void 0),r("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,a,l){const f=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),s=e("../base-xform"),r=e("../static-xform"),i=e("../list-xform"),b=e("./defined-name-xform"),d=e("./sheet-xform"),u=e("./workbook-view-xform"),v=e("./workbook-properties-xform"),x=e("./workbook-calc-properties-xform");class m extends s{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new v,bookViews:new i({tag:"bookViews",count:!1,childXform:new u}),sheets:new i({tag:"sheets",count:!1,childXform:new d}),definedNames:new i({tag:"definedNames",count:!1,childXform:new b}),calcPr:new x}}prepare(y){y.sheets=y.worksheets;const C=[];let E=0;y.sheets.forEach(A=>{if(A.pageSetup&&A.pageSetup.printArea&&A.pageSetup.printArea.split("&&").forEach(D=>{const q=D.split(":"),B={name:"_xlnm.Print_Area",ranges:[`'${A.name}'!$${q[0]}:$${q[1]}`],localSheetId:E};C.push(B)}),A.pageSetup&&(A.pageSetup.printTitlesRow||A.pageSetup.printTitlesColumn)){const D=[];if(A.pageSetup.printTitlesColumn){const B=A.pageSetup.printTitlesColumn.split(":");D.push(`'${A.name}'!$${B[0]}:$${B[1]}`)}if(A.pageSetup.printTitlesRow){const B=A.pageSetup.printTitlesRow.split(":");D.push(`'${A.name}'!$${B[0]}:$${B[1]}`)}const q={name:"_xlnm.Print_Titles",ranges:D,localSheetId:E};C.push(q)}E++}),C.length&&(y.definedNames=y.definedNames.concat(C)),(y.media||[]).forEach((A,D)=>{A.name=A.type+(D+1)})}render(y,C){y.openXml(c.StdDocAttributes),y.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,C.properties),this.map.bookViews.render(y,C.views),this.map.sheets.render(y,C.sheets),this.map.definedNames.render(y,C.definedNames),this.map.calcPr.render(y,C.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){const C=(y.workbookRels||[]).reduce((B,z)=>(B[z.Id]=z,B),{}),E=[];let A,D=0;(y.sheets||[]).forEach(B=>{const z=C[B.rId];z&&(A=y.worksheetHash["xl/"+z.Target.replace(/^(\s|\/xl\/)+/,"")],A&&(A.name=B.name,A.id=B.id,A.state=B.state,E[D++]=A))});const q=[];f.each(y.definedNames,B=>{if(B.name==="_xlnm.Print_Area"){if(A=E[B.localSheetId],A){A.pageSetup||(A.pageSetup={});const z=o.decodeEx(B.ranges[0]);A.pageSetup.printArea=A.pageSetup.printArea?`${A.pageSetup.printArea}&&${z.dimensions}`:z.dimensions}}else if(B.name==="_xlnm.Print_Titles"){if(A=E[B.localSheetId],A){A.pageSetup||(A.pageSetup={});const z=B.ranges.join(","),K=/\$/g,Y=/\$\d+:\$\d+/,X=z.match(Y);if(X&&X.length){const N=X[0];A.pageSetup.printTitlesRow=N.replace(K,"")}const O=/\$[A-Z]+:\$[A-Z]+/,P=z.match(O);if(P&&P.length){const N=P[0];A.pageSetup.printTitlesColumn=N.replace(K,"")}}}else q.push(B)}),y.definedNames=q,y.media.forEach((B,z)=>{B.index=z})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new r({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},a.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,a,l){const f=e("../strings/rich-text-xform"),o=e("../../../utils/utils"),c=e("../base-xform"),s=a.exports=function(r){this.model=r};o.inherits(s,c,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new f),this._richTextXform},render(r,i){i=i||this.model,r.openNode("comment",{ref:i.ref,authorId:0}),r.openNode("text"),i&&i.note&&i.note.texts&&i.note.texts.forEach(b=>{this.richTextXform.render(r,b)}),r.closeNode(),r.closeNode()},parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"comment":return this.model={type:"note",note:{texts:[]},...r.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(r),!0;default:return!1}},parseText(r){this.parser&&this.parser.parseText(r)},parseClose(r){switch(r){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(r),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,a,l){const f=e("../../../utils/xml-stream"),o=e("../../../utils/utils"),c=e("../base-xform"),s=e("./comment-xform"),r=a.exports=function(){this.map={comment:new s}};o.inherits(r,c,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(i,b){b=b||this.model,i.openXml(f.StdDocAttributes),i.openNode("comments",r.COMMENTS_ATTRIBUTES),i.openNode("authors"),i.leafNode("author",null,"Author"),i.closeNode(),i.openNode("commentList"),b.comments.forEach(d=>{this.map.comment.render(i,d)}),i.closeNode(),i.closeNode()},parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(i),!0;default:return!1}},parseText(i){this.parser&&this.parser.parseText(i)},parseClose(i){switch(i){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(i),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,a,l){const f=e("../../base-xform");a.exports=class extends f{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,c,s){(c===s[2]||this.tag==="x:SizeWithCells"&&c===s[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,a,l){const f=e("../../base-xform");a.exports=class extends f{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"x:Anchor"}getAnchorRect(o){const c=Math.floor(o.left),s=Math.floor(68*(o.left-c)),r=Math.floor(o.top),i=Math.floor(18*(o.top-r)),b=Math.floor(o.right),d=Math.floor(68*(o.right-b)),u=Math.floor(o.bottom);return[c,s,r,i,b,d,u,Math.floor(18*(o.bottom-u))]}getDefaultRect(o){const c=o.col,s=Math.max(o.row-2,0);return[c,6,s,14,c+2,2,s+4,16]}render(o,c){const s=c.anchor?this.getAnchorRect(c.anchor):this.getDefaultRect(c.refAddress);o.leafNode("x:Anchor",null,s.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,a,l){const f=e("../base-xform"),o=e("./vml-anchor-xform"),c=e("./style/vml-protection-xform"),s=e("./style/vml-position-xform"),r=["twoCells","oneCells","absolute"];a.exports=class extends f{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new c({tag:"x:Locked"}),"x:LockText":new c({tag:"x:LockText"}),"x:SizeWithCells":new s({tag:"x:SizeWithCells"}),"x:MoveWithCells":new s({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(i,b){const{protection:d,editAs:u}=b.note;i.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(i,u,r),this.map["x:SizeWithCells"].render(i,u,r),this.map["x:Anchor"].render(i,b),this.map["x:Locked"].render(i,d.locked),i.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(i,d.lockText),i.leafNode("x:Row",null,b.refAddress.row-1),i.leafNode("x:Column",null,b.refAddress.col-1),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const i=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),b=Object.keys(i).length;this.model.editAs=r[b],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,a,l){const f=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./vml-shape-xform");class s extends o{constructor(){super(),this.map={"v:shape":new c}}get tag(){return"xml"}render(i,b){i.openXml(f.StdDocAttributes),i.openNode(this.tag,s.DRAWING_ATTRIBUTES),i.openNode("o:shapelayout",{"v:ext":"edit"}),i.leafNode("o:idmap",{"v:ext":"edit",data:1}),i.closeNode(),i.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),i.leafNode("v:stroke",{joinstyle:"miter"}),i.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),i.closeNode(),b.comments.forEach((d,u)=>{this.map["v:shape"].render(i,d,u)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(i){case this.tag:return!1;default:return!0}}reconcile(i,b){i.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,b):this.map["xdr:oneCellAnchor"].reconcile(d,b)})}}s.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},a.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,a,l){const f=e("../base-xform"),o=e("./vml-textbox-xform"),c=e("./vml-client-data-xform");class s extends f{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new c}}get tag(){return"v:shape"}render(i,b,d){i.openNode("v:shape",s.V_SHAPE_ATTRIBUTES(b,d)),i.leafNode("v:fill",{color2:"infoBackground [80]"}),i.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),i.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(i,b),this.map["x:ClientData"].render(i,b),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset(),this.model={margins:{insetmode:i.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}s.V_SHAPE_ATTRIBUTES=(r,i)=>({id:"_x0000_s"+(1025+i),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":r.note.margins&&r.note.margins.insetmode}),a.exports=s},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"v:textbox"}conversionUnit(o,c,s){return`${parseFloat(o)*c.toFixed(2)}${s}`}reverseConversionUnit(o){return(o||"").split(",").map(c=>Number(parseFloat(this.conversionUnit(parseFloat(c),.1,"")).toFixed(2)))}render(o,c){const s={style:"mso-direction-alt:auto"};if(c&&c.note){let{inset:r}=c.note&&c.note.margins;Array.isArray(r)&&(r=r.map(i=>this.conversionUnit(i,10,"mm")).join(",")),r&&(s.inset=r)}o.openNode("v:textbox",s),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,a,l){const f=e("./base-xform");a.exports=class extends f{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,c){this.model[o]=c.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{render(o,c){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,c.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{render(o,c){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:c.length,baseType:"lpstr"}),c.forEach(s=>{o.leafNode("vt:lpstr",void 0,s.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,a,l){const f=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../simple/string-xform"),s=e("./app-heading-pairs-xform"),r=e("./app-titles-of-parts-xform");class i extends o{constructor(){super(),this.map={Company:new c({tag:"Company"}),Manager:new c({tag:"Manager"}),HeadingPairs:new s,TitleOfParts:new r}}render(d,u){d.openXml(f.StdDocAttributes),d.openNode("Properties",i.PROPERTY_ATTRIBUTES),d.leafNode("Application",void 0,"Microsoft Excel"),d.leafNode("DocSecurity",void 0,"0"),d.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(d,u.worksheets),this.map.TitleOfParts.render(d,u.worksheets),this.map.Company.render(d,u.company||""),this.map.Manager.render(d,u.manager),d.leafNode("LinksUpToDate",void 0,"false"),d.leafNode("SharedDoc",void 0,"false"),d.leafNode("HyperlinksChanged",void 0,"false"),d.leafNode("AppVersion",void 0,"16.0300"),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Properties":return!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}i.DateFormat=function(b){return b.toISOString().replace(/[.]\d{3,6}/,"")},i.DateAttrs={"xsi:type":"dcterms:W3CDTF"},i.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},a.exports=i},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,a,l){const f=e("../../../utils/xml-stream"),o=e("../base-xform");class c extends o{render(r,i){r.openXml(f.StdDocAttributes),r.openNode("Types",c.PROPERTY_ATTRIBUTES);const b={};(i.media||[]).forEach(d=>{if(d.type==="image"){const u=d.extension;b[u]||(b[u]=!0,r.leafNode("Default",{Extension:u,ContentType:"image/"+u}))}}),r.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),r.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),r.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),i.worksheets.forEach(d=>{const u=`/xl/worksheets/sheet${d.id}.xml`;r.leafNode("Override",{PartName:u,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),r.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),r.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),i.sharedStrings&&i.sharedStrings.count&&r.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),i.tables&&i.tables.forEach(d=>{r.leafNode("Override",{PartName:"/xl/tables/"+d.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),i.drawings&&i.drawings.forEach(d=>{r.leafNode("Override",{PartName:`/xl/drawings/${d.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),i.commentRefs&&(r.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),i.commentRefs.forEach(d=>{let{commentName:u}=d;r.leafNode("Override",{PartName:`/xl/${u}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),r.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),r.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),r.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},a.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,a,l){const f=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../simple/date-xform"),s=e("../simple/string-xform"),r=e("../simple/integer-xform");class i extends o{constructor(){super(),this.map={"dc:creator":new s({tag:"dc:creator"}),"dc:title":new s({tag:"dc:title"}),"dc:subject":new s({tag:"dc:subject"}),"dc:description":new s({tag:"dc:description"}),"dc:identifier":new s({tag:"dc:identifier"}),"dc:language":new s({tag:"dc:language"}),"cp:keywords":new s({tag:"cp:keywords"}),"cp:category":new s({tag:"cp:category"}),"cp:lastModifiedBy":new s({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new c({tag:"cp:lastPrinted",format:i.DateFormat}),"cp:revision":new r({tag:"cp:revision"}),"cp:version":new s({tag:"cp:version"}),"cp:contentStatus":new s({tag:"cp:contentStatus"}),"cp:contentType":new s({tag:"cp:contentType"}),"dcterms:created":new c({tag:"dcterms:created",attrs:i.DateAttrs,format:i.DateFormat}),"dcterms:modified":new c({tag:"dcterms:modified",attrs:i.DateAttrs,format:i.DateFormat})}}render(d,u){d.openXml(f.StdDocAttributes),d.openNode("cp:coreProperties",i.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(d,u.creator),this.map["dc:title"].render(d,u.title),this.map["dc:subject"].render(d,u.subject),this.map["dc:description"].render(d,u.description),this.map["dc:identifier"].render(d,u.identifier),this.map["dc:language"].render(d,u.language),this.map["cp:keywords"].render(d,u.keywords),this.map["cp:category"].render(d,u.category),this.map["cp:lastModifiedBy"].render(d,u.lastModifiedBy),this.map["cp:lastPrinted"].render(d,u.lastPrinted),this.map["cp:revision"].render(d,u.revision),this.map["cp:version"].render(d,u.version),this.map["cp:contentStatus"].render(d,u.contentStatus),this.map["cp:contentType"].render(d,u.contentType),this.map["dcterms:created"].render(d,u.created),this.map["dcterms:modified"].render(d,u.modified),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}i.DateFormat=function(b){return b.toISOString().replace(/[.]\d{3}/,"")},i.DateAttrs={"xsi:type":"dcterms:W3CDTF"},i.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},a.exports=i},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{render(o,c){o.leafNode("Relationship",c)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,a,l){const f=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./relationship-xform");class s extends o{constructor(){super(),this.map={Relationship:new c}}render(i,b){b=b||this._values,i.openXml(f.StdDocAttributes),i.openNode("Relationships",s.RELATIONSHIPS_ATTRIBUTES),b.forEach(d=>{this.map.Relationship.render(i,d)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[i.name],this.parser)return this.parser.parseOpen(i),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(i))}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(i){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+i)}}}s.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},a.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,c){if(o&&o.rId){const s=c.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(s){const r=s[1],i=c.mediaIndex[r];return c.media[i]}}}}},{"../base-xform":32}],57:[function(e,a,l){const f=e("../base-xform"),o=e("./blip-xform");a.exports=class extends f{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(c,s){c.openNode(this.tag),this.map["a:blip"].render(c,s),c.openNode("a:stretch"),c.leafNode("a:fillRect"),c.closeNode(),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"a:blip"}render(o,c){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":c.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,a,l){const f=e("../base-xform"),o=e("./hlink-click-xform"),c=e("./ext-lst-xform");a.exports=class extends f{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new c}}get tag(){return"xdr:cNvPr"}render(s,r){s.openNode(this.tag,{id:r.index,name:"Picture "+r.index}),this.map["a:hlinkClick"].render(s,r),this.map["a:extLst"].render(s,r),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,a,l){const f=e("../base-xform"),o=e("../simple/integer-xform");a.exports=class extends f{constructor(c){super(),this.tag=c.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(c,s){c.openNode(this.tag),this.map["xdr:col"].render(c,s.nativeCol),this.map["xdr:colOff"].render(c,s.nativeColOff),this.map["xdr:row"].render(c,s.nativeRow),this.map["xdr:rowOff"].render(c,s.nativeRowOff),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,a,l){const f=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),c=e("../base-xform"),s=e("./two-cell-anchor-xform"),r=e("./one-cell-anchor-xform");class i extends c{constructor(){super(),this.map={"xdr:twoCellAnchor":new s,"xdr:oneCellAnchor":new r}}prepare(d){d.anchors.forEach((u,v)=>{u.anchorType=function(x){return(typeof x.range=="string"?f.decode(x.range):x.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(u),this.map[u.anchorType].prepare(u,{index:v})})}get tag(){return"xdr:wsDr"}render(d,u){d.openXml(o.StdDocAttributes),d.openNode(this.tag,i.DRAWING_ATTRIBUTES),u.anchors.forEach(v=>{this.map[v.anchorType].render(d,v)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,u){d.anchors.forEach(v=>{v.br?this.map["xdr:twoCellAnchor"].reconcile(v,u):this.map["xdr:oneCellAnchor"].reconcile(v,u)})}}i.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},a.exports=i},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,c){o.openNode(this.tag);const s=Math.floor(9525*c.width),r=Math.floor(9525*c.height);o.addAttribute("cx",s),o.addAttribute("cy",r),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"a:hlinkClick"}render(o,c){c.hyperlinks&&c.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":c.hyperlinks.rId,tooltip:c.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,a,l){const f=e("../base-xform"),o=e("./c-nv-pr-xform"),c=e("./c-nv-pic-pr-xform");a.exports=class extends f{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new c}}get tag(){return"xdr:nvPicPr"}render(s,r){s.openNode(this.tag),this.map["xdr:cNvPr"].render(s,r),this.map["xdr:cNvPicPr"].render(s,r),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,a,l){const f=e("./base-cell-anchor-xform"),o=e("../static-xform"),c=e("./cell-position-xform"),s=e("./ext-xform"),r=e("./pic-xform");a.exports=class extends f{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:ext":new s({tag:"xdr:ext"}),"xdr:pic":new r,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(i,b){this.map["xdr:pic"].prepare(i.picture,b)}render(i,b){i.openNode(this.tag,{editAs:b.range.editAs||"oneCell"}),this.map["xdr:from"].render(i,b.range.tl),this.map["xdr:ext"].render(i,b.range.ext),this.map["xdr:pic"].render(i,b.picture),this.map["xdr:clientData"].render(i,{}),i.closeNode()}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(i,b){i.medium=this.reconcilePicture(i.picture,b)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,a,l){const f=e("../base-xform"),o=e("../static-xform"),c=e("./blip-fill-xform"),s=e("./nv-pic-pr-xform"),r=e("./sp-pr");a.exports=class extends f{constructor(){super(),this.map={"xdr:nvPicPr":new s,"xdr:blipFill":new c,"xdr:spPr":new o(r)}}get tag(){return"xdr:pic"}prepare(i,b){i.index=b.index+1}render(i,b){i.openNode(this.tag),this.map["xdr:nvPicPr"].render(i,b),this.map["xdr:blipFill"].render(i,b),this.map["xdr:spPr"].render(i,b),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,a,l){a.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,a,l){const f=e("./base-cell-anchor-xform"),o=e("../static-xform"),c=e("./cell-position-xform"),s=e("./pic-xform");a.exports=class extends f{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:to":new c({tag:"xdr:to"}),"xdr:pic":new s,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(r,i){this.map["xdr:pic"].prepare(r.picture,i)}render(r,i){r.openNode(this.tag,{editAs:i.range.editAs||"oneCell"}),this.map["xdr:from"].render(r,i.range.tl),this.map["xdr:to"].render(r,i.range.br),this.map["xdr:pic"].render(r,i.picture),this.map["xdr:clientData"].render(r,{}),r.closeNode()}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(r,i){r.medium=this.reconcilePicture(r.picture,i)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,a,l){const f=e("./base-xform");a.exports=class extends f{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,c){const{childXform:s}=this;o&&o.forEach((r,i)=>{c.index=i,s.prepare(r,c)})}render(o,c){if(this.always||c&&c.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,c&&c.length||0);const{childXform:s}=this;(c||[]).forEach((r,i)=>{s.render(o,r,i)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,c){if(o){const{childXform:s}=this;o.forEach(r=>{s.reconcile(r,c)})}}}},{"./base-xform":32}],72:[function(e,a,l){const f=e("../../../utils/col-cache"),o=e("../base-xform");a.exports=class extends o{get tag(){return"autoFilter"}render(c,s){if(s)if(typeof s=="string")c.leafNode("autoFilter",{ref:s});else{const r=function(d){return typeof d=="string"?d:f.getAddress(d.row,d.column).address},i=r(s.from),b=r(s.to);i&&b&&c.leafNode("autoFilter",{ref:`${i}:${b}`})}}parseOpen(c){c.name==="autoFilter"&&(this.model=c.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,a,l){const f=e("../../../utils/utils"),o=e("../base-xform"),c=e("../../../doc/range"),s=e("../../../doc/enums"),r=e("../strings/rich-text-xform");function i(b){if(b==null)return s.ValueType.Null;if(b instanceof String||typeof b=="string")return s.ValueType.String;if(typeof b=="number")return s.ValueType.Number;if(typeof b=="boolean")return s.ValueType.Boolean;if(b instanceof Date)return s.ValueType.Date;if(b.text&&b.hyperlink)return s.ValueType.Hyperlink;if(b.formula)return s.ValueType.Formula;if(b.error)return s.ValueType.Error;throw new Error("I could not understand type of value")}a.exports=class extends o{constructor(){super(),this.richTextXForm=new r}get tag(){return"c"}prepare(b,d){const u=d.styles.addStyleModel(b.style||{},function(v){switch(v.type){case s.ValueType.Formula:return i(v.result);default:return v.type}}(b));switch(u&&(b.styleId=u),b.comment&&d.comments.push({...b.comment,ref:b.address}),b.type){case s.ValueType.String:case s.ValueType.RichText:d.sharedStrings&&(b.ssId=d.sharedStrings.add(b.value));break;case s.ValueType.Date:d.date1904&&(b.date1904=!0);break;case s.ValueType.Hyperlink:d.sharedStrings&&b.text!==void 0&&b.text!==null&&(b.ssId=d.sharedStrings.add(b.text)),d.hyperlinks.push({address:b.address,target:b.hyperlink,tooltip:b.tooltip});break;case s.ValueType.Merge:d.merges.add(b);break;case s.ValueType.Formula:if(d.date1904&&(b.date1904=!0),b.shareType==="shared"&&(b.si=d.siFormulae++),b.formula)d.formulae[b.address]=b;else if(b.sharedFormula){const v=d.formulae[b.sharedFormula];if(!v)throw new Error("Shared Formula master must exist above and or left of clone for cell "+b.address);v.si===void 0?(v.shareType="shared",v.si=d.siFormulae++,v.range=new c(v.address,b.address)):v.range&&v.range.expandToAddress(b.address),b.si=v.si}}}renderFormula(b,d){let u=null;switch(d.shareType){case"shared":u={t:"shared",ref:d.ref||d.range.range,si:d.si};break;case"array":u={t:"array",ref:d.ref};break;default:d.si!==void 0&&(u={t:"shared",si:d.si})}switch(i(d.result)){case s.ValueType.Null:b.leafNode("f",u,d.formula);break;case s.ValueType.String:b.addAttribute("t","str"),b.leafNode("f",u,d.formula),b.leafNode("v",null,d.result);break;case s.ValueType.Number:b.leafNode("f",u,d.formula),b.leafNode("v",null,d.result);break;case s.ValueType.Boolean:b.addAttribute("t","b"),b.leafNode("f",u,d.formula),b.leafNode("v",null,d.result?1:0);break;case s.ValueType.Error:b.addAttribute("t","e"),b.leafNode("f",u,d.formula),b.leafNode("v",null,d.result.error);break;case s.ValueType.Date:b.leafNode("f",u,d.formula),b.leafNode("v",null,f.dateToExcel(d.result,d.date1904));break;default:throw new Error("I could not understand type of value")}}render(b,d){if(d.type!==s.ValueType.Null||d.styleId){switch(b.openNode("c"),b.addAttribute("r",d.address),d.styleId&&b.addAttribute("s",d.styleId),d.type){case s.ValueType.Null:break;case s.ValueType.Number:b.leafNode("v",null,d.value);break;case s.ValueType.Boolean:b.addAttribute("t","b"),b.leafNode("v",null,d.value?"1":"0");break;case s.ValueType.Error:b.addAttribute("t","e"),b.leafNode("v",null,d.value.error);break;case s.ValueType.String:case s.ValueType.RichText:d.ssId!==void 0?(b.addAttribute("t","s"),b.leafNode("v",null,d.ssId)):d.value&&d.value.richText?(b.addAttribute("t","inlineStr"),b.openNode("is"),d.value.richText.forEach(u=>{this.richTextXForm.render(b,u)}),b.closeNode("is")):(b.addAttribute("t","str"),b.leafNode("v",null,d.value));break;case s.ValueType.Date:b.leafNode("v",null,f.dateToExcel(d.value,d.date1904));break;case s.ValueType.Hyperlink:d.ssId!==void 0?(b.addAttribute("t","s"),b.leafNode("v",null,d.ssId)):(b.addAttribute("t","str"),b.leafNode("v",null,d.text));break;case s.ValueType.Formula:this.renderFormula(b,d);break;case s.ValueType.Merge:}b.closeNode()}}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"c":return this.model={address:b.attributes.r},this.t=b.attributes.t,b.attributes.s&&(this.model.styleId=parseInt(b.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=b.attributes.si,this.model.shareType=b.attributes.t,this.model.ref=b.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(b),!0;default:return!1}}parseText(b){if(this.parser)this.parser.parseText(b);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+b:b;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+b:b:this.model.value=this.model.value?this.model.value+b:b}}parseClose(b){switch(b){case"c":{const{model:d}=this;if(d.formula||d.shareType)d.type=s.ValueType.Formula,d.value&&(this.t==="str"?d.result=f.xmlDecode(d.value):this.t==="b"?d.result=parseInt(d.value,10)!==0:this.t==="e"?d.result={error:d.value}:d.result=parseFloat(d.value),d.value=void 0);else if(d.value!==void 0)switch(this.t){case"s":d.type=s.ValueType.String,d.value=parseInt(d.value,10);break;case"str":d.type=s.ValueType.String,d.value=f.xmlDecode(d.value);break;case"inlineStr":d.type=s.ValueType.String;break;case"b":d.type=s.ValueType.Boolean,d.value=parseInt(d.value,10)!==0;break;case"e":d.type=s.ValueType.Error,d.value={error:d.value};break;default:d.type=s.ValueType.Number,d.value=parseFloat(d.value)}else d.styleId?d.type=s.ValueType.Null:d.type=s.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(b),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(b),!0)}}reconcile(b,d){const u=b.styleId&&d.styles&&d.styles.getStyleModel(b.styleId);switch(u&&(b.style=u),b.styleId!==void 0&&(b.styleId=void 0),b.type){case s.ValueType.String:typeof b.value=="number"&&d.sharedStrings&&(b.value=d.sharedStrings.getString(b.value)),b.value.richText&&(b.type=s.ValueType.RichText);break;case s.ValueType.Number:u&&f.isDateFmt(u.numFmt)&&(b.type=s.ValueType.Date,b.value=f.excelToDate(b.value,d.date1904));break;case s.ValueType.Formula:b.result!==void 0&&u&&f.isDateFmt(u.numFmt)&&(b.result=f.excelToDate(b.result,d.date1904)),b.shareType==="shared"&&(b.ref?d.formulae[b.si]=b.address:(b.sharedFormula=d.formulae[b.si],delete b.shareType),delete b.si)}const v=d.hyperlinkMap[b.address];v&&(b.type===s.ValueType.Formula?(b.text=b.result,b.result=void 0):(b.text=b.value,b.value=void 0),b.type=s.ValueType.Hyperlink,b.hyperlink=v);const x=d.commentsMap&&d.commentsMap[b.address];x&&(b.comment=x)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,a,l){const f=e("../../base-xform");a.exports=class extends f{get tag(){return"x14:cfIcon"}render(o,c){o.leafNode(this.tag,{iconSet:c.iconSet,iconId:c.iconId})}parseOpen(o){let{attributes:c}=o;this.model={iconSet:c.iconSet,iconId:f.toIntValue(c.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(e,a,l){const{v4:f}=e("uuid"),o=e("../../base-xform"),c=e("../../composite-xform"),s=e("./databar-ext-xform"),r=e("./icon-set-ext-xform"),i={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class b extends c{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new s,"x14:iconSet":this.iconSetXform=new r}}get tag(){return"x14:cfRule"}static isExt(u){return u.type==="dataBar"?s.isExt(u):!(u.type!=="iconSet"||!u.custom&&!i[u.iconSet])}prepare(u){b.isExt(u)&&(u.x14Id=`{${f()}}`.toUpperCase())}render(u,v){if(b.isExt(v))switch(v.type){case"dataBar":this.renderDataBar(u,v);break;case"iconSet":this.renderIconSet(u,v)}}renderDataBar(u,v){u.openNode(this.tag,{type:"dataBar",id:v.x14Id}),this.databarXform.render(u,v),u.closeNode()}renderIconSet(u,v){u.openNode(this.tag,{type:"iconSet",priority:v.priority,id:v.x14Id||`{${f()}}`}),this.iconSetXform.render(u,v),u.closeNode()}createNewModel(u){let{attributes:v}=u;return{type:v.type,x14Id:v.id,priority:o.toIntValue(v.priority)}}onParserClose(u,v){Object.assign(this.model,v.model)}}a.exports=b},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,a,l){const f=e("../../composite-xform"),o=e("./f-ext-xform");a.exports=class extends f{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(c,s){c.openNode(this.tag,{type:s.type}),s.value!==void 0&&this.fExtXform.render(c,s.value),c.closeNode()}createNewModel(c){return{type:c.attributes.type}}onParserClose(c,s){switch(c){case"xm:f":this.model.value=s.model?parseFloat(s.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,a,l){const f=e("../../composite-xform"),o=e("./sqref-ext-xform"),c=e("./cf-rule-ext-xform");a.exports=class extends f{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new c}}get tag(){return"x14:conditionalFormatting"}prepare(s,r){s.rules.forEach(i=>{this.cfRule.prepare(i,r)})}render(s,r){r.rules.some(c.isExt)&&(s.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),r.rules.filter(c.isExt).forEach(i=>this.cfRule.render(s,i)),this.sqRef.render(s,r.ref),s.closeNode())}createNewModel(){return{rules:[]}}onParserClose(s,r){switch(s){case"xm:sqref":this.model.ref=r.model;break;case"x14:cfRule":this.model.rules.push(r.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,a,l){const f=e("../../composite-xform"),o=e("./cf-rule-ext-xform"),c=e("./conditional-formatting-ext-xform");a.exports=class extends f{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new c}}get tag(){return"x14:conditionalFormattings"}hasContent(s){return s.hasExtContent===void 0&&(s.hasExtContent=s.some(r=>r.rules.some(o.isExt))),s.hasExtContent}prepare(s,r){s.forEach(i=>{this.cfXform.prepare(i,r)})}render(s,r){this.hasContent(r)&&(s.openNode(this.tag),r.forEach(i=>this.cfXform.render(s,i)),s.closeNode())}createNewModel(){return[]}onParserClose(s,r){this.model.push(r.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,a,l){const f=e("../../base-xform"),o=e("../../composite-xform"),c=e("../../style/color-xform"),s=e("./cfvo-ext-xform");a.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new s,"x14:borderColor":this.borderColorXform=new c("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new c("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new c("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new c("x14:axisColor")}}static isExt(r){return!r.gradient}get tag(){return"x14:dataBar"}render(r,i){r.openNode(this.tag,{minLength:f.toIntAttribute(i.minLength,0,!0),maxLength:f.toIntAttribute(i.maxLength,100,!0),border:f.toBoolAttribute(i.border,!1),gradient:f.toBoolAttribute(i.gradient,!0),negativeBarColorSameAsPositive:f.toBoolAttribute(i.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:f.toBoolAttribute(i.negativeBarBorderColorSameAsPositive,!0),axisPosition:f.toAttribute(i.axisPosition,"auto"),direction:f.toAttribute(i.direction,"leftToRight")}),i.cfvo.forEach(b=>{this.cfvoXform.render(r,b)}),this.borderColorXform.render(r,i.borderColor),this.negativeBorderColorXform.render(r,i.negativeBorderColor),this.negativeFillColorXform.render(r,i.negativeFillColor),this.axisColorXform.render(r,i.axisColor),r.closeNode()}createNewModel(r){let{attributes:i}=r;return{cfvo:[],minLength:f.toIntValue(i.minLength,0),maxLength:f.toIntValue(i.maxLength,100),border:f.toBoolValue(i.border,!1),gradient:f.toBoolValue(i.gradient,!0),negativeBarColorSameAsPositive:f.toBoolValue(i.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:f.toBoolValue(i.negativeBarBorderColorSameAsPositive,!0),axisPosition:f.toStringValue(i.axisPosition,"auto"),direction:f.toStringValue(i.direction,"leftToRight")}}onParserClose(r,i){const[,b]=r.split(":");switch(b){case"cfvo":this.model.cfvo.push(i.model);break;default:this.model[b]=i.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,a,l){const f=e("../../base-xform");a.exports=class extends f{get tag(){return"xm:f"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(e,a,l){const f=e("../../base-xform"),o=e("../../composite-xform"),c=e("./cfvo-ext-xform"),s=e("./cf-icon-ext-xform");a.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:cfIcon":this.cfIconXform=new s}}get tag(){return"x14:iconSet"}render(r,i){r.openNode(this.tag,{iconSet:f.toStringAttribute(i.iconSet),reverse:f.toBoolAttribute(i.reverse,!1),showValue:f.toBoolAttribute(i.showValue,!0),custom:f.toBoolAttribute(i.icons,!1)}),i.cfvo.forEach(b=>{this.cfvoXform.render(r,b)}),i.icons&&i.icons.forEach((b,d)=>{b.iconId=d,this.cfIconXform.render(r,b)}),r.closeNode()}createNewModel(r){let{attributes:i}=r;return{cfvo:[],iconSet:f.toStringValue(i.iconSet,"3TrafficLights"),reverse:f.toBoolValue(i.reverse,!1),showValue:f.toBoolValue(i.showValue,!0)}}onParserClose(r,i){const[,b]=r.split(":");switch(b){case"cfvo":this.model.cfvo.push(i.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(i.model);break;default:this.model[b]=i.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,a,l){const f=e("../../base-xform");a.exports=class extends f{get tag(){return"xm:sqref"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(e,a,l){const f=e("../../base-xform"),o=e("../../composite-xform"),c=e("../../../../doc/range"),s=e("./databar-xform"),r=e("./ext-lst-ref-xform"),i=e("./formula-xform"),b=e("./color-scale-xform"),d=e("./icon-set-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},v=m=>{const{type:g,operator:y}=m;switch(g){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:g};default:return{type:g,operator:y}}};class x extends o{constructor(){super(),this.map={dataBar:this.databarXform=new s,extLst:this.extLstRefXform=new r,formula:this.formulaXform=new i,colorScale:this.colorScaleXform=new b,iconSet:this.iconSetXform=new d}}get tag(){return"cfRule"}static isPrimitive(g){return g.type!=="iconSet"||!g.custom&&!u[g.iconSet]}render(g,y){switch(y.type){case"expression":this.renderExpression(g,y);break;case"cellIs":this.renderCellIs(g,y);break;case"top10":this.renderTop10(g,y);break;case"aboveAverage":this.renderAboveAverage(g,y);break;case"dataBar":this.renderDataBar(g,y);break;case"colorScale":this.renderColorScale(g,y);break;case"iconSet":this.renderIconSet(g,y);break;case"containsText":this.renderText(g,y);break;case"timePeriod":this.renderTimePeriod(g,y)}}renderExpression(g,y){g.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(g,y.formulae[0]),g.closeNode()}renderCellIs(g,y){g.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(C=>{this.formulaXform.render(g,C)}),g.closeNode()}renderTop10(g,y){g.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:f.toBoolAttribute(y.percent,!1),bottom:f.toBoolAttribute(y.bottom,!1),rank:f.toIntValue(y.rank,10,!0)})}renderAboveAverage(g,y){g.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:f.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(g,y){g.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(g,y),this.extLstRefXform.render(g,y),g.closeNode()}renderColorScale(g,y){g.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(g,y),g.closeNode()}renderIconSet(g,y){x.isPrimitive(y)&&(g.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(g,y),g.closeNode())}renderText(g,y){g.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:f.toStringAttribute(y.operator,"containsText")});const C=(E=>{if(E.formulae&&E.formulae[0])return E.formulae[0];const A=new c(E.ref),{tl:D}=A;switch(E.operator){case"containsText":return`NOT(ISERROR(SEARCH("${E.text}",${D})))`;case"containsBlanks":return`LEN(TRIM(${D}))=0`;case"notContainsBlanks":return`LEN(TRIM(${D}))>0`;case"containsErrors":return`ISERROR(${D})`;case"notContainsErrors":return`NOT(ISERROR(${D}))`;default:return}})(y);C&&this.formulaXform.render(g,C),g.closeNode()}renderTimePeriod(g,y){g.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});const C=(E=>{if(E.formulae&&E.formulae[0])return E.formulae[0];const A=new c(E.ref),{tl:D}=A;switch(E.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${D},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${D},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${D},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${D},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${D},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${D},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${D},1)=TODAY()-1`;case"today":return`FLOOR(${D},1)=TODAY()`;case"tomorrow":return`FLOOR(${D},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${D},1)<=6,FLOOR(${D},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${D})=MONTH(EDATE(TODAY(),0-1)),YEAR(${D})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${D})=MONTH(TODAY()),YEAR(${D})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${D})=MONTH(EDATE(TODAY(),0+1)),YEAR(${D})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);C&&this.formulaXform.render(g,C),g.closeNode()}createNewModel(g){let{attributes:y}=g;return{...v(y),dxfId:f.toIntValue(y.dxfId),priority:f.toIntValue(y.priority),timePeriod:y.timePeriod,percent:f.toBoolValue(y.percent),bottom:f.toBoolValue(y.bottom),rank:f.toIntValue(y.rank),aboveAverage:f.toBoolValue(y.aboveAverage)}}onParserClose(g,y){switch(g){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}a.exports=x},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,a,l){const f=e("../../base-xform");a.exports=class extends f{get tag(){return"cfvo"}render(o,c){o.leafNode(this.tag,{type:c.type,val:c.value})}parseOpen(o){this.model={type:o.attributes.type,value:f.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(e,a,l){const f=e("../../composite-xform"),o=e("../../style/color-xform"),c=e("./cfvo-xform");a.exports=class extends f{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new o}}get tag(){return"colorScale"}render(s,r){s.openNode(this.tag),r.cfvo.forEach(i=>{this.cfvoXform.render(s,i)}),r.color.forEach(i=>{this.colorXform.render(s,i)}),s.closeNode()}createNewModel(s){return{cfvo:[],color:[]}}onParserClose(s,r){this.model[s].push(r.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,a,l){const f=e("../../composite-xform"),o=e("./cf-rule-xform");a.exports=class extends f{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(c,s){s.rules.some(o.isPrimitive)&&(c.openNode(this.tag,{sqref:s.ref}),s.rules.forEach(r=>{o.isPrimitive(r)&&(r.ref=s.ref,this.map.cfRule.render(c,r))}),c.closeNode())}createNewModel(c){let{attributes:s}=c;return{ref:s.sqref,rules:[]}}onParserClose(c,s){this.model.rules.push(s.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,a,l){const f=e("../../base-xform"),o=e("./conditional-formatting-xform");a.exports=class extends f{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(c,s){let r=c.reduce((i,b)=>Math.max(i,...b.rules.map(d=>d.priority||0)),1);c.forEach(i=>{i.rules.forEach(b=>{b.priority||(b.priority=r++),b.style&&(b.dxfId=s.styles.addDxfStyle(b.style))})})}render(c,s){s.forEach(r=>{this.cfXform.render(c,r)})}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(!!this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(c,s){c.forEach(r=>{r.rules.forEach(i=>{i.dxfId!==void 0&&(i.style=s.styles.getDxfStyle(i.dxfId),delete i.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,a,l){const f=e("../../composite-xform"),o=e("../../style/color-xform"),c=e("./cfvo-xform");a.exports=class extends f{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new o}}get tag(){return"dataBar"}render(s,r){s.openNode(this.tag),r.cfvo.forEach(i=>{this.cfvoXform.render(s,i)}),this.colorXform.render(s,r.color),s.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(s,r){switch(s){case"cfvo":this.model.cfvo.push(r.model);break;case"color":this.model.color=r.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,a,l){const f=e("../../base-xform"),o=e("../../composite-xform");class c extends f{get tag(){return"x14:id"}render(i,b){i.leafNode(this.tag,null,b)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}class s extends o{constructor(){super(),this.map={"x14:id":this.idXform=new c}}get tag(){return"ext"}render(i,b){i.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(i,b.x14Id),i.closeNode()}createNewModel(){return{}}onParserClose(i,b){this.model.x14Id=b.model}}a.exports=class extends o{constructor(){super(),this.map={ext:new s}}get tag(){return"extLst"}render(r,i){r.openNode(this.tag),this.map.ext.render(r,i),r.closeNode()}createNewModel(){return{}}onParserClose(r,i){Object.assign(this.model,i.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,a,l){const f=e("../../base-xform");a.exports=class extends f{get tag(){return"formula"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(e,a,l){const f=e("../../base-xform"),o=e("../../composite-xform"),c=e("./cfvo-xform");a.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new c}}get tag(){return"iconSet"}render(s,r){s.openNode(this.tag,{iconSet:f.toStringAttribute(r.iconSet,"3TrafficLights"),reverse:f.toBoolAttribute(r.reverse,!1),showValue:f.toBoolAttribute(r.showValue,!0)}),r.cfvo.forEach(i=>{this.cfvoXform.render(s,i)}),s.closeNode()}createNewModel(s){let{attributes:r}=s;return{iconSet:f.toStringValue(r.iconSet,"3TrafficLights"),reverse:f.toBoolValue(r.reverse),showValue:f.toBoolValue(r.showValue),cfvo:[]}}onParserClose(s,r){this.model[s].push(r.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,a,l){const f=e("../../../utils/utils"),o=e("../base-xform");a.exports=class extends o{get tag(){return"col"}prepare(c,s){const r=s.styles.addStyleModel(c.style||{});r&&(c.styleId=r)}render(c,s){c.openNode("col"),c.addAttribute("min",s.min),c.addAttribute("max",s.max),s.width&&c.addAttribute("width",s.width),s.styleId&&c.addAttribute("style",s.styleId),s.hidden&&c.addAttribute("hidden","1"),s.bestFit&&c.addAttribute("bestFit","1"),s.outlineLevel&&c.addAttribute("outlineLevel",s.outlineLevel),s.collapsed&&c.addAttribute("collapsed","1"),c.addAttribute("customWidth","1"),c.closeNode()}parseOpen(c){if(c.name==="col"){const s=this.model={min:parseInt(c.attributes.min||"0",10),max:parseInt(c.attributes.max||"0",10),width:c.attributes.width===void 0?void 0:parseFloat(c.attributes.width||"0")};return c.attributes.style&&(s.styleId=parseInt(c.attributes.style,10)),f.parseBoolean(c.attributes.hidden)&&(s.hidden=!0),f.parseBoolean(c.attributes.bestFit)&&(s.bestFit=!0),c.attributes.outlineLevel&&(s.outlineLevel=parseInt(c.attributes.outlineLevel,10)),f.parseBoolean(c.attributes.collapsed)&&(s.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(c,s){c.styleId&&(c.style=s.styles.getStyleModel(c.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,a,l){const f=e("../../../utils/under-dash"),o=e("../../../utils/utils"),c=e("../../../utils/col-cache"),s=e("../base-xform"),r=e("../../../doc/range");function i(d,u,v,x){const m=u[v];m!==void 0?d[v]=m:x!==void 0&&(d[v]=x)}function b(d,u,v,x){const m=u[v];m!==void 0&&(d[v]=o.parseBoolean(m))}a.exports=class extends s{get tag(){return"dataValidations"}render(d,u){const v=function(x){const m=f.map(x,(C,E)=>({address:E,dataValidation:C,marked:!1})).sort((C,E)=>f.strcmp(C.address,E.address)),g=f.keyBy(m,"address"),y=(C,E,A)=>{for(let D=0;D<E;D++){const q=c.encodeAddress(C.row+D,A);if(!x[q]||!f.isEqual(x[C.address],x[q]))return!1}return!0};return m.map(C=>{if(!C.marked){const E=c.decodeEx(C.address);if(E.dimensions)return g[E.dimensions].marked=!0,{...C.dataValidation,sqref:C.address};let A=1,D=c.encodeAddress(E.row+A,E.col);for(;x[D]&&f.isEqual(C.dataValidation,x[D]);)A++,D=c.encodeAddress(E.row+A,E.col);let q=1;for(;y(E,A,E.col+q);)q++;for(let B=0;B<A;B++)for(let z=0;z<q;z++)D=c.encodeAddress(E.row+B,E.col+z),g[D].marked=!0;if(A>1||q>1){const B=E.row+(A-1),z=E.col+(q-1);return{...C.dataValidation,sqref:`${C.address}:${c.encodeAddress(B,z)}`}}return{...C.dataValidation,sqref:C.address}}return null}).filter(Boolean)}(u);v.length&&(d.openNode("dataValidations",{count:v.length}),v.forEach(x=>{d.openNode("dataValidation"),x.type!=="any"&&(d.addAttribute("type",x.type),x.operator&&x.type!=="list"&&x.operator!=="between"&&d.addAttribute("operator",x.operator),x.allowBlank&&d.addAttribute("allowBlank","1")),x.showInputMessage&&d.addAttribute("showInputMessage","1"),x.promptTitle&&d.addAttribute("promptTitle",x.promptTitle),x.prompt&&d.addAttribute("prompt",x.prompt),x.showErrorMessage&&d.addAttribute("showErrorMessage","1"),x.errorStyle&&d.addAttribute("errorStyle",x.errorStyle),x.errorTitle&&d.addAttribute("errorTitle",x.errorTitle),x.error&&d.addAttribute("error",x.error),d.addAttribute("sqref",x.sqref),(x.formulae||[]).forEach((m,g)=>{d.openNode("formula"+(g+1)),x.type==="date"?d.writeText(o.dateToExcel(new Date(m))):d.writeText(m),d.closeNode()}),d.closeNode()}),d.closeNode())}parseOpen(d){switch(d.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=d.attributes.sqref;const u={type:d.attributes.type||"any",formulae:[]};switch(d.attributes.type&&b(u,d.attributes,"allowBlank"),b(u,d.attributes,"showInputMessage"),b(u,d.attributes,"showErrorMessage"),u.type){case"any":case"list":case"custom":break;default:i(u,d.attributes,"operator","between")}return i(u,d.attributes,"promptTitle"),i(u,d.attributes,"prompt"),i(u,d.attributes,"errorStyle"),i(u,d.attributes,"errorTitle"),i(u,d.attributes,"error"),this._dataValidation=u,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(d){this._formula&&this._formula.push(d)}parseClose(d){switch(d){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(u=>{u.includes(":")?new r(u).forEachAddress(v=>{this.model[v]=this._dataValidation}):this.model[u]=this._dataValidation}),!0;case"formula1":case"formula2":{let u=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":u=parseInt(u,10);break;case"decimal":u=parseFloat(u);break;case"date":u=o.excelToDate(parseFloat(u))}return this._dataValidation.formulae.push(u),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"dimension"}render(o,c){c&&o.leafNode("dimension",{ref:c})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"drawing"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,a,l){const f=e("../composite-xform"),o=e("./cf-ext/conditional-formattings-ext-xform");class c extends f{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(r){return this.conditionalFormattings.hasContent(r.conditionalFormattings)}prepare(r,i){this.conditionalFormattings.prepare(r.conditionalFormattings,i)}render(r,i){r.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(r,i.conditionalFormattings),r.closeNode()}createNewModel(){return{}}onParserClose(r,i){this.model[r]=i.model}}a.exports=class extends f{constructor(){super(),this.map={ext:this.ext=new c}}get tag(){return"extLst"}prepare(s,r){this.ext.prepare(s,r)}hasContent(s){return this.ext.hasContent(s)}render(s,r){this.hasContent(r)&&(s.openNode("extLst"),this.ext.render(s,r),s.closeNode())}createNewModel(){return{}}onParserClose(s,r){Object.assign(this.model,r.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"headerFooter"}render(o,c){if(c){o.addRollback();let s=!1;o.openNode("headerFooter"),c.differentFirst&&(o.addAttribute("differentFirst","1"),s=!0),c.differentOddEven&&(o.addAttribute("differentOddEven","1"),s=!0),c.oddHeader&&typeof c.oddHeader=="string"&&(o.leafNode("oddHeader",null,c.oddHeader),s=!0),c.oddFooter&&typeof c.oddFooter=="string"&&(o.leafNode("oddFooter",null,c.oddFooter),s=!0),c.evenHeader&&typeof c.evenHeader=="string"&&(o.leafNode("evenHeader",null,c.evenHeader),s=!0),c.evenFooter&&typeof c.evenFooter=="string"&&(o.leafNode("evenFooter",null,c.evenFooter),s=!0),c.firstHeader&&typeof c.firstHeader=="string"&&(o.leafNode("firstHeader",null,c.firstHeader),s=!0),c.firstFooter&&typeof c.firstFooter=="string"&&(o.leafNode("firstFooter",null,c.firstFooter),s=!0),s?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"hyperlink"}render(o,c){this.isInternalLink(c)?o.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip,location:c.target}):o.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"mergeCell"}render(o,c){o.leafNode("mergeCell",{ref:c})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,a,l){const f=e("../../../utils/under-dash"),o=e("../../../doc/range"),c=e("../../../utils/col-cache"),s=e("../../../doc/enums");a.exports=class{constructor(){this.merges={}}add(r){if(this.merges[r.master])this.merges[r.master].expandToAddress(r.address);else{const i=`${r.master}:${r.address}`;this.merges[r.master]=new o(i)}}get mergeCells(){return f.map(this.merges,r=>r.range)}reconcile(r,i){f.each(r,b=>{const d=c.decode(b);for(let u=d.top;u<=d.bottom;u++){const v=i[u-1];for(let x=d.left;x<=d.right;x++){const m=v.cells[x-1];m?m.type===s.ValueType.Merge&&(m.master=d.tl):v.cells[x]={type:s.ValueType.Null,address:c.encodeAddress(u,x)}}}})}getMasterAddress(r){const i=this.hash[r];return i&&i.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,a,l){const f=e("../base-xform"),o=c=>c!==void 0;a.exports=class extends f{get tag(){return"outlinePr"}render(c,s){return!(!s||!o(s.summaryBelow)&&!o(s.summaryRight))&&(c.leafNode(this.tag,{summaryBelow:o(s.summaryBelow)?Number(s.summaryBelow):void 0,summaryRight:o(s.summaryRight)?Number(s.summaryRight):void 0}),!0)}parseOpen(c){return c.name===this.tag&&(this.model={summaryBelow:o(c.attributes.summaryBelow)?!!Number(c.attributes.summaryBelow):void 0,summaryRight:o(c.attributes.summaryRight)?!!Number(c.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"brk"}render(o,c){o.leafNode("brk",c)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,a,l){const f=e("../../../utils/under-dash"),o=e("../base-xform");a.exports=class extends o{get tag(){return"pageMargins"}render(c,s){if(s){const r={left:s.left,right:s.right,top:s.top,bottom:s.bottom,header:s.header,footer:s.footer};f.some(r,i=>i!==void 0)&&c.leafNode(this.tag,r)}}parseOpen(c){switch(c.name){case this.tag:return this.model={left:parseFloat(c.attributes.left||.7),right:parseFloat(c.attributes.right||.7),top:parseFloat(c.attributes.top||.75),bottom:parseFloat(c.attributes.bottom||.75),header:parseFloat(c.attributes.header||.3),footer:parseFloat(c.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"pageSetUpPr"}render(o,c){return!(!c||!c.fitToPage)&&(o.leafNode(this.tag,{fitToPage:c.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,a,l){const f=e("../../../utils/under-dash"),o=e("../base-xform");function c(b){return b?"1":void 0}function s(b){switch(b){case"overThenDown":return b;default:return}}function r(b){switch(b){case"atEnd":case"asDisplyed":return b;default:return}}function i(b){switch(b){case"dash":case"blank":case"NA":return b;default:return}}a.exports=class extends o{get tag(){return"pageSetup"}render(b,d){if(d){const u={paperSize:d.paperSize,orientation:d.orientation,horizontalDpi:d.horizontalDpi,verticalDpi:d.verticalDpi,pageOrder:s(d.pageOrder),blackAndWhite:c(d.blackAndWhite),draft:c(d.draft),cellComments:r(d.cellComments),errors:i(d.errors),scale:d.scale,fitToWidth:d.fitToWidth,fitToHeight:d.fitToHeight,firstPageNumber:d.firstPageNumber,useFirstPageNumber:c(d.firstPageNumber),usePrinterDefaults:c(d.usePrinterDefaults),copies:d.copies};f.some(u,v=>v!==void 0)&&b.leafNode(this.tag,u)}}parseOpen(b){switch(b.name){case this.tag:return this.model={paperSize:(d=b.attributes.paperSize,d!==void 0?parseInt(d,10):void 0),orientation:b.attributes.orientation||"portrait",horizontalDpi:parseInt(b.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(b.attributes.verticalDpi||"4294967295",10),pageOrder:b.attributes.pageOrder||"downThenOver",blackAndWhite:b.attributes.blackAndWhite==="1",draft:b.attributes.draft==="1",cellComments:b.attributes.cellComments||"None",errors:b.attributes.errors||"displayed",scale:parseInt(b.attributes.scale||"100",10),fitToWidth:parseInt(b.attributes.fitToWidth||"1",10),fitToHeight:parseInt(b.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(b.attributes.firstPageNumber||"1",10),useFirstPageNumber:b.attributes.useFirstPageNumber==="1",usePrinterDefaults:b.attributes.usePrinterDefaults==="1",copies:parseInt(b.attributes.copies||"1",10)},!0;default:return!1}var d}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"picture"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,a,l){const f=e("../../../utils/under-dash"),o=e("../base-xform");function c(s){return s?"1":void 0}a.exports=class extends o{get tag(){return"printOptions"}render(s,r){if(r){const i={headings:c(r.showRowColHeaders),gridLines:c(r.showGridLines),horizontalCentered:c(r.horizontalCentered),verticalCentered:c(r.verticalCentered)};f.some(i,b=>b!==void 0)&&s.leafNode(this.tag,i)}}parseOpen(s){switch(s.name){case this.tag:return this.model={showRowColHeaders:s.attributes.headings==="1",showGridLines:s.attributes.gridLines==="1",horizontalCentered:s.attributes.horizontalCentered==="1",verticalCentered:s.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,a,l){const f=e("./page-breaks-xform"),o=e("../list-xform");a.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new f})}render(c,s){if(s&&s.length){c.openNode(this.tag,this.$),this.count&&(c.addAttribute(this.$count,s.length),c.addAttribute("manualBreakCount",s.length));const{childXform:r}=this;s.forEach(i=>{r.render(c,i)}),c.closeNode()}else this.empty&&c.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,a,l){const f=e("../base-xform"),o=e("../../../utils/utils"),c=e("./cell-xform");a.exports=class extends f{constructor(s){super(),this.maxItems=s&&s.maxItems,this.map={c:new c}}get tag(){return"row"}prepare(s,r){const i=r.styles.addStyleModel(s.style);i&&(s.styleId=i);const b=this.map.c;s.cells.forEach(d=>{b.prepare(d,r)})}render(s,r,i){s.openNode("row"),s.addAttribute("r",r.number),r.height&&(s.addAttribute("ht",r.height),s.addAttribute("customHeight","1")),r.hidden&&s.addAttribute("hidden","1"),r.min>0&&r.max>0&&r.min<=r.max&&s.addAttribute("spans",`${r.min}:${r.max}`),r.styleId&&(s.addAttribute("s",r.styleId),s.addAttribute("customFormat","1")),s.addAttribute("x14ac:dyDescent","0.25"),r.outlineLevel&&s.addAttribute("outlineLevel",r.outlineLevel),r.collapsed&&s.addAttribute("collapsed","1");const b=this.map.c;r.cells.forEach(d=>{b.render(s,d,i)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;if(s.name==="row"){this.numRowsSeen+=1;const r=s.attributes.spans?s.attributes.spans.split(":").map(b=>parseInt(b,10)):[void 0,void 0],i=this.model={number:parseInt(s.attributes.r,10),min:r[0],max:r[1],cells:[]};return s.attributes.s&&(i.styleId=parseInt(s.attributes.s,10)),o.parseBoolean(s.attributes.hidden)&&(i.hidden=!0),o.parseBoolean(s.attributes.bestFit)&&(i.bestFit=!0),s.attributes.ht&&(i.height=parseFloat(s.attributes.ht)),s.attributes.outlineLevel&&(i.outlineLevel=parseInt(s.attributes.outlineLevel,10)),o.parseBoolean(s.attributes.collapsed)&&(i.collapsed=!0),!0}return this.parser=this.map[s.name],!!this.parser&&(this.parser.parseOpen(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(s,r){s.style=s.styleId?r.styles.getStyleModel(s.styleId):{},s.styleId!==void 0&&(s.styleId=void 0);const i=this.map.c;s.cells.forEach(b=>{i.reconcile(b,r)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,a,l){const f=e("../../../utils/under-dash"),o=e("../base-xform");a.exports=class extends o{get tag(){return"sheetFormatPr"}render(c,s){if(s){const r={defaultRowHeight:s.defaultRowHeight,outlineLevelRow:s.outlineLevelRow,outlineLevelCol:s.outlineLevelCol,"x14ac:dyDescent":s.dyDescent};s.defaultColWidth&&(r.defaultColWidth=s.defaultColWidth),s.defaultRowHeight&&s.defaultRowHeight===15||(r.customHeight="1"),f.some(r,i=>i!==void 0)&&c.leafNode("sheetFormatPr",r)}}parseOpen(c){return c.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(c.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(c.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(c.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(c.attributes.outlineLevelCol||"0",10)},c.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(c.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,a,l){const f=e("../base-xform"),o=e("../style/color-xform"),c=e("./page-setup-properties-xform"),s=e("./outline-properties-xform");a.exports=class extends f{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new c,outlinePr:new s}}get tag(){return"sheetPr"}render(r,i){if(i){r.addRollback(),r.openNode("sheetPr");let b=!1;b=this.map.tabColor.render(r,i.tabColor)||b,b=this.map.pageSetUpPr.render(r,i.pageSetup)||b,b=this.map.outlinePr.render(r,i.outlineProperties)||b,b?(r.closeNode(),r.commit()):r.rollback()}}parseOpen(r){return this.parser?(this.parser.parseOpen(r),!0):r.name===this.tag?(this.reset(),!0):!!this.map[r.name]&&(this.parser=this.map[r.name],this.parser.parseOpen(r),!0)}parseText(r){return!!this.parser&&(this.parser.parseText(r),!0)}parseClose(r){return this.parser?(this.parser.parseClose(r)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,a,l){const f=e("../../../utils/under-dash"),o=e("../base-xform");function c(r,i){return r?i:void 0}function s(r,i){return r===i||void 0}a.exports=class extends o{get tag(){return"sheetProtection"}render(r,i){if(i){const b={sheet:c(i.sheet,"1"),selectLockedCells:i.selectLockedCells===!1?"1":void 0,selectUnlockedCells:i.selectUnlockedCells===!1?"1":void 0,formatCells:c(i.formatCells,"0"),formatColumns:c(i.formatColumns,"0"),formatRows:c(i.formatRows,"0"),insertColumns:c(i.insertColumns,"0"),insertRows:c(i.insertRows,"0"),insertHyperlinks:c(i.insertHyperlinks,"0"),deleteColumns:c(i.deleteColumns,"0"),deleteRows:c(i.deleteRows,"0"),sort:c(i.sort,"0"),autoFilter:c(i.autoFilter,"0"),pivotTables:c(i.pivotTables,"0")};i.sheet&&(b.algorithmName=i.algorithmName,b.hashValue=i.hashValue,b.saltValue=i.saltValue,b.spinCount=i.spinCount,b.objects=c(i.objects===!1,"1"),b.scenarios=c(i.scenarios===!1,"1")),f.some(b,d=>d!==void 0)&&r.leafNode(this.tag,b)}}parseOpen(r){switch(r.name){case this.tag:return this.model={sheet:s(r.attributes.sheet,"1"),objects:r.attributes.objects!=="1"&&void 0,scenarios:r.attributes.scenarios!=="1"&&void 0,selectLockedCells:r.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:r.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:s(r.attributes.formatCells,"0"),formatColumns:s(r.attributes.formatColumns,"0"),formatRows:s(r.attributes.formatRows,"0"),insertColumns:s(r.attributes.insertColumns,"0"),insertRows:s(r.attributes.insertRows,"0"),insertHyperlinks:s(r.attributes.insertHyperlinks,"0"),deleteColumns:s(r.attributes.deleteColumns,"0"),deleteRows:s(r.attributes.deleteRows,"0"),sort:s(r.attributes.sort,"0"),autoFilter:s(r.attributes.autoFilter,"0"),pivotTables:s(r.attributes.pivotTables,"0")},r.attributes.algorithmName&&(this.model.algorithmName=r.attributes.algorithmName,this.model.hashValue=r.attributes.hashValue,this.model.saltValue=r.attributes.saltValue,this.model.spinCount=parseInt(r.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,a,l){const f=e("../../../utils/col-cache"),o=e("../base-xform"),c={frozen:"frozen",frozenSplit:"frozen",split:"split"};a.exports=class extends o{get tag(){return"sheetView"}prepare(s){switch(s.state){case"frozen":case"split":break;default:s.state="normal"}}render(s,r){s.openNode("sheetView",{workbookViewId:r.workbookViewId||0});const i=function(x,m,g){g&&s.addAttribute(x,m)};let b,d,u,v;switch(i("rightToLeft","1",r.rightToLeft===!0),i("tabSelected","1",r.tabSelected),i("showRuler","0",r.showRuler===!1),i("showRowColHeaders","0",r.showRowColHeaders===!1),i("showGridLines","0",r.showGridLines===!1),i("zoomScale",r.zoomScale,r.zoomScale),i("zoomScaleNormal",r.zoomScaleNormal,r.zoomScaleNormal),i("view",r.style,r.style),r.state){case"frozen":d=r.xSplit||0,u=r.ySplit||0,b=r.topLeftCell||f.getAddress(u+1,d+1).address,v=(r.xSplit&&r.ySplit?"bottomRight":r.xSplit&&"topRight")||"bottomLeft",s.leafNode("pane",{xSplit:r.xSplit||void 0,ySplit:r.ySplit||void 0,topLeftCell:b,activePane:v,state:"frozen"}),s.leafNode("selection",{pane:v,activeCell:r.activeCell,sqref:r.activeCell});break;case"split":r.activePane==="topLeft"&&(r.activePane=void 0),s.leafNode("pane",{xSplit:r.xSplit||void 0,ySplit:r.ySplit||void 0,topLeftCell:r.topLeftCell,activePane:r.activePane}),s.leafNode("selection",{pane:r.activePane,activeCell:r.activeCell,sqref:r.activeCell});break;case"normal":r.activeCell&&s.leafNode("selection",{activeCell:r.activeCell,sqref:r.activeCell})}s.closeNode()}parseOpen(s){switch(s.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(s.attributes.workbookViewId,10),rightToLeft:s.attributes.rightToLeft==="1",tabSelected:s.attributes.tabSelected==="1",showRuler:s.attributes.showRuler!=="0",showRowColHeaders:s.attributes.showRowColHeaders!=="0",showGridLines:s.attributes.showGridLines!=="0",zoomScale:parseInt(s.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(s.attributes.zoomScaleNormal||"100",10),style:s.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(s.attributes.xSplit||"0",10),ySplit:parseInt(s.attributes.ySplit||"0",10),topLeftCell:s.attributes.topLeftCell,activePane:s.attributes.activePane||"topLeft",state:s.attributes.state},!0;case"selection":{const r=s.attributes.pane||"topLeft";return this.selections[r]={pane:r,activeCell:s.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(s){let r,i;switch(s){case"sheetView":return this.sheetView&&this.pane?(r=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:c[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(r.activePane=this.pane.activePane),i=this.selections[this.pane.activePane],i&&i.activeCell&&(r.activeCell=i.activeCell),this.sheetView.style&&(r.style=this.sheetView.style)):(r=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},i=this.selections.topLeft,i&&i.activeCell&&(r.activeCell=i.activeCell),this.sheetView.style&&(r.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"tablePart"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,a,l){const f=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),s=e("../../rel-type"),r=e("./merges"),i=e("../base-xform"),b=e("../list-xform"),d=e("./row-xform"),u=e("./col-xform"),v=e("./dimension-xform"),x=e("./hyperlink-xform"),m=e("./merge-cell-xform"),g=e("./data-validations-xform"),y=e("./sheet-properties-xform"),C=e("./sheet-format-properties-xform"),E=e("./sheet-view-xform"),A=e("./sheet-protection-xform"),D=e("./page-margins-xform"),q=e("./page-setup-xform"),B=e("./print-options-xform"),z=e("./auto-filter-xform"),K=e("./picture-xform"),Y=e("./drawing-xform"),X=e("./table-part-xform"),O=e("./row-breaks-xform"),P=e("./header-footer-xform"),N=e("./cf/conditional-formattings-xform"),_=e("./ext-lst-xform"),j=(T,M)=>{if(!M||!M.length)return T;if(!T||!T.length)return M;const F={},$={};return T.forEach(V=>{F[V.ref]=V,V.rules.forEach(W=>{const{x14Id:ee}=W;ee&&($[ee]=W)})}),M.forEach(V=>{V.rules.forEach(W=>{const ee=$[W.x14Id];ee?((U,Q)=>{Object.keys(Q).forEach(L=>{const I=U[L],Z=Q[L];I===void 0&&Z!==void 0&&(U[L]=Z)})})(ee,W):F[V.ref]?F[V.ref].rules.push(W):T.push({ref:V.ref,rules:[W]})})}),T};class k extends i{constructor(M){super();const{maxRows:F,maxCols:$,ignoreNodes:V}=M||{};this.ignoreNodes=V||[],this.map={sheetPr:new y,dimension:new v,sheetViews:new b({tag:"sheetViews",count:!1,childXform:new E}),sheetFormatPr:new C,cols:new b({tag:"cols",count:!1,childXform:new u}),sheetData:new b({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:$}),maxItems:F}),autoFilter:new z,mergeCells:new b({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new O,hyperlinks:new b({tag:"hyperlinks",count:!1,childXform:new x}),pageMargins:new D,dataValidations:new g,pageSetup:new q,headerFooter:new P,printOptions:new B,picture:new K,drawing:new Y,sheetProtection:new A,tableParts:new b({tag:"tableParts",count:!0,childXform:new X}),conditionalFormatting:new N,extLst:new _}}prepare(M,F){F.merges=new r,M.hyperlinks=F.hyperlinks=[],M.comments=F.comments=[],F.formulae={},F.siFormulae=0,this.map.cols.prepare(M.cols,F),this.map.sheetData.prepare(M.rows,F),this.map.conditionalFormatting.prepare(M.conditionalFormattings,F),M.mergeCells=F.merges.mergeCells;const $=M.rels=[];function V(U){return"rId"+(U.length+1)}if(M.hyperlinks.forEach(U=>{const Q=V($);U.rId=Q,$.push({Id:Q,Type:s.Hyperlink,Target:U.target,TargetMode:"External"})}),M.comments.length>0){const U={Id:V($),Type:s.Comments,Target:`../comments${M.id}.xml`};$.push(U);const Q={Id:V($),Type:s.VmlDrawing,Target:`../drawings/vmlDrawing${M.id}.vml`};$.push(Q),M.comments.forEach(L=>{L.refAddress=o.decodeAddress(L.ref)}),F.commentRefs.push({commentName:"comments"+M.id,vmlDrawing:"vmlDrawing"+M.id})}const W=[];let ee;M.media.forEach(U=>{if(U.type==="background"){const Q=V($);ee=F.media[U.imageId],$.push({Id:Q,Type:s.Image,Target:`../media/${ee.name}.${ee.extension}`}),M.background={rId:Q},M.image=F.media[U.imageId]}else if(U.type==="image"){let{drawing:Q}=M;ee=F.media[U.imageId],Q||(Q=M.drawing={rId:V($),name:"drawing"+ ++F.drawingsCount,anchors:[],rels:[]},F.drawings.push(Q),$.push({Id:Q.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Q.name}.xml`}));let L=this.preImageId===U.imageId?W[U.imageId]:W[Q.rels.length];L||(L=V(Q.rels),W[Q.rels.length]=L,Q.rels.push({Id:L,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${ee.name}.${ee.extension}`}));const I={picture:{rId:L},range:U.range};if(U.hyperlinks&&U.hyperlinks.hyperlink){const Z=V(Q.rels);W[Q.rels.length]=Z,I.picture.hyperlinks={tooltip:U.hyperlinks.tooltip,rId:Z},Q.rels.push({Id:Z,Type:s.Hyperlink,Target:U.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=U.imageId,Q.anchors.push(I)}}),M.tables.forEach(U=>{const Q=V($);U.rId=Q,$.push({Id:Q,Type:s.Table,Target:"../tables/"+U.target}),U.columns.forEach(L=>{const{style:I}=L;I&&(L.dxfId=F.styles.addDxfStyle(I))})}),this.map.extLst.prepare(M,F)}render(M,F){M.openXml(c.StdDocAttributes),M.openNode("worksheet",k.WORKSHEET_ATTRIBUTES);const $=F.properties?{defaultRowHeight:F.properties.defaultRowHeight,dyDescent:F.properties.dyDescent,outlineLevelCol:F.properties.outlineLevelCol,outlineLevelRow:F.properties.outlineLevelRow}:void 0;F.properties&&F.properties.defaultColWidth&&($.defaultColWidth=F.properties.defaultColWidth);const V={outlineProperties:F.properties&&F.properties.outlineProperties,tabColor:F.properties&&F.properties.tabColor,pageSetup:F.pageSetup&&F.pageSetup.fitToPage?{fitToPage:F.pageSetup.fitToPage}:void 0},W=F.pageSetup&&F.pageSetup.margins,ee={showRowColHeaders:F.pageSetup&&F.pageSetup.showRowColHeaders,showGridLines:F.pageSetup&&F.pageSetup.showGridLines,horizontalCentered:F.pageSetup&&F.pageSetup.horizontalCentered,verticalCentered:F.pageSetup&&F.pageSetup.verticalCentered},U=F.sheetProtection;this.map.sheetPr.render(M,V),this.map.dimension.render(M,F.dimensions),this.map.sheetViews.render(M,F.views),this.map.sheetFormatPr.render(M,$),this.map.cols.render(M,F.cols),this.map.sheetData.render(M,F.rows),this.map.sheetProtection.render(M,U),this.map.autoFilter.render(M,F.autoFilter),this.map.mergeCells.render(M,F.mergeCells),this.map.conditionalFormatting.render(M,F.conditionalFormattings),this.map.dataValidations.render(M,F.dataValidations),this.map.hyperlinks.render(M,F.hyperlinks),this.map.printOptions.render(M,ee),this.map.pageMargins.render(M,W),this.map.pageSetup.render(M,F.pageSetup),this.map.headerFooter.render(M,F.headerFooter),this.map.rowBreaks.render(M,F.rowBreaks),this.map.drawing.render(M,F.drawing),this.map.picture.render(M,F.background),this.map.tableParts.render(M,F.tables),this.map.extLst.render(M,F),F.rels&&F.rels.forEach(Q=>{Q.Type===s.VmlDrawing&&M.leafNode("legacyDrawing",{"r:id":Q.Id})}),M.closeNode()}parseOpen(M){return this.parser?(this.parser.parseOpen(M),!0):M.name==="worksheet"?(f.each(this.map,F=>{F.reset()}),!0):(this.map[M.name]&&!this.ignoreNodes.includes(M.name)&&(this.parser=this.map[M.name],this.parser.parseOpen(M)),!0)}parseText(M){this.parser&&this.parser.parseText(M)}parseClose(M){if(this.parser)return this.parser.parseClose(M)||(this.parser=void 0),!0;switch(M){case"worksheet":{const F=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(F.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(F.outlineProperties=this.map.sheetPr.model.outlineProperties);const $={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},V=Object.assign($,this.map.pageSetup.model,this.map.printOptions.model),W=j(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:F,views:this.map.sheetViews.model,pageSetup:V,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:W},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(M,F){const $=(M.relationships||[]).reduce((W,ee)=>{if(W[ee.Id]=ee,ee.Type===s.Comments&&(M.comments=F.comments[ee.Target].comments),ee.Type===s.VmlDrawing&&M.comments&&M.comments.length){const U=F.vmlDrawings[ee.Target].comments;M.comments.forEach((Q,L)=>{Q.note=Object.assign({},Q.note,U[L])})}return W},{});if(F.commentsMap=(M.comments||[]).reduce((W,ee)=>(ee.ref&&(W[ee.ref]=ee),W),{}),F.hyperlinkMap=(M.hyperlinks||[]).reduce((W,ee)=>(ee.rId&&(W[ee.address]=$[ee.rId].Target),W),{}),F.formulae={},M.rows=M.rows&&M.rows.filter(Boolean)||[],M.rows.forEach(W=>{W.cells=W.cells&&W.cells.filter(Boolean)||[]}),this.map.cols.reconcile(M.cols,F),this.map.sheetData.reconcile(M.rows,F),this.map.conditionalFormatting.reconcile(M.conditionalFormattings,F),M.media=[],M.drawing){const W=$[M.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(W){const ee=W[1];F.drawings[ee].anchors.forEach(U=>{if(U.medium){const Q={type:"image",imageId:U.medium.index,range:U.range,hyperlinks:U.picture.hyperlinks};M.media.push(Q)}})}}const V=M.background&&$[M.background.rId];if(V){const W=V.Target.split("/media/")[1],ee=F.mediaIndex&&F.mediaIndex[W];ee!==void 0&&M.media.push({type:"background",imageId:ee})}M.tables=(M.tables||[]).map(W=>{const ee=$[W.rId];return F.tables[ee.Target]}),delete M.relationships,delete M.hyperlinks,delete M.comments}}k.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},a.exports=k},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,c){c&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(c){try{return Number.isNaN(c.getTime())?"":c.toISOString()}catch{return""}},this._parse=o.parse||function(c){return new Date(c)}}render(o,c){c&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(c)):o.writeText(this._format(c)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,c){(c||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,c):o.writeText(c),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,c){c!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,c):o.writeText(c),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,a,l){const f=e("./base-xform"),o=e("../../utils/xml-stream");a.exports=class extends f{constructor(c){super(),this._model=c}render(c){if(!this._xml){const s=new o;(function r(i,b){i.openNode(b.tag,b.$),b.c&&b.c.forEach(d=>{r(i,d)}),b.t&&i.writeText(b.t),i.closeNode()})(s,this._model),this._xml=s.xml}c.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(c){switch(c){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,a,l){const f=e("./text-xform"),o=e("./rich-text-xform"),c=e("../base-xform");a.exports=class extends c{constructor(){super(),this.map={r:new o,t:new f}}get tag(){return"rPh"}render(s,r){if(s.openNode(this.tag,{sb:r.sb||0,eb:r.eb||0}),r&&r.hasOwnProperty("richText")&&r.richText){const{r:i}=this.map;r.richText.forEach(b=>{i.render(s,b)})}else r&&this.map.t.render(s,r.text);s.closeNode()}parseOpen(s){const{name:r}=s;return this.parser?(this.parser.parseOpen(s),!0):r===this.tag?(this.model={sb:parseInt(s.attributes.sb,10),eb:parseInt(s.attributes.eb,10)},!0):(this.parser=this.map[r],!!this.parser&&(this.parser.parseOpen(s),!0))}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){switch(s){case"r":{let r=this.model.richText;r||(r=this.model.richText=[]),r.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,a,l){const f=e("./text-xform"),o=e("../style/font-xform"),c=e("../base-xform");class s extends c{constructor(i){super(),this.model=i}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new f)}get fontXform(){return this._fontXform||(this._fontXform=new o(s.FONT_OPTIONS))}render(i,b){b=b||this.model,i.openNode("r"),b.font&&this.fontXform.render(i,b.font),this.textXform.render(i,b.text),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(i),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(i),!0;default:return!1}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){switch(i){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(i),!0}}}s.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},a.exports=s},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,a,l){const f=e("./text-xform"),o=e("./rich-text-xform"),c=e("./phonetic-text-xform"),s=e("../base-xform");a.exports=class extends s{constructor(r){super(),this.model=r,this.map={r:new o,t:new f,rPh:new c}}get tag(){return"si"}render(r,i){r.openNode(this.tag),i&&i.hasOwnProperty("richText")&&i.richText?i.richText.length?i.richText.forEach(b=>{this.map.r.render(r,b)}):this.map.t.render(r,""):i!=null&&this.map.t.render(r,i),r.closeNode()}parseOpen(r){const{name:i}=r;return this.parser?(this.parser.parseOpen(r),!0):i===this.tag?(this.model={},!0):(this.parser=this.map[i],!!this.parser&&(this.parser.parseOpen(r),!0))}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser){if(!this.parser.parseClose(r)){switch(r){case"r":{let i=this.model.richText;i||(i=this.model.richText=[]),i.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,a,l){const f=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./shared-string-xform");a.exports=class extends o{constructor(s){super(),this.model=s||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new c)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(s){return this.model.values[s]}add(s){return s.richText?this.addRichText(s):this.addText(s)}addText(s){let r=this.hash[s];return r===void 0&&(r=this.hash[s]=this.model.values.length,this.model.values.push(s)),this.model.count++,r}addRichText(s){const r=this.sharedStringXform.toXml(s);let i=this.rich[r];return i===void 0&&(i=this.rich[r]=this.model.values.length,this.model.values.push(s)),this.model.count++,i}render(s,r){r=r||this._values,s.openXml(f.StdDocAttributes),s.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:r.count,uniqueCount:r.values.length});const i=this.sharedStringXform;r.values.forEach(b=>{i.render(s,b)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(s),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(s){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+s)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"t"}render(o,c){o.openNode("t"),/^\s|\n|\s$/.test(c)&&o.addAttribute("xml:space","preserve"),o.writeText(c),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,c)=>String.fromCharCode(parseInt(c,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,a,l){const f=e("../../../doc/enums"),o=e("../../../utils/utils"),c=e("../base-xform"),s={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((i,b)=>(i[b]=!0,i),{}),horizontal(i){return this.horizontalValues[i]?i:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((i,b)=>(i[b]=!0,i),{}),vertical(i){return i==="middle"?"center":this.verticalValues[i]?i:void 0},wrapText:i=>!!i||void 0,shrinkToFit:i=>!!i||void 0,textRotation(i){switch(i){case"vertical":return i;default:return(i=o.validInt(i))>=-90&&i<=90?i:void 0}},indent:i=>(i=o.validInt(i),Math.max(0,i)),readingOrder(i){switch(i){case"ltr":return f.ReadingOrder.LeftToRight;case"rtl":return f.ReadingOrder.RightToLeft;default:return}}},r={toXml(i){if(i=s.textRotation(i)){if(i==="vertical")return 255;const b=Math.round(i);if(b>=0&&b<=90)return b;if(b<0&&b>=-90)return 90-b}},toModel(i){const b=o.validInt(i);if(b!==void 0){if(b===255)return"vertical";if(b>=0&&b<=90)return b;if(b>90&&b<=180)return 90-b}}};a.exports=class extends c{get tag(){return"alignment"}render(i,b){i.addRollback(),i.openNode("alignment");let d=!1;function u(v,x){x&&(i.addAttribute(v,x),d=!0)}u("horizontal",s.horizontal(b.horizontal)),u("vertical",s.vertical(b.vertical)),u("wrapText",!!s.wrapText(b.wrapText)&&"1"),u("shrinkToFit",!!s.shrinkToFit(b.shrinkToFit)&&"1"),u("indent",s.indent(b.indent)),u("textRotation",r.toXml(b.textRotation)),u("readingOrder",s.readingOrder(b.readingOrder)),i.closeNode(),d?i.commit():i.rollback()}parseOpen(i){const b={};let d=!1;function u(v,x,m){v&&(b[x]=m,d=!0)}u(i.attributes.horizontal,"horizontal",i.attributes.horizontal),u(i.attributes.vertical,"vertical",i.attributes.vertical==="center"?"middle":i.attributes.vertical),u(i.attributes.wrapText,"wrapText",o.parseBoolean(i.attributes.wrapText)),u(i.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(i.attributes.shrinkToFit)),u(i.attributes.indent,"indent",parseInt(i.attributes.indent,10)),u(i.attributes.textRotation,"textRotation",r.toModel(i.attributes.textRotation)),u(i.attributes.readingOrder,"readingOrder",i.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?b:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,a,l){const f=e("../base-xform"),o=e("../../../utils/utils"),c=e("./color-xform");class s extends f{constructor(i){super(),this.name=i,this.map={color:new c}}get tag(){return this.name}render(i,b,d){const u=b&&b.color||d||this.defaultColor;i.openNode(this.name),b&&b.style&&(i.addAttribute("style",b.style),u&&this.map.color.render(i,u)),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.name:{const{style:b}=i.attributes;return this.model=b?{style:b}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(i),!0;default:return!1}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.parser=void 0),!0):(i===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(i){return s.validStyleValues[i]}}s.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((r,i)=>(r[i]=!0,r),{}),a.exports=class extends f{constructor(){super(),this.map={top:new s("top"),left:new s("left"),bottom:new s("bottom"),right:new s("right"),diagonal:new s("diagonal")}}render(r,i){const{color:b}=i;function d(u,v){u&&!u.color&&i.color&&(u={...u,color:i.color}),v.render(r,u,b)}r.openNode("border"),i.diagonal&&i.diagonal.style&&(i.diagonal.up&&r.addAttribute("diagonalUp","1"),i.diagonal.down&&r.addAttribute("diagonalDown","1")),d(i.left,this.map.left),d(i.right,this.map.right),d(i.top,this.map.top),d(i.bottom,this.map.bottom),d(i.diagonal,this.map.diagonal),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(r.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(r.attributes.diagonalDown),!0;default:return this.parser=this.map[r.name],!!this.parser&&(this.parser.parseOpen(r),!0)}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;if(r==="border"){const i=this.model={},b=function(d,u,v){u&&(v&&Object.assign(u,v),i[d]=u)};b("left",this.map.left.model),b("right",this.map.right.model),b("top",this.map.top.model),b("bottom",this.map.bottom.model),b("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,c){return!!c&&(o.openNode(this.name),c.argb?o.addAttribute("rgb",c.argb):c.theme!==void 0?(o.addAttribute("theme",c.theme),c.tint!==void 0&&o.addAttribute("tint",c.tint)):c.indexed!==void 0?o.addAttribute("indexed",c.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,a,l){const f=e("../base-xform"),o=e("./alignment-xform"),c=e("./border-xform"),s=e("./fill-xform"),r=e("./font-xform"),i=e("./numfmt-xform"),b=e("./protection-xform");a.exports=class extends f{constructor(){super(),this.map={alignment:new o,border:new c,fill:new s,font:new r,numFmt:new i,protection:new b}}get tag(){return"dxf"}render(d,u){if(d.openNode(this.tag),u.font&&this.map.font.render(d,u.font),u.numFmt&&u.numFmtId){const v={id:u.numFmtId,formatCode:u.numFmt};this.map.numFmt.render(d,v)}u.fill&&this.map.fill.render(d,u.fill),u.alignment&&this.map.alignment.render(d,u.alignment),u.border&&this.map.border.render(d,u.border),u.protection&&this.map.protection.render(d,u.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,a,l){const f=e("../base-xform"),o=e("./color-xform");class c extends f{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(d,u){d.openNode("stop"),d.addAttribute("position",u.position),this.map.color.render(d,u.color),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"stop":return this.model={position:parseFloat(d.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(){}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class s extends f{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(d,u){d.openNode("patternFill"),d.addAttribute("patternType",u.pattern),u.fgColor&&this.map.fgColor.render(d,u.fgColor),u.bgColor&&this.map.bgColor.render(d,u.bgColor),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"patternFill":return this.model={type:"pattern",pattern:d.attributes.patternType},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.parser.model&&(this.model[d]=this.parser.model),this.parser=void 0),!0)}}class r extends f{constructor(){super(),this.map={stop:new c}}get name(){return"gradient"}get tag(){return"gradientFill"}render(d,u){switch(d.openNode("gradientFill"),u.gradient){case"angle":d.addAttribute("degree",u.degree);break;case"path":d.addAttribute("type","path"),u.center.left&&(d.addAttribute("left",u.center.left),u.center.right===void 0&&d.addAttribute("right",u.center.left)),u.center.right&&d.addAttribute("right",u.center.right),u.center.top&&(d.addAttribute("top",u.center.top),u.center.bottom===void 0&&d.addAttribute("bottom",u.center.top)),u.center.bottom&&d.addAttribute("bottom",u.center.bottom)}const v=this.map.stop;u.stops.forEach(x=>{v.render(d,x)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"gradientFill":{const u=this.model={stops:[]};return d.attributes.degree?(u.gradient="angle",u.degree=parseInt(d.attributes.degree,10)):d.attributes.type==="path"&&(u.gradient="path",u.center={left:d.attributes.left?parseFloat(d.attributes.left):0,top:d.attributes.top?parseFloat(d.attributes.top):0},d.attributes.right!==d.attributes.left&&(u.center.right=d.attributes.right?parseFloat(d.attributes.right):0),d.attributes.bottom!==d.attributes.top&&(u.center.bottom=d.attributes.bottom?parseFloat(d.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class i extends f{constructor(){super(),this.map={patternFill:new s,gradientFill:new r}}get tag(){return"fill"}render(d,u){switch(d.addRollback(),d.openNode("fill"),u.type){case"pattern":this.map.patternFill.render(d,u);break;case"gradient":this.map.gradientFill.render(d,u);break;default:return void d.rollback()}d.closeNode(),d.commit()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"fill":return this.model={},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(d){return i.validPatternValues[d]}}i.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((b,d)=>(b[d]=!0,b),{}),i.StopXform=c,i.PatternFillXform=s,i.GradientFillXform=r,a.exports=i},{"../base-xform":32,"./color-xform":128}],131:[function(e,a,l){const f=e("./color-xform"),o=e("../simple/boolean-xform"),c=e("../simple/integer-xform"),s=e("../simple/string-xform"),r=e("./underline-xform"),i=e("../../../utils/under-dash"),b=e("../base-xform");class d extends b{constructor(v){super(),this.options=v||d.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new r},charset:{prop:"charset",xform:new c({tag:"charset",attr:"val"})},color:{prop:"color",xform:new f},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new c({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new s({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new s({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new c({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new s({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(v,x){const{map:m}=this;v.openNode(this.options.tagName),i.each(this.map,(g,y)=>{m[y].xform.render(v,x[g.prop])}),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;if(this.map[v.name])return this.parser=this.map[v.name].xform,this.parser.parseOpen(v);switch(v.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser&&!this.parser.parseClose(v)){const x=this.map[v];return this.parser.model&&(this.model[x.prop]=this.parser.model),this.parser=void 0,!0}switch(v){case this.options.tagName:return!1;default:return!0}}}d.OPTIONS={tagName:"font",fontNameTag:"name"},a.exports=d},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,a,l){const f=e("../../../utils/under-dash"),o=e("../../defaultnumformats"),c=e("../base-xform"),s=function(){const i={};return f.each(o,(b,d)=>{b.f&&(i[b.f]=parseInt(d,10))}),i}();class r extends c{constructor(b,d){super(),this.id=b,this.formatCode=d}get tag(){return"numFmt"}render(b,d){b.leafNode("numFmt",{numFmtId:d.id,formatCode:d.formatCode})}parseOpen(b){switch(b.name){case"numFmt":return this.model={id:parseInt(b.attributes.numFmtId,10),formatCode:b.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}r.getDefaultFmtId=function(i){return s[i]},r.getDefaultFmtCode=function(i){return o[i]&&o[i].f},a.exports=r},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,a,l){const f=e("../base-xform"),o={boolean:(c,s)=>c===void 0?s:c};a.exports=class extends f{get tag(){return"protection"}render(c,s){c.addRollback(),c.openNode("protection");let r=!1;function i(b,d){d!==void 0&&(c.addAttribute(b,d),r=!0)}i("locked",o.boolean(s.locked,!0)?void 0:"0"),i("hidden",o.boolean(s.hidden,!1)?"1":void 0),c.closeNode(),r?c.commit():c.rollback()}parseOpen(c){const s={locked:c.attributes.locked!=="0",hidden:c.attributes.hidden==="1"},r=!s.locked||s.hidden;this.model=r?s:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,a,l){const f=e("../base-xform"),o=e("./alignment-xform"),c=e("./protection-xform");a.exports=class extends f{constructor(s){super(),this.xfId=!(!s||!s.xfId),this.map={alignment:new o,protection:new c}}get tag(){return"xf"}render(s,r){s.openNode("xf",{numFmtId:r.numFmtId||0,fontId:r.fontId||0,fillId:r.fillId||0,borderId:r.borderId||0}),this.xfId&&s.addAttribute("xfId",r.xfId||0),r.numFmtId&&s.addAttribute("applyNumberFormat","1"),r.fontId&&s.addAttribute("applyFont","1"),r.fillId&&s.addAttribute("applyFill","1"),r.borderId&&s.addAttribute("applyBorder","1"),r.alignment&&s.addAttribute("applyAlignment","1"),r.protection&&s.addAttribute("applyProtection","1"),r.alignment&&this.map.alignment.render(s,r.alignment),r.protection&&this.map.protection.render(s,r.protection),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"xf":return this.model={numFmtId:parseInt(s.attributes.numFmtId,10),fontId:parseInt(s.attributes.fontId,10),fillId:parseInt(s.attributes.fillId,10),borderId:parseInt(s.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(s.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(s),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(s),!0;default:return!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):s!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,a,l){const f=e("../../../doc/enums"),o=e("../../../utils/xml-stream"),c=e("../base-xform"),s=e("../static-xform"),r=e("../list-xform"),i=e("./font-xform"),b=e("./fill-xform"),d=e("./border-xform"),u=e("./numfmt-xform"),v=e("./style-xform"),x=e("./dxf-xform");class m extends c{constructor(y){super(),this.map={numFmts:new r({tag:"numFmts",count:!0,childXform:new u}),fonts:new r({tag:"fonts",count:!0,childXform:new i,$:{"x14ac:knownFonts":1}}),fills:new r({tag:"fills",count:!0,childXform:new b}),borders:new r({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new r({tag:"cellStyleXfs",count:!0,childXform:new v}),cellXfs:new r({tag:"cellXfs",count:!0,childXform:new v({xfId:!0})}),dxfs:new r({tag:"dxfs",always:!0,count:!0,childXform:new x}),numFmt:new u,font:new i,fill:new b,border:new d,style:new v({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,C){C=C||this.model,y.openXml(o.StdDocAttributes),y.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(C.numFmts&&C.numFmts.length&&(y.openNode("numFmts",{count:C.numFmts.length}),C.numFmts.forEach(E=>{y.writeXml(E)}),y.closeNode()),C.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:C.fonts.length,"x14ac:knownFonts":1}),C.fonts.forEach(E=>{y.writeXml(E)}),y.closeNode(),y.openNode("fills",{count:C.fills.length}),C.fills.forEach(E=>{y.writeXml(E)}),y.closeNode(),y.openNode("borders",{count:C.borders.length}),C.borders.forEach(E=>{y.writeXml(E)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:C.styles.length}),C.styles.forEach(E=>{y.writeXml(E)}),y.closeNode()):(this.map.numFmts.render(y,C.numFmts),this.map.fonts.render(y,C.fonts),this.map.fills.render(y,C.fills),this.map.borders.render(y,C.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,C.styles)),m.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,C.dxfs),m.STATIC_XFORMS.tableStyles.render(y),m.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};const C=(E,A)=>{A.model&&A.model.length&&(this.model[E]=A.model)};if(C("numFmts",this.map.numFmts),C("fonts",this.map.fonts),C("fills",this.map.fills),C("borders",this.map.borders),C("styles",this.map.cellXfs),C("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const E=this.index.numFmt;this.model.numFmts.forEach(A=>{E[A.id]=A.formatCode})}return!1}default:return!0}}addStyleModel(y,C){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);const E={};if(C=C||f.ValueType.Number,y.numFmt)E.numFmtId=this._addNumFmtStr(y.numFmt);else switch(C){case f.ValueType.Number:E.numFmtId=this._addNumFmtStr("General");break;case f.ValueType.Date:E.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(E.fontId=this._addFont(y.font)),y.border&&(E.borderId=this._addBorder(y.border)),y.fill&&(E.fillId=this._addFill(y.fill)),y.alignment&&(E.alignment=y.alignment),y.protection&&(E.protection=y.protection);const A=this._addStyle(E);return this.weakMap&&this.weakMap.set(y,A),A}getStyleModel(y){const C=this.model.styles[y];if(!C)return null;let E=this.index.model[y];if(E)return E;if(E=this.index.model[y]={},C.numFmtId){const D=this.index.numFmt[C.numFmtId]||u.getDefaultFmtCode(C.numFmtId);D&&(E.numFmt=D)}function A(D,q,B){if(B||B===0){const z=q[B];z&&(E[D]=z)}}return A("font",this.model.fonts,C.fontId),A("border",this.model.borders,C.borderId),A("fill",this.model.fills,C.fillId),C.alignment&&(E.alignment=C.alignment),C.protection&&(E.protection=C.protection),E}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){const C=this.map.style.toXml(y);let E=this.index.style[C];return E===void 0&&(E=this.index.style[C]=this.model.styles.length,this.model.styles.push(C)),E}_addNumFmtStr(y){let C=u.getDefaultFmtId(y);if(C!==void 0||(C=this.index.numFmt[y],C!==void 0))return C;C=this.index.numFmt[y]=164+this.model.numFmts.length;const E=this.map.numFmt.toXml({id:C,formatCode:y});return this.model.numFmts.push(E),C}_addFont(y){const C=this.map.font.toXml(y);let E=this.index.font[C];return E===void 0&&(E=this.index.font[C]=this.model.fonts.length,this.model.fonts.push(C)),E}_addBorder(y){const C=this.map.border.toXml(y);let E=this.index.border[C];return E===void 0&&(E=this.index.border[C]=this.model.borders.length,this.model.borders.push(C)),E}_addFill(y){const C=this.map.fill.toXml(y);let E=this.index.fill[C];return E===void 0&&(E=this.index.fill[C]=this.model.fills.length,this.model.fills.push(C)),E}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new s({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new s({tag:"dxfs",$:{count:0}}),tableStyles:new s({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new s({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(g){return g.autodrain(),Promise.resolve()}addStyleModel(g,y){switch(y){case f.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const g={numFmtId:u.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(g)}return this._dateStyleId}getStyleModel(){return{}}},a.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,a,l){const f=e("../base-xform");class o extends f{constructor(s){super(),this.model=s}get tag(){return"u"}render(s,r){if((r=r||this.model)===!0)s.leafNode("u");else{const i=o.Attributes[r];i&&s.leafNode("u",i)}}parseOpen(s){s.name==="u"&&(this.model=s.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},a.exports=o},{"../base-xform":32}],137:[function(e,a,l){const f=e("../base-xform"),o=e("./filter-column-xform");a.exports=class extends f{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(c){c.columns.forEach((s,r)=>{this.map.filterColumn.prepare(s,{index:r})})}render(c,s){return c.openNode(this.tag,{ref:s.autoFilterRef}),s.columns.forEach(r=>{this.map.filterColumn.render(c,r)}),c.closeNode(),!0}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:return this.model={autoFilterRef:c.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"customFilter"}render(o,c){o.leafNode(this.tag,{val:c.val,operator:c.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,a,l){const f=e("../base-xform"),o=e("../list-xform"),c=e("./custom-filter-xform"),s=e("./filter-xform");a.exports=class extends f{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new c}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new s})}}get tag(){return"filterColumn"}prepare(r,i){r.colId=i.index.toString()}render(r,i){return i.customFilters?(r.openNode(this.tag,{colId:i.colId,hiddenButton:i.filterButton?"0":"1"}),this.map.customFilters.render(r,i.customFilters),r.closeNode(),!0):(r.leafNode(this.tag,{colId:i.colId,hiddenButton:i.filterButton?"0":"1"}),!0)}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;const{attributes:i}=r;switch(r.name){case this.tag:return this.model={filterButton:i.hiddenButton==="0"},!0;default:if(this.parser=this.map[r.name],this.parser)return this.parseOpen(r),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(r))}}parseText(){}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"filter"}render(o,c){o.leafNode(this.tag,{val:c.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"tableColumn"}prepare(o,c){o.id=c.index+1}render(o,c){return o.leafNode(this.tag,{id:c.id.toString(),name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:c}=o;return this.model={name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,a,l){const f=e("../base-xform");a.exports=class extends f{get tag(){return"tableStyleInfo"}render(o,c){return o.leafNode(this.tag,{name:c.theme?c.theme:void 0,showFirstColumn:c.showFirstColumn?"1":"0",showLastColumn:c.showLastColumn?"1":"0",showRowStripes:c.showRowStripes?"1":"0",showColumnStripes:c.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:c}=o;return this.model={theme:c.name?c.name:null,showFirstColumn:c.showFirstColumn==="1",showLastColumn:c.showLastColumn==="1",showRowStripes:c.showRowStripes==="1",showColumnStripes:c.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,a,l){const f=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../list-xform"),s=e("./auto-filter-xform"),r=e("./table-column-xform"),i=e("./table-style-info-xform");class b extends o{constructor(){super(),this.map={autoFilter:new s,tableColumns:new c({tag:"tableColumns",count:!0,empty:!0,childXform:new r}),tableStyleInfo:new i}}prepare(u,v){this.map.autoFilter.prepare(u),this.map.tableColumns.prepare(u.columns,v)}get tag(){return"table"}render(u,v){u.openXml(f.StdDocAttributes),u.openNode(this.tag,{...b.TABLE_ATTRIBUTES,id:v.id,name:v.name,displayName:v.displayName||v.name,ref:v.tableRef,totalsRowCount:v.totalsRow?"1":void 0,totalsRowShown:v.totalsRow?void 0:"1",headerRowCount:v.headerRow?"1":"0"}),this.map.autoFilter.render(u,v),this.map.tableColumns.render(u,v.columns),this.map.tableStyleInfo.render(u,v.style),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;const{name:v,attributes:x}=u;switch(v){case this.tag:this.reset(),this.model={name:x.name,displayName:x.displayName||x.name,tableRef:x.ref,totalsRow:x.totalsRowCount==="1",headerRow:x.headerRowCount==="1"};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((v,x)=>{this.model.columns[x].filterButton=v.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(u,v){u.columns.forEach(x=>{x.dxfId!==void 0&&(x.style=v.styles.getDxfStyle(x.dxfId))})}}b.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},a.exports=b},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,a,l){(function(f,o){(function(){const c=e("fs"),s=e("jszip"),{PassThrough:r}=e("readable-stream"),i=e("../utils/zip-stream"),b=e("../utils/stream-buf"),d=e("../utils/utils"),u=e("../utils/xml-stream"),{bufferToString:v}=e("../utils/browser-buffer-decode"),x=e("./xform/style/styles-xform"),m=e("./xform/core/core-xform"),g=e("./xform/strings/shared-strings-xform"),y=e("./xform/core/relationships-xform"),C=e("./xform/core/content-types-xform"),E=e("./xform/core/app-xform"),A=e("./xform/book/workbook-xform"),D=e("./xform/sheet/worksheet-xform"),q=e("./xform/drawing/drawing-xform"),B=e("./xform/table/table-xform"),z=e("./xform/comment/comments-xform"),K=e("./xform/comment/vml-notes-xform"),Y=e("./xml/theme1");class X{constructor(P){this.workbook=P}async readFile(P,N){if(!await d.fs.exists(P))throw new Error("File not found: "+P);const _=c.createReadStream(P);try{const j=await this.read(_,N);return _.close(),j}catch(j){throw _.close(),j}}parseRels(P){return new y().parseStream(P)}parseWorkbook(P){return new A().parseStream(P)}parseSharedStrings(P){return new g().parseStream(P)}reconcile(P,N){const _=new A,j=new D(N),k=new q,T=new B;_.reconcile(P);const M={media:P.media,mediaIndex:P.mediaIndex};Object.keys(P.drawings).forEach(V=>{const W=P.drawings[V],ee=P.drawingRels[V];ee&&(M.rels=ee.reduce((U,Q)=>(U[Q.Id]=Q,U),{}),(W.anchors||[]).forEach(U=>{const Q=U.picture&&U.picture.hyperlinks;Q&&M.rels[Q.rId]&&(Q.hyperlink=M.rels[Q.rId].Target,delete Q.rId)}),k.reconcile(W,M))});const F={styles:P.styles};Object.values(P.tables).forEach(V=>{T.reconcile(V,F)});const $={styles:P.styles,sharedStrings:P.sharedStrings,media:P.media,mediaIndex:P.mediaIndex,date1904:P.properties&&P.properties.date1904,drawings:P.drawings,comments:P.comments,tables:P.tables,vmlDrawings:P.vmlDrawings};P.worksheets.forEach(V=>{V.relationships=P.worksheetRels[V.sheetNo],j.reconcile(V,$)}),delete P.worksheetHash,delete P.worksheetRels,delete P.globalRels,delete P.sharedStrings,delete P.workbookRels,delete P.sheetDefs,delete P.styles,delete P.mediaIndex,delete P.drawings,delete P.drawingRels,delete P.vmlDrawings}async _processWorksheetEntry(P,N,_,j,k){const T=new D(j),M=await T.parseStream(P);M.sheetNo=_,N.worksheetHash[k]=M,N.worksheets.push(M)}async _processCommentEntry(P,N,_){const j=new z,k=await j.parseStream(P);N.comments[`../${_}.xml`]=k}async _processTableEntry(P,N,_){const j=new B,k=await j.parseStream(P);N.tables[`../tables/${_}.xml`]=k}async _processWorksheetRelsEntry(P,N,_){const j=new y,k=await j.parseStream(P);N.worksheetRels[_]=k}async _processMediaEntry(P,N,_){const j=_.lastIndexOf(".");if(j>=1){const k=_.substr(j+1),T=_.substr(0,j);await new Promise((M,F)=>{const $=new b;$.on("finish",()=>{N.mediaIndex[_]=N.media.length,N.mediaIndex[T]=N.media.length;const V={type:"image",name:T,extension:k,buffer:$.toBuffer()};N.media.push(V),M()}),P.on("error",V=>{F(V)}),P.pipe($)})}}async _processDrawingEntry(P,N,_){const j=new q,k=await j.parseStream(P);N.drawings[_]=k}async _processDrawingRelsEntry(P,N,_){const j=new y,k=await j.parseStream(P);N.drawingRels[_]=k}async _processVmlDrawingEntry(P,N,_){const j=new K,k=await j.parseStream(P);N.vmlDrawings[`../drawings/${_}.vml`]=k}async _processThemeEntry(P,N,_){await new Promise((j,k)=>{const T=new b;P.on("error",k),T.on("error",k),T.on("finish",()=>{N.themes[_]=T.read().toString(),j()}),P.pipe(T)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(P,N){!P[Symbol.asyncIterator]&&P.pipe&&(P=P.pipe(new r));const _=[];for await(const j of P)_.push(j);return this.load(o.concat(_),N)}async load(P,N){let _;_=N&&N.base64?o.from(P.toString(),"base64"):P;const j={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},k=await s.loadAsync(_);for(const T of Object.values(k.files))if(!T.dir){let M,F=T.name;if(F[0]==="/"&&(F=F.substr(1)),F.match(/xl\/media\//)||F.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))M=new r,M.write(await T.async("nodebuffer"));else{let $;M=new r({writableObjectMode:!0,readableObjectMode:!0}),$=f.browser?v(await T.async("nodebuffer")):await T.async("string");const V=16384;for(let W=0;W<$.length;W+=V)M.write($.substring(W,W+V))}switch(M.end(),F){case"_rels/.rels":j.globalRels=await this.parseRels(M);break;case"xl/workbook.xml":{const $=await this.parseWorkbook(M);j.sheets=$.sheets,j.definedNames=$.definedNames,j.views=$.views,j.properties=$.properties,j.calcProperties=$.calcProperties;break}case"xl/_rels/workbook.xml.rels":j.workbookRels=await this.parseRels(M);break;case"xl/sharedStrings.xml":j.sharedStrings=new g,await j.sharedStrings.parseStream(M);break;case"xl/styles.xml":j.styles=new x,await j.styles.parseStream(M);break;case"docProps/app.xml":{const $=new E,V=await $.parseStream(M);j.company=V.company,j.manager=V.manager;break}case"docProps/core.xml":{const $=new m,V=await $.parseStream(M);Object.assign(j,V);break}default:{let $=F.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if($){await this._processWorksheetEntry(M,j,$[1],N,F);break}if($=F.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),$){await this._processWorksheetRelsEntry(M,j,$[1]);break}if($=F.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),$){await this._processThemeEntry(M,j,$[1]);break}if($=F.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),$){await this._processMediaEntry(M,j,$[1]);break}if($=F.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),$){await this._processDrawingEntry(M,j,$[1]);break}if($=F.match(/xl\/(comments\d+)[.]xml/),$){await this._processCommentEntry(M,j,$[1]);break}if($=F.match(/xl\/tables\/(table\d+)[.]xml/),$){await this._processTableEntry(M,j,$[1]);break}if($=F.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),$){await this._processDrawingRelsEntry(M,j,$[1]);break}if($=F.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),$){await this._processVmlDrawingEntry(M,j,$[1]);break}}}}return this.reconcile(j,N),this.workbook.model=j,this.workbook}async addMedia(P,N){await Promise.all(N.media.map(async _=>{if(_.type==="image"){const j=`xl/media/${_.name}.${_.extension}`;if(_.filename){const k=await function(T,M){return new Promise((F,$)=>{c.readFile(T,M,(V,W)=>{V?$(V):F(W)})})}(_.filename);return P.append(k,{name:j})}if(_.buffer)return P.append(_.buffer,{name:j});if(_.base64){const k=_.base64,T=k.substring(k.indexOf(",")+1);return P.append(T,{name:j,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(P,N){const _=new q,j=new y;N.worksheets.forEach(k=>{const{drawing:T}=k;if(T){_.prepare(T,{});let M=_.toXml(T);P.append(M,{name:`xl/drawings/${T.name}.xml`}),M=j.toXml(T.rels),P.append(M,{name:`xl/drawings/_rels/${T.name}.xml.rels`})}})}addTables(P,N){const _=new B;N.worksheets.forEach(j=>{const{tables:k}=j;k.forEach(T=>{_.prepare(T,{});const M=_.toXml(T);P.append(M,{name:"xl/tables/"+T.target})})})}async addContentTypes(P,N){const _=new C().toXml(N);P.append(_,{name:"[Content_Types].xml"})}async addApp(P,N){const _=new E().toXml(N);P.append(_,{name:"docProps/app.xml"})}async addCore(P,N){const _=new m;P.append(_.toXml(N),{name:"docProps/core.xml"})}async addThemes(P,N){const _=N.themes||{theme1:Y};Object.keys(_).forEach(j=>{const k=_[j],T=`xl/theme/${j}.xml`;P.append(k,{name:T})})}async addOfficeRels(P){const N=new y().toXml([{Id:"rId1",Type:X.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:X.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:X.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);P.append(N,{name:"_rels/.rels"})}async addWorkbookRels(P,N){let _=1;const j=[{Id:"rId"+_++,Type:X.RelType.Styles,Target:"styles.xml"},{Id:"rId"+_++,Type:X.RelType.Theme,Target:"theme/theme1.xml"}];N.sharedStrings.count&&j.push({Id:"rId"+_++,Type:X.RelType.SharedStrings,Target:"sharedStrings.xml"}),N.worksheets.forEach(T=>{T.rId="rId"+_++,j.push({Id:T.rId,Type:X.RelType.Worksheet,Target:`worksheets/sheet${T.id}.xml`})});const k=new y().toXml(j);P.append(k,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(P,N){N.sharedStrings&&N.sharedStrings.count&&P.append(N.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(P,N){const{xml:_}=N.styles;_&&P.append(_,{name:"xl/styles.xml"})}async addWorkbook(P,N){const _=new A;P.append(_.toXml(N),{name:"xl/workbook.xml"})}async addWorksheets(P,N){const _=new D,j=new y,k=new z,T=new K;N.worksheets.forEach(M=>{let F=new u;_.render(F,M),P.append(F.xml,{name:`xl/worksheets/sheet${M.id}.xml`}),M.rels&&M.rels.length&&(F=new u,j.render(F,M.rels),P.append(F.xml,{name:`xl/worksheets/_rels/sheet${M.id}.xml.rels`})),M.comments.length>0&&(F=new u,k.render(F,M),P.append(F.xml,{name:`xl/comments${M.id}.xml`}),F=new u,T.render(F,M),P.append(F.xml,{name:`xl/drawings/vmlDrawing${M.id}.vml`}))})}_finalize(P){return new Promise((N,_)=>{P.on("finish",()=>{N(this)}),P.on("error",_),P.finalize()})}prepareModel(P,N){P.creator=P.creator||"ExcelJS",P.lastModifiedBy=P.lastModifiedBy||"ExcelJS",P.created=P.created||new Date,P.modified=P.modified||new Date,P.useSharedStrings=N.useSharedStrings===void 0||N.useSharedStrings,P.useStyles=N.useStyles===void 0||N.useStyles,P.sharedStrings=new g,P.styles=P.useStyles?new x(!0):new x.Mock;const _=new A,j=new D;_.prepare(P);const k={sharedStrings:P.sharedStrings,styles:P.styles,date1904:P.properties.date1904,drawingsCount:0,media:P.media};k.drawings=P.drawings=[],k.commentRefs=P.commentRefs=[];let T=0;P.tables=[],P.worksheets.forEach(M=>{M.tables.forEach(F=>{T++,F.target=`table${T}.xml`,F.id=T,P.tables.push(F)}),j.prepare(M,k)})}async write(P,N){N=N||{};const{model:_}=this.workbook,j=new i.ZipWriter(N.zip);return j.pipe(P),this.prepareModel(_,N),await this.addContentTypes(j,_),await this.addOfficeRels(j,_),await this.addWorkbookRels(j,_),await this.addWorksheets(j,_),await this.addSharedStrings(j,_),await this.addDrawings(j,_),await this.addTables(j,_),await Promise.all([this.addThemes(j,_),this.addStyles(j,_)]),await this.addMedia(j,_),await Promise.all([this.addApp(j,_),this.addCore(j,_)]),await this.addWorkbook(j,_),this._finalize(j)}writeFile(P,N){const _=c.createWriteStream(P);return new Promise((j,k)=>{_.on("finish",()=>{j()}),_.on("error",T=>{k(T)}),this.write(_,N).then(()=>{_.end()}).catch(T=>{k(T)})})}async writeBuffer(P){const N=new b;return await this.write(N,P),N.read()}}X.RelType=e("./rel-type"),a.exports=X}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,a,l){a.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,a,l){(function(f){(function(){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvFormatterStream=void 0;const o=e("stream"),c=e("./formatter");class s extends o.Transform{constructor(i){super({writableObjectMode:i.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=i,this.rowFormatter=new c.RowFormatter(i),this.hasWrittenBOM=!i.writeBOM}transform(i){return this.rowFormatter.rowTransform=i,this}_transform(i,b,d){let u=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(i,(v,x)=>v?(u=!0,d(v)):(x&&x.forEach(m=>{this.push(f.from(m,"utf8"))}),u=!0,d()))}catch(v){if(u)throw v;d(v)}}_flush(i){this.rowFormatter.finish((b,d)=>b?i(b):(d&&d.forEach(u=>{this.push(f.from(u,"utf8"))}),i()))}}l.CsvFormatterStream=s}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.FormatterOptions=void 0,l.FormatterOptions=class{constructor(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,f||{}),(f==null?void 0:f.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(f==null?void 0:f.quote)===!0?this.quote='"':(f==null?void 0:f.quote)===!1&&(this.quote=""),typeof(f==null?void 0:f.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=f.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,a,l){var f=function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(l,"__esModule",{value:!0}),l.FieldFormatter=void 0;const o=f(e("lodash.isboolean")),c=f(e("lodash.isnil")),s=f(e("lodash.escaperegexp"));l.FieldFormatter=class{constructor(r){this._headers=null,this.formatterOptions=r,r.headers!==null&&(this.headers=r.headers),this.REPLACE_REGEXP=new RegExp(r.quote,"g");const i=`[${r.delimiter}${s.default(r.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(i)}set headers(r){this._headers=r}shouldQuote(r,i){const b=i?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(b)?b:Array.isArray(b)?b[r]:this._headers!==null&&b[this._headers[r]]}format(r,i,b){const d=(""+(c.default(r)?"":r)).replace(/\0/g,""),{formatterOptions:u}=this;return u.quote!==""&&d.indexOf(u.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,u.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(i,b)?this.quoteField(d):d}quoteField(r){const{quote:i}=this.formatterOptions;return`${i}${r}${i}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,a,l){var f=function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(l,"__esModule",{value:!0}),l.RowFormatter=void 0;const o=f(e("lodash.isfunction")),c=f(e("lodash.isequal")),s=e("./FieldFormatter"),r=e("../types");class i{constructor(d){this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new s.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}static isRowHashArray(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}static isRowArray(d){return Array.isArray(d)&&!this.isRowHashArray(d)}static gatherHeaders(d){return i.isRowHashArray(d)?d.map(u=>u[0]):Array.isArray(d)?d:Object.keys(d)}static createTransform(d){return r.isSyncTransform(d)?(u,v)=>{let x=null;try{x=d(u)}catch(m){return v(m)}return v(null,x)}:(u,v)=>{d(u,v)}}set rowTransform(d){if(!o.default(d))throw new TypeError("The transform should be a function");this._rowTransform=i.createTransform(d)}format(d,u){this.callTransformer(d,(v,x)=>{if(v)return u(v);if(!d)return u(null);const m=[];if(x){const{shouldFormatColumns:g,headers:y}=this.checkHeaders(x);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),g){const C=this.gatherColumns(x);m.push(this.formatColumns(C,!1))}}return u(null,m)})}finish(d){const u=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));u.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&u.push(this.formatterOptions.rowDelimiter),d(null,u)}checkHeaders(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const u=i.gatherHeaders(d);return this.headers=u,this.fieldFormatter.headers=u,this.shouldWriteHeaders?{shouldFormatColumns:!c.default(u,d),headers:u}:{shouldFormatColumns:!0,headers:null}}gatherColumns(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?i.isRowHashArray(d)?this.headers.map((u,v)=>{const x=d[v];return x?x[1]:""}):i.isRowArray(d)&&!this.shouldWriteHeaders?d:this.headers.map((u,v)=>d[v]):this.headers.map(u=>d[u])}callTransformer(d,u){return this._rowTransform?this._rowTransform(d,u):u(null,d)}formatColumns(d,u){const v=d.map((m,g)=>this.fieldFormatter.format(m,g,u)).join(this.formatterOptions.delimiter),{rowCount:x}=this;return this.rowCount+=1,x?[this.formatterOptions.rowDelimiter,v].join(""):v}}l.RowFormatter=i},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.FieldFormatter=l.RowFormatter=void 0;var f=e("./RowFormatter");Object.defineProperty(l,"RowFormatter",{enumerable:!0,get:function(){return f.RowFormatter}});var o=e("./FieldFormatter");Object.defineProperty(l,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,a,l){(function(f){(function(){var o=Object.create?function(g,y,C,E){E===void 0&&(E=C),Object.defineProperty(g,E,{enumerable:!0,get:function(){return y[C]}})}:function(g,y,C,E){E===void 0&&(E=C),g[E]=y[C]},c=Object.create?function(g,y){Object.defineProperty(g,"default",{enumerable:!0,value:y})}:function(g,y){g.default=y},s=function(g){if(g&&g.__esModule)return g;var y={};if(g!=null)for(var C in g)C!=="default"&&Object.prototype.hasOwnProperty.call(g,C)&&o(y,g,C);return c(y,g),y},r=function(g,y){for(var C in g)C==="default"||Object.prototype.hasOwnProperty.call(y,C)||o(y,g,C)};Object.defineProperty(l,"__esModule",{value:!0}),l.writeToPath=l.writeToString=l.writeToBuffer=l.writeToStream=l.write=l.format=l.FormatterOptions=l.CsvFormatterStream=void 0;const i=e("util"),b=e("stream"),d=s(e("fs")),u=e("./FormatterOptions"),v=e("./CsvFormatterStream");r(e("./types"),l);var x=e("./CsvFormatterStream");Object.defineProperty(l,"CsvFormatterStream",{enumerable:!0,get:function(){return x.CsvFormatterStream}});var m=e("./FormatterOptions");Object.defineProperty(l,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),l.format=g=>new v.CsvFormatterStream(new u.FormatterOptions(g)),l.write=(g,y)=>{const C=l.format(y),E=i.promisify((A,D)=>{C.write(A,void 0,D)});return g.reduce((A,D)=>A.then(()=>E(D)),Promise.resolve()).then(()=>C.end()).catch(A=>{C.emit("error",A)}),C},l.writeToStream=(g,y,C)=>l.write(y,C).pipe(g),l.writeToBuffer=function(g){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const C=[],E=new b.Writable({write(A,D,q){C.push(A),q()}});return new Promise((A,D)=>{E.on("error",D).on("finish",()=>A(f.concat(C))),l.write(g,y).pipe(E)})},l.writeToString=(g,y)=>l.writeToBuffer(g,y).then(C=>C.toString()),l.writeToPath=(g,y,C)=>{const E=d.createWriteStream(g,{encoding:"utf8"});return l.write(y,C).pipe(E)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.isSyncTransform=void 0,l.isSyncTransform=f=>f.length===1},{}],153:[function(e,a,l){(function(f){(function(){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvParserStream=void 0;const o=e("string_decoder"),c=e("stream"),s=e("./transforms"),r=e("./parser");class i extends c.Transform{constructor(d){super({objectMode:d.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=d,this.parser=new r.Parser(d),this.headerTransformer=new s.HeaderTransformer(d),this.decoder=new o.StringDecoder(d.encoding),this.rowTransformerValidator=new s.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(d){return this.rowTransformerValidator.rowTransform=d,this}validate(d){return this.rowTransformerValidator.rowValidator=d,this}emit(d){if(d==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var u=arguments.length,v=new Array(u>1?u-1:0),x=1;x<u;x++)v[x-1]=arguments[x];return super.emit(d,...v)}_transform(d,u,v){if(this.hasHitRowLimit)return v();const x=i.wrapDoneCallback(v);try{const{lines:m}=this,g=m+this.decoder.write(d),y=this.parse(g,!0);return this.processRows(y,x)}catch(m){return x(m)}}_flush(d){const u=i.wrapDoneCallback(d);if(this.hasHitRowLimit)return u();try{const v=this.lines+this.decoder.end(),x=this.parse(v,!1);return this.processRows(x,u)}catch(v){return u(v)}}parse(d,u){if(!d)return[];const{line:v,rows:x}=this.parser.parse(d,u);return this.lines=v,x}processRows(d,u){const v=d.length,x=m=>{const g=E=>E?u(E):m%100!=0?x(m+1):void f(()=>x(m+1));if(this.checkAndEmitHeaders(),m>=v||this.hasHitRowLimit)return u();if(this.parsedLineCount+=1,this.shouldSkipLine)return g();const y=d[m];this.rowCount+=1,this.parsedRowCount+=1;const C=this.rowCount;return this.transformRow(y,(E,A)=>{if(E)return this.rowCount-=1,g(E);if(!A)return g(new Error("expected transform result"));if(A.isValid){if(A.row)return this.pushRow(A.row,g)}else this.emit("data-invalid",A.row,C,A.reason);return g()})};x(0)}transformRow(d,u){try{this.headerTransformer.transform(d,(v,x)=>v?u(v):x?x.isValid?x.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(x.row,u):this.skipRow(u):(this.rowCount-=1,this.parsedRowCount-=1,u(null,{row:null,isValid:!0})):this.shouldEmitRows?u(null,{isValid:!1,row:d}):this.skipRow(u):u(new Error("Expected result from header transform")))}catch(v){u(v)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(d){return this.rowCount-=1,d(null,{row:null,isValid:!0})}pushRow(d,u){try{this.parserOptions.objectMode?this.push(d):this.push(JSON.stringify(d)),u()}catch(v){u(v)}}static wrapDoneCallback(d){let u=!1;return function(v){if(v){if(u)throw v;return u=!0,void d(v)}for(var x=arguments.length,m=new Array(x>1?x-1:0),g=1;g<x;g++)m[g-1]=arguments[g];d(...m)}}}l.CsvParserStream=i}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,a,l){var f=function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0}),l.ParserOptions=void 0;const o=f(e("lodash.escaperegexp")),c=f(e("lodash.isnil"));l.ParserOptions=class{constructor(s){var r;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,s||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(r=this.escape)!==null&&r!==void 0?r:this.quote,this.supportsComments=!c.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,a,l){var f=Object.create?function(x,m,g,y){y===void 0&&(y=g),Object.defineProperty(x,y,{enumerable:!0,get:function(){return m[g]}})}:function(x,m,g,y){y===void 0&&(y=g),x[y]=m[g]},o=Object.create?function(x,m){Object.defineProperty(x,"default",{enumerable:!0,value:m})}:function(x,m){x.default=m},c=function(x){if(x&&x.__esModule)return x;var m={};if(x!=null)for(var g in x)g!=="default"&&Object.prototype.hasOwnProperty.call(x,g)&&f(m,x,g);return o(m,x),m},s=function(x,m){for(var g in x)g==="default"||Object.prototype.hasOwnProperty.call(m,g)||f(m,x,g)};Object.defineProperty(l,"__esModule",{value:!0}),l.parseString=l.parseFile=l.parseStream=l.parse=l.ParserOptions=l.CsvParserStream=void 0;const r=c(e("fs")),i=e("stream"),b=e("./ParserOptions"),d=e("./CsvParserStream");s(e("./types"),l);var u=e("./CsvParserStream");Object.defineProperty(l,"CsvParserStream",{enumerable:!0,get:function(){return u.CsvParserStream}});var v=e("./ParserOptions");Object.defineProperty(l,"ParserOptions",{enumerable:!0,get:function(){return v.ParserOptions}}),l.parse=x=>new d.CsvParserStream(new b.ParserOptions(x)),l.parseStream=(x,m)=>x.pipe(new d.CsvParserStream(new b.ParserOptions(m))),l.parseFile=function(x){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.createReadStream(x).pipe(new d.CsvParserStream(new b.ParserOptions(m)))},l.parseString=(x,m)=>{const g=new i.Readable;return g.push(x),g.push(null),g.pipe(new d.CsvParserStream(new b.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Parser=void 0;const f=e("./Scanner"),o=e("./RowParser"),c=e("./Token");class s{constructor(i){this.parserOptions=i,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(i){return i&&i.charCodeAt(0)===65279?i.slice(1):i}parse(i,b){const d=new f.Scanner({line:s.removeBOM(i),parserOptions:this.parserOptions,hasMoreData:b});return this.parserOptions.supportsComments?this.parseWithComments(d):this.parseWithoutComments(d)}parseWithoutComments(i){const b=[];let d=!0;for(;d;)d=this.parseRow(i,b);return{line:i.line,rows:b}}parseWithComments(i){const{parserOptions:b}=this,d=[];for(let u=i.nextCharacterToken;u!==null;u=i.nextCharacterToken)if(c.Token.isTokenComment(u,b)){if(i.advancePastLine()===null)return{line:i.lineFromCursor,rows:d};if(!i.hasMoreCharacters)return{line:i.lineFromCursor,rows:d};i.truncateToCursor()}else if(!this.parseRow(i,d))break;return{line:i.line,rows:d}}parseRow(i,b){if(!i.nextNonSpaceToken)return!1;const d=this.rowParser.parse(i);return d!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(d)||b.push(d),!0)}}l.Parser=s},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.RowParser=void 0;const f=e("./column"),o=e("./Token");l.RowParser=class{constructor(c){this.parserOptions=c,this.columnParser=new f.ColumnParser(c)}static isEmptyRow(c){return c.join("").replace(/\s+/g,"")===""}parse(c){const{parserOptions:s}=this,{hasMoreData:r}=c,i=c,b=[];let d=this.getStartToken(i,b);for(;d;){if(o.Token.isTokenRowDelimiter(d))return i.advancePastToken(d),!i.hasMoreCharacters&&o.Token.isTokenCarriageReturn(d,s)&&r?null:(i.truncateToCursor(),b);if(!this.shouldSkipColumnParse(i,d,b)){const u=this.columnParser.parse(i);if(u===null)return null;b.push(u)}d=i.nextNonSpaceToken}return r?null:(i.truncateToCursor(),b)}getStartToken(c,s){const r=c.nextNonSpaceToken;return r!==null&&o.Token.isTokenDelimiter(r,this.parserOptions)?(s.push(""),c.nextNonSpaceToken):r}shouldSkipColumnParse(c,s,r){const{parserOptions:i}=this;if(o.Token.isTokenDelimiter(s,i)){c.advancePastToken(s);const b=c.nextCharacterToken;if(!c.hasMoreCharacters||b!==null&&o.Token.isTokenRowDelimiter(b)||b!==null&&o.Token.isTokenDelimiter(b,i))return r.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Scanner=void 0;const f=e("./Token"),o=/((?:\r\n)|\n|\r)/;l.Scanner=class{constructor(c){this.cursor=0,this.line=c.line,this.lineLength=this.line.length,this.parserOptions=c.parserOptions,this.hasMoreData=c.hasMoreData,this.cursor=c.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:c}=this,s=this.parserOptions.NEXT_TOKEN_REGEXP;if(c.search(s)===-1)return null;const r=s.exec(c);if(r==null)return null;const i=r[1],b=this.cursor+(r.index||0);return new f.Token({token:i,startCursor:b,endCursor:b+i.length-1})}get nextCharacterToken(){const{cursor:c,lineLength:s}=this;return s<=c?null:new f.Token({token:this.line[c],startCursor:c,endCursor:c})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const c=o.exec(this.lineFromCursor);return c?(this.cursor+=(c.index||0)+c[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(c){return this.cursor=c,this}advanceToToken(c){return this.cursor=c.startCursor,this}advancePastToken(c){return this.cursor=c.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Token=void 0,l.Token=class{constructor(f){this.token=f.token,this.startCursor=f.startCursor,this.endCursor=f.endCursor}static isTokenRowDelimiter(f){const o=f.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(f,o){return f.token===o.carriageReturn}static isTokenComment(f,o){return o.supportsComments&&!!f&&f.token===o.comment}static isTokenEscapeCharacter(f,o){return f.token===o.escapeChar}static isTokenQuote(f,o){return f.token===o.quote}static isTokenDelimiter(f,o){return f.token===o.delimiter}}},{}],160:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnFormatter=void 0,l.ColumnFormatter=class{constructor(f){f.trim?this.format=o=>o.trim():f.ltrim?this.format=o=>o.trimLeft():f.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnParser=void 0;const f=e("./NonQuotedColumnParser"),o=e("./QuotedColumnParser"),c=e("../Token");l.ColumnParser=class{constructor(s){this.parserOptions=s,this.quotedColumnParser=new o.QuotedColumnParser(s),this.nonQuotedColumnParser=new f.NonQuotedColumnParser(s)}parse(s){const{nextNonSpaceToken:r}=s;return r!==null&&c.Token.isTokenQuote(r,this.parserOptions)?(s.advanceToToken(r),this.quotedColumnParser.parse(s)):this.nonQuotedColumnParser.parse(s)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.NonQuotedColumnParser=void 0;const f=e("./ColumnFormatter"),o=e("../Token");l.NonQuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new f.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const{parserOptions:s}=this,r=[];let i=c.nextCharacterToken;for(;i&&!o.Token.isTokenDelimiter(i,s)&&!o.Token.isTokenRowDelimiter(i);i=c.nextCharacterToken)r.push(i.token),c.advancePastToken(i);return this.columnFormatter.format(r.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.QuotedColumnParser=void 0;const f=e("./ColumnFormatter"),o=e("../Token");l.QuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new f.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const s=c.cursor,{foundClosingQuote:r,col:i}=this.gatherDataBetweenQuotes(c);if(!r){if(c.advanceTo(s),!c.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${c.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(c),i}gatherDataBetweenQuotes(c){const{parserOptions:s}=this;let r=!1,i=!1;const b=[];let d=c.nextCharacterToken;for(;!i&&d!==null;d=c.nextCharacterToken){const u=o.Token.isTokenQuote(d,s);if(!r&&u)r=!0;else if(r)if(o.Token.isTokenEscapeCharacter(d,s)){c.advancePastToken(d);const v=c.nextCharacterToken;v!==null&&(o.Token.isTokenQuote(v,s)||o.Token.isTokenEscapeCharacter(v,s))?(b.push(v.token),d=v):u?i=!0:b.push(d.token)}else u?i=!0:b.push(d.token);c.advancePastToken(d)}return{col:this.columnFormatter.format(b.join("")),foundClosingQuote:i}}checkForMalformedColumn(c){const{parserOptions:s}=this,{nextNonSpaceToken:r}=c;if(r){const i=o.Token.isTokenDelimiter(r,s),b=o.Token.isTokenRowDelimiter(r);if(!i&&!b){const d=c.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${s.escapedDelimiter}' OR new line got: '${r.token}'. at '${d}`)}c.advanceToToken(r)}else c.hasMoreData||c.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnFormatter=l.QuotedColumnParser=l.NonQuotedColumnParser=l.ColumnParser=void 0;var f=e("./ColumnParser");Object.defineProperty(l,"ColumnParser",{enumerable:!0,get:function(){return f.ColumnParser}});var o=e("./NonQuotedColumnParser");Object.defineProperty(l,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var c=e("./QuotedColumnParser");Object.defineProperty(l,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}});var s=e("./ColumnFormatter");Object.defineProperty(l,"ColumnFormatter",{enumerable:!0,get:function(){return s.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.QuotedColumnParser=l.NonQuotedColumnParser=l.ColumnParser=l.Token=l.Scanner=l.RowParser=l.Parser=void 0;var f=e("./Parser");Object.defineProperty(l,"Parser",{enumerable:!0,get:function(){return f.Parser}});var o=e("./RowParser");Object.defineProperty(l,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var c=e("./Scanner");Object.defineProperty(l,"Scanner",{enumerable:!0,get:function(){return c.Scanner}});var s=e("./Token");Object.defineProperty(l,"Token",{enumerable:!0,get:function(){return s.Token}});var r=e("./column");Object.defineProperty(l,"ColumnParser",{enumerable:!0,get:function(){return r.ColumnParser}}),Object.defineProperty(l,"NonQuotedColumnParser",{enumerable:!0,get:function(){return r.NonQuotedColumnParser}}),Object.defineProperty(l,"QuotedColumnParser",{enumerable:!0,get:function(){return r.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,a,l){var f=function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0}),l.HeaderTransformer=void 0;const o=f(e("lodash.isundefined")),c=f(e("lodash.isfunction")),s=f(e("lodash.uniq")),r=f(e("lodash.groupby"));l.HeaderTransformer=class{constructor(i){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=i,i.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(i.headers)?this.setHeaders(i.headers):c.default(i.headers)&&(this.headersTransform=i.headers)}transform(i,b){return this.shouldMapRow(i)?b(null,this.processRow(i)):b(null,{row:null,isValid:!0})}shouldMapRow(i){const{parserOptions:b}=this;if(!this.headersTransform&&b.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(i)){if(this.headersTransform)this.setHeaders(this.headersTransform(i));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(i)}return!1}return!0}processRow(i){if(!this.headers)return{row:i,isValid:!0};const{parserOptions:b}=this;if(!b.discardUnmappedColumns&&i.length>this.headersLength){if(!b.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${i.length}`);return{row:i,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${i.length}`}}return b.strictColumnHandling&&i.length<this.headersLength?{row:i,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${i.length}`}:{row:this.mapHeaders(i),isValid:!0}}mapHeaders(i){const b={},{headers:d,headersLength:u}=this;for(let v=0;v<u;v+=1){const x=d[v];if(!o.default(x)){const m=i[v];o.default(m)?b[x]="":b[x]=m}}return b}setHeaders(i){var b;const d=i.filter(u=>!!u);if(s.default(d).length!==d.length){const u=r.default(d),v=Object.keys(u).filter(x=>u[x].length>1);throw new Error("Duplicate headers found "+JSON.stringify(v))}this.headers=i,this.receivedHeaders=!0,this.headersLength=((b=this.headers)===null||b===void 0?void 0:b.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,a,l){var f=function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(l,"__esModule",{value:!0}),l.RowTransformerValidator=void 0;const o=f(e("lodash.isfunction")),c=e("../types");class s{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(i){return c.isSyncTransform(i)?(b,d)=>{let u=null;try{u=i(b)}catch(v){return d(v)}return d(null,u)}:i}static createValidator(i){return c.isSyncValidate(i)?(b,d)=>{d(null,{row:b,isValid:i(b)})}:(b,d)=>{i(b,(u,v,x)=>u?d(u):d(null,v?{row:b,isValid:v,reason:x}:{row:b,isValid:!1,reason:x}))}}set rowTransform(i){if(!o.default(i))throw new TypeError("The transform should be a function");this._rowTransform=s.createTransform(i)}set rowValidator(i){if(!o.default(i))throw new TypeError("The validate should be a function");this._rowValidator=s.createValidator(i)}transformAndValidate(i,b){return this.callTransformer(i,(d,u)=>d?b(d):u?this.callValidator(u,(v,x)=>v?b(v):x&&!x.isValid?b(null,{row:u,isValid:!1,reason:x.reason}):b(null,{row:u,isValid:!0})):b(null,{row:null,isValid:!0}))}callTransformer(i,b){return this._rowTransform?this._rowTransform(i,b):b(null,i)}callValidator(i,b){return this._rowValidator?this._rowValidator(i,b):b(null,{row:i,isValid:!0})}}l.RowTransformerValidator=s},{"../types":169,"lodash.isfunction":446}],168:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.HeaderTransformer=l.RowTransformerValidator=void 0;var f=e("./RowTransformerValidator");Object.defineProperty(l,"RowTransformerValidator",{enumerable:!0,get:function(){return f.RowTransformerValidator}});var o=e("./HeaderTransformer");Object.defineProperty(l,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.isSyncValidate=l.isSyncTransform=void 0,l.isSyncTransform=f=>f.length===1,l.isSyncValidate=f=>f.length===1},{}],170:[function(e,a,l){const f=l;f.bignum=e("bn.js"),f.define=e("./asn1/api").define,f.base=e("./asn1/base"),f.constants=e("./asn1/constants"),f.decoders=e("./asn1/decoders"),f.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,a,l){const f=e("./encoders"),o=e("./decoders"),c=e("inherits");function s(r,i){this.name=r,this.body=i,this.decoders={},this.encoders={}}l.define=function(r,i){return new s(r,i)},s.prototype._createNamed=function(r){const i=this.name;function b(d){this._initNamed(d,i)}return c(b,r),b.prototype._initNamed=function(d,u){r.call(this,d,u)},new b(this)},s.prototype._getDecoder=function(r){return r=r||"der",this.decoders.hasOwnProperty(r)||(this.decoders[r]=this._createNamed(o[r])),this.decoders[r]},s.prototype.decode=function(r,i,b){return this._getDecoder(i).decode(r,b)},s.prototype._getEncoder=function(r){return r=r||"der",this.encoders.hasOwnProperty(r)||(this.encoders[r]=this._createNamed(f[r])),this.encoders[r]},s.prototype.encode=function(r,i,b){return this._getEncoder(i).encode(r,b)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,a,l){const f=e("inherits"),o=e("../base/reporter").Reporter,c=e("safer-buffer").Buffer;function s(i,b){o.call(this,b),c.isBuffer(i)?(this.base=i,this.offset=0,this.length=i.length):this.error("Input not Buffer")}function r(i,b){if(Array.isArray(i))this.length=0,this.value=i.map(function(d){return r.isEncoderBuffer(d)||(d=new r(d,b)),this.length+=d.length,d},this);else if(typeof i=="number"){if(!(0<=i&&i<=255))return b.error("non-byte EncoderBuffer value");this.value=i,this.length=1}else if(typeof i=="string")this.value=i,this.length=c.byteLength(i);else{if(!c.isBuffer(i))return b.error("Unsupported type: "+typeof i);this.value=i,this.length=i.length}}f(s,o),l.DecoderBuffer=s,s.isDecoderBuffer=function(i){return i instanceof s?!0:typeof i=="object"&&c.isBuffer(i.base)&&i.constructor.name==="DecoderBuffer"&&typeof i.offset=="number"&&typeof i.length=="number"&&typeof i.save=="function"&&typeof i.restore=="function"&&typeof i.isEmpty=="function"&&typeof i.readUInt8=="function"&&typeof i.skip=="function"&&typeof i.raw=="function"},s.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},s.prototype.restore=function(i){const b=new s(this.base);return b.offset=i.offset,b.length=this.offset,this.offset=i.offset,o.prototype.restore.call(this,i.reporter),b},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(i){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(i||"DecoderBuffer overrun")},s.prototype.skip=function(i,b){if(!(this.offset+i<=this.length))return this.error(b||"DecoderBuffer overrun");const d=new s(this.base);return d._reporterState=this._reporterState,d.offset=this.offset,d.length=this.offset+i,this.offset+=i,d},s.prototype.raw=function(i){return this.base.slice(i?i.offset:this.offset,this.length)},l.EncoderBuffer=r,r.isEncoderBuffer=function(i){return i instanceof r?!0:typeof i=="object"&&i.constructor.name==="EncoderBuffer"&&typeof i.length=="number"&&typeof i.join=="function"},r.prototype.join=function(i,b){return i||(i=c.alloc(this.length)),b||(b=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(d){d.join(i,b),b+=d.length}):(typeof this.value=="number"?i[b]=this.value:typeof this.value=="string"?i.write(this.value,b):c.isBuffer(this.value)&&this.value.copy(i,b),b+=this.length)),i}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,a,l){const f=l;f.Reporter=e("./reporter").Reporter,f.DecoderBuffer=e("./buffer").DecoderBuffer,f.EncoderBuffer=e("./buffer").EncoderBuffer,f.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,a,l){const f=e("../base/reporter").Reporter,o=e("../base/buffer").EncoderBuffer,c=e("../base/buffer").DecoderBuffer,s=e("minimalistic-assert"),r=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],i=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(r);function b(u,v,x){const m={};this._baseState=m,m.name=x,m.enc=u,m.parent=v||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}a.exports=b;const d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];b.prototype.clone=function(){const u=this._baseState,v={};d.forEach(function(m){v[m]=u[m]});const x=new this.constructor(v.parent);return x._baseState=v,x},b.prototype._wrap=function(){const u=this._baseState;i.forEach(function(v){this[v]=function(){const x=new this.constructor(this);return u.children.push(x),x[v].apply(x,arguments)}},this)},b.prototype._init=function(u){const v=this._baseState;s(v.parent===null),u.call(this),v.children=v.children.filter(function(x){return x._baseState.parent===this},this),s.equal(v.children.length,1,"Root node can have only one child")},b.prototype._useArgs=function(u){const v=this._baseState,x=u.filter(function(m){return m instanceof this.constructor},this);u=u.filter(function(m){return!(m instanceof this.constructor)},this),x.length!==0&&(s(v.children===null),v.children=x,x.forEach(function(m){m._baseState.parent=this},this)),u.length!==0&&(s(v.args===null),v.args=u,v.reverseArgs=u.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;const g={};return Object.keys(m).forEach(function(y){y==(0|y)&&(y|=0);const C=m[y];g[C]=y}),g}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(u){b.prototype[u]=function(){const v=this._baseState;throw new Error(u+" not implemented for encoding: "+v.enc)}}),r.forEach(function(u){b.prototype[u]=function(){const v=this._baseState,x=Array.prototype.slice.call(arguments);return s(v.tag===null),v.tag=u,this._useArgs(x),this}}),b.prototype.use=function(u){s(u);const v=this._baseState;return s(v.use===null),v.use=u,this},b.prototype.optional=function(){return this._baseState.optional=!0,this},b.prototype.def=function(u){const v=this._baseState;return s(v.default===null),v.default=u,v.optional=!0,this},b.prototype.explicit=function(u){const v=this._baseState;return s(v.explicit===null&&v.implicit===null),v.explicit=u,this},b.prototype.implicit=function(u){const v=this._baseState;return s(v.explicit===null&&v.implicit===null),v.implicit=u,this},b.prototype.obj=function(){const u=this._baseState,v=Array.prototype.slice.call(arguments);return u.obj=!0,v.length!==0&&this._useArgs(v),this},b.prototype.key=function(u){const v=this._baseState;return s(v.key===null),v.key=u,this},b.prototype.any=function(){return this._baseState.any=!0,this},b.prototype.choice=function(u){const v=this._baseState;return s(v.choice===null),v.choice=u,this._useArgs(Object.keys(u).map(function(x){return u[x]})),this},b.prototype.contains=function(u){const v=this._baseState;return s(v.use===null),v.contains=u,this},b.prototype._decode=function(u,v){const x=this._baseState;if(x.parent===null)return u.wrapResult(x.children[0]._decode(u,v));let m,g=x.default,y=!0,C=null;if(x.key!==null&&(C=u.enterKey(x.key)),x.optional){let E=null;if(x.explicit!==null?E=x.explicit:x.implicit!==null?E=x.implicit:x.tag!==null&&(E=x.tag),E!==null||x.any){if(y=this._peekTag(u,E,x.any),u.isError(y))return y}else{const A=u.save();try{x.choice===null?this._decodeGeneric(x.tag,u,v):this._decodeChoice(u,v),y=!0}catch{y=!1}u.restore(A)}}if(x.obj&&y&&(m=u.enterObject()),y){if(x.explicit!==null){const A=this._decodeTag(u,x.explicit);if(u.isError(A))return A;u=A}const E=u.offset;if(x.use===null&&x.choice===null){let A;x.any&&(A=u.save());const D=this._decodeTag(u,x.implicit!==null?x.implicit:x.tag,x.any);if(u.isError(D))return D;x.any?g=u.raw(A):u=D}if(v&&v.track&&x.tag!==null&&v.track(u.path(),E,u.length,"tagged"),v&&v.track&&x.tag!==null&&v.track(u.path(),u.offset,u.length,"content"),x.any||(g=x.choice===null?this._decodeGeneric(x.tag,u,v):this._decodeChoice(u,v)),u.isError(g))return g;if(x.any||x.choice!==null||x.children===null||x.children.forEach(function(A){A._decode(u,v)}),x.contains&&(x.tag==="octstr"||x.tag==="bitstr")){const A=new c(g);g=this._getUse(x.contains,u._reporterState.obj)._decode(A,v)}}return x.obj&&y&&(g=u.leaveObject(m)),x.key===null||g===null&&y!==!0?C!==null&&u.exitKey(C):u.leaveKey(C,x.key,g),g},b.prototype._decodeGeneric=function(u,v,x){const m=this._baseState;return u==="seq"||u==="set"?null:u==="seqof"||u==="setof"?this._decodeList(v,u,m.args[0],x):/str$/.test(u)?this._decodeStr(v,u,x):u==="objid"&&m.args?this._decodeObjid(v,m.args[0],m.args[1],x):u==="objid"?this._decodeObjid(v,null,null,x):u==="gentime"||u==="utctime"?this._decodeTime(v,u,x):u==="null_"?this._decodeNull(v,x):u==="bool"?this._decodeBool(v,x):u==="objDesc"?this._decodeStr(v,u,x):u==="int"||u==="enum"?this._decodeInt(v,m.args&&m.args[0],x):m.use!==null?this._getUse(m.use,v._reporterState.obj)._decode(v,x):v.error("unknown tag: "+u)},b.prototype._getUse=function(u,v){const x=this._baseState;return x.useDecoder=this._use(u,v),s(x.useDecoder._baseState.parent===null),x.useDecoder=x.useDecoder._baseState.children[0],x.implicit!==x.useDecoder._baseState.implicit&&(x.useDecoder=x.useDecoder.clone(),x.useDecoder._baseState.implicit=x.implicit),x.useDecoder},b.prototype._decodeChoice=function(u,v){const x=this._baseState;let m=null,g=!1;return Object.keys(x.choice).some(function(y){const C=u.save(),E=x.choice[y];try{const A=E._decode(u,v);if(u.isError(A))return!1;m={type:y,value:A},g=!0}catch{return u.restore(C),!1}return!0},this),g?m:u.error("Choice not matched")},b.prototype._createEncoderBuffer=function(u){return new o(u,this.reporter)},b.prototype._encode=function(u,v,x){const m=this._baseState;if(m.default!==null&&m.default===u)return;const g=this._encodeValue(u,v,x);return g===void 0||this._skipDefault(g,v,x)?void 0:g},b.prototype._encodeValue=function(u,v,x){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(u,v||new f);let g=null;if(this.reporter=v,m.optional&&u===void 0){if(m.default===null)return;u=m.default}let y=null,C=!1;if(m.any)g=this._createEncoderBuffer(u);else if(m.choice)g=this._encodeChoice(u,v);else if(m.contains)y=this._getUse(m.contains,x)._encode(u,v),C=!0;else if(m.children)y=m.children.map(function(E){if(E._baseState.tag==="null_")return E._encode(null,v,u);if(E._baseState.key===null)return v.error("Child should have a key");const A=v.enterKey(E._baseState.key);if(typeof u!="object")return v.error("Child expected, but input is not object");const D=E._encode(u[E._baseState.key],v,u);return v.leaveKey(A),D},this).filter(function(E){return E}),y=this._createEncoderBuffer(y);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return v.error("Too many args for : "+m.tag);if(!Array.isArray(u))return v.error("seqof/setof, but data is not Array");const E=this.clone();E._baseState.implicit=null,y=this._createEncoderBuffer(u.map(function(A){const D=this._baseState;return this._getUse(D.args[0],u)._encode(A,v)},E))}else m.use!==null?g=this._getUse(m.use,x)._encode(u,v):(y=this._encodePrimitive(m.tag,u),C=!0);if(!m.any&&m.choice===null){const E=m.implicit!==null?m.implicit:m.tag,A=m.implicit===null?"universal":"context";E===null?m.use===null&&v.error("Tag could be omitted only for .use()"):m.use===null&&(g=this._encodeComposite(E,C,A,y))}return m.explicit!==null&&(g=this._encodeComposite(m.explicit,!1,"context",g)),g},b.prototype._encodeChoice=function(u,v){const x=this._baseState,m=x.choice[u.type];return m||s(!1,u.type+" not found in "+JSON.stringify(Object.keys(x.choice))),m._encode(u.value,v)},b.prototype._encodePrimitive=function(u,v){const x=this._baseState;if(/str$/.test(u))return this._encodeStr(v,u);if(u==="objid"&&x.args)return this._encodeObjid(v,x.reverseArgs[0],x.args[1]);if(u==="objid")return this._encodeObjid(v,null,null);if(u==="gentime"||u==="utctime")return this._encodeTime(v,u);if(u==="null_")return this._encodeNull();if(u==="int"||u==="enum")return this._encodeInt(v,x.args&&x.reverseArgs[0]);if(u==="bool")return this._encodeBool(v);if(u==="objDesc")return this._encodeStr(v,u);throw new Error("Unsupported tag: "+u)},b.prototype._isNumstr=function(u){return/^[0-9 ]*$/.test(u)},b.prototype._isPrintstr=function(u){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(u)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,a,l){const f=e("inherits");function o(s){this._reporterState={obj:null,path:[],options:s||{},errors:[]}}function c(s,r){this.path=s,this.rethrow(r)}l.Reporter=o,o.prototype.isError=function(s){return s instanceof c},o.prototype.save=function(){const s=this._reporterState;return{obj:s.obj,pathLen:s.path.length}},o.prototype.restore=function(s){const r=this._reporterState;r.obj=s.obj,r.path=r.path.slice(0,s.pathLen)},o.prototype.enterKey=function(s){return this._reporterState.path.push(s)},o.prototype.exitKey=function(s){const r=this._reporterState;r.path=r.path.slice(0,s-1)},o.prototype.leaveKey=function(s,r,i){const b=this._reporterState;this.exitKey(s),b.obj!==null&&(b.obj[r]=i)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const s=this._reporterState,r=s.obj;return s.obj={},r},o.prototype.leaveObject=function(s){const r=this._reporterState,i=r.obj;return r.obj=s,i},o.prototype.error=function(s){let r;const i=this._reporterState,b=s instanceof c;if(r=b?s:new c(i.path.map(function(d){return"["+JSON.stringify(d)+"]"}).join(""),s.message||s,s.stack),!i.options.partial)throw r;return b||i.errors.push(r),r},o.prototype.wrapResult=function(s){const r=this._reporterState;return r.options.partial?{result:this.isError(s)?null:s,errors:r.errors}:s},f(c,Error),c.prototype.rethrow=function(s){if(this.message=s+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,c),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}},{inherits:440}],176:[function(e,a,l){function f(o){const c={};return Object.keys(o).forEach(function(s){(0|s)==s&&(s|=0);const r=o[s];c[r]=s}),c}l.tagClass={0:"universal",1:"application",2:"context",3:"private"},l.tagClassByName=f(l.tagClass),l.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},l.tagByName=f(l.tag)},{}],177:[function(e,a,l){const f=l;f._reverse=function(o){const c={};return Object.keys(o).forEach(function(s){(0|s)==s&&(s|=0);const r=o[s];c[r]=s}),c},f.der=e("./der")},{"./der":176}],178:[function(e,a,l){const f=e("inherits"),o=e("bn.js"),c=e("../base/buffer").DecoderBuffer,s=e("../base/node"),r=e("../constants/der");function i(v){this.enc="der",this.name=v.name,this.entity=v,this.tree=new b,this.tree._init(v.body)}function b(v){s.call(this,"der",v)}function d(v,x){let m=v.readUInt8(x);if(v.isError(m))return m;const g=r.tagClass[m>>6],y=(32&m)==0;if((31&m)==31){let C=m;for(m=0;(128&C)==128;){if(C=v.readUInt8(x),v.isError(C))return C;m<<=7,m|=127&C}}else m&=31;return{cls:g,primitive:y,tag:m,tagStr:r.tag[m]}}function u(v,x,m){let g=v.readUInt8(m);if(v.isError(g))return g;if(!x&&g===128)return null;if((128&g)==0)return g;const y=127&g;if(y>4)return v.error("length octect is too long");g=0;for(let C=0;C<y;C++){g<<=8;const E=v.readUInt8(m);if(v.isError(E))return E;g|=E}return g}a.exports=i,i.prototype.decode=function(v,x){return c.isDecoderBuffer(v)||(v=new c(v,x)),this.tree._decode(v,x)},f(b,s),b.prototype._peekTag=function(v,x,m){if(v.isEmpty())return!1;const g=v.save(),y=d(v,'Failed to peek tag: "'+x+'"');return v.isError(y)?y:(v.restore(g),y.tag===x||y.tagStr===x||y.tagStr+"of"===x||m)},b.prototype._decodeTag=function(v,x,m){const g=d(v,'Failed to decode tag of "'+x+'"');if(v.isError(g))return g;let y=u(v,g.primitive,'Failed to get length of "'+x+'"');if(v.isError(y))return y;if(!m&&g.tag!==x&&g.tagStr!==x&&g.tagStr+"of"!==x)return v.error('Failed to match tag: "'+x+'"');if(g.primitive||y!==null)return v.skip(y,'Failed to match body of: "'+x+'"');const C=v.save(),E=this._skipUntilEnd(v,'Failed to skip indefinite length body: "'+this.tag+'"');return v.isError(E)?E:(y=v.offset-C.offset,v.restore(C),v.skip(y,'Failed to match body of: "'+x+'"'))},b.prototype._skipUntilEnd=function(v,x){for(;;){const m=d(v,x);if(v.isError(m))return m;const g=u(v,m.primitive,x);if(v.isError(g))return g;let y;if(y=m.primitive||g!==null?v.skip(g):this._skipUntilEnd(v,x),v.isError(y))return y;if(m.tagStr==="end")break}},b.prototype._decodeList=function(v,x,m,g){const y=[];for(;!v.isEmpty();){const C=this._peekTag(v,"end");if(v.isError(C))return C;const E=m.decode(v,"der",g);if(v.isError(E)&&C)break;y.push(E)}return y},b.prototype._decodeStr=function(v,x){if(x==="bitstr"){const m=v.readUInt8();return v.isError(m)?m:{unused:m,data:v.raw()}}if(x==="bmpstr"){const m=v.raw();if(m.length%2==1)return v.error("Decoding of string type: bmpstr length mismatch");let g="";for(let y=0;y<m.length/2;y++)g+=String.fromCharCode(m.readUInt16BE(2*y));return g}if(x==="numstr"){const m=v.raw().toString("ascii");return this._isNumstr(m)?m:v.error("Decoding of string type: numstr unsupported characters")}if(x==="octstr"||x==="objDesc")return v.raw();if(x==="printstr"){const m=v.raw().toString("ascii");return this._isPrintstr(m)?m:v.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(x)?v.raw().toString():v.error("Decoding of string type: "+x+" unsupported")},b.prototype._decodeObjid=function(v,x,m){let g;const y=[];let C=0,E=0;for(;!v.isEmpty();)E=v.readUInt8(),C<<=7,C|=127&E,(128&E)==0&&(y.push(C),C=0);128&E&&y.push(C);const A=y[0]/40|0,D=y[0]%40;if(g=m?y:[A,D].concat(y.slice(1)),x){let q=x[g.join(" ")];q===void 0&&(q=x[g.join(".")]),q!==void 0&&(g=q)}return g},b.prototype._decodeTime=function(v,x){const m=v.raw().toString();let g,y,C,E,A,D;if(x==="gentime")g=0|m.slice(0,4),y=0|m.slice(4,6),C=0|m.slice(6,8),E=0|m.slice(8,10),A=0|m.slice(10,12),D=0|m.slice(12,14);else{if(x!=="utctime")return v.error("Decoding "+x+" time is not supported yet");g=0|m.slice(0,2),y=0|m.slice(2,4),C=0|m.slice(4,6),E=0|m.slice(6,8),A=0|m.slice(8,10),D=0|m.slice(10,12),g=g<70?2e3+g:1900+g}return Date.UTC(g,y-1,C,E,A,D,0)},b.prototype._decodeNull=function(){return null},b.prototype._decodeBool=function(v){const x=v.readUInt8();return v.isError(x)?x:x!==0},b.prototype._decodeInt=function(v,x){const m=v.raw();let g=new o(m);return x&&(g=x[g.toString(10)]||g),g},b.prototype._use=function(v,x){return typeof v=="function"&&(v=v(x)),v._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,a,l){const f=l;f.der=e("./der"),f.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,a,l){const f=e("inherits"),o=e("safer-buffer").Buffer,c=e("./der");function s(r){c.call(this,r),this.enc="pem"}f(s,c),a.exports=s,s.prototype.decode=function(r,i){const b=r.toString().split(/[\r\n]+/g),d=i.label.toUpperCase(),u=/^-----(BEGIN|END) ([^-]+)-----$/;let v=-1,x=-1;for(let y=0;y<b.length;y++){const C=b[y].match(u);if(C!==null&&C[2]===d){if(v!==-1){if(C[1]!=="END")break;x=y;break}if(C[1]!=="BEGIN")break;v=y}}if(v===-1||x===-1)throw new Error("PEM section not found for: "+d);const m=b.slice(v+1,x).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const g=o.from(m,"base64");return c.prototype.decode.call(this,g,i)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,a,l){const f=e("inherits"),o=e("safer-buffer").Buffer,c=e("../base/node"),s=e("../constants/der");function r(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new i,this.tree._init(d.body)}function i(d){c.call(this,"der",d)}function b(d){return d<10?"0"+d:d}a.exports=r,r.prototype.encode=function(d,u){return this.tree._encode(d,u).join()},f(i,c),i.prototype._encodeComposite=function(d,u,v,x){const m=function(C,E,A,D){let q;if(C==="seqof"?C="seq":C==="setof"&&(C="set"),s.tagByName.hasOwnProperty(C))q=s.tagByName[C];else{if(typeof C!="number"||(0|C)!==C)return D.error("Unknown tag: "+C);q=C}return q>=31?D.error("Multi-octet tag encoding unsupported"):(E||(q|=32),q|=s.tagClassByName[A||"universal"]<<6,q)}(d,u,v,this.reporter);if(x.length<128){const C=o.alloc(2);return C[0]=m,C[1]=x.length,this._createEncoderBuffer([C,x])}let g=1;for(let C=x.length;C>=256;C>>=8)g++;const y=o.alloc(2+g);y[0]=m,y[1]=128|g;for(let C=1+g,E=x.length;E>0;C--,E>>=8)y[C]=255&E;return this._createEncoderBuffer([y,x])},i.prototype._encodeStr=function(d,u){if(u==="bitstr")return this._createEncoderBuffer([0|d.unused,d.data]);if(u==="bmpstr"){const v=o.alloc(2*d.length);for(let x=0;x<d.length;x++)v.writeUInt16BE(d.charCodeAt(x),2*x);return this._createEncoderBuffer(v)}return u==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):u==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(u)||u==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+u+" unsupported")},i.prototype._encodeObjid=function(d,u,v){if(typeof d=="string"){if(!u)return this.reporter.error("string objid given, but no values map found");if(!u.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=u[d].split(/[\s.]+/g);for(let y=0;y<d.length;y++)d[y]|=0}else if(Array.isArray(d)){d=d.slice();for(let y=0;y<d.length;y++)d[y]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!v){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let x=0;for(let y=0;y<d.length;y++){let C=d[y];for(x++;C>=128;C>>=7)x++}const m=o.alloc(x);let g=m.length-1;for(let y=d.length-1;y>=0;y--){let C=d[y];for(m[g--]=127&C;(C>>=7)>0;)m[g--]=128|127&C}return this._createEncoderBuffer(m)},i.prototype._encodeTime=function(d,u){let v;const x=new Date(d);return u==="gentime"?v=[b(x.getUTCFullYear()),b(x.getUTCMonth()+1),b(x.getUTCDate()),b(x.getUTCHours()),b(x.getUTCMinutes()),b(x.getUTCSeconds()),"Z"].join(""):u==="utctime"?v=[b(x.getUTCFullYear()%100),b(x.getUTCMonth()+1),b(x.getUTCDate()),b(x.getUTCHours()),b(x.getUTCMinutes()),b(x.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+u+" time is not supported yet"),this._encodeStr(v,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(d,u){if(typeof d=="string"){if(!u)return this.reporter.error("String int or enum given, but no values map");if(!u.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=u[d]}if(typeof d!="number"&&!o.isBuffer(d)){const m=d.toArray();!d.sign&&128&m[0]&&m.unshift(0),d=o.from(m)}if(o.isBuffer(d)){let m=d.length;d.length===0&&m++;const g=o.alloc(m);return d.copy(g),d.length===0&&(g[0]=0),this._createEncoderBuffer(g)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let v=1;for(let m=d;m>=256;m>>=8)v++;const x=new Array(v);for(let m=x.length-1;m>=0;m--)x[m]=255&d,d>>=8;return 128&x[0]&&x.unshift(0),this._createEncoderBuffer(o.from(x))},i.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},i.prototype._use=function(d,u){return typeof d=="function"&&(d=d(u)),d._getEncoder("der").tree},i.prototype._skipDefault=function(d,u,v){const x=this._baseState;let m;if(x.default===null)return!1;const g=d.join();if(x.defaultBuffer===void 0&&(x.defaultBuffer=this._encodeValue(x.default,u,v).join()),g.length!==x.defaultBuffer.length)return!1;for(m=0;m<g.length;m++)if(g[m]!==x.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,a,l){const f=l;f.der=e("./der"),f.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,a,l){const f=e("inherits"),o=e("./der");function c(s){o.call(this,s),this.enc="pem"}f(c,o),a.exports=c,c.prototype.encode=function(s,r){const i=o.prototype.encode.call(this,s).toString("base64"),b=["-----BEGIN "+r.label+"-----"];for(let d=0;d<i.length;d+=64)b.push(i.slice(d,d+64));return b.push("-----END "+r.label+"-----"),b.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,a,l){(function(f,o){function c(O,P){if(!O)throw new Error(P||"Assertion failed")}function s(O,P){O.super_=P;var N=function(){};N.prototype=P.prototype,O.prototype=new N,O.prototype.constructor=O}function r(O,P,N){if(r.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&(P!=="le"&&P!=="be"||(N=P,P=10),this._init(O||0,P||10,N||"be"))}var i;typeof f=="object"?f.exports=r:(void 0).BN=r,r.BN=r,r.wordSize=26;try{i=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function b(O,P){var N=O.charCodeAt(P);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function d(O,P,N){var _=b(O,N);return N-1>=P&&(_|=b(O,N-1)<<4),_}function u(O,P,N,_){for(var j=0,k=Math.min(O.length,N),T=P;T<k;T++){var M=O.charCodeAt(T)-48;j*=_,j+=M>=49?M-49+10:M>=17?M-17+10:M}return j}r.isBN=function(O){return O instanceof r||O!==null&&typeof O=="object"&&O.constructor.wordSize===r.wordSize&&Array.isArray(O.words)},r.max=function(O,P){return O.cmp(P)>0?O:P},r.min=function(O,P){return O.cmp(P)<0?O:P},r.prototype._init=function(O,P,N){if(typeof O=="number")return this._initNumber(O,P,N);if(typeof O=="object")return this._initArray(O,P,N);P==="hex"&&(P=16),c(P===(0|P)&&P>=2&&P<=36);var _=0;(O=O.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<O.length&&(P===16?this._parseHex(O,_,N):(this._parseBase(O,P,_),N==="le"&&this._initArray(this.toArray(),P,N)))},r.prototype._initNumber=function(O,P,N){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[67108863&O],this.length=1):O<4503599627370496?(this.words=[67108863&O,O/67108864&67108863],this.length=2):(c(O<9007199254740992),this.words=[67108863&O,O/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),P,N)},r.prototype._initArray=function(O,P,N){if(c(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var j,k,T=0;if(N==="be")for(_=O.length-1,j=0;_>=0;_-=3)k=O[_]|O[_-1]<<8|O[_-2]<<16,this.words[j]|=k<<T&67108863,this.words[j+1]=k>>>26-T&67108863,(T+=24)>=26&&(T-=26,j++);else if(N==="le")for(_=0,j=0;_<O.length;_+=3)k=O[_]|O[_+1]<<8|O[_+2]<<16,this.words[j]|=k<<T&67108863,this.words[j+1]=k>>>26-T&67108863,(T+=24)>=26&&(T-=26,j++);return this.strip()},r.prototype._parseHex=function(O,P,N){this.length=Math.ceil((O.length-P)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var j,k=0,T=0;if(N==="be")for(_=O.length-1;_>=P;_-=2)j=d(O,P,_)<<k,this.words[T]|=67108863&j,k>=18?(k-=18,T+=1,this.words[T]|=j>>>26):k+=8;else for(_=(O.length-P)%2==0?P+1:P;_<O.length;_+=2)j=d(O,P,_)<<k,this.words[T]|=67108863&j,k>=18?(k-=18,T+=1,this.words[T]|=j>>>26):k+=8;this.strip()},r.prototype._parseBase=function(O,P,N){this.words=[0],this.length=1;for(var _=0,j=1;j<=67108863;j*=P)_++;_--,j=j/P|0;for(var k=O.length-N,T=k%_,M=Math.min(k,k-T)+N,F=0,$=N;$<M;$+=_)F=u(O,$,$+_,P),this.imuln(j),this.words[0]+F<67108864?this.words[0]+=F:this._iaddn(F);if(T!==0){var V=1;for(F=u(O,$,O.length,P),$=0;$<T;$++)V*=P;this.imuln(V),this.words[0]+F<67108864?this.words[0]+=F:this._iaddn(F)}this.strip()},r.prototype.copy=function(O){O.words=new Array(this.length);for(var P=0;P<this.length;P++)O.words[P]=this.words[P];O.length=this.length,O.negative=this.negative,O.red=this.red},r.prototype.clone=function(){var O=new r(null);return this.copy(O),O},r.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},r.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(O,P,N){N.negative=P.negative^O.negative;var _=O.length+P.length|0;N.length=_,_=_-1|0;var j=0|O.words[0],k=0|P.words[0],T=j*k,M=67108863&T,F=T/67108864|0;N.words[0]=M;for(var $=1;$<_;$++){for(var V=F>>>26,W=67108863&F,ee=Math.min($,P.length-1),U=Math.max(0,$-O.length+1);U<=ee;U++){var Q=$-U|0;V+=(T=(j=0|O.words[Q])*(k=0|P.words[U])+W)/67108864|0,W=67108863&T}N.words[$]=0|W,F=0|V}return F!==0?N.words[$]=0|F:N.length--,N.strip()}r.prototype.toString=function(O,P){var N;if(P=0|P||1,(O=O||10)===16||O==="hex"){N="";for(var _=0,j=0,k=0;k<this.length;k++){var T=this.words[k],M=(16777215&(T<<_|j)).toString(16);N=(j=T>>>24-_&16777215)!==0||k!==this.length-1?v[6-M.length]+M+N:M+N,(_+=2)>=26&&(_-=26,k--)}for(j!==0&&(N=j.toString(16)+N);N.length%P!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(O===(0|O)&&O>=2&&O<=36){var F=x[O],$=m[O];N="";var V=this.clone();for(V.negative=0;!V.isZero();){var W=V.modn($).toString(O);N=(V=V.idivn($)).isZero()?W+N:v[F-W.length]+W+N}for(this.isZero()&&(N="0"+N);N.length%P!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}c(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=67108864*this.words[1]:this.length===3&&this.words[2]===1?O+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(O,P){return c(i!==void 0),this.toArrayLike(i,O,P)},r.prototype.toArray=function(O,P){return this.toArrayLike(Array,O,P)},r.prototype.toArrayLike=function(O,P,N){var _=this.byteLength(),j=N||Math.max(1,_);c(_<=j,"byte array longer than desired length"),c(j>0,"Requested array length <= 0"),this.strip();var k,T,M=P==="le",F=new O(j),$=this.clone();if(M){for(T=0;!$.isZero();T++)k=$.andln(255),$.iushrn(8),F[T]=k;for(;T<j;T++)F[T]=0}else{for(T=0;T<j-_;T++)F[T]=0;for(T=0;!$.isZero();T++)k=$.andln(255),$.iushrn(8),F[j-T-1]=k}return F},Math.clz32?r.prototype._countBits=function(O){return 32-Math.clz32(O)}:r.prototype._countBits=function(O){var P=O,N=0;return P>=4096&&(N+=13,P>>>=13),P>=64&&(N+=7,P>>>=7),P>=8&&(N+=4,P>>>=4),P>=2&&(N+=2,P>>>=2),N+P},r.prototype._zeroBits=function(O){if(O===0)return 26;var P=O,N=0;return(8191&P)==0&&(N+=13,P>>>=13),(127&P)==0&&(N+=7,P>>>=7),(15&P)==0&&(N+=4,P>>>=4),(3&P)==0&&(N+=2,P>>>=2),(1&P)==0&&N++,N},r.prototype.bitLength=function(){var O=this.words[this.length-1],P=this._countBits(O);return 26*(this.length-1)+P},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,P=0;P<this.length;P++){var N=this._zeroBits(this.words[P]);if(O+=N,N!==26)break}return O},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},r.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return this.negative!==0},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var P=0;P<O.length;P++)this.words[P]=this.words[P]|O.words[P];return this.strip()},r.prototype.ior=function(O){return c((this.negative|O.negative)==0),this.iuor(O)},r.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},r.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},r.prototype.iuand=function(O){var P;P=this.length>O.length?O:this;for(var N=0;N<P.length;N++)this.words[N]=this.words[N]&O.words[N];return this.length=P.length,this.strip()},r.prototype.iand=function(O){return c((this.negative|O.negative)==0),this.iuand(O)},r.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},r.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},r.prototype.iuxor=function(O){var P,N;this.length>O.length?(P=this,N=O):(P=O,N=this);for(var _=0;_<N.length;_++)this.words[_]=P.words[_]^N.words[_];if(this!==P)for(;_<P.length;_++)this.words[_]=P.words[_];return this.length=P.length,this.strip()},r.prototype.ixor=function(O){return c((this.negative|O.negative)==0),this.iuxor(O)},r.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},r.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},r.prototype.inotn=function(O){c(typeof O=="number"&&O>=0);var P=0|Math.ceil(O/26),N=O%26;this._expand(P),N>0&&P--;for(var _=0;_<P;_++)this.words[_]=67108863&~this.words[_];return N>0&&(this.words[_]=~this.words[_]&67108863>>26-N),this.strip()},r.prototype.notn=function(O){return this.clone().inotn(O)},r.prototype.setn=function(O,P){c(typeof O=="number"&&O>=0);var N=O/26|0,_=O%26;return this._expand(N+1),this.words[N]=P?this.words[N]|1<<_:this.words[N]&~(1<<_),this.strip()},r.prototype.iadd=function(O){var P,N,_;if(this.negative!==0&&O.negative===0)return this.negative=0,P=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,P=this.isub(O),O.negative=1,P._normSign();this.length>O.length?(N=this,_=O):(N=O,_=this);for(var j=0,k=0;k<_.length;k++)P=(0|N.words[k])+(0|_.words[k])+j,this.words[k]=67108863&P,j=P>>>26;for(;j!==0&&k<N.length;k++)P=(0|N.words[k])+j,this.words[k]=67108863&P,j=P>>>26;if(this.length=N.length,j!==0)this.words[this.length]=j,this.length++;else if(N!==this)for(;k<N.length;k++)this.words[k]=N.words[k];return this},r.prototype.add=function(O){var P;return O.negative!==0&&this.negative===0?(O.negative=0,P=this.sub(O),O.negative^=1,P):O.negative===0&&this.negative!==0?(this.negative=0,P=O.sub(this),this.negative=1,P):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},r.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var P=this.iadd(O);return O.negative=1,P._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var N,_,j=this.cmp(O);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;j>0?(N=this,_=O):(N=O,_=this);for(var k=0,T=0;T<_.length;T++)k=(P=(0|N.words[T])-(0|_.words[T])+k)>>26,this.words[T]=67108863&P;for(;k!==0&&T<N.length;T++)k=(P=(0|N.words[T])+k)>>26,this.words[T]=67108863&P;if(k===0&&T<N.length&&N!==this)for(;T<N.length;T++)this.words[T]=N.words[T];return this.length=Math.max(this.length,T),N!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(O){return this.clone().isub(O)};var y=function(O,P,N){var _,j,k,T=O.words,M=P.words,F=N.words,$=0,V=0|T[0],W=8191&V,ee=V>>>13,U=0|T[1],Q=8191&U,L=U>>>13,I=0|T[2],Z=8191&I,te=I>>>13,ie=0|T[3],se=8191&ie,le=ie>>>13,me=0|T[4],ae=8191&me,re=me>>>13,oe=0|T[5],ue=8191&oe,fe=oe>>>13,be=0|T[6],Ce=8191&be,Ae=be>>>13,Pe=0|T[7],Fe=8191&Pe,pe=Pe>>>13,Ee=0|T[8],He=8191&Ee,Me=Ee>>>13,ve=0|T[9],de=8191&ve,we=ve>>>13,he=0|M[0],ye=8191&he,Te=he>>>13,Be=0|M[1],Ye=8191&Be,at=Be>>>13,ot=0|M[2],Ue=8191&ot,ze=ot>>>13,je=0|M[3],Je=8191&je,nt=je>>>13,$e=0|M[4],Re=8191&$e,De=$e>>>13,Ve=0|M[5],Qe=8191&Ve,lt=Ve>>>13,ct=0|M[6],pt=8191&ct,_e=ct>>>13,Ne=0|M[7],We=8191&Ne,dt=Ne>>>13,vt=0|M[8],ft=8191&vt,kt=vt>>>13,xt=0|M[9],bt=8191&xt,Et=xt>>>13;N.negative=O.negative^P.negative,N.length=19;var Ct=($+(_=Math.imul(W,ye))|0)+((8191&(j=(j=Math.imul(W,Te))+Math.imul(ee,ye)|0))<<13)|0;$=((k=Math.imul(ee,Te))+(j>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,_=Math.imul(Q,ye),j=(j=Math.imul(Q,Te))+Math.imul(L,ye)|0,k=Math.imul(L,Te);var wt=($+(_=_+Math.imul(W,Ye)|0)|0)+((8191&(j=(j=j+Math.imul(W,at)|0)+Math.imul(ee,Ye)|0))<<13)|0;$=((k=k+Math.imul(ee,at)|0)+(j>>>13)|0)+(wt>>>26)|0,wt&=67108863,_=Math.imul(Z,ye),j=(j=Math.imul(Z,Te))+Math.imul(te,ye)|0,k=Math.imul(te,Te),_=_+Math.imul(Q,Ye)|0,j=(j=j+Math.imul(Q,at)|0)+Math.imul(L,Ye)|0,k=k+Math.imul(L,at)|0;var vr=($+(_=_+Math.imul(W,Ue)|0)|0)+((8191&(j=(j=j+Math.imul(W,ze)|0)+Math.imul(ee,Ue)|0))<<13)|0;$=((k=k+Math.imul(ee,ze)|0)+(j>>>13)|0)+(vr>>>26)|0,vr&=67108863,_=Math.imul(se,ye),j=(j=Math.imul(se,Te))+Math.imul(le,ye)|0,k=Math.imul(le,Te),_=_+Math.imul(Z,Ye)|0,j=(j=j+Math.imul(Z,at)|0)+Math.imul(te,Ye)|0,k=k+Math.imul(te,at)|0,_=_+Math.imul(Q,Ue)|0,j=(j=j+Math.imul(Q,ze)|0)+Math.imul(L,Ue)|0,k=k+Math.imul(L,ze)|0;var or=($+(_=_+Math.imul(W,Je)|0)|0)+((8191&(j=(j=j+Math.imul(W,nt)|0)+Math.imul(ee,Je)|0))<<13)|0;$=((k=k+Math.imul(ee,nt)|0)+(j>>>13)|0)+(or>>>26)|0,or&=67108863,_=Math.imul(ae,ye),j=(j=Math.imul(ae,Te))+Math.imul(re,ye)|0,k=Math.imul(re,Te),_=_+Math.imul(se,Ye)|0,j=(j=j+Math.imul(se,at)|0)+Math.imul(le,Ye)|0,k=k+Math.imul(le,at)|0,_=_+Math.imul(Z,Ue)|0,j=(j=j+Math.imul(Z,ze)|0)+Math.imul(te,Ue)|0,k=k+Math.imul(te,ze)|0,_=_+Math.imul(Q,Je)|0,j=(j=j+Math.imul(Q,nt)|0)+Math.imul(L,Je)|0,k=k+Math.imul(L,nt)|0;var hr=($+(_=_+Math.imul(W,Re)|0)|0)+((8191&(j=(j=j+Math.imul(W,De)|0)+Math.imul(ee,Re)|0))<<13)|0;$=((k=k+Math.imul(ee,De)|0)+(j>>>13)|0)+(hr>>>26)|0,hr&=67108863,_=Math.imul(ue,ye),j=(j=Math.imul(ue,Te))+Math.imul(fe,ye)|0,k=Math.imul(fe,Te),_=_+Math.imul(ae,Ye)|0,j=(j=j+Math.imul(ae,at)|0)+Math.imul(re,Ye)|0,k=k+Math.imul(re,at)|0,_=_+Math.imul(se,Ue)|0,j=(j=j+Math.imul(se,ze)|0)+Math.imul(le,Ue)|0,k=k+Math.imul(le,ze)|0,_=_+Math.imul(Z,Je)|0,j=(j=j+Math.imul(Z,nt)|0)+Math.imul(te,Je)|0,k=k+Math.imul(te,nt)|0,_=_+Math.imul(Q,Re)|0,j=(j=j+Math.imul(Q,De)|0)+Math.imul(L,Re)|0,k=k+Math.imul(L,De)|0;var mr=($+(_=_+Math.imul(W,Qe)|0)|0)+((8191&(j=(j=j+Math.imul(W,lt)|0)+Math.imul(ee,Qe)|0))<<13)|0;$=((k=k+Math.imul(ee,lt)|0)+(j>>>13)|0)+(mr>>>26)|0,mr&=67108863,_=Math.imul(Ce,ye),j=(j=Math.imul(Ce,Te))+Math.imul(Ae,ye)|0,k=Math.imul(Ae,Te),_=_+Math.imul(ue,Ye)|0,j=(j=j+Math.imul(ue,at)|0)+Math.imul(fe,Ye)|0,k=k+Math.imul(fe,at)|0,_=_+Math.imul(ae,Ue)|0,j=(j=j+Math.imul(ae,ze)|0)+Math.imul(re,Ue)|0,k=k+Math.imul(re,ze)|0,_=_+Math.imul(se,Je)|0,j=(j=j+Math.imul(se,nt)|0)+Math.imul(le,Je)|0,k=k+Math.imul(le,nt)|0,_=_+Math.imul(Z,Re)|0,j=(j=j+Math.imul(Z,De)|0)+Math.imul(te,Re)|0,k=k+Math.imul(te,De)|0,_=_+Math.imul(Q,Qe)|0,j=(j=j+Math.imul(Q,lt)|0)+Math.imul(L,Qe)|0,k=k+Math.imul(L,lt)|0;var en=($+(_=_+Math.imul(W,pt)|0)|0)+((8191&(j=(j=j+Math.imul(W,_e)|0)+Math.imul(ee,pt)|0))<<13)|0;$=((k=k+Math.imul(ee,_e)|0)+(j>>>13)|0)+(en>>>26)|0,en&=67108863,_=Math.imul(Fe,ye),j=(j=Math.imul(Fe,Te))+Math.imul(pe,ye)|0,k=Math.imul(pe,Te),_=_+Math.imul(Ce,Ye)|0,j=(j=j+Math.imul(Ce,at)|0)+Math.imul(Ae,Ye)|0,k=k+Math.imul(Ae,at)|0,_=_+Math.imul(ue,Ue)|0,j=(j=j+Math.imul(ue,ze)|0)+Math.imul(fe,Ue)|0,k=k+Math.imul(fe,ze)|0,_=_+Math.imul(ae,Je)|0,j=(j=j+Math.imul(ae,nt)|0)+Math.imul(re,Je)|0,k=k+Math.imul(re,nt)|0,_=_+Math.imul(se,Re)|0,j=(j=j+Math.imul(se,De)|0)+Math.imul(le,Re)|0,k=k+Math.imul(le,De)|0,_=_+Math.imul(Z,Qe)|0,j=(j=j+Math.imul(Z,lt)|0)+Math.imul(te,Qe)|0,k=k+Math.imul(te,lt)|0,_=_+Math.imul(Q,pt)|0,j=(j=j+Math.imul(Q,_e)|0)+Math.imul(L,pt)|0,k=k+Math.imul(L,_e)|0;var ge=($+(_=_+Math.imul(W,We)|0)|0)+((8191&(j=(j=j+Math.imul(W,dt)|0)+Math.imul(ee,We)|0))<<13)|0;$=((k=k+Math.imul(ee,dt)|0)+(j>>>13)|0)+(ge>>>26)|0,ge&=67108863,_=Math.imul(He,ye),j=(j=Math.imul(He,Te))+Math.imul(Me,ye)|0,k=Math.imul(Me,Te),_=_+Math.imul(Fe,Ye)|0,j=(j=j+Math.imul(Fe,at)|0)+Math.imul(pe,Ye)|0,k=k+Math.imul(pe,at)|0,_=_+Math.imul(Ce,Ue)|0,j=(j=j+Math.imul(Ce,ze)|0)+Math.imul(Ae,Ue)|0,k=k+Math.imul(Ae,ze)|0,_=_+Math.imul(ue,Je)|0,j=(j=j+Math.imul(ue,nt)|0)+Math.imul(fe,Je)|0,k=k+Math.imul(fe,nt)|0,_=_+Math.imul(ae,Re)|0,j=(j=j+Math.imul(ae,De)|0)+Math.imul(re,Re)|0,k=k+Math.imul(re,De)|0,_=_+Math.imul(se,Qe)|0,j=(j=j+Math.imul(se,lt)|0)+Math.imul(le,Qe)|0,k=k+Math.imul(le,lt)|0,_=_+Math.imul(Z,pt)|0,j=(j=j+Math.imul(Z,_e)|0)+Math.imul(te,pt)|0,k=k+Math.imul(te,_e)|0,_=_+Math.imul(Q,We)|0,j=(j=j+Math.imul(Q,dt)|0)+Math.imul(L,We)|0,k=k+Math.imul(L,dt)|0;var Le=($+(_=_+Math.imul(W,ft)|0)|0)+((8191&(j=(j=j+Math.imul(W,kt)|0)+Math.imul(ee,ft)|0))<<13)|0;$=((k=k+Math.imul(ee,kt)|0)+(j>>>13)|0)+(Le>>>26)|0,Le&=67108863,_=Math.imul(de,ye),j=(j=Math.imul(de,Te))+Math.imul(we,ye)|0,k=Math.imul(we,Te),_=_+Math.imul(He,Ye)|0,j=(j=j+Math.imul(He,at)|0)+Math.imul(Me,Ye)|0,k=k+Math.imul(Me,at)|0,_=_+Math.imul(Fe,Ue)|0,j=(j=j+Math.imul(Fe,ze)|0)+Math.imul(pe,Ue)|0,k=k+Math.imul(pe,ze)|0,_=_+Math.imul(Ce,Je)|0,j=(j=j+Math.imul(Ce,nt)|0)+Math.imul(Ae,Je)|0,k=k+Math.imul(Ae,nt)|0,_=_+Math.imul(ue,Re)|0,j=(j=j+Math.imul(ue,De)|0)+Math.imul(fe,Re)|0,k=k+Math.imul(fe,De)|0,_=_+Math.imul(ae,Qe)|0,j=(j=j+Math.imul(ae,lt)|0)+Math.imul(re,Qe)|0,k=k+Math.imul(re,lt)|0,_=_+Math.imul(se,pt)|0,j=(j=j+Math.imul(se,_e)|0)+Math.imul(le,pt)|0,k=k+Math.imul(le,_e)|0,_=_+Math.imul(Z,We)|0,j=(j=j+Math.imul(Z,dt)|0)+Math.imul(te,We)|0,k=k+Math.imul(te,dt)|0,_=_+Math.imul(Q,ft)|0,j=(j=j+Math.imul(Q,kt)|0)+Math.imul(L,ft)|0,k=k+Math.imul(L,kt)|0;var rt=($+(_=_+Math.imul(W,bt)|0)|0)+((8191&(j=(j=j+Math.imul(W,Et)|0)+Math.imul(ee,bt)|0))<<13)|0;$=((k=k+Math.imul(ee,Et)|0)+(j>>>13)|0)+(rt>>>26)|0,rt&=67108863,_=Math.imul(de,Ye),j=(j=Math.imul(de,at))+Math.imul(we,Ye)|0,k=Math.imul(we,at),_=_+Math.imul(He,Ue)|0,j=(j=j+Math.imul(He,ze)|0)+Math.imul(Me,Ue)|0,k=k+Math.imul(Me,ze)|0,_=_+Math.imul(Fe,Je)|0,j=(j=j+Math.imul(Fe,nt)|0)+Math.imul(pe,Je)|0,k=k+Math.imul(pe,nt)|0,_=_+Math.imul(Ce,Re)|0,j=(j=j+Math.imul(Ce,De)|0)+Math.imul(Ae,Re)|0,k=k+Math.imul(Ae,De)|0,_=_+Math.imul(ue,Qe)|0,j=(j=j+Math.imul(ue,lt)|0)+Math.imul(fe,Qe)|0,k=k+Math.imul(fe,lt)|0,_=_+Math.imul(ae,pt)|0,j=(j=j+Math.imul(ae,_e)|0)+Math.imul(re,pt)|0,k=k+Math.imul(re,_e)|0,_=_+Math.imul(se,We)|0,j=(j=j+Math.imul(se,dt)|0)+Math.imul(le,We)|0,k=k+Math.imul(le,dt)|0,_=_+Math.imul(Z,ft)|0,j=(j=j+Math.imul(Z,kt)|0)+Math.imul(te,ft)|0,k=k+Math.imul(te,kt)|0;var it=($+(_=_+Math.imul(Q,bt)|0)|0)+((8191&(j=(j=j+Math.imul(Q,Et)|0)+Math.imul(L,bt)|0))<<13)|0;$=((k=k+Math.imul(L,Et)|0)+(j>>>13)|0)+(it>>>26)|0,it&=67108863,_=Math.imul(de,Ue),j=(j=Math.imul(de,ze))+Math.imul(we,Ue)|0,k=Math.imul(we,ze),_=_+Math.imul(He,Je)|0,j=(j=j+Math.imul(He,nt)|0)+Math.imul(Me,Je)|0,k=k+Math.imul(Me,nt)|0,_=_+Math.imul(Fe,Re)|0,j=(j=j+Math.imul(Fe,De)|0)+Math.imul(pe,Re)|0,k=k+Math.imul(pe,De)|0,_=_+Math.imul(Ce,Qe)|0,j=(j=j+Math.imul(Ce,lt)|0)+Math.imul(Ae,Qe)|0,k=k+Math.imul(Ae,lt)|0,_=_+Math.imul(ue,pt)|0,j=(j=j+Math.imul(ue,_e)|0)+Math.imul(fe,pt)|0,k=k+Math.imul(fe,_e)|0,_=_+Math.imul(ae,We)|0,j=(j=j+Math.imul(ae,dt)|0)+Math.imul(re,We)|0,k=k+Math.imul(re,dt)|0,_=_+Math.imul(se,ft)|0,j=(j=j+Math.imul(se,kt)|0)+Math.imul(le,ft)|0,k=k+Math.imul(le,kt)|0;var gt=($+(_=_+Math.imul(Z,bt)|0)|0)+((8191&(j=(j=j+Math.imul(Z,Et)|0)+Math.imul(te,bt)|0))<<13)|0;$=((k=k+Math.imul(te,Et)|0)+(j>>>13)|0)+(gt>>>26)|0,gt&=67108863,_=Math.imul(de,Je),j=(j=Math.imul(de,nt))+Math.imul(we,Je)|0,k=Math.imul(we,nt),_=_+Math.imul(He,Re)|0,j=(j=j+Math.imul(He,De)|0)+Math.imul(Me,Re)|0,k=k+Math.imul(Me,De)|0,_=_+Math.imul(Fe,Qe)|0,j=(j=j+Math.imul(Fe,lt)|0)+Math.imul(pe,Qe)|0,k=k+Math.imul(pe,lt)|0,_=_+Math.imul(Ce,pt)|0,j=(j=j+Math.imul(Ce,_e)|0)+Math.imul(Ae,pt)|0,k=k+Math.imul(Ae,_e)|0,_=_+Math.imul(ue,We)|0,j=(j=j+Math.imul(ue,dt)|0)+Math.imul(fe,We)|0,k=k+Math.imul(fe,dt)|0,_=_+Math.imul(ae,ft)|0,j=(j=j+Math.imul(ae,kt)|0)+Math.imul(re,ft)|0,k=k+Math.imul(re,kt)|0;var ut=($+(_=_+Math.imul(se,bt)|0)|0)+((8191&(j=(j=j+Math.imul(se,Et)|0)+Math.imul(le,bt)|0))<<13)|0;$=((k=k+Math.imul(le,Et)|0)+(j>>>13)|0)+(ut>>>26)|0,ut&=67108863,_=Math.imul(de,Re),j=(j=Math.imul(de,De))+Math.imul(we,Re)|0,k=Math.imul(we,De),_=_+Math.imul(He,Qe)|0,j=(j=j+Math.imul(He,lt)|0)+Math.imul(Me,Qe)|0,k=k+Math.imul(Me,lt)|0,_=_+Math.imul(Fe,pt)|0,j=(j=j+Math.imul(Fe,_e)|0)+Math.imul(pe,pt)|0,k=k+Math.imul(pe,_e)|0,_=_+Math.imul(Ce,We)|0,j=(j=j+Math.imul(Ce,dt)|0)+Math.imul(Ae,We)|0,k=k+Math.imul(Ae,dt)|0,_=_+Math.imul(ue,ft)|0,j=(j=j+Math.imul(ue,kt)|0)+Math.imul(fe,ft)|0,k=k+Math.imul(fe,kt)|0;var ht=($+(_=_+Math.imul(ae,bt)|0)|0)+((8191&(j=(j=j+Math.imul(ae,Et)|0)+Math.imul(re,bt)|0))<<13)|0;$=((k=k+Math.imul(re,Et)|0)+(j>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(de,Qe),j=(j=Math.imul(de,lt))+Math.imul(we,Qe)|0,k=Math.imul(we,lt),_=_+Math.imul(He,pt)|0,j=(j=j+Math.imul(He,_e)|0)+Math.imul(Me,pt)|0,k=k+Math.imul(Me,_e)|0,_=_+Math.imul(Fe,We)|0,j=(j=j+Math.imul(Fe,dt)|0)+Math.imul(pe,We)|0,k=k+Math.imul(pe,dt)|0,_=_+Math.imul(Ce,ft)|0,j=(j=j+Math.imul(Ce,kt)|0)+Math.imul(Ae,ft)|0,k=k+Math.imul(Ae,kt)|0;var qt=($+(_=_+Math.imul(ue,bt)|0)|0)+((8191&(j=(j=j+Math.imul(ue,Et)|0)+Math.imul(fe,bt)|0))<<13)|0;$=((k=k+Math.imul(fe,Et)|0)+(j>>>13)|0)+(qt>>>26)|0,qt&=67108863,_=Math.imul(de,pt),j=(j=Math.imul(de,_e))+Math.imul(we,pt)|0,k=Math.imul(we,_e),_=_+Math.imul(He,We)|0,j=(j=j+Math.imul(He,dt)|0)+Math.imul(Me,We)|0,k=k+Math.imul(Me,dt)|0,_=_+Math.imul(Fe,ft)|0,j=(j=j+Math.imul(Fe,kt)|0)+Math.imul(pe,ft)|0,k=k+Math.imul(pe,kt)|0;var Ot=($+(_=_+Math.imul(Ce,bt)|0)|0)+((8191&(j=(j=j+Math.imul(Ce,Et)|0)+Math.imul(Ae,bt)|0))<<13)|0;$=((k=k+Math.imul(Ae,Et)|0)+(j>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,_=Math.imul(de,We),j=(j=Math.imul(de,dt))+Math.imul(we,We)|0,k=Math.imul(we,dt),_=_+Math.imul(He,ft)|0,j=(j=j+Math.imul(He,kt)|0)+Math.imul(Me,ft)|0,k=k+Math.imul(Me,kt)|0;var Lt=($+(_=_+Math.imul(Fe,bt)|0)|0)+((8191&(j=(j=j+Math.imul(Fe,Et)|0)+Math.imul(pe,bt)|0))<<13)|0;$=((k=k+Math.imul(pe,Et)|0)+(j>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,_=Math.imul(de,ft),j=(j=Math.imul(de,kt))+Math.imul(we,ft)|0,k=Math.imul(we,kt);var _t=($+(_=_+Math.imul(He,bt)|0)|0)+((8191&(j=(j=j+Math.imul(He,Et)|0)+Math.imul(Me,bt)|0))<<13)|0;$=((k=k+Math.imul(Me,Et)|0)+(j>>>13)|0)+(_t>>>26)|0,_t&=67108863;var Qt=($+(_=Math.imul(de,bt))|0)+((8191&(j=(j=Math.imul(de,Et))+Math.imul(we,bt)|0))<<13)|0;return $=((k=Math.imul(we,Et))+(j>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,F[0]=Ct,F[1]=wt,F[2]=vr,F[3]=or,F[4]=hr,F[5]=mr,F[6]=en,F[7]=ge,F[8]=Le,F[9]=rt,F[10]=it,F[11]=gt,F[12]=ut,F[13]=ht,F[14]=qt,F[15]=Ot,F[16]=Lt,F[17]=_t,F[18]=Qt,$!==0&&(F[19]=$,N.length++),N};function C(O,P,N){return new E().mulp(O,P,N)}function E(O,P){this.x=O,this.y=P}Math.imul||(y=g),r.prototype.mulTo=function(O,P){var N=this.length+O.length;return this.length===10&&O.length===10?y(this,O,P):N<63?g(this,O,P):N<1024?function(_,j,k){k.negative=j.negative^_.negative,k.length=_.length+j.length;for(var T=0,M=0,F=0;F<k.length-1;F++){var $=M;M=0;for(var V=67108863&T,W=Math.min(F,j.length-1),ee=Math.max(0,F-_.length+1);ee<=W;ee++){var U=F-ee,Q=(0|_.words[U])*(0|j.words[ee]),L=67108863&Q;V=67108863&(L=L+V|0),M+=($=($=$+(Q/67108864|0)|0)+(L>>>26)|0)>>>26,$&=67108863}k.words[F]=V,T=$,$=M}return T!==0?k.words[F]=T:k.length--,k.strip()}(this,O,P):C(this,O,P)},E.prototype.makeRBT=function(O){for(var P=new Array(O),N=r.prototype._countBits(O)-1,_=0;_<O;_++)P[_]=this.revBin(_,N,O);return P},E.prototype.revBin=function(O,P,N){if(O===0||O===N-1)return O;for(var _=0,j=0;j<P;j++)_|=(1&O)<<P-j-1,O>>=1;return _},E.prototype.permute=function(O,P,N,_,j,k){for(var T=0;T<k;T++)_[T]=P[O[T]],j[T]=N[O[T]]},E.prototype.transform=function(O,P,N,_,j,k){this.permute(k,O,P,N,_,j);for(var T=1;T<j;T<<=1)for(var M=T<<1,F=Math.cos(2*Math.PI/M),$=Math.sin(2*Math.PI/M),V=0;V<j;V+=M)for(var W=F,ee=$,U=0;U<T;U++){var Q=N[V+U],L=_[V+U],I=N[V+U+T],Z=_[V+U+T],te=W*I-ee*Z;Z=W*Z+ee*I,I=te,N[V+U]=Q+I,_[V+U]=L+Z,N[V+U+T]=Q-I,_[V+U+T]=L-Z,U!==M&&(te=F*W-$*ee,ee=F*ee+$*W,W=te)}},E.prototype.guessLen13b=function(O,P){var N=1|Math.max(P,O),_=1&N,j=0;for(N=N/2|0;N;N>>>=1)j++;return 1<<j+1+_},E.prototype.conjugate=function(O,P,N){if(!(N<=1))for(var _=0;_<N/2;_++){var j=O[_];O[_]=O[N-_-1],O[N-_-1]=j,j=P[_],P[_]=-P[N-_-1],P[N-_-1]=-j}},E.prototype.normalize13b=function(O,P){for(var N=0,_=0;_<P/2;_++){var j=8192*Math.round(O[2*_+1]/P)+Math.round(O[2*_]/P)+N;O[_]=67108863&j,N=j<67108864?0:j/67108864|0}return O},E.prototype.convert13b=function(O,P,N,_){for(var j=0,k=0;k<P;k++)j+=0|O[k],N[2*k]=8191&j,j>>>=13,N[2*k+1]=8191&j,j>>>=13;for(k=2*P;k<_;++k)N[k]=0;c(j===0),c((-8192&j)==0)},E.prototype.stub=function(O){for(var P=new Array(O),N=0;N<O;N++)P[N]=0;return P},E.prototype.mulp=function(O,P,N){var _=2*this.guessLen13b(O.length,P.length),j=this.makeRBT(_),k=this.stub(_),T=new Array(_),M=new Array(_),F=new Array(_),$=new Array(_),V=new Array(_),W=new Array(_),ee=N.words;ee.length=_,this.convert13b(O.words,O.length,T,_),this.convert13b(P.words,P.length,$,_),this.transform(T,k,M,F,_,j),this.transform($,k,V,W,_,j);for(var U=0;U<_;U++){var Q=M[U]*V[U]-F[U]*W[U];F[U]=M[U]*W[U]+F[U]*V[U],M[U]=Q}return this.conjugate(M,F,_),this.transform(M,F,ee,k,_,j),this.conjugate(ee,k,_),this.normalize13b(ee,_),N.negative=O.negative^P.negative,N.length=O.length+P.length,N.strip()},r.prototype.mul=function(O){var P=new r(null);return P.words=new Array(this.length+O.length),this.mulTo(O,P)},r.prototype.mulf=function(O){var P=new r(null);return P.words=new Array(this.length+O.length),C(this,O,P)},r.prototype.imul=function(O){return this.clone().mulTo(O,this)},r.prototype.imuln=function(O){c(typeof O=="number"),c(O<67108864);for(var P=0,N=0;N<this.length;N++){var _=(0|this.words[N])*O,j=(67108863&_)+(67108863&P);P>>=26,P+=_/67108864|0,P+=j>>>26,this.words[N]=67108863&j}return P!==0&&(this.words[N]=P,this.length++),this},r.prototype.muln=function(O){return this.clone().imuln(O)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(O){var P=function(k){for(var T=new Array(k.bitLength()),M=0;M<T.length;M++){var F=M/26|0,$=M%26;T[M]=(k.words[F]&1<<$)>>>$}return T}(O);if(P.length===0)return new r(1);for(var N=this,_=0;_<P.length&&P[_]===0;_++,N=N.sqr());if(++_<P.length)for(var j=N.sqr();_<P.length;_++,j=j.sqr())P[_]!==0&&(N=N.mul(j));return N},r.prototype.iushln=function(O){c(typeof O=="number"&&O>=0);var P,N=O%26,_=(O-N)/26,j=67108863>>>26-N<<26-N;if(N!==0){var k=0;for(P=0;P<this.length;P++){var T=this.words[P]&j,M=(0|this.words[P])-T<<N;this.words[P]=M|k,k=T>>>26-N}k&&(this.words[P]=k,this.length++)}if(_!==0){for(P=this.length-1;P>=0;P--)this.words[P+_]=this.words[P];for(P=0;P<_;P++)this.words[P]=0;this.length+=_}return this.strip()},r.prototype.ishln=function(O){return c(this.negative===0),this.iushln(O)},r.prototype.iushrn=function(O,P,N){var _;c(typeof O=="number"&&O>=0),_=P?(P-P%26)/26:0;var j=O%26,k=Math.min((O-j)/26,this.length),T=67108863^67108863>>>j<<j,M=N;if(_-=k,_=Math.max(0,_),M){for(var F=0;F<k;F++)M.words[F]=this.words[F];M.length=k}if(k!==0)if(this.length>k)for(this.length-=k,F=0;F<this.length;F++)this.words[F]=this.words[F+k];else this.words[0]=0,this.length=1;var $=0;for(F=this.length-1;F>=0&&($!==0||F>=_);F--){var V=0|this.words[F];this.words[F]=$<<26-j|V>>>j,$=V&T}return M&&$!==0&&(M.words[M.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(O,P,N){return c(this.negative===0),this.iushrn(O,P,N)},r.prototype.shln=function(O){return this.clone().ishln(O)},r.prototype.ushln=function(O){return this.clone().iushln(O)},r.prototype.shrn=function(O){return this.clone().ishrn(O)},r.prototype.ushrn=function(O){return this.clone().iushrn(O)},r.prototype.testn=function(O){c(typeof O=="number"&&O>=0);var P=O%26,N=(O-P)/26,_=1<<P;return!(this.length<=N)&&!!(this.words[N]&_)},r.prototype.imaskn=function(O){c(typeof O=="number"&&O>=0);var P=O%26,N=(O-P)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(P!==0&&N++,this.length=Math.min(N,this.length),P!==0){var _=67108863^67108863>>>P<<P;this.words[this.length-1]&=_}return this.strip()},r.prototype.maskn=function(O){return this.clone().imaskn(O)},r.prototype.iaddn=function(O){return c(typeof O=="number"),c(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(0|this.words[0])<O?(this.words[0]=O-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},r.prototype._iaddn=function(O){this.words[0]+=O;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},r.prototype.isubn=function(O){if(c(typeof O=="number"),c(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},r.prototype.addn=function(O){return this.clone().iaddn(O)},r.prototype.subn=function(O){return this.clone().isubn(O)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(O,P,N){var _,j,k=O.length+N;this._expand(k);var T=0;for(_=0;_<O.length;_++){j=(0|this.words[_+N])+T;var M=(0|O.words[_])*P;T=((j-=67108863&M)>>26)-(M/67108864|0),this.words[_+N]=67108863&j}for(;_<this.length-N;_++)T=(j=(0|this.words[_+N])+T)>>26,this.words[_+N]=67108863&j;if(T===0)return this.strip();for(c(T===-1),T=0,_=0;_<this.length;_++)T=(j=-(0|this.words[_])+T)>>26,this.words[_]=67108863&j;return this.negative=1,this.strip()},r.prototype._wordDiv=function(O,P){var N=(this.length,O.length),_=this.clone(),j=O,k=0|j.words[j.length-1];(N=26-this._countBits(k))!==0&&(j=j.ushln(N),_.iushln(N),k=0|j.words[j.length-1]);var T,M=_.length-j.length;if(P!=="mod"){(T=new r(null)).length=M+1,T.words=new Array(T.length);for(var F=0;F<T.length;F++)T.words[F]=0}var $=_.clone()._ishlnsubmul(j,1,M);$.negative===0&&(_=$,T&&(T.words[M]=1));for(var V=M-1;V>=0;V--){var W=67108864*(0|_.words[j.length+V])+(0|_.words[j.length+V-1]);for(W=Math.min(W/k|0,67108863),_._ishlnsubmul(j,W,V);_.negative!==0;)W--,_.negative=0,_._ishlnsubmul(j,1,V),_.isZero()||(_.negative^=1);T&&(T.words[V]=W)}return T&&T.strip(),_.strip(),P!=="div"&&N!==0&&_.iushrn(N),{div:T||null,mod:_}},r.prototype.divmod=function(O,P,N){return c(!O.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:this.negative!==0&&O.negative===0?(k=this.neg().divmod(O,P),P!=="mod"&&(_=k.div.neg()),P!=="div"&&(j=k.mod.neg(),N&&j.negative!==0&&j.iadd(O)),{div:_,mod:j}):this.negative===0&&O.negative!==0?(k=this.divmod(O.neg(),P),P!=="mod"&&(_=k.div.neg()),{div:_,mod:k.mod}):(this.negative&O.negative)!=0?(k=this.neg().divmod(O.neg(),P),P!=="div"&&(j=k.mod.neg(),N&&j.negative!==0&&j.isub(O)),{div:k.div,mod:j}):O.length>this.length||this.cmp(O)<0?{div:new r(0),mod:this}:O.length===1?P==="div"?{div:this.divn(O.words[0]),mod:null}:P==="mod"?{div:null,mod:new r(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new r(this.modn(O.words[0]))}:this._wordDiv(O,P);var _,j,k},r.prototype.div=function(O){return this.divmod(O,"div",!1).div},r.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},r.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},r.prototype.divRound=function(O){var P=this.divmod(O);if(P.mod.isZero())return P.div;var N=P.div.negative!==0?P.mod.isub(O):P.mod,_=O.ushrn(1),j=O.andln(1),k=N.cmp(_);return k<0||j===1&&k===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},r.prototype.modn=function(O){c(O<=67108863);for(var P=(1<<26)%O,N=0,_=this.length-1;_>=0;_--)N=(P*N+(0|this.words[_]))%O;return N},r.prototype.idivn=function(O){c(O<=67108863);for(var P=0,N=this.length-1;N>=0;N--){var _=(0|this.words[N])+67108864*P;this.words[N]=_/O|0,P=_%O}return this.strip()},r.prototype.divn=function(O){return this.clone().idivn(O)},r.prototype.egcd=function(O){c(O.negative===0),c(!O.isZero());var P=this,N=O.clone();P=P.negative!==0?P.umod(O):P.clone();for(var _=new r(1),j=new r(0),k=new r(0),T=new r(1),M=0;P.isEven()&&N.isEven();)P.iushrn(1),N.iushrn(1),++M;for(var F=N.clone(),$=P.clone();!P.isZero();){for(var V=0,W=1;(P.words[0]&W)==0&&V<26;++V,W<<=1);if(V>0)for(P.iushrn(V);V-- >0;)(_.isOdd()||j.isOdd())&&(_.iadd(F),j.isub($)),_.iushrn(1),j.iushrn(1);for(var ee=0,U=1;(N.words[0]&U)==0&&ee<26;++ee,U<<=1);if(ee>0)for(N.iushrn(ee);ee-- >0;)(k.isOdd()||T.isOdd())&&(k.iadd(F),T.isub($)),k.iushrn(1),T.iushrn(1);P.cmp(N)>=0?(P.isub(N),_.isub(k),j.isub(T)):(N.isub(P),k.isub(_),T.isub(j))}return{a:k,b:T,gcd:N.iushln(M)}},r.prototype._invmp=function(O){c(O.negative===0),c(!O.isZero());var P=this,N=O.clone();P=P.negative!==0?P.umod(O):P.clone();for(var _,j=new r(1),k=new r(0),T=N.clone();P.cmpn(1)>0&&N.cmpn(1)>0;){for(var M=0,F=1;(P.words[0]&F)==0&&M<26;++M,F<<=1);if(M>0)for(P.iushrn(M);M-- >0;)j.isOdd()&&j.iadd(T),j.iushrn(1);for(var $=0,V=1;(N.words[0]&V)==0&&$<26;++$,V<<=1);if($>0)for(N.iushrn($);$-- >0;)k.isOdd()&&k.iadd(T),k.iushrn(1);P.cmp(N)>=0?(P.isub(N),j.isub(k)):(N.isub(P),k.isub(j))}return(_=P.cmpn(1)===0?j:k).cmpn(0)<0&&_.iadd(O),_},r.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var P=this.clone(),N=O.clone();P.negative=0,N.negative=0;for(var _=0;P.isEven()&&N.isEven();_++)P.iushrn(1),N.iushrn(1);for(;;){for(;P.isEven();)P.iushrn(1);for(;N.isEven();)N.iushrn(1);var j=P.cmp(N);if(j<0){var k=P;P=N,N=k}else if(j===0||N.cmpn(1)===0)break;P.isub(N)}return N.iushln(_)},r.prototype.invm=function(O){return this.egcd(O).a.umod(O)},r.prototype.isEven=function(){return(1&this.words[0])==0},r.prototype.isOdd=function(){return(1&this.words[0])==1},r.prototype.andln=function(O){return this.words[0]&O},r.prototype.bincn=function(O){c(typeof O=="number");var P=O%26,N=(O-P)/26,_=1<<P;if(this.length<=N)return this._expand(N+1),this.words[N]|=_,this;for(var j=_,k=N;j!==0&&k<this.length;k++){var T=0|this.words[k];j=(T+=j)>>>26,T&=67108863,this.words[k]=T}return j!==0&&(this.words[k]=j,this.length++),this},r.prototype.isZero=function(){return this.length===1&&this.words[0]===0},r.prototype.cmpn=function(O){var P,N=O<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;if(this.strip(),this.length>1)P=1;else{N&&(O=-O),c(O<=67108863,"Number is too big");var _=0|this.words[0];P=_===O?0:_<O?-1:1}return this.negative!==0?0|-P:P},r.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var P=this.ucmp(O);return this.negative!==0?0|-P:P},r.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var P=0,N=this.length-1;N>=0;N--){var _=0|this.words[N],j=0|O.words[N];if(_!==j){_<j?P=-1:_>j&&(P=1);break}}return P},r.prototype.gtn=function(O){return this.cmpn(O)===1},r.prototype.gt=function(O){return this.cmp(O)===1},r.prototype.gten=function(O){return this.cmpn(O)>=0},r.prototype.gte=function(O){return this.cmp(O)>=0},r.prototype.ltn=function(O){return this.cmpn(O)===-1},r.prototype.lt=function(O){return this.cmp(O)===-1},r.prototype.lten=function(O){return this.cmpn(O)<=0},r.prototype.lte=function(O){return this.cmp(O)<=0},r.prototype.eqn=function(O){return this.cmpn(O)===0},r.prototype.eq=function(O){return this.cmp(O)===0},r.red=function(O){return new Y(O)},r.prototype.toRed=function(O){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},r.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(O){return this.red=O,this},r.prototype.forceRed=function(O){return c(!this.red,"Already a number in reduction context"),this._forceRed(O)},r.prototype.redAdd=function(O){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},r.prototype.redIAdd=function(O){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},r.prototype.redSub=function(O){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},r.prototype.redISub=function(O){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},r.prototype.redShl=function(O){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},r.prototype.redMul=function(O){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},r.prototype.redIMul=function(O){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},r.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(O){return c(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var A={k256:null,p224:null,p192:null,p25519:null};function D(O,P){this.name=O,this.p=new r(P,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function q(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function B(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function z(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function K(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Y(O){if(typeof O=="string"){var P=r._prime(O);this.m=P.p,this.prime=P}else c(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}function X(O){Y.call(this,O),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}D.prototype._tmp=function(){var O=new r(null);return O.words=new Array(Math.ceil(this.n/13)),O},D.prototype.ireduce=function(O){var P,N=O;do this.split(N,this.tmp),P=(N=(N=this.imulK(N)).iadd(this.tmp)).bitLength();while(P>this.n);var _=P<this.n?-1:N.ucmp(this.p);return _===0?(N.words[0]=0,N.length=1):_>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},D.prototype.split=function(O,P){O.iushrn(this.n,0,P)},D.prototype.imulK=function(O){return O.imul(this.k)},s(q,D),q.prototype.split=function(O,P){for(var N=Math.min(O.length,9),_=0;_<N;_++)P.words[_]=O.words[_];if(P.length=N,O.length<=9)return O.words[0]=0,void(O.length=1);var j=O.words[9];for(P.words[P.length++]=4194303&j,_=10;_<O.length;_++){var k=0|O.words[_];O.words[_-10]=(4194303&k)<<4|j>>>22,j=k}j>>>=22,O.words[_-10]=j,j===0&&O.length>10?O.length-=10:O.length-=9},q.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var P=0,N=0;N<O.length;N++){var _=0|O.words[N];P+=977*_,O.words[N]=67108863&P,P=64*_+(P/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O},s(B,D),s(z,D),s(K,D),K.prototype.imulK=function(O){for(var P=0,N=0;N<O.length;N++){var _=19*(0|O.words[N])+P,j=67108863&_;_>>>=26,O.words[N]=j,P=_}return P!==0&&(O.words[O.length++]=P),O},r._prime=function(O){if(A[O])return A[O];var P;if(O==="k256")P=new q;else if(O==="p224")P=new B;else if(O==="p192")P=new z;else{if(O!=="p25519")throw new Error("Unknown prime "+O);P=new K}return A[O]=P,P},Y.prototype._verify1=function(O){c(O.negative===0,"red works only with positives"),c(O.red,"red works only with red numbers")},Y.prototype._verify2=function(O,P){c((O.negative|P.negative)==0,"red works only with positives"),c(O.red&&O.red===P.red,"red works only with red numbers")},Y.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},Y.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},Y.prototype.add=function(O,P){this._verify2(O,P);var N=O.add(P);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},Y.prototype.iadd=function(O,P){this._verify2(O,P);var N=O.iadd(P);return N.cmp(this.m)>=0&&N.isub(this.m),N},Y.prototype.sub=function(O,P){this._verify2(O,P);var N=O.sub(P);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},Y.prototype.isub=function(O,P){this._verify2(O,P);var N=O.isub(P);return N.cmpn(0)<0&&N.iadd(this.m),N},Y.prototype.shl=function(O,P){return this._verify1(O),this.imod(O.ushln(P))},Y.prototype.imul=function(O,P){return this._verify2(O,P),this.imod(O.imul(P))},Y.prototype.mul=function(O,P){return this._verify2(O,P),this.imod(O.mul(P))},Y.prototype.isqr=function(O){return this.imul(O,O.clone())},Y.prototype.sqr=function(O){return this.mul(O,O)},Y.prototype.sqrt=function(O){if(O.isZero())return O.clone();var P=this.m.andln(3);if(c(P%2==1),P===3){var N=this.m.add(new r(1)).iushrn(2);return this.pow(O,N)}for(var _=this.m.subn(1),j=0;!_.isZero()&&_.andln(1)===0;)j++,_.iushrn(1);c(!_.isZero());var k=new r(1).toRed(this),T=k.redNeg(),M=this.m.subn(1).iushrn(1),F=this.m.bitLength();for(F=new r(2*F*F).toRed(this);this.pow(F,M).cmp(T)!==0;)F.redIAdd(T);for(var $=this.pow(F,_),V=this.pow(O,_.addn(1).iushrn(1)),W=this.pow(O,_),ee=j;W.cmp(k)!==0;){for(var U=W,Q=0;U.cmp(k)!==0;Q++)U=U.redSqr();c(Q<ee);var L=this.pow($,new r(1).iushln(ee-Q-1));V=V.redMul(L),$=L.redSqr(),W=W.redMul($),ee=Q}return V},Y.prototype.invm=function(O){var P=O._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},Y.prototype.pow=function(O,P){if(P.isZero())return new r(1).toRed(this);if(P.cmpn(1)===0)return O.clone();var N=new Array(16);N[0]=new r(1).toRed(this),N[1]=O;for(var _=2;_<N.length;_++)N[_]=this.mul(N[_-1],O);var j=N[0],k=0,T=0,M=P.bitLength()%26;for(M===0&&(M=26),_=P.length-1;_>=0;_--){for(var F=P.words[_],$=M-1;$>=0;$--){var V=F>>$&1;j!==N[0]&&(j=this.sqr(j)),V!==0||k!==0?(k<<=1,k|=V,(++T===4||_===0&&$===0)&&(j=this.mul(j,N[k]),T=0,k=0)):T=0}M=26}return j},Y.prototype.convertTo=function(O){var P=O.umod(this.m);return P===O?P.clone():P},Y.prototype.convertFrom=function(O){var P=O.clone();return P.red=null,P},r.mont=function(O){return new X(O)},s(X,Y),X.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},X.prototype.convertFrom=function(O){var P=this.imod(O.mul(this.rinv));return P.red=null,P},X.prototype.imul=function(O,P){if(O.isZero()||P.isZero())return O.words[0]=0,O.length=1,O;var N=O.imul(P),_=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=N.isub(_).iushrn(this.shift),k=j;return j.cmp(this.m)>=0?k=j.isub(this.m):j.cmpn(0)<0&&(k=j.iadd(this.m)),k._forceRed(this)},X.prototype.mul=function(O,P){if(O.isZero()||P.isZero())return new r(0)._forceRed(this);var N=O.mul(P),_=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=N.isub(_).iushrn(this.shift),k=j;return j.cmp(this.m)>=0?k=j.isub(this.m):j.cmpn(0)<0&&(k=j.iadd(this.m)),k._forceRed(this)},X.prototype.invm=function(O){return this.imod(O._invmp(this.m).mul(this.r2))._forceRed(this)}})(a===void 0||a)},{buffer:188}],185:[function(e,a,l){l.byteLength=function(u){var v=b(u),x=v[0],m=v[1];return 3*(x+m)/4-m},l.toByteArray=function(u){var v,x,m=b(u),g=m[0],y=m[1],C=new c(function(D,q,B){return 3*(q+B)/4-B}(0,g,y)),E=0,A=y>0?g-4:g;for(x=0;x<A;x+=4)v=o[u.charCodeAt(x)]<<18|o[u.charCodeAt(x+1)]<<12|o[u.charCodeAt(x+2)]<<6|o[u.charCodeAt(x+3)],C[E++]=v>>16&255,C[E++]=v>>8&255,C[E++]=255&v;return y===2&&(v=o[u.charCodeAt(x)]<<2|o[u.charCodeAt(x+1)]>>4,C[E++]=255&v),y===1&&(v=o[u.charCodeAt(x)]<<10|o[u.charCodeAt(x+1)]<<4|o[u.charCodeAt(x+2)]>>2,C[E++]=v>>8&255,C[E++]=255&v),C},l.fromByteArray=function(u){for(var v,x=u.length,m=x%3,g=[],y=0,C=x-m;y<C;y+=16383)g.push(d(u,y,y+16383>C?C:y+16383));return m===1?(v=u[x-1],g.push(f[v>>2]+f[v<<4&63]+"==")):m===2&&(v=(u[x-2]<<8)+u[x-1],g.push(f[v>>10]+f[v>>4&63]+f[v<<2&63]+"=")),g.join("")};for(var f=[],o=[],c=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,i=s.length;r<i;++r)f[r]=s[r],o[s.charCodeAt(r)]=r;function b(u){var v=u.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=u.indexOf("=");return x===-1&&(x=v),[x,x===v?0:4-x%4]}function d(u,v,x){for(var m,g,y=[],C=v;C<x;C+=3)m=(u[C]<<16&16711680)+(u[C+1]<<8&65280)+(255&u[C+2]),y.push(f[(g=m)>>18&63]+f[g>>12&63]+f[g>>6&63]+f[63&g]);return y.join("")}o[45]=62,o[95]=63},{}],186:[function(e,a,l){(function(f,o){function c(N,_){if(!N)throw new Error(_||"Assertion failed")}function s(N,_){N.super_=_;var j=function(){};j.prototype=_.prototype,N.prototype=new j,N.prototype.constructor=N}function r(N,_,j){if(r.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&(_!=="le"&&_!=="be"||(j=_,_=10),this._init(N||0,_||10,j||"be"))}var i;typeof f=="object"?f.exports=r:(void 0).BN=r,r.BN=r,r.wordSize=26;try{i=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function b(N,_){var j=N.charCodeAt(_);return j>=48&&j<=57?j-48:j>=65&&j<=70?j-55:j>=97&&j<=102?j-87:void c(!1,"Invalid character in "+N)}function d(N,_,j){var k=b(N,j);return j-1>=_&&(k|=b(N,j-1)<<4),k}function u(N,_,j,k){for(var T=0,M=0,F=Math.min(N.length,j),$=_;$<F;$++){var V=N.charCodeAt($)-48;T*=k,M=V>=49?V-49+10:V>=17?V-17+10:V,c(V>=0&&M<k,"Invalid character"),T+=M}return T}function v(N,_){N.words=_.words,N.length=_.length,N.negative=_.negative,N.red=_.red}if(r.isBN=function(N){return N instanceof r||N!==null&&typeof N=="object"&&N.constructor.wordSize===r.wordSize&&Array.isArray(N.words)},r.max=function(N,_){return N.cmp(_)>0?N:_},r.min=function(N,_){return N.cmp(_)<0?N:_},r.prototype._init=function(N,_,j){if(typeof N=="number")return this._initNumber(N,_,j);if(typeof N=="object")return this._initArray(N,_,j);_==="hex"&&(_=16),c(_===(0|_)&&_>=2&&_<=36);var k=0;(N=N.toString().replace(/\s+/g,""))[0]==="-"&&(k++,this.negative=1),k<N.length&&(_===16?this._parseHex(N,k,j):(this._parseBase(N,_,k),j==="le"&&this._initArray(this.toArray(),_,j)))},r.prototype._initNumber=function(N,_,j){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(c(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),_,j)},r.prototype._initArray=function(N,_,j){if(c(typeof N.length=="number"),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var T,M,F=0;if(j==="be")for(k=N.length-1,T=0;k>=0;k-=3)M=N[k]|N[k-1]<<8|N[k-2]<<16,this.words[T]|=M<<F&67108863,this.words[T+1]=M>>>26-F&67108863,(F+=24)>=26&&(F-=26,T++);else if(j==="le")for(k=0,T=0;k<N.length;k+=3)M=N[k]|N[k+1]<<8|N[k+2]<<16,this.words[T]|=M<<F&67108863,this.words[T+1]=M>>>26-F&67108863,(F+=24)>=26&&(F-=26,T++);return this._strip()},r.prototype._parseHex=function(N,_,j){this.length=Math.ceil((N.length-_)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var T,M=0,F=0;if(j==="be")for(k=N.length-1;k>=_;k-=2)T=d(N,_,k)<<M,this.words[F]|=67108863&T,M>=18?(M-=18,F+=1,this.words[F]|=T>>>26):M+=8;else for(k=(N.length-_)%2==0?_+1:_;k<N.length;k+=2)T=d(N,_,k)<<M,this.words[F]|=67108863&T,M>=18?(M-=18,F+=1,this.words[F]|=T>>>26):M+=8;this._strip()},r.prototype._parseBase=function(N,_,j){this.words=[0],this.length=1;for(var k=0,T=1;T<=67108863;T*=_)k++;k--,T=T/_|0;for(var M=N.length-j,F=M%k,$=Math.min(M,M-F)+j,V=0,W=j;W<$;W+=k)V=u(N,W,W+k,_),this.imuln(T),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V);if(F!==0){var ee=1;for(V=u(N,W,N.length,_),W=0;W<F;W++)ee*=_;this.imuln(ee),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V)}this._strip()},r.prototype.copy=function(N){N.words=new Array(this.length);for(var _=0;_<this.length;_++)N.words[_]=this.words[_];N.length=this.length,N.negative=this.negative,N.red=this.red},r.prototype._move=function(N){v(N,this)},r.prototype.clone=function(){var N=new r(null);return this.copy(N),N},r.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},r.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},r.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{r.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{r.prototype.inspect=x}else r.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];r.prototype.toString=function(N,_){var j;if(_=0|_||1,(N=N||10)===16||N==="hex"){j="";for(var k=0,T=0,M=0;M<this.length;M++){var F=this.words[M],$=(16777215&(F<<k|T)).toString(16);T=F>>>24-k&16777215,(k+=2)>=26&&(k-=26,M--),j=T!==0||M!==this.length-1?m[6-$.length]+$+j:$+j}for(T!==0&&(j=T.toString(16)+j);j.length%_!=0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(N===(0|N)&&N>=2&&N<=36){var V=g[N],W=y[N];j="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var U=ee.modrn(W).toString(N);j=(ee=ee.idivn(W)).isZero()?U+j:m[V-U.length]+U+j}for(this.isZero()&&(j="0"+j);j.length%_!=0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}c(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var N=this.words[0];return this.length===2?N+=67108864*this.words[1]:this.length===3&&this.words[2]===1?N+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-N:N},r.prototype.toJSON=function(){return this.toString(16,2)},i&&(r.prototype.toBuffer=function(N,_){return this.toArrayLike(i,N,_)}),r.prototype.toArray=function(N,_){return this.toArrayLike(Array,N,_)};function C(N,_,j){j.negative=_.negative^N.negative;var k=N.length+_.length|0;j.length=k,k=k-1|0;var T=0|N.words[0],M=0|_.words[0],F=T*M,$=67108863&F,V=F/67108864|0;j.words[0]=$;for(var W=1;W<k;W++){for(var ee=V>>>26,U=67108863&V,Q=Math.min(W,_.length-1),L=Math.max(0,W-N.length+1);L<=Q;L++){var I=W-L|0;ee+=(F=(T=0|N.words[I])*(M=0|_.words[L])+U)/67108864|0,U=67108863&F}j.words[W]=0|U,V=0|ee}return V!==0?j.words[W]=0|V:j.length--,j._strip()}r.prototype.toArrayLike=function(N,_,j){this._strip();var k=this.byteLength(),T=j||Math.max(1,k);c(k<=T,"byte array longer than desired length"),c(T>0,"Requested array length <= 0");var M=function(F,$){return F.allocUnsafe?F.allocUnsafe($):new F($)}(N,T);return this["_toArrayLike"+(_==="le"?"LE":"BE")](M,k),M},r.prototype._toArrayLikeLE=function(N,_){for(var j=0,k=0,T=0,M=0;T<this.length;T++){var F=this.words[T]<<M|k;N[j++]=255&F,j<N.length&&(N[j++]=F>>8&255),j<N.length&&(N[j++]=F>>16&255),M===6?(j<N.length&&(N[j++]=F>>24&255),k=0,M=0):(k=F>>>24,M+=2)}if(j<N.length)for(N[j++]=k;j<N.length;)N[j++]=0},r.prototype._toArrayLikeBE=function(N,_){for(var j=N.length-1,k=0,T=0,M=0;T<this.length;T++){var F=this.words[T]<<M|k;N[j--]=255&F,j>=0&&(N[j--]=F>>8&255),j>=0&&(N[j--]=F>>16&255),M===6?(j>=0&&(N[j--]=F>>24&255),k=0,M=0):(k=F>>>24,M+=2)}if(j>=0)for(N[j--]=k;j>=0;)N[j--]=0},Math.clz32?r.prototype._countBits=function(N){return 32-Math.clz32(N)}:r.prototype._countBits=function(N){var _=N,j=0;return _>=4096&&(j+=13,_>>>=13),_>=64&&(j+=7,_>>>=7),_>=8&&(j+=4,_>>>=4),_>=2&&(j+=2,_>>>=2),j+_},r.prototype._zeroBits=function(N){if(N===0)return 26;var _=N,j=0;return(8191&_)==0&&(j+=13,_>>>=13),(127&_)==0&&(j+=7,_>>>=7),(15&_)==0&&(j+=4,_>>>=4),(3&_)==0&&(j+=2,_>>>=2),(1&_)==0&&j++,j},r.prototype.bitLength=function(){var N=this.words[this.length-1],_=this._countBits(N);return 26*(this.length-1)+_},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,_=0;_<this.length;_++){var j=this._zeroBits(this.words[_]);if(N+=j,j!==26)break}return N},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(N){return this.negative!==0?this.abs().inotn(N).iaddn(1):this.clone()},r.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return this.negative!==0},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var _=0;_<N.length;_++)this.words[_]=this.words[_]|N.words[_];return this._strip()},r.prototype.ior=function(N){return c((this.negative|N.negative)==0),this.iuor(N)},r.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},r.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},r.prototype.iuand=function(N){var _;_=this.length>N.length?N:this;for(var j=0;j<_.length;j++)this.words[j]=this.words[j]&N.words[j];return this.length=_.length,this._strip()},r.prototype.iand=function(N){return c((this.negative|N.negative)==0),this.iuand(N)},r.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},r.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},r.prototype.iuxor=function(N){var _,j;this.length>N.length?(_=this,j=N):(_=N,j=this);for(var k=0;k<j.length;k++)this.words[k]=_.words[k]^j.words[k];if(this!==_)for(;k<_.length;k++)this.words[k]=_.words[k];return this.length=_.length,this._strip()},r.prototype.ixor=function(N){return c((this.negative|N.negative)==0),this.iuxor(N)},r.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},r.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},r.prototype.inotn=function(N){c(typeof N=="number"&&N>=0);var _=0|Math.ceil(N/26),j=N%26;this._expand(_),j>0&&_--;for(var k=0;k<_;k++)this.words[k]=67108863&~this.words[k];return j>0&&(this.words[k]=~this.words[k]&67108863>>26-j),this._strip()},r.prototype.notn=function(N){return this.clone().inotn(N)},r.prototype.setn=function(N,_){c(typeof N=="number"&&N>=0);var j=N/26|0,k=N%26;return this._expand(j+1),this.words[j]=_?this.words[j]|1<<k:this.words[j]&~(1<<k),this._strip()},r.prototype.iadd=function(N){var _,j,k;if(this.negative!==0&&N.negative===0)return this.negative=0,_=this.isub(N),this.negative^=1,this._normSign();if(this.negative===0&&N.negative!==0)return N.negative=0,_=this.isub(N),N.negative=1,_._normSign();this.length>N.length?(j=this,k=N):(j=N,k=this);for(var T=0,M=0;M<k.length;M++)_=(0|j.words[M])+(0|k.words[M])+T,this.words[M]=67108863&_,T=_>>>26;for(;T!==0&&M<j.length;M++)_=(0|j.words[M])+T,this.words[M]=67108863&_,T=_>>>26;if(this.length=j.length,T!==0)this.words[this.length]=T,this.length++;else if(j!==this)for(;M<j.length;M++)this.words[M]=j.words[M];return this},r.prototype.add=function(N){var _;return N.negative!==0&&this.negative===0?(N.negative=0,_=this.sub(N),N.negative^=1,_):N.negative===0&&this.negative!==0?(this.negative=0,_=N.sub(this),this.negative=1,_):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},r.prototype.isub=function(N){if(N.negative!==0){N.negative=0;var _=this.iadd(N);return N.negative=1,_._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var j,k,T=this.cmp(N);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;T>0?(j=this,k=N):(j=N,k=this);for(var M=0,F=0;F<k.length;F++)M=(_=(0|j.words[F])-(0|k.words[F])+M)>>26,this.words[F]=67108863&_;for(;M!==0&&F<j.length;F++)M=(_=(0|j.words[F])+M)>>26,this.words[F]=67108863&_;if(M===0&&F<j.length&&j!==this)for(;F<j.length;F++)this.words[F]=j.words[F];return this.length=Math.max(this.length,F),j!==this&&(this.negative=1),this._strip()},r.prototype.sub=function(N){return this.clone().isub(N)};var E=function(N,_,j){var k,T,M,F=N.words,$=_.words,V=j.words,W=0,ee=0|F[0],U=8191&ee,Q=ee>>>13,L=0|F[1],I=8191&L,Z=L>>>13,te=0|F[2],ie=8191&te,se=te>>>13,le=0|F[3],me=8191&le,ae=le>>>13,re=0|F[4],oe=8191&re,ue=re>>>13,fe=0|F[5],be=8191&fe,Ce=fe>>>13,Ae=0|F[6],Pe=8191&Ae,Fe=Ae>>>13,pe=0|F[7],Ee=8191&pe,He=pe>>>13,Me=0|F[8],ve=8191&Me,de=Me>>>13,we=0|F[9],he=8191&we,ye=we>>>13,Te=0|$[0],Be=8191&Te,Ye=Te>>>13,at=0|$[1],ot=8191&at,Ue=at>>>13,ze=0|$[2],je=8191&ze,Je=ze>>>13,nt=0|$[3],$e=8191&nt,Re=nt>>>13,De=0|$[4],Ve=8191&De,Qe=De>>>13,lt=0|$[5],ct=8191&lt,pt=lt>>>13,_e=0|$[6],Ne=8191&_e,We=_e>>>13,dt=0|$[7],vt=8191&dt,ft=dt>>>13,kt=0|$[8],xt=8191&kt,bt=kt>>>13,Et=0|$[9],Ct=8191&Et,wt=Et>>>13;j.negative=N.negative^_.negative,j.length=19;var vr=(W+(k=Math.imul(U,Be))|0)+((8191&(T=(T=Math.imul(U,Ye))+Math.imul(Q,Be)|0))<<13)|0;W=((M=Math.imul(Q,Ye))+(T>>>13)|0)+(vr>>>26)|0,vr&=67108863,k=Math.imul(I,Be),T=(T=Math.imul(I,Ye))+Math.imul(Z,Be)|0,M=Math.imul(Z,Ye);var or=(W+(k=k+Math.imul(U,ot)|0)|0)+((8191&(T=(T=T+Math.imul(U,Ue)|0)+Math.imul(Q,ot)|0))<<13)|0;W=((M=M+Math.imul(Q,Ue)|0)+(T>>>13)|0)+(or>>>26)|0,or&=67108863,k=Math.imul(ie,Be),T=(T=Math.imul(ie,Ye))+Math.imul(se,Be)|0,M=Math.imul(se,Ye),k=k+Math.imul(I,ot)|0,T=(T=T+Math.imul(I,Ue)|0)+Math.imul(Z,ot)|0,M=M+Math.imul(Z,Ue)|0;var hr=(W+(k=k+Math.imul(U,je)|0)|0)+((8191&(T=(T=T+Math.imul(U,Je)|0)+Math.imul(Q,je)|0))<<13)|0;W=((M=M+Math.imul(Q,Je)|0)+(T>>>13)|0)+(hr>>>26)|0,hr&=67108863,k=Math.imul(me,Be),T=(T=Math.imul(me,Ye))+Math.imul(ae,Be)|0,M=Math.imul(ae,Ye),k=k+Math.imul(ie,ot)|0,T=(T=T+Math.imul(ie,Ue)|0)+Math.imul(se,ot)|0,M=M+Math.imul(se,Ue)|0,k=k+Math.imul(I,je)|0,T=(T=T+Math.imul(I,Je)|0)+Math.imul(Z,je)|0,M=M+Math.imul(Z,Je)|0;var mr=(W+(k=k+Math.imul(U,$e)|0)|0)+((8191&(T=(T=T+Math.imul(U,Re)|0)+Math.imul(Q,$e)|0))<<13)|0;W=((M=M+Math.imul(Q,Re)|0)+(T>>>13)|0)+(mr>>>26)|0,mr&=67108863,k=Math.imul(oe,Be),T=(T=Math.imul(oe,Ye))+Math.imul(ue,Be)|0,M=Math.imul(ue,Ye),k=k+Math.imul(me,ot)|0,T=(T=T+Math.imul(me,Ue)|0)+Math.imul(ae,ot)|0,M=M+Math.imul(ae,Ue)|0,k=k+Math.imul(ie,je)|0,T=(T=T+Math.imul(ie,Je)|0)+Math.imul(se,je)|0,M=M+Math.imul(se,Je)|0,k=k+Math.imul(I,$e)|0,T=(T=T+Math.imul(I,Re)|0)+Math.imul(Z,$e)|0,M=M+Math.imul(Z,Re)|0;var en=(W+(k=k+Math.imul(U,Ve)|0)|0)+((8191&(T=(T=T+Math.imul(U,Qe)|0)+Math.imul(Q,Ve)|0))<<13)|0;W=((M=M+Math.imul(Q,Qe)|0)+(T>>>13)|0)+(en>>>26)|0,en&=67108863,k=Math.imul(be,Be),T=(T=Math.imul(be,Ye))+Math.imul(Ce,Be)|0,M=Math.imul(Ce,Ye),k=k+Math.imul(oe,ot)|0,T=(T=T+Math.imul(oe,Ue)|0)+Math.imul(ue,ot)|0,M=M+Math.imul(ue,Ue)|0,k=k+Math.imul(me,je)|0,T=(T=T+Math.imul(me,Je)|0)+Math.imul(ae,je)|0,M=M+Math.imul(ae,Je)|0,k=k+Math.imul(ie,$e)|0,T=(T=T+Math.imul(ie,Re)|0)+Math.imul(se,$e)|0,M=M+Math.imul(se,Re)|0,k=k+Math.imul(I,Ve)|0,T=(T=T+Math.imul(I,Qe)|0)+Math.imul(Z,Ve)|0,M=M+Math.imul(Z,Qe)|0;var ge=(W+(k=k+Math.imul(U,ct)|0)|0)+((8191&(T=(T=T+Math.imul(U,pt)|0)+Math.imul(Q,ct)|0))<<13)|0;W=((M=M+Math.imul(Q,pt)|0)+(T>>>13)|0)+(ge>>>26)|0,ge&=67108863,k=Math.imul(Pe,Be),T=(T=Math.imul(Pe,Ye))+Math.imul(Fe,Be)|0,M=Math.imul(Fe,Ye),k=k+Math.imul(be,ot)|0,T=(T=T+Math.imul(be,Ue)|0)+Math.imul(Ce,ot)|0,M=M+Math.imul(Ce,Ue)|0,k=k+Math.imul(oe,je)|0,T=(T=T+Math.imul(oe,Je)|0)+Math.imul(ue,je)|0,M=M+Math.imul(ue,Je)|0,k=k+Math.imul(me,$e)|0,T=(T=T+Math.imul(me,Re)|0)+Math.imul(ae,$e)|0,M=M+Math.imul(ae,Re)|0,k=k+Math.imul(ie,Ve)|0,T=(T=T+Math.imul(ie,Qe)|0)+Math.imul(se,Ve)|0,M=M+Math.imul(se,Qe)|0,k=k+Math.imul(I,ct)|0,T=(T=T+Math.imul(I,pt)|0)+Math.imul(Z,ct)|0,M=M+Math.imul(Z,pt)|0;var Le=(W+(k=k+Math.imul(U,Ne)|0)|0)+((8191&(T=(T=T+Math.imul(U,We)|0)+Math.imul(Q,Ne)|0))<<13)|0;W=((M=M+Math.imul(Q,We)|0)+(T>>>13)|0)+(Le>>>26)|0,Le&=67108863,k=Math.imul(Ee,Be),T=(T=Math.imul(Ee,Ye))+Math.imul(He,Be)|0,M=Math.imul(He,Ye),k=k+Math.imul(Pe,ot)|0,T=(T=T+Math.imul(Pe,Ue)|0)+Math.imul(Fe,ot)|0,M=M+Math.imul(Fe,Ue)|0,k=k+Math.imul(be,je)|0,T=(T=T+Math.imul(be,Je)|0)+Math.imul(Ce,je)|0,M=M+Math.imul(Ce,Je)|0,k=k+Math.imul(oe,$e)|0,T=(T=T+Math.imul(oe,Re)|0)+Math.imul(ue,$e)|0,M=M+Math.imul(ue,Re)|0,k=k+Math.imul(me,Ve)|0,T=(T=T+Math.imul(me,Qe)|0)+Math.imul(ae,Ve)|0,M=M+Math.imul(ae,Qe)|0,k=k+Math.imul(ie,ct)|0,T=(T=T+Math.imul(ie,pt)|0)+Math.imul(se,ct)|0,M=M+Math.imul(se,pt)|0,k=k+Math.imul(I,Ne)|0,T=(T=T+Math.imul(I,We)|0)+Math.imul(Z,Ne)|0,M=M+Math.imul(Z,We)|0;var rt=(W+(k=k+Math.imul(U,vt)|0)|0)+((8191&(T=(T=T+Math.imul(U,ft)|0)+Math.imul(Q,vt)|0))<<13)|0;W=((M=M+Math.imul(Q,ft)|0)+(T>>>13)|0)+(rt>>>26)|0,rt&=67108863,k=Math.imul(ve,Be),T=(T=Math.imul(ve,Ye))+Math.imul(de,Be)|0,M=Math.imul(de,Ye),k=k+Math.imul(Ee,ot)|0,T=(T=T+Math.imul(Ee,Ue)|0)+Math.imul(He,ot)|0,M=M+Math.imul(He,Ue)|0,k=k+Math.imul(Pe,je)|0,T=(T=T+Math.imul(Pe,Je)|0)+Math.imul(Fe,je)|0,M=M+Math.imul(Fe,Je)|0,k=k+Math.imul(be,$e)|0,T=(T=T+Math.imul(be,Re)|0)+Math.imul(Ce,$e)|0,M=M+Math.imul(Ce,Re)|0,k=k+Math.imul(oe,Ve)|0,T=(T=T+Math.imul(oe,Qe)|0)+Math.imul(ue,Ve)|0,M=M+Math.imul(ue,Qe)|0,k=k+Math.imul(me,ct)|0,T=(T=T+Math.imul(me,pt)|0)+Math.imul(ae,ct)|0,M=M+Math.imul(ae,pt)|0,k=k+Math.imul(ie,Ne)|0,T=(T=T+Math.imul(ie,We)|0)+Math.imul(se,Ne)|0,M=M+Math.imul(se,We)|0,k=k+Math.imul(I,vt)|0,T=(T=T+Math.imul(I,ft)|0)+Math.imul(Z,vt)|0,M=M+Math.imul(Z,ft)|0;var it=(W+(k=k+Math.imul(U,xt)|0)|0)+((8191&(T=(T=T+Math.imul(U,bt)|0)+Math.imul(Q,xt)|0))<<13)|0;W=((M=M+Math.imul(Q,bt)|0)+(T>>>13)|0)+(it>>>26)|0,it&=67108863,k=Math.imul(he,Be),T=(T=Math.imul(he,Ye))+Math.imul(ye,Be)|0,M=Math.imul(ye,Ye),k=k+Math.imul(ve,ot)|0,T=(T=T+Math.imul(ve,Ue)|0)+Math.imul(de,ot)|0,M=M+Math.imul(de,Ue)|0,k=k+Math.imul(Ee,je)|0,T=(T=T+Math.imul(Ee,Je)|0)+Math.imul(He,je)|0,M=M+Math.imul(He,Je)|0,k=k+Math.imul(Pe,$e)|0,T=(T=T+Math.imul(Pe,Re)|0)+Math.imul(Fe,$e)|0,M=M+Math.imul(Fe,Re)|0,k=k+Math.imul(be,Ve)|0,T=(T=T+Math.imul(be,Qe)|0)+Math.imul(Ce,Ve)|0,M=M+Math.imul(Ce,Qe)|0,k=k+Math.imul(oe,ct)|0,T=(T=T+Math.imul(oe,pt)|0)+Math.imul(ue,ct)|0,M=M+Math.imul(ue,pt)|0,k=k+Math.imul(me,Ne)|0,T=(T=T+Math.imul(me,We)|0)+Math.imul(ae,Ne)|0,M=M+Math.imul(ae,We)|0,k=k+Math.imul(ie,vt)|0,T=(T=T+Math.imul(ie,ft)|0)+Math.imul(se,vt)|0,M=M+Math.imul(se,ft)|0,k=k+Math.imul(I,xt)|0,T=(T=T+Math.imul(I,bt)|0)+Math.imul(Z,xt)|0,M=M+Math.imul(Z,bt)|0;var gt=(W+(k=k+Math.imul(U,Ct)|0)|0)+((8191&(T=(T=T+Math.imul(U,wt)|0)+Math.imul(Q,Ct)|0))<<13)|0;W=((M=M+Math.imul(Q,wt)|0)+(T>>>13)|0)+(gt>>>26)|0,gt&=67108863,k=Math.imul(he,ot),T=(T=Math.imul(he,Ue))+Math.imul(ye,ot)|0,M=Math.imul(ye,Ue),k=k+Math.imul(ve,je)|0,T=(T=T+Math.imul(ve,Je)|0)+Math.imul(de,je)|0,M=M+Math.imul(de,Je)|0,k=k+Math.imul(Ee,$e)|0,T=(T=T+Math.imul(Ee,Re)|0)+Math.imul(He,$e)|0,M=M+Math.imul(He,Re)|0,k=k+Math.imul(Pe,Ve)|0,T=(T=T+Math.imul(Pe,Qe)|0)+Math.imul(Fe,Ve)|0,M=M+Math.imul(Fe,Qe)|0,k=k+Math.imul(be,ct)|0,T=(T=T+Math.imul(be,pt)|0)+Math.imul(Ce,ct)|0,M=M+Math.imul(Ce,pt)|0,k=k+Math.imul(oe,Ne)|0,T=(T=T+Math.imul(oe,We)|0)+Math.imul(ue,Ne)|0,M=M+Math.imul(ue,We)|0,k=k+Math.imul(me,vt)|0,T=(T=T+Math.imul(me,ft)|0)+Math.imul(ae,vt)|0,M=M+Math.imul(ae,ft)|0,k=k+Math.imul(ie,xt)|0,T=(T=T+Math.imul(ie,bt)|0)+Math.imul(se,xt)|0,M=M+Math.imul(se,bt)|0;var ut=(W+(k=k+Math.imul(I,Ct)|0)|0)+((8191&(T=(T=T+Math.imul(I,wt)|0)+Math.imul(Z,Ct)|0))<<13)|0;W=((M=M+Math.imul(Z,wt)|0)+(T>>>13)|0)+(ut>>>26)|0,ut&=67108863,k=Math.imul(he,je),T=(T=Math.imul(he,Je))+Math.imul(ye,je)|0,M=Math.imul(ye,Je),k=k+Math.imul(ve,$e)|0,T=(T=T+Math.imul(ve,Re)|0)+Math.imul(de,$e)|0,M=M+Math.imul(de,Re)|0,k=k+Math.imul(Ee,Ve)|0,T=(T=T+Math.imul(Ee,Qe)|0)+Math.imul(He,Ve)|0,M=M+Math.imul(He,Qe)|0,k=k+Math.imul(Pe,ct)|0,T=(T=T+Math.imul(Pe,pt)|0)+Math.imul(Fe,ct)|0,M=M+Math.imul(Fe,pt)|0,k=k+Math.imul(be,Ne)|0,T=(T=T+Math.imul(be,We)|0)+Math.imul(Ce,Ne)|0,M=M+Math.imul(Ce,We)|0,k=k+Math.imul(oe,vt)|0,T=(T=T+Math.imul(oe,ft)|0)+Math.imul(ue,vt)|0,M=M+Math.imul(ue,ft)|0,k=k+Math.imul(me,xt)|0,T=(T=T+Math.imul(me,bt)|0)+Math.imul(ae,xt)|0,M=M+Math.imul(ae,bt)|0;var ht=(W+(k=k+Math.imul(ie,Ct)|0)|0)+((8191&(T=(T=T+Math.imul(ie,wt)|0)+Math.imul(se,Ct)|0))<<13)|0;W=((M=M+Math.imul(se,wt)|0)+(T>>>13)|0)+(ht>>>26)|0,ht&=67108863,k=Math.imul(he,$e),T=(T=Math.imul(he,Re))+Math.imul(ye,$e)|0,M=Math.imul(ye,Re),k=k+Math.imul(ve,Ve)|0,T=(T=T+Math.imul(ve,Qe)|0)+Math.imul(de,Ve)|0,M=M+Math.imul(de,Qe)|0,k=k+Math.imul(Ee,ct)|0,T=(T=T+Math.imul(Ee,pt)|0)+Math.imul(He,ct)|0,M=M+Math.imul(He,pt)|0,k=k+Math.imul(Pe,Ne)|0,T=(T=T+Math.imul(Pe,We)|0)+Math.imul(Fe,Ne)|0,M=M+Math.imul(Fe,We)|0,k=k+Math.imul(be,vt)|0,T=(T=T+Math.imul(be,ft)|0)+Math.imul(Ce,vt)|0,M=M+Math.imul(Ce,ft)|0,k=k+Math.imul(oe,xt)|0,T=(T=T+Math.imul(oe,bt)|0)+Math.imul(ue,xt)|0,M=M+Math.imul(ue,bt)|0;var qt=(W+(k=k+Math.imul(me,Ct)|0)|0)+((8191&(T=(T=T+Math.imul(me,wt)|0)+Math.imul(ae,Ct)|0))<<13)|0;W=((M=M+Math.imul(ae,wt)|0)+(T>>>13)|0)+(qt>>>26)|0,qt&=67108863,k=Math.imul(he,Ve),T=(T=Math.imul(he,Qe))+Math.imul(ye,Ve)|0,M=Math.imul(ye,Qe),k=k+Math.imul(ve,ct)|0,T=(T=T+Math.imul(ve,pt)|0)+Math.imul(de,ct)|0,M=M+Math.imul(de,pt)|0,k=k+Math.imul(Ee,Ne)|0,T=(T=T+Math.imul(Ee,We)|0)+Math.imul(He,Ne)|0,M=M+Math.imul(He,We)|0,k=k+Math.imul(Pe,vt)|0,T=(T=T+Math.imul(Pe,ft)|0)+Math.imul(Fe,vt)|0,M=M+Math.imul(Fe,ft)|0,k=k+Math.imul(be,xt)|0,T=(T=T+Math.imul(be,bt)|0)+Math.imul(Ce,xt)|0,M=M+Math.imul(Ce,bt)|0;var Ot=(W+(k=k+Math.imul(oe,Ct)|0)|0)+((8191&(T=(T=T+Math.imul(oe,wt)|0)+Math.imul(ue,Ct)|0))<<13)|0;W=((M=M+Math.imul(ue,wt)|0)+(T>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,k=Math.imul(he,ct),T=(T=Math.imul(he,pt))+Math.imul(ye,ct)|0,M=Math.imul(ye,pt),k=k+Math.imul(ve,Ne)|0,T=(T=T+Math.imul(ve,We)|0)+Math.imul(de,Ne)|0,M=M+Math.imul(de,We)|0,k=k+Math.imul(Ee,vt)|0,T=(T=T+Math.imul(Ee,ft)|0)+Math.imul(He,vt)|0,M=M+Math.imul(He,ft)|0,k=k+Math.imul(Pe,xt)|0,T=(T=T+Math.imul(Pe,bt)|0)+Math.imul(Fe,xt)|0,M=M+Math.imul(Fe,bt)|0;var Lt=(W+(k=k+Math.imul(be,Ct)|0)|0)+((8191&(T=(T=T+Math.imul(be,wt)|0)+Math.imul(Ce,Ct)|0))<<13)|0;W=((M=M+Math.imul(Ce,wt)|0)+(T>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,k=Math.imul(he,Ne),T=(T=Math.imul(he,We))+Math.imul(ye,Ne)|0,M=Math.imul(ye,We),k=k+Math.imul(ve,vt)|0,T=(T=T+Math.imul(ve,ft)|0)+Math.imul(de,vt)|0,M=M+Math.imul(de,ft)|0,k=k+Math.imul(Ee,xt)|0,T=(T=T+Math.imul(Ee,bt)|0)+Math.imul(He,xt)|0,M=M+Math.imul(He,bt)|0;var _t=(W+(k=k+Math.imul(Pe,Ct)|0)|0)+((8191&(T=(T=T+Math.imul(Pe,wt)|0)+Math.imul(Fe,Ct)|0))<<13)|0;W=((M=M+Math.imul(Fe,wt)|0)+(T>>>13)|0)+(_t>>>26)|0,_t&=67108863,k=Math.imul(he,vt),T=(T=Math.imul(he,ft))+Math.imul(ye,vt)|0,M=Math.imul(ye,ft),k=k+Math.imul(ve,xt)|0,T=(T=T+Math.imul(ve,bt)|0)+Math.imul(de,xt)|0,M=M+Math.imul(de,bt)|0;var Qt=(W+(k=k+Math.imul(Ee,Ct)|0)|0)+((8191&(T=(T=T+Math.imul(Ee,wt)|0)+Math.imul(He,Ct)|0))<<13)|0;W=((M=M+Math.imul(He,wt)|0)+(T>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,k=Math.imul(he,xt),T=(T=Math.imul(he,bt))+Math.imul(ye,xt)|0,M=Math.imul(ye,bt);var Zt=(W+(k=k+Math.imul(ve,Ct)|0)|0)+((8191&(T=(T=T+Math.imul(ve,wt)|0)+Math.imul(de,Ct)|0))<<13)|0;W=((M=M+Math.imul(de,wt)|0)+(T>>>13)|0)+(Zt>>>26)|0,Zt&=67108863;var It=(W+(k=Math.imul(he,Ct))|0)+((8191&(T=(T=Math.imul(he,wt))+Math.imul(ye,Ct)|0))<<13)|0;return W=((M=Math.imul(ye,wt))+(T>>>13)|0)+(It>>>26)|0,It&=67108863,V[0]=vr,V[1]=or,V[2]=hr,V[3]=mr,V[4]=en,V[5]=ge,V[6]=Le,V[7]=rt,V[8]=it,V[9]=gt,V[10]=ut,V[11]=ht,V[12]=qt,V[13]=Ot,V[14]=Lt,V[15]=_t,V[16]=Qt,V[17]=Zt,V[18]=It,W!==0&&(V[19]=W,j.length++),j};function A(N,_,j){j.negative=_.negative^N.negative,j.length=N.length+_.length;for(var k=0,T=0,M=0;M<j.length-1;M++){var F=T;T=0;for(var $=67108863&k,V=Math.min(M,_.length-1),W=Math.max(0,M-N.length+1);W<=V;W++){var ee=M-W,U=(0|N.words[ee])*(0|_.words[W]),Q=67108863&U;$=67108863&(Q=Q+$|0),T+=(F=(F=F+(U/67108864|0)|0)+(Q>>>26)|0)>>>26,F&=67108863}j.words[M]=$,k=F,F=T}return k!==0?j.words[M]=k:j.length--,j._strip()}function D(N,_,j){return A(N,_,j)}Math.imul||(E=C),r.prototype.mulTo=function(N,_){var j=this.length+N.length;return this.length===10&&N.length===10?E(this,N,_):j<63?C(this,N,_):j<1024?A(this,N,_):D(this,N,_)},r.prototype.mul=function(N){var _=new r(null);return _.words=new Array(this.length+N.length),this.mulTo(N,_)},r.prototype.mulf=function(N){var _=new r(null);return _.words=new Array(this.length+N.length),D(this,N,_)},r.prototype.imul=function(N){return this.clone().mulTo(N,this)},r.prototype.imuln=function(N){var _=N<0;_&&(N=-N),c(typeof N=="number"),c(N<67108864);for(var j=0,k=0;k<this.length;k++){var T=(0|this.words[k])*N,M=(67108863&T)+(67108863&j);j>>=26,j+=T/67108864|0,j+=M>>>26,this.words[k]=67108863&M}return j!==0&&(this.words[k]=j,this.length++),_?this.ineg():this},r.prototype.muln=function(N){return this.clone().imuln(N)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(N){var _=function(M){for(var F=new Array(M.bitLength()),$=0;$<F.length;$++){var V=$/26|0,W=$%26;F[$]=M.words[V]>>>W&1}return F}(N);if(_.length===0)return new r(1);for(var j=this,k=0;k<_.length&&_[k]===0;k++,j=j.sqr());if(++k<_.length)for(var T=j.sqr();k<_.length;k++,T=T.sqr())_[k]!==0&&(j=j.mul(T));return j},r.prototype.iushln=function(N){c(typeof N=="number"&&N>=0);var _,j=N%26,k=(N-j)/26,T=67108863>>>26-j<<26-j;if(j!==0){var M=0;for(_=0;_<this.length;_++){var F=this.words[_]&T,$=(0|this.words[_])-F<<j;this.words[_]=$|M,M=F>>>26-j}M&&(this.words[_]=M,this.length++)}if(k!==0){for(_=this.length-1;_>=0;_--)this.words[_+k]=this.words[_];for(_=0;_<k;_++)this.words[_]=0;this.length+=k}return this._strip()},r.prototype.ishln=function(N){return c(this.negative===0),this.iushln(N)},r.prototype.iushrn=function(N,_,j){var k;c(typeof N=="number"&&N>=0),k=_?(_-_%26)/26:0;var T=N%26,M=Math.min((N-T)/26,this.length),F=67108863^67108863>>>T<<T,$=j;if(k-=M,k=Math.max(0,k),$){for(var V=0;V<M;V++)$.words[V]=this.words[V];$.length=M}if(M!==0)if(this.length>M)for(this.length-=M,V=0;V<this.length;V++)this.words[V]=this.words[V+M];else this.words[0]=0,this.length=1;var W=0;for(V=this.length-1;V>=0&&(W!==0||V>=k);V--){var ee=0|this.words[V];this.words[V]=W<<26-T|ee>>>T,W=ee&F}return $&&W!==0&&($.words[$.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},r.prototype.ishrn=function(N,_,j){return c(this.negative===0),this.iushrn(N,_,j)},r.prototype.shln=function(N){return this.clone().ishln(N)},r.prototype.ushln=function(N){return this.clone().iushln(N)},r.prototype.shrn=function(N){return this.clone().ishrn(N)},r.prototype.ushrn=function(N){return this.clone().iushrn(N)},r.prototype.testn=function(N){c(typeof N=="number"&&N>=0);var _=N%26,j=(N-_)/26,k=1<<_;return!(this.length<=j)&&!!(this.words[j]&k)},r.prototype.imaskn=function(N){c(typeof N=="number"&&N>=0);var _=N%26,j=(N-_)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(_!==0&&j++,this.length=Math.min(j,this.length),_!==0){var k=67108863^67108863>>>_<<_;this.words[this.length-1]&=k}return this._strip()},r.prototype.maskn=function(N){return this.clone().imaskn(N)},r.prototype.iaddn=function(N){return c(typeof N=="number"),c(N<67108864),N<0?this.isubn(-N):this.negative!==0?this.length===1&&(0|this.words[0])<=N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},r.prototype._iaddn=function(N){this.words[0]+=N;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},r.prototype.isubn=function(N){if(c(typeof N=="number"),c(N<67108864),N<0)return this.iaddn(-N);if(this.negative!==0)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},r.prototype.addn=function(N){return this.clone().iaddn(N)},r.prototype.subn=function(N){return this.clone().isubn(N)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(N,_,j){var k,T,M=N.length+j;this._expand(M);var F=0;for(k=0;k<N.length;k++){T=(0|this.words[k+j])+F;var $=(0|N.words[k])*_;F=((T-=67108863&$)>>26)-($/67108864|0),this.words[k+j]=67108863&T}for(;k<this.length-j;k++)F=(T=(0|this.words[k+j])+F)>>26,this.words[k+j]=67108863&T;if(F===0)return this._strip();for(c(F===-1),F=0,k=0;k<this.length;k++)F=(T=-(0|this.words[k])+F)>>26,this.words[k]=67108863&T;return this.negative=1,this._strip()},r.prototype._wordDiv=function(N,_){var j=(this.length,N.length),k=this.clone(),T=N,M=0|T.words[T.length-1];(j=26-this._countBits(M))!==0&&(T=T.ushln(j),k.iushln(j),M=0|T.words[T.length-1]);var F,$=k.length-T.length;if(_!=="mod"){(F=new r(null)).length=$+1,F.words=new Array(F.length);for(var V=0;V<F.length;V++)F.words[V]=0}var W=k.clone()._ishlnsubmul(T,1,$);W.negative===0&&(k=W,F&&(F.words[$]=1));for(var ee=$-1;ee>=0;ee--){var U=67108864*(0|k.words[T.length+ee])+(0|k.words[T.length+ee-1]);for(U=Math.min(U/M|0,67108863),k._ishlnsubmul(T,U,ee);k.negative!==0;)U--,k.negative=0,k._ishlnsubmul(T,1,ee),k.isZero()||(k.negative^=1);F&&(F.words[ee]=U)}return F&&F._strip(),k._strip(),_!=="div"&&j!==0&&k.iushrn(j),{div:F||null,mod:k}},r.prototype.divmod=function(N,_,j){return c(!N.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:this.negative!==0&&N.negative===0?(M=this.neg().divmod(N,_),_!=="mod"&&(k=M.div.neg()),_!=="div"&&(T=M.mod.neg(),j&&T.negative!==0&&T.iadd(N)),{div:k,mod:T}):this.negative===0&&N.negative!==0?(M=this.divmod(N.neg(),_),_!=="mod"&&(k=M.div.neg()),{div:k,mod:M.mod}):(this.negative&N.negative)!=0?(M=this.neg().divmod(N.neg(),_),_!=="div"&&(T=M.mod.neg(),j&&T.negative!==0&&T.isub(N)),{div:M.div,mod:T}):N.length>this.length||this.cmp(N)<0?{div:new r(0),mod:this}:N.length===1?_==="div"?{div:this.divn(N.words[0]),mod:null}:_==="mod"?{div:null,mod:new r(this.modrn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new r(this.modrn(N.words[0]))}:this._wordDiv(N,_);var k,T,M},r.prototype.div=function(N){return this.divmod(N,"div",!1).div},r.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},r.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},r.prototype.divRound=function(N){var _=this.divmod(N);if(_.mod.isZero())return _.div;var j=_.div.negative!==0?_.mod.isub(N):_.mod,k=N.ushrn(1),T=N.andln(1),M=j.cmp(k);return M<0||T===1&&M===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},r.prototype.modrn=function(N){var _=N<0;_&&(N=-N),c(N<=67108863);for(var j=(1<<26)%N,k=0,T=this.length-1;T>=0;T--)k=(j*k+(0|this.words[T]))%N;return _?-k:k},r.prototype.modn=function(N){return this.modrn(N)},r.prototype.idivn=function(N){var _=N<0;_&&(N=-N),c(N<=67108863);for(var j=0,k=this.length-1;k>=0;k--){var T=(0|this.words[k])+67108864*j;this.words[k]=T/N|0,j=T%N}return this._strip(),_?this.ineg():this},r.prototype.divn=function(N){return this.clone().idivn(N)},r.prototype.egcd=function(N){c(N.negative===0),c(!N.isZero());var _=this,j=N.clone();_=_.negative!==0?_.umod(N):_.clone();for(var k=new r(1),T=new r(0),M=new r(0),F=new r(1),$=0;_.isEven()&&j.isEven();)_.iushrn(1),j.iushrn(1),++$;for(var V=j.clone(),W=_.clone();!_.isZero();){for(var ee=0,U=1;(_.words[0]&U)==0&&ee<26;++ee,U<<=1);if(ee>0)for(_.iushrn(ee);ee-- >0;)(k.isOdd()||T.isOdd())&&(k.iadd(V),T.isub(W)),k.iushrn(1),T.iushrn(1);for(var Q=0,L=1;(j.words[0]&L)==0&&Q<26;++Q,L<<=1);if(Q>0)for(j.iushrn(Q);Q-- >0;)(M.isOdd()||F.isOdd())&&(M.iadd(V),F.isub(W)),M.iushrn(1),F.iushrn(1);_.cmp(j)>=0?(_.isub(j),k.isub(M),T.isub(F)):(j.isub(_),M.isub(k),F.isub(T))}return{a:M,b:F,gcd:j.iushln($)}},r.prototype._invmp=function(N){c(N.negative===0),c(!N.isZero());var _=this,j=N.clone();_=_.negative!==0?_.umod(N):_.clone();for(var k,T=new r(1),M=new r(0),F=j.clone();_.cmpn(1)>0&&j.cmpn(1)>0;){for(var $=0,V=1;(_.words[0]&V)==0&&$<26;++$,V<<=1);if($>0)for(_.iushrn($);$-- >0;)T.isOdd()&&T.iadd(F),T.iushrn(1);for(var W=0,ee=1;(j.words[0]&ee)==0&&W<26;++W,ee<<=1);if(W>0)for(j.iushrn(W);W-- >0;)M.isOdd()&&M.iadd(F),M.iushrn(1);_.cmp(j)>=0?(_.isub(j),T.isub(M)):(j.isub(_),M.isub(T))}return(k=_.cmpn(1)===0?T:M).cmpn(0)<0&&k.iadd(N),k},r.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var _=this.clone(),j=N.clone();_.negative=0,j.negative=0;for(var k=0;_.isEven()&&j.isEven();k++)_.iushrn(1),j.iushrn(1);for(;;){for(;_.isEven();)_.iushrn(1);for(;j.isEven();)j.iushrn(1);var T=_.cmp(j);if(T<0){var M=_;_=j,j=M}else if(T===0||j.cmpn(1)===0)break;_.isub(j)}return j.iushln(k)},r.prototype.invm=function(N){return this.egcd(N).a.umod(N)},r.prototype.isEven=function(){return(1&this.words[0])==0},r.prototype.isOdd=function(){return(1&this.words[0])==1},r.prototype.andln=function(N){return this.words[0]&N},r.prototype.bincn=function(N){c(typeof N=="number");var _=N%26,j=(N-_)/26,k=1<<_;if(this.length<=j)return this._expand(j+1),this.words[j]|=k,this;for(var T=k,M=j;T!==0&&M<this.length;M++){var F=0|this.words[M];T=(F+=T)>>>26,F&=67108863,this.words[M]=F}return T!==0&&(this.words[M]=T,this.length++),this},r.prototype.isZero=function(){return this.length===1&&this.words[0]===0},r.prototype.cmpn=function(N){var _,j=N<0;if(this.negative!==0&&!j)return-1;if(this.negative===0&&j)return 1;if(this._strip(),this.length>1)_=1;else{j&&(N=-N),c(N<=67108863,"Number is too big");var k=0|this.words[0];_=k===N?0:k<N?-1:1}return this.negative!==0?0|-_:_},r.prototype.cmp=function(N){if(this.negative!==0&&N.negative===0)return-1;if(this.negative===0&&N.negative!==0)return 1;var _=this.ucmp(N);return this.negative!==0?0|-_:_},r.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var _=0,j=this.length-1;j>=0;j--){var k=0|this.words[j],T=0|N.words[j];if(k!==T){k<T?_=-1:k>T&&(_=1);break}}return _},r.prototype.gtn=function(N){return this.cmpn(N)===1},r.prototype.gt=function(N){return this.cmp(N)===1},r.prototype.gten=function(N){return this.cmpn(N)>=0},r.prototype.gte=function(N){return this.cmp(N)>=0},r.prototype.ltn=function(N){return this.cmpn(N)===-1},r.prototype.lt=function(N){return this.cmp(N)===-1},r.prototype.lten=function(N){return this.cmpn(N)<=0},r.prototype.lte=function(N){return this.cmp(N)<=0},r.prototype.eqn=function(N){return this.cmpn(N)===0},r.prototype.eq=function(N){return this.cmp(N)===0},r.red=function(N){return new O(N)},r.prototype.toRed=function(N){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),N.convertTo(this)._forceRed(N)},r.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(N){return this.red=N,this},r.prototype.forceRed=function(N){return c(!this.red,"Already a number in reduction context"),this._forceRed(N)},r.prototype.redAdd=function(N){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},r.prototype.redIAdd=function(N){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},r.prototype.redSub=function(N){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},r.prototype.redISub=function(N){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},r.prototype.redShl=function(N){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},r.prototype.redMul=function(N){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},r.prototype.redIMul=function(N){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},r.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(N){return c(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var q={k256:null,p224:null,p192:null,p25519:null};function B(N,_){this.name=N,this.p=new r(_,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function z(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function K(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Y(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function X(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function O(N){if(typeof N=="string"){var _=r._prime(N);this.m=_.p,this.prime=_}else c(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function P(N){O.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}B.prototype._tmp=function(){var N=new r(null);return N.words=new Array(Math.ceil(this.n/13)),N},B.prototype.ireduce=function(N){var _,j=N;do this.split(j,this.tmp),_=(j=(j=this.imulK(j)).iadd(this.tmp)).bitLength();while(_>this.n);var k=_<this.n?-1:j.ucmp(this.p);return k===0?(j.words[0]=0,j.length=1):k>0?j.isub(this.p):j.strip!==void 0?j.strip():j._strip(),j},B.prototype.split=function(N,_){N.iushrn(this.n,0,_)},B.prototype.imulK=function(N){return N.imul(this.k)},s(z,B),z.prototype.split=function(N,_){for(var j=Math.min(N.length,9),k=0;k<j;k++)_.words[k]=N.words[k];if(_.length=j,N.length<=9)return N.words[0]=0,void(N.length=1);var T=N.words[9];for(_.words[_.length++]=4194303&T,k=10;k<N.length;k++){var M=0|N.words[k];N.words[k-10]=(4194303&M)<<4|T>>>22,T=M}T>>>=22,N.words[k-10]=T,T===0&&N.length>10?N.length-=10:N.length-=9},z.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var _=0,j=0;j<N.length;j++){var k=0|N.words[j];_+=977*k,N.words[j]=67108863&_,_=64*k+(_/67108864|0)}return N.words[N.length-1]===0&&(N.length--,N.words[N.length-1]===0&&N.length--),N},s(K,B),s(Y,B),s(X,B),X.prototype.imulK=function(N){for(var _=0,j=0;j<N.length;j++){var k=19*(0|N.words[j])+_,T=67108863&k;k>>>=26,N.words[j]=T,_=k}return _!==0&&(N.words[N.length++]=_),N},r._prime=function(N){if(q[N])return q[N];var _;if(N==="k256")_=new z;else if(N==="p224")_=new K;else if(N==="p192")_=new Y;else{if(N!=="p25519")throw new Error("Unknown prime "+N);_=new X}return q[N]=_,_},O.prototype._verify1=function(N){c(N.negative===0,"red works only with positives"),c(N.red,"red works only with red numbers")},O.prototype._verify2=function(N,_){c((N.negative|_.negative)==0,"red works only with positives"),c(N.red&&N.red===_.red,"red works only with red numbers")},O.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):(v(N,N.umod(this.m)._forceRed(this)),N)},O.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},O.prototype.add=function(N,_){this._verify2(N,_);var j=N.add(_);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},O.prototype.iadd=function(N,_){this._verify2(N,_);var j=N.iadd(_);return j.cmp(this.m)>=0&&j.isub(this.m),j},O.prototype.sub=function(N,_){this._verify2(N,_);var j=N.sub(_);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},O.prototype.isub=function(N,_){this._verify2(N,_);var j=N.isub(_);return j.cmpn(0)<0&&j.iadd(this.m),j},O.prototype.shl=function(N,_){return this._verify1(N),this.imod(N.ushln(_))},O.prototype.imul=function(N,_){return this._verify2(N,_),this.imod(N.imul(_))},O.prototype.mul=function(N,_){return this._verify2(N,_),this.imod(N.mul(_))},O.prototype.isqr=function(N){return this.imul(N,N.clone())},O.prototype.sqr=function(N){return this.mul(N,N)},O.prototype.sqrt=function(N){if(N.isZero())return N.clone();var _=this.m.andln(3);if(c(_%2==1),_===3){var j=this.m.add(new r(1)).iushrn(2);return this.pow(N,j)}for(var k=this.m.subn(1),T=0;!k.isZero()&&k.andln(1)===0;)T++,k.iushrn(1);c(!k.isZero());var M=new r(1).toRed(this),F=M.redNeg(),$=this.m.subn(1).iushrn(1),V=this.m.bitLength();for(V=new r(2*V*V).toRed(this);this.pow(V,$).cmp(F)!==0;)V.redIAdd(F);for(var W=this.pow(V,k),ee=this.pow(N,k.addn(1).iushrn(1)),U=this.pow(N,k),Q=T;U.cmp(M)!==0;){for(var L=U,I=0;L.cmp(M)!==0;I++)L=L.redSqr();c(I<Q);var Z=this.pow(W,new r(1).iushln(Q-I-1));ee=ee.redMul(Z),W=Z.redSqr(),U=U.redMul(W),Q=I}return ee},O.prototype.invm=function(N){var _=N._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},O.prototype.pow=function(N,_){if(_.isZero())return new r(1).toRed(this);if(_.cmpn(1)===0)return N.clone();var j=new Array(16);j[0]=new r(1).toRed(this),j[1]=N;for(var k=2;k<j.length;k++)j[k]=this.mul(j[k-1],N);var T=j[0],M=0,F=0,$=_.bitLength()%26;for($===0&&($=26),k=_.length-1;k>=0;k--){for(var V=_.words[k],W=$-1;W>=0;W--){var ee=V>>W&1;T!==j[0]&&(T=this.sqr(T)),ee!==0||M!==0?(M<<=1,M|=ee,(++F===4||k===0&&W===0)&&(T=this.mul(T,j[M]),F=0,M=0)):F=0}$=26}return T},O.prototype.convertTo=function(N){var _=N.umod(this.m);return _===N?_.clone():_},O.prototype.convertFrom=function(N){var _=N.clone();return _.red=null,_},r.mont=function(N){return new P(N)},s(P,O),P.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},P.prototype.convertFrom=function(N){var _=this.imod(N.mul(this.rinv));return _.red=null,_},P.prototype.imul=function(N,_){if(N.isZero()||_.isZero())return N.words[0]=0,N.length=1,N;var j=N.imul(_),k=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=j.isub(k).iushrn(this.shift),M=T;return T.cmp(this.m)>=0?M=T.isub(this.m):T.cmpn(0)<0&&(M=T.iadd(this.m)),M._forceRed(this)},P.prototype.mul=function(N,_){if(N.isZero()||_.isZero())return new r(0)._forceRed(this);var j=N.mul(_),k=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=j.isub(k).iushrn(this.shift),M=T;return T.cmp(this.m)>=0?M=T.isub(this.m):T.cmpn(0)<0&&(M=T.iadd(this.m)),M._forceRed(this)},P.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}})(a===void 0||a)},{buffer:188}],187:[function(e,a,l){var f;function o(s){this.rand=s}if(a.exports=function(s){return f||(f=new o(null)),f.generate(s)},a.exports.Rand=o,o.prototype.generate=function(s){return this._rand(s)},o.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var r=new Uint8Array(s),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(s){var r=new Uint8Array(s);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(s){var r=new Uint8Array(s);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var c=e("crypto");if(typeof c.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(s){return c.randomBytes(s)}}catch{}},{crypto:188}],188:[function(e,a,l){},{}],189:[function(e,a,l){var f=e("safe-buffer").Buffer;function o(d){f.isBuffer(d)||(d=f.from(d));for(var u=d.length/4|0,v=new Array(u),x=0;x<u;x++)v[x]=d.readUInt32BE(4*x);return v}function c(d){for(;0<d.length;d++)d[0]=0}function s(d,u,v,x,m){for(var g,y,C,E,A=v[0],D=v[1],q=v[2],B=v[3],z=d[0]^u[0],K=d[1]^u[1],Y=d[2]^u[2],X=d[3]^u[3],O=4,P=1;P<m;P++)g=A[z>>>24]^D[K>>>16&255]^q[Y>>>8&255]^B[255&X]^u[O++],y=A[K>>>24]^D[Y>>>16&255]^q[X>>>8&255]^B[255&z]^u[O++],C=A[Y>>>24]^D[X>>>16&255]^q[z>>>8&255]^B[255&K]^u[O++],E=A[X>>>24]^D[z>>>16&255]^q[K>>>8&255]^B[255&Y]^u[O++],z=g,K=y,Y=C,X=E;return g=(x[z>>>24]<<24|x[K>>>16&255]<<16|x[Y>>>8&255]<<8|x[255&X])^u[O++],y=(x[K>>>24]<<24|x[Y>>>16&255]<<16|x[X>>>8&255]<<8|x[255&z])^u[O++],C=(x[Y>>>24]<<24|x[X>>>16&255]<<16|x[z>>>8&255]<<8|x[255&K])^u[O++],E=(x[X>>>24]<<24|x[z>>>16&255]<<16|x[K>>>8&255]<<8|x[255&Y])^u[O++],[g>>>=0,y>>>=0,C>>>=0,E>>>=0]}var r=[0,1,2,4,8,16,32,64,128,27,54],i=function(){for(var d=new Array(256),u=0;u<256;u++)d[u]=u<128?u<<1:u<<1^283;for(var v=[],x=[],m=[[],[],[],[]],g=[[],[],[],[]],y=0,C=0,E=0;E<256;++E){var A=C^C<<1^C<<2^C<<3^C<<4;A=A>>>8^255&A^99,v[y]=A,x[A]=y;var D=d[y],q=d[D],B=d[q],z=257*d[A]^16843008*A;m[0][y]=z<<24|z>>>8,m[1][y]=z<<16|z>>>16,m[2][y]=z<<8|z>>>24,m[3][y]=z,z=16843009*B^65537*q^257*D^16843008*y,g[0][A]=z<<24|z>>>8,g[1][A]=z<<16|z>>>16,g[2][A]=z<<8|z>>>24,g[3][A]=z,y===0?y=C=1:(y=D^d[d[d[B^D]]],C^=d[d[C]])}return{SBOX:v,INV_SBOX:x,SUB_MIX:m,INV_SUB_MIX:g}}();function b(d){this._key=o(d),this._reset()}b.blockSize=16,b.keySize=32,b.prototype.blockSize=b.blockSize,b.prototype.keySize=b.keySize,b.prototype._reset=function(){for(var d=this._key,u=d.length,v=u+6,x=4*(v+1),m=[],g=0;g<u;g++)m[g]=d[g];for(g=u;g<x;g++){var y=m[g-1];g%u==0?(y=y<<8|y>>>24,y=i.SBOX[y>>>24]<<24|i.SBOX[y>>>16&255]<<16|i.SBOX[y>>>8&255]<<8|i.SBOX[255&y],y^=r[g/u|0]<<24):u>6&&g%u==4&&(y=i.SBOX[y>>>24]<<24|i.SBOX[y>>>16&255]<<16|i.SBOX[y>>>8&255]<<8|i.SBOX[255&y]),m[g]=m[g-u]^y}for(var C=[],E=0;E<x;E++){var A=x-E,D=m[A-(E%4?0:4)];C[E]=E<4||A<=4?D:i.INV_SUB_MIX[0][i.SBOX[D>>>24]]^i.INV_SUB_MIX[1][i.SBOX[D>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[D>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[255&D]]}this._nRounds=v,this._keySchedule=m,this._invKeySchedule=C},b.prototype.encryptBlockRaw=function(d){return s(d=o(d),this._keySchedule,i.SUB_MIX,i.SBOX,this._nRounds)},b.prototype.encryptBlock=function(d){var u=this.encryptBlockRaw(d),v=f.allocUnsafe(16);return v.writeUInt32BE(u[0],0),v.writeUInt32BE(u[1],4),v.writeUInt32BE(u[2],8),v.writeUInt32BE(u[3],12),v},b.prototype.decryptBlock=function(d){var u=(d=o(d))[1];d[1]=d[3],d[3]=u;var v=s(d,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX,this._nRounds),x=f.allocUnsafe(16);return x.writeUInt32BE(v[0],0),x.writeUInt32BE(v[3],4),x.writeUInt32BE(v[2],8),x.writeUInt32BE(v[1],12),x},b.prototype.scrub=function(){c(this._keySchedule),c(this._invKeySchedule),c(this._key)},a.exports.AES=b},{"safe-buffer":494}],190:[function(e,a,l){var f=e("./aes"),o=e("safe-buffer").Buffer,c=e("cipher-base"),s=e("inherits"),r=e("./ghash"),i=e("buffer-xor"),b=e("./incr32");function d(u,v,x,m){c.call(this);var g=o.alloc(4,0);this._cipher=new f.AES(v);var y=this._cipher.encryptBlock(g);this._ghash=new r(y),x=function(C,E,A){if(E.length===12)return C._finID=o.concat([E,o.from([0,0,0,1])]),o.concat([E,o.from([0,0,0,2])]);var D=new r(A),q=E.length,B=q%16;D.update(E),B&&(B=16-B,D.update(o.alloc(B,0))),D.update(o.alloc(8,0));var z=8*q,K=o.alloc(8);K.writeUIntBE(z,0,8),D.update(K),C._finID=D.state;var Y=o.from(C._finID);return b(Y),Y}(this,x,y),this._prev=o.from(x),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=u,this._authTag=null,this._called=!1}s(d,c),d.prototype._update=function(u){if(!this._called&&this._alen){var v=16-this._alen%16;v<16&&(v=o.alloc(v,0),this._ghash.update(v))}this._called=!0;var x=this._mode.encrypt(this,u);return this._decrypt?this._ghash.update(u):this._ghash.update(x),this._len+=u.length,x},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var u=i(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(v,x){var m=0;v.length!==x.length&&m++;for(var g=Math.min(v.length,x.length),y=0;y<g;++y)m+=v[y]^x[y];return m}(u,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=u,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(u){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=u},d.prototype.setAAD=function(u){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(u),this._alen+=u.length},a.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,a,l){var f=e("./encrypter"),o=e("./decrypter"),c=e("./modes/list.json");l.createCipher=l.Cipher=f.createCipher,l.createCipheriv=l.Cipheriv=f.createCipheriv,l.createDecipher=l.Decipher=o.createDecipher,l.createDecipheriv=l.Decipheriv=o.createDecipheriv,l.listCiphers=l.getCiphers=function(){return Object.keys(c)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,a,l){var f=e("./authCipher"),o=e("safe-buffer").Buffer,c=e("./modes"),s=e("./streamCipher"),r=e("cipher-base"),i=e("./aes"),b=e("evp_bytestokey");function d(x,m,g){r.call(this),this._cache=new u,this._last=void 0,this._cipher=new i.AES(m),this._prev=o.from(g),this._mode=x,this._autopadding=!0}function u(){this.cache=o.allocUnsafe(0)}function v(x,m,g){var y=c[x.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=o.from(g)),y.mode!=="GCM"&&g.length!==y.iv)throw new TypeError("invalid iv length "+g.length);if(typeof m=="string"&&(m=o.from(m)),m.length!==y.key/8)throw new TypeError("invalid key length "+m.length);return y.type==="stream"?new s(y.module,m,g,!0):y.type==="auth"?new f(y.module,m,g,!0):new d(y.module,m,g)}e("inherits")(d,r),d.prototype._update=function(x){var m,g;this._cache.add(x);for(var y=[];m=this._cache.get(this._autopadding);)g=this._mode.decrypt(this,m),y.push(g);return o.concat(y)},d.prototype._final=function(){var x=this._cache.flush();if(this._autopadding)return function(m){var g=m[15];if(g<1||g>16)throw new Error("unable to decrypt data");for(var y=-1;++y<g;)if(m[y+(16-g)]!==g)throw new Error("unable to decrypt data");if(g!==16)return m.slice(0,16-g)}(this._mode.decrypt(this,x));if(x)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(x){return this._autopadding=!!x,this},u.prototype.add=function(x){this.cache=o.concat([this.cache,x])},u.prototype.get=function(x){var m;if(x){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},u.prototype.flush=function(){if(this.cache.length)return this.cache},l.createDecipher=function(x,m){var g=c[x.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var y=b(m,!1,g.key,g.iv);return v(x,y.key,y.iv)},l.createDecipheriv=v},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,a,l){var f=e("./modes"),o=e("./authCipher"),c=e("safe-buffer").Buffer,s=e("./streamCipher"),r=e("cipher-base"),i=e("./aes"),b=e("evp_bytestokey");function d(m,g,y){r.call(this),this._cache=new v,this._cipher=new i.AES(g),this._prev=c.from(y),this._mode=m,this._autopadding=!0}e("inherits")(d,r),d.prototype._update=function(m){var g,y;this._cache.add(m);for(var C=[];g=this._cache.get();)y=this._mode.encrypt(this,g),C.push(y);return c.concat(C)};var u=c.alloc(16,16);function v(){this.cache=c.allocUnsafe(0)}function x(m,g,y){var C=f[m.toLowerCase()];if(!C)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=c.from(g)),g.length!==C.key/8)throw new TypeError("invalid key length "+g.length);if(typeof y=="string"&&(y=c.from(y)),C.mode!=="GCM"&&y.length!==C.iv)throw new TypeError("invalid iv length "+y.length);return C.type==="stream"?new s(C.module,g,y):C.type==="auth"?new o(C.module,g,y):new d(C.module,g,y)}d.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(u))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},v.prototype.add=function(m){this.cache=c.concat([this.cache,m])},v.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},v.prototype.flush=function(){for(var m=16-this.cache.length,g=c.allocUnsafe(m),y=-1;++y<m;)g.writeUInt8(m,y);return c.concat([this.cache,g])},l.createCipheriv=x,l.createCipher=function(m,g){var y=f[m.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var C=b(g,!1,y.key,y.iv);return x(m,C.key,C.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,a,l){var f=e("safe-buffer").Buffer,o=f.alloc(16,0);function c(r){var i=f.allocUnsafe(16);return i.writeUInt32BE(r[0]>>>0,0),i.writeUInt32BE(r[1]>>>0,4),i.writeUInt32BE(r[2]>>>0,8),i.writeUInt32BE(r[3]>>>0,12),i}function s(r){this.h=r,this.state=f.alloc(16,0),this.cache=f.allocUnsafe(0)}s.prototype.ghash=function(r){for(var i=-1;++i<r.length;)this.state[i]^=r[i];this._multiply()},s.prototype._multiply=function(){for(var r,i,b,d=[(r=this.h).readUInt32BE(0),r.readUInt32BE(4),r.readUInt32BE(8),r.readUInt32BE(12)],u=[0,0,0,0],v=-1;++v<128;){for((this.state[~~(v/8)]&1<<7-v%8)!=0&&(u[0]^=d[0],u[1]^=d[1],u[2]^=d[2],u[3]^=d[3]),b=(1&d[3])!=0,i=3;i>0;i--)d[i]=d[i]>>>1|(1&d[i-1])<<31;d[0]=d[0]>>>1,b&&(d[0]=d[0]^225<<24)}this.state=c(u)},s.prototype.update=function(r){var i;for(this.cache=f.concat([this.cache,r]);this.cache.length>=16;)i=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(i)},s.prototype.final=function(r,i){return this.cache.length&&this.ghash(f.concat([this.cache,o],16)),this.ghash(c([0,r,0,i])),this.state},a.exports=s},{"safe-buffer":494}],195:[function(e,a,l){a.exports=function(f){for(var o,c=f.length;c--;){if((o=f.readUInt8(c))!==255){o++,f.writeUInt8(o,c);break}f.writeUInt8(0,c)}}},{}],196:[function(e,a,l){var f=e("buffer-xor");l.encrypt=function(o,c){var s=f(c,o._prev);return o._prev=o._cipher.encryptBlock(s),o._prev},l.decrypt=function(o,c){var s=o._prev;o._prev=c;var r=o._cipher.decryptBlock(c);return f(r,s)}},{"buffer-xor":219}],197:[function(e,a,l){var f=e("safe-buffer").Buffer,o=e("buffer-xor");function c(s,r,i){var b=r.length,d=o(r,s._cache);return s._cache=s._cache.slice(b),s._prev=f.concat([s._prev,i?r:d]),d}l.encrypt=function(s,r,i){for(var b,d=f.allocUnsafe(0);r.length;){if(s._cache.length===0&&(s._cache=s._cipher.encryptBlock(s._prev),s._prev=f.allocUnsafe(0)),!(s._cache.length<=r.length)){d=f.concat([d,c(s,r,i)]);break}b=s._cache.length,d=f.concat([d,c(s,r.slice(0,b),i)]),r=r.slice(b)}return d}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,a,l){var f=e("safe-buffer").Buffer;function o(s,r,i){for(var b,d,u=-1,v=0;++u<8;)b=r&1<<7-u?128:0,v+=(128&(d=s._cipher.encryptBlock(s._prev)[0]^b))>>u%8,s._prev=c(s._prev,i?b:d);return v}function c(s,r){var i=s.length,b=-1,d=f.allocUnsafe(s.length);for(s=f.concat([s,f.from([r])]);++b<i;)d[b]=s[b]<<1|s[b+1]>>7;return d}l.encrypt=function(s,r,i){for(var b=r.length,d=f.allocUnsafe(b),u=-1;++u<b;)d[u]=o(s,r[u],i);return d}},{"safe-buffer":494}],199:[function(e,a,l){var f=e("safe-buffer").Buffer;function o(c,s,r){var i=c._cipher.encryptBlock(c._prev)[0]^s;return c._prev=f.concat([c._prev.slice(1),f.from([r?s:i])]),i}l.encrypt=function(c,s,r){for(var i=s.length,b=f.allocUnsafe(i),d=-1;++d<i;)b[d]=o(c,s[d],r);return b}},{"safe-buffer":494}],200:[function(e,a,l){var f=e("buffer-xor"),o=e("safe-buffer").Buffer,c=e("../incr32");function s(r){var i=r._cipher.encryptBlockRaw(r._prev);return c(r._prev),i}l.encrypt=function(r,i){var b=Math.ceil(i.length/16),d=r._cache.length;r._cache=o.concat([r._cache,o.allocUnsafe(16*b)]);for(var u=0;u<b;u++){var v=s(r),x=d+16*u;r._cache.writeUInt32BE(v[0],x+0),r._cache.writeUInt32BE(v[1],x+4),r._cache.writeUInt32BE(v[2],x+8),r._cache.writeUInt32BE(v[3],x+12)}var m=r._cache.slice(0,i.length);return r._cache=r._cache.slice(i.length),f(i,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,a,l){l.encrypt=function(f,o){return f._cipher.encryptBlock(o)},l.decrypt=function(f,o){return f._cipher.decryptBlock(o)}},{}],202:[function(e,a,l){var f={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},o=e("./list.json");for(var c in o)o[c].module=f[o[c].mode];a.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,a,l){a.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,a,l){(function(f){(function(){var o=e("buffer-xor");function c(s){return s._prev=s._cipher.encryptBlock(s._prev),s._prev}l.encrypt=function(s,r){for(;s._cache.length<r.length;)s._cache=f.concat([s._cache,c(s)]);var i=s._cache.slice(0,r.length);return s._cache=s._cache.slice(r.length),o(r,i)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,a,l){var f=e("./aes"),o=e("safe-buffer").Buffer,c=e("cipher-base");function s(r,i,b,d){c.call(this),this._cipher=new f.AES(i),this._prev=o.from(b),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=d,this._mode=r}e("inherits")(s,c),s.prototype._update=function(r){return this._mode.encrypt(this,r,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},a.exports=s},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,a,l){var f=e("browserify-des"),o=e("browserify-aes/browser"),c=e("browserify-aes/modes"),s=e("browserify-des/modes"),r=e("evp_bytestokey");function i(d,u,v){if(d=d.toLowerCase(),c[d])return o.createCipheriv(d,u,v);if(s[d])return new f({key:u,iv:v,mode:d});throw new TypeError("invalid suite type")}function b(d,u,v){if(d=d.toLowerCase(),c[d])return o.createDecipheriv(d,u,v);if(s[d])return new f({key:u,iv:v,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}l.createCipher=l.Cipher=function(d,u){var v,x;if(d=d.toLowerCase(),c[d])v=c[d].key,x=c[d].iv;else{if(!s[d])throw new TypeError("invalid suite type");v=8*s[d].key,x=s[d].iv}var m=r(u,!1,v,x);return i(d,m.key,m.iv)},l.createCipheriv=l.Cipheriv=i,l.createDecipher=l.Decipher=function(d,u){var v,x;if(d=d.toLowerCase(),c[d])v=c[d].key,x=c[d].iv;else{if(!s[d])throw new TypeError("invalid suite type");v=8*s[d].key,x=s[d].iv}var m=r(u,!1,v,x);return b(d,m.key,m.iv)},l.createDecipheriv=l.Decipheriv=b,l.listCiphers=l.getCiphers=function(){return Object.keys(s).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,a,l){var f=e("cipher-base"),o=e("des.js"),c=e("inherits"),s=e("safe-buffer").Buffer,r={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function i(b){f.call(this);var d,u=b.mode.toLowerCase(),v=r[u];d=b.decrypt?"decrypt":"encrypt";var x=b.key;s.isBuffer(x)||(x=s.from(x)),u!=="des-ede"&&u!=="des-ede-cbc"||(x=s.concat([x,x.slice(0,8)]));var m=b.iv;s.isBuffer(m)||(m=s.from(m)),this._des=v.create({key:x,iv:m,type:d})}r.des=r["des-cbc"],r.des3=r["des-ede3-cbc"],a.exports=i,c(i,f),i.prototype._update=function(b){return s.from(this._des.update(b))},i.prototype._final=function(){return s.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,a,l){l["des-ecb"]={key:8,iv:0},l["des-cbc"]=l.des={key:8,iv:8},l["des-ede3-cbc"]=l.des3={key:24,iv:8},l["des-ede3"]={key:24,iv:0},l["des-ede-cbc"]={key:16,iv:8},l["des-ede"]={key:16,iv:0}},{}],209:[function(e,a,l){(function(f){(function(){var o=e("bn.js"),c=e("randombytes");function s(i){var b,d=i.modulus.byteLength();do b=new o(c(d));while(b.cmp(i.modulus)>=0||!b.umod(i.prime1)||!b.umod(i.prime2));return b}function r(i,b){var d=function(q){var B=s(q);return{blinder:B.toRed(o.mont(q.modulus)).redPow(new o(q.publicExponent)).fromRed(),unblinder:B.invm(q.modulus)}}(b),u=b.modulus.byteLength(),v=new o(i).mul(d.blinder).umod(b.modulus),x=v.toRed(o.mont(b.prime1)),m=v.toRed(o.mont(b.prime2)),g=b.coefficient,y=b.prime1,C=b.prime2,E=x.redPow(b.exponent1).fromRed(),A=m.redPow(b.exponent2).fromRed(),D=E.isub(A).imul(g).umod(y).imul(C);return A.iadd(D).imul(d.unblinder).umod(b.modulus).toArrayLike(f,"be",u)}r.getr=s,a.exports=r}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,a,l){a.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,a,l){a.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,a,l){a.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,a,l){var f=e("safe-buffer").Buffer,o=e("create-hash"),c=e("readable-stream"),s=e("inherits"),r=e("./sign"),i=e("./verify"),b=e("./algorithms.json");function d(m){c.Writable.call(this);var g=b[m];if(!g)throw new Error("Unknown message digest");this._hashType=g.hash,this._hash=o(g.hash),this._tag=g.id,this._signType=g.sign}function u(m){c.Writable.call(this);var g=b[m];if(!g)throw new Error("Unknown message digest");this._hash=o(g.hash),this._tag=g.id,this._signType=g.sign}function v(m){return new d(m)}function x(m){return new u(m)}Object.keys(b).forEach(function(m){b[m].id=f.from(b[m].id,"hex"),b[m.toLowerCase()]=b[m]}),s(d,c.Writable),d.prototype._write=function(m,g,y){this._hash.update(m),y()},d.prototype.update=function(m,g){return typeof m=="string"&&(m=f.from(m,g)),this._hash.update(m),this},d.prototype.sign=function(m,g){this.end();var y=this._hash.digest(),C=r(y,m,this._hashType,this._signType,this._tag);return g?C.toString(g):C},s(u,c.Writable),u.prototype._write=function(m,g,y){this._hash.update(m),y()},u.prototype.update=function(m,g){return typeof m=="string"&&(m=f.from(m,g)),this._hash.update(m),this},u.prototype.verify=function(m,g,y){typeof g=="string"&&(g=f.from(g,y)),this.end();var C=this._hash.digest();return i(g,C,m,this._signType,this._tag)},a.exports={Sign:v,Verify:x,createSign:v,createVerify:x}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,a,l){var f=e("safe-buffer").Buffer,o=e("create-hmac"),c=e("browserify-rsa"),s=e("elliptic").ec,r=e("bn.js"),i=e("parse-asn1"),b=e("./curves.json");function d(m,g,y,C){if((m=f.from(m.toArray())).length<g.byteLength()){var E=f.alloc(g.byteLength()-m.length);m=f.concat([E,m])}var A=y.length,D=function(z,K){z=(z=u(z,K)).mod(K);var Y=f.from(z.toArray());if(Y.length<K.byteLength()){var X=f.alloc(K.byteLength()-Y.length);Y=f.concat([X,Y])}return Y}(y,g),q=f.alloc(A);q.fill(1);var B=f.alloc(A);return B=o(C,B).update(q).update(f.from([0])).update(m).update(D).digest(),q=o(C,B).update(q).digest(),{k:B=o(C,B).update(q).update(f.from([1])).update(m).update(D).digest(),v:q=o(C,B).update(q).digest()}}function u(m,g){var y=new r(m),C=(m.length<<3)-g.bitLength();return C>0&&y.ishrn(C),y}function v(m,g,y){var C,E;do{for(C=f.alloc(0);8*C.length<m.bitLength();)g.v=o(y,g.k).update(g.v).digest(),C=f.concat([C,g.v]);E=u(C,m),g.k=o(y,g.k).update(g.v).update(f.from([0])).digest(),g.v=o(y,g.k).update(g.v).digest()}while(E.cmp(m)!==-1);return E}function x(m,g,y,C){return m.toRed(r.mont(y)).redPow(g).fromRed().mod(C)}a.exports=function(m,g,y,C,E){var A=i(g);if(A.curve){if(C!=="ecdsa"&&C!=="ecdsa/rsa")throw new Error("wrong private key type");return function(z,K){var Y=b[K.curve.join(".")];if(!Y)throw new Error("unknown curve "+K.curve.join("."));var X=new s(Y).keyFromPrivate(K.privateKey).sign(z);return f.from(X.toDER())}(m,A)}if(A.type==="dsa"){if(C!=="dsa")throw new Error("wrong private key type");return function(z,K,Y){for(var X,O=K.params.priv_key,P=K.params.p,N=K.params.q,_=K.params.g,j=new r(0),k=u(z,N).mod(N),T=!1,M=d(O,N,z,Y);T===!1;)X=v(N,M,Y),j=x(_,X,P,N),(T=X.invm(N).imul(k.add(O.mul(j))).mod(N)).cmpn(0)===0&&(T=!1,j=new r(0));return function(F,$){F=F.toArray(),$=$.toArray(),128&F[0]&&(F=[0].concat(F)),128&$[0]&&($=[0].concat($));var V=[48,F.length+$.length+4,2,F.length];return V=V.concat(F,[2,$.length],$),f.from(V)}(j,T)}(m,A,y)}if(C!=="rsa"&&C!=="ecdsa/rsa")throw new Error("wrong private key type");m=f.concat([E,m]);for(var D=A.modulus.byteLength(),q=[0,1];m.length+q.length+1<D;)q.push(255);q.push(0);for(var B=-1;++B<m.length;)q.push(m[B]);return c(q,A)},a.exports.getKey=d,a.exports.makeKey=v},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,a,l){var f=e("safe-buffer").Buffer,o=e("bn.js"),c=e("elliptic").ec,s=e("parse-asn1"),r=e("./curves.json");function i(b,d){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(d)>=d)throw new Error("invalid sig")}a.exports=function(b,d,u,v,x){var m=s(u);if(m.type==="ec"){if(v!=="ecdsa"&&v!=="ecdsa/rsa")throw new Error("wrong public key type");return function(q,B,z){var K=r[z.data.algorithm.curve.join(".")];if(!K)throw new Error("unknown curve "+z.data.algorithm.curve.join("."));var Y=new c(K),X=z.data.subjectPrivateKey.data;return Y.verify(B,q,X)}(b,d,m)}if(m.type==="dsa"){if(v!=="dsa")throw new Error("wrong public key type");return function(q,B,z){var K=z.data.p,Y=z.data.q,X=z.data.g,O=z.data.pub_key,P=s.signature.decode(q,"der"),N=P.s,_=P.r;i(N,Y),i(_,Y);var j=o.mont(K),k=N.invm(Y);return X.toRed(j).redPow(new o(B).mul(k).mod(Y)).fromRed().mul(O.toRed(j).redPow(_.mul(k).mod(Y)).fromRed()).mod(K).mod(Y).cmp(_)===0}(b,d,m)}if(v!=="rsa"&&v!=="ecdsa/rsa")throw new Error("wrong public key type");d=f.concat([x,d]);for(var g=m.modulus.byteLength(),y=[1],C=0;d.length+y.length+2<g;)y.push(255),C++;y.push(0);for(var E=-1;++E<d.length;)y.push(d[E]);y=f.from(y);var A=o.mont(m.modulus);b=(b=new o(b).toRed(A)).redPow(new o(m.publicExponent)),b=f.from(b.fromRed().toArray());var D=C<8?1:0;for(g=Math.min(b.length,y.length),b.length!==y.length&&(D=1),E=-1;++E<g;)D|=b[E]^y[E];return D===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,a,l){},{}],217:[function(e,a,l){var f=e("buffer"),o=f.Buffer;function c(r,i){for(var b in r)i[b]=r[b]}function s(r,i,b){return o(r,i,b)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?a.exports=f:(c(f,l),l.Buffer=s),c(o,s),s.from=function(r,i,b){if(typeof r=="number")throw new TypeError("Argument must not be a number");return o(r,i,b)},s.alloc=function(r,i,b){if(typeof r!="number")throw new TypeError("Argument must be a number");var d=o(r);return i!==void 0?typeof b=="string"?d.fill(i,b):d.fill(i):d.fill(0),d},s.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return o(r)},s.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return f.SlowBuffer(r)}},{buffer:220}],218:[function(e,a,l){var f=e("safe-buffer").Buffer,o=f.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(m){var g;switch(this.encoding=function(y){var C=function(E){if(!E)return"utf8";for(var A;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(A)return;E=(""+E).toLowerCase(),A=!0}}(y);if(typeof C!="string"&&(f.isEncoding===o||!o(y)))throw new Error("Unknown encoding: "+y);return C||y}(m),this.encoding){case"utf16le":this.text=i,this.end=b,g=4;break;case"utf8":this.fillLast=r,g=4;break;case"base64":this.text=d,this.end=u,g=3;break;default:return this.write=v,void(this.end=x)}this.lastNeed=0,this.lastTotal=0,this.lastChar=f.allocUnsafe(g)}function s(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function r(m){var g=this.lastTotal-this.lastNeed,y=function(C,E,A){if((192&E[0])!=128)return C.lastNeed=0,"";if(C.lastNeed>1&&E.length>1){if((192&E[1])!=128)return C.lastNeed=1,"";if(C.lastNeed>2&&E.length>2&&(192&E[2])!=128)return C.lastNeed=2,""}}(this,m);return y!==void 0?y:this.lastNeed<=m.length?(m.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,g,0,m.length),void(this.lastNeed-=m.length))}function i(m,g){if((m.length-g)%2==0){var y=m.toString("utf16le",g);if(y){var C=y.charCodeAt(y.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",g,m.length-1)}function b(m){var g=m&&m.length?this.write(m):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,y)}return g}function d(m,g){var y=(m.length-g)%3;return y===0?m.toString("base64",g):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",g,m.length-y))}function u(m){var g=m&&m.length?this.write(m):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function v(m){return m.toString(this.encoding)}function x(m){return m&&m.length?this.write(m):""}l.StringDecoder=c,c.prototype.write=function(m){if(m.length===0)return"";var g,y;if(this.lastNeed){if((g=this.fillLast(m))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<m.length?g?g+this.text(m,y):this.text(m,y):g||""},c.prototype.end=function(m){var g=m&&m.length?this.write(m):"";return this.lastNeed?g+"":g},c.prototype.text=function(m,g){var y=function(E,A,D){var q=A.length-1;if(q<D)return 0;var B=s(A[q]);return B>=0?(B>0&&(E.lastNeed=B-1),B):--q<D||B===-2?0:(B=s(A[q]))>=0?(B>0&&(E.lastNeed=B-2),B):--q<D||B===-2?0:(B=s(A[q]))>=0?(B>0&&(B===2?B=0:E.lastNeed=B-3),B):0}(this,m,g);if(!this.lastNeed)return m.toString("utf8",g);this.lastTotal=y;var C=m.length-(y-this.lastNeed);return m.copy(this.lastChar,0,C),m.toString("utf8",g,C)},c.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(e,a,l){(function(f){(function(){a.exports=function(o,c){for(var s=Math.min(o.length,c.length),r=new f(s),i=0;i<s;++i)r[i]=o[i]^c[i];return r}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,a,l){(function(f){(function(){var o=e("base64-js"),c=e("ieee754");l.Buffer=r,l.SlowBuffer=function(L){return+L!=L&&(L=0),r.alloc(+L)},l.INSPECT_MAX_BYTES=50;function s(L){if(L>2147483647)throw new RangeError('The value "'+L+'" is invalid for option "size"');var I=new Uint8Array(L);return I.__proto__=r.prototype,I}function r(L,I,Z){if(typeof L=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(L)}return i(L,I,Z)}function i(L,I,Z){if(typeof L=="string")return function(se,le){if(typeof le=="string"&&le!==""||(le="utf8"),!r.isEncoding(le))throw new TypeError("Unknown encoding: "+le);var me=0|x(se,le),ae=s(me),re=ae.write(se,le);return re!==me&&(ae=ae.slice(0,re)),ae}(L,I);if(ArrayBuffer.isView(L))return u(L);if(L==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L);if(U(L,ArrayBuffer)||L&&U(L.buffer,ArrayBuffer))return function(se,le,me){if(le<0||se.byteLength<le)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<le+(me||0))throw new RangeError('"length" is outside of buffer bounds');var ae;return ae=le===void 0&&me===void 0?new Uint8Array(se):me===void 0?new Uint8Array(se,le):new Uint8Array(se,le,me),ae.__proto__=r.prototype,ae}(L,I,Z);if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var te=L.valueOf&&L.valueOf();if(te!=null&&te!==L)return r.from(te,I,Z);var ie=function(se){if(r.isBuffer(se)){var le=0|v(se.length),me=s(le);return me.length===0||se.copy(me,0,0,le),me}if(se.length!==void 0)return typeof se.length!="number"||Q(se.length)?s(0):u(se);if(se.type==="Buffer"&&Array.isArray(se.data))return u(se.data)}(L);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return r.from(L[Symbol.toPrimitive]("string"),I,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L)}function b(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function d(L){return b(L),s(L<0?0:0|v(L))}function u(L){for(var I=L.length<0?0:0|v(L.length),Z=s(I),te=0;te<I;te+=1)Z[te]=255&L[te];return Z}function v(L){if(L>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|L}function x(L,I){if(r.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||U(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);var Z=L.length,te=arguments.length>2&&arguments[2]===!0;if(!te&&Z===0)return 0;for(var ie=!1;;)switch(I){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return V(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Z;case"hex":return Z>>>1;case"base64":return W(L).length;default:if(ie)return te?-1:V(L).length;I=(""+I).toLowerCase(),ie=!0}}function m(L,I,Z){var te=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0)<=(I>>>=0))return"";for(L||(L="utf8");;)switch(L){case"hex":return P(this,I,Z);case"utf8":case"utf-8":return Y(this,I,Z);case"ascii":return X(this,I,Z);case"latin1":case"binary":return O(this,I,Z);case"base64":return K(this,I,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,I,Z);default:if(te)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),te=!0}}function g(L,I,Z){var te=L[I];L[I]=L[Z],L[Z]=te}function y(L,I,Z,te,ie){if(L.length===0)return-1;if(typeof Z=="string"?(te=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),Q(Z=+Z)&&(Z=ie?0:L.length-1),Z<0&&(Z=L.length+Z),Z>=L.length){if(ie)return-1;Z=L.length-1}else if(Z<0){if(!ie)return-1;Z=0}if(typeof I=="string"&&(I=r.from(I,te)),r.isBuffer(I))return I.length===0?-1:C(L,I,Z,te,ie);if(typeof I=="number")return I&=255,typeof Uint8Array.prototype.indexOf=="function"?ie?Uint8Array.prototype.indexOf.call(L,I,Z):Uint8Array.prototype.lastIndexOf.call(L,I,Z):C(L,[I],Z,te,ie);throw new TypeError("val must be string, number or Buffer")}function C(L,I,Z,te,ie){var se,le=1,me=L.length,ae=I.length;if(te!==void 0&&((te=String(te).toLowerCase())==="ucs2"||te==="ucs-2"||te==="utf16le"||te==="utf-16le")){if(L.length<2||I.length<2)return-1;le=2,me/=2,ae/=2,Z/=2}function re(be,Ce){return le===1?be[Ce]:be.readUInt16BE(Ce*le)}if(ie){var oe=-1;for(se=Z;se<me;se++)if(re(L,se)===re(I,oe===-1?0:se-oe)){if(oe===-1&&(oe=se),se-oe+1===ae)return oe*le}else oe!==-1&&(se-=se-oe),oe=-1}else for(Z+ae>me&&(Z=me-ae),se=Z;se>=0;se--){for(var ue=!0,fe=0;fe<ae;fe++)if(re(L,se+fe)!==re(I,fe)){ue=!1;break}if(ue)return se}return-1}function E(L,I,Z,te){Z=Number(Z)||0;var ie=L.length-Z;te?(te=Number(te))>ie&&(te=ie):te=ie;var se=I.length;te>se/2&&(te=se/2);for(var le=0;le<te;++le){var me=parseInt(I.substr(2*le,2),16);if(Q(me))return le;L[Z+le]=me}return le}function A(L,I,Z,te){return ee(V(I,L.length-Z),L,Z,te)}function D(L,I,Z,te){return ee(function(ie){for(var se=[],le=0;le<ie.length;++le)se.push(255&ie.charCodeAt(le));return se}(I),L,Z,te)}function q(L,I,Z,te){return D(L,I,Z,te)}function B(L,I,Z,te){return ee(W(I),L,Z,te)}function z(L,I,Z,te){return ee(function(ie,se){for(var le,me,ae,re=[],oe=0;oe<ie.length&&!((se-=2)<0);++oe)le=ie.charCodeAt(oe),me=le>>8,ae=le%256,re.push(ae),re.push(me);return re}(I,L.length-Z),L,Z,te)}function K(L,I,Z){return I===0&&Z===L.length?o.fromByteArray(L):o.fromByteArray(L.slice(I,Z))}function Y(L,I,Z){Z=Math.min(L.length,Z);for(var te=[],ie=I;ie<Z;){var se,le,me,ae,re=L[ie],oe=null,ue=re>239?4:re>223?3:re>191?2:1;if(ie+ue<=Z)switch(ue){case 1:re<128&&(oe=re);break;case 2:(192&(se=L[ie+1]))==128&&(ae=(31&re)<<6|63&se)>127&&(oe=ae);break;case 3:se=L[ie+1],le=L[ie+2],(192&se)==128&&(192&le)==128&&(ae=(15&re)<<12|(63&se)<<6|63&le)>2047&&(ae<55296||ae>57343)&&(oe=ae);break;case 4:se=L[ie+1],le=L[ie+2],me=L[ie+3],(192&se)==128&&(192&le)==128&&(192&me)==128&&(ae=(15&re)<<18|(63&se)<<12|(63&le)<<6|63&me)>65535&&ae<1114112&&(oe=ae)}oe===null?(oe=65533,ue=1):oe>65535&&(oe-=65536,te.push(oe>>>10&1023|55296),oe=56320|1023&oe),te.push(oe),ie+=ue}return function(fe){var be=fe.length;if(be<=4096)return String.fromCharCode.apply(String,fe);for(var Ce="",Ae=0;Ae<be;)Ce+=String.fromCharCode.apply(String,fe.slice(Ae,Ae+=4096));return Ce}(te)}l.kMaxLength=2147483647,r.TYPED_ARRAY_SUPPORT=function(){try{var L=new Uint8Array(1);return L.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},L.foo()===42}catch{return!1}}(),r.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192,r.from=function(L,I,Z){return i(L,I,Z)},r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,r.alloc=function(L,I,Z){return function(te,ie,se){return b(te),te<=0?s(te):ie!==void 0?typeof se=="string"?s(te).fill(ie,se):s(te).fill(ie):s(te)}(L,I,Z)},r.allocUnsafe=function(L){return d(L)},r.allocUnsafeSlow=function(L){return d(L)},r.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==r.prototype},r.compare=function(L,I){if(U(L,Uint8Array)&&(L=r.from(L,L.offset,L.byteLength)),U(I,Uint8Array)&&(I=r.from(I,I.offset,I.byteLength)),!r.isBuffer(L)||!r.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===I)return 0;for(var Z=L.length,te=I.length,ie=0,se=Math.min(Z,te);ie<se;++ie)if(L[ie]!==I[ie]){Z=L[ie],te=I[ie];break}return Z<te?-1:te<Z?1:0},r.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(L,I){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return r.alloc(0);var Z;if(I===void 0)for(I=0,Z=0;Z<L.length;++Z)I+=L[Z].length;var te=r.allocUnsafe(I),ie=0;for(Z=0;Z<L.length;++Z){var se=L[Z];if(U(se,Uint8Array)&&(se=r.from(se)),!r.isBuffer(se))throw new TypeError('"list" argument must be an Array of Buffers');se.copy(te,ie),ie+=se.length}return te},r.byteLength=x,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var L=this.length;if(L%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var I=0;I<L;I+=2)g(this,I,I+1);return this},r.prototype.swap32=function(){var L=this.length;if(L%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var I=0;I<L;I+=4)g(this,I,I+3),g(this,I+1,I+2);return this},r.prototype.swap64=function(){var L=this.length;if(L%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var I=0;I<L;I+=8)g(this,I,I+7),g(this,I+1,I+6),g(this,I+2,I+5),g(this,I+3,I+4);return this},r.prototype.toString=function(){var L=this.length;return L===0?"":arguments.length===0?Y(this,0,L):m.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(L){if(!r.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L||r.compare(this,L)===0},r.prototype.inspect=function(){var L="",I=l.INSPECT_MAX_BYTES;return L=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(L+=" ... "),"<Buffer "+L+">"},r.prototype.compare=function(L,I,Z,te,ie){if(U(L,Uint8Array)&&(L=r.from(L,L.offset,L.byteLength)),!r.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(I===void 0&&(I=0),Z===void 0&&(Z=L?L.length:0),te===void 0&&(te=0),ie===void 0&&(ie=this.length),I<0||Z>L.length||te<0||ie>this.length)throw new RangeError("out of range index");if(te>=ie&&I>=Z)return 0;if(te>=ie)return-1;if(I>=Z)return 1;if(this===L)return 0;for(var se=(ie>>>=0)-(te>>>=0),le=(Z>>>=0)-(I>>>=0),me=Math.min(se,le),ae=this.slice(te,ie),re=L.slice(I,Z),oe=0;oe<me;++oe)if(ae[oe]!==re[oe]){se=ae[oe],le=re[oe];break}return se<le?-1:le<se?1:0},r.prototype.includes=function(L,I,Z){return this.indexOf(L,I,Z)!==-1},r.prototype.indexOf=function(L,I,Z){return y(this,L,I,Z,!0)},r.prototype.lastIndexOf=function(L,I,Z){return y(this,L,I,Z,!1)},r.prototype.write=function(L,I,Z,te){if(I===void 0)te="utf8",Z=this.length,I=0;else if(Z===void 0&&typeof I=="string")te=I,Z=this.length,I=0;else{if(!isFinite(I))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");I>>>=0,isFinite(Z)?(Z>>>=0,te===void 0&&(te="utf8")):(te=Z,Z=void 0)}var ie=this.length-I;if((Z===void 0||Z>ie)&&(Z=ie),L.length>0&&(Z<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");for(var se=!1;;)switch(te){case"hex":return E(this,L,I,Z);case"utf8":case"utf-8":return A(this,L,I,Z);case"ascii":return D(this,L,I,Z);case"latin1":case"binary":return q(this,L,I,Z);case"base64":return B(this,L,I,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,L,I,Z);default:if(se)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),se=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(L,I,Z){var te="";Z=Math.min(L.length,Z);for(var ie=I;ie<Z;++ie)te+=String.fromCharCode(127&L[ie]);return te}function O(L,I,Z){var te="";Z=Math.min(L.length,Z);for(var ie=I;ie<Z;++ie)te+=String.fromCharCode(L[ie]);return te}function P(L,I,Z){var te=L.length;(!I||I<0)&&(I=0),(!Z||Z<0||Z>te)&&(Z=te);for(var ie="",se=I;se<Z;++se)ie+=$(L[se]);return ie}function N(L,I,Z){for(var te=L.slice(I,Z),ie="",se=0;se<te.length;se+=2)ie+=String.fromCharCode(te[se]+256*te[se+1]);return ie}function _(L,I,Z){if(L%1!=0||L<0)throw new RangeError("offset is not uint");if(L+I>Z)throw new RangeError("Trying to access beyond buffer length")}function j(L,I,Z,te,ie,se){if(!r.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>ie||I<se)throw new RangeError('"value" argument is out of bounds');if(Z+te>L.length)throw new RangeError("Index out of range")}function k(L,I,Z,te,ie,se){if(Z+te>L.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function T(L,I,Z,te,ie){return I=+I,Z>>>=0,ie||k(L,0,Z,4),c.write(L,I,Z,te,23,4),Z+4}function M(L,I,Z,te,ie){return I=+I,Z>>>=0,ie||k(L,0,Z,8),c.write(L,I,Z,te,52,8),Z+8}r.prototype.slice=function(L,I){var Z=this.length;(L=~~L)<0?(L+=Z)<0&&(L=0):L>Z&&(L=Z),(I=I===void 0?Z:~~I)<0?(I+=Z)<0&&(I=0):I>Z&&(I=Z),I<L&&(I=L);var te=this.subarray(L,I);return te.__proto__=r.prototype,te},r.prototype.readUIntLE=function(L,I,Z){L>>>=0,I>>>=0,Z||_(L,I,this.length);for(var te=this[L],ie=1,se=0;++se<I&&(ie*=256);)te+=this[L+se]*ie;return te},r.prototype.readUIntBE=function(L,I,Z){L>>>=0,I>>>=0,Z||_(L,I,this.length);for(var te=this[L+--I],ie=1;I>0&&(ie*=256);)te+=this[L+--I]*ie;return te},r.prototype.readUInt8=function(L,I){return L>>>=0,I||_(L,1,this.length),this[L]},r.prototype.readUInt16LE=function(L,I){return L>>>=0,I||_(L,2,this.length),this[L]|this[L+1]<<8},r.prototype.readUInt16BE=function(L,I){return L>>>=0,I||_(L,2,this.length),this[L]<<8|this[L+1]},r.prototype.readUInt32LE=function(L,I){return L>>>=0,I||_(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+16777216*this[L+3]},r.prototype.readUInt32BE=function(L,I){return L>>>=0,I||_(L,4,this.length),16777216*this[L]+(this[L+1]<<16|this[L+2]<<8|this[L+3])},r.prototype.readIntLE=function(L,I,Z){L>>>=0,I>>>=0,Z||_(L,I,this.length);for(var te=this[L],ie=1,se=0;++se<I&&(ie*=256);)te+=this[L+se]*ie;return te>=(ie*=128)&&(te-=Math.pow(2,8*I)),te},r.prototype.readIntBE=function(L,I,Z){L>>>=0,I>>>=0,Z||_(L,I,this.length);for(var te=I,ie=1,se=this[L+--te];te>0&&(ie*=256);)se+=this[L+--te]*ie;return se>=(ie*=128)&&(se-=Math.pow(2,8*I)),se},r.prototype.readInt8=function(L,I){return L>>>=0,I||_(L,1,this.length),128&this[L]?-1*(255-this[L]+1):this[L]},r.prototype.readInt16LE=function(L,I){L>>>=0,I||_(L,2,this.length);var Z=this[L]|this[L+1]<<8;return 32768&Z?4294901760|Z:Z},r.prototype.readInt16BE=function(L,I){L>>>=0,I||_(L,2,this.length);var Z=this[L+1]|this[L]<<8;return 32768&Z?4294901760|Z:Z},r.prototype.readInt32LE=function(L,I){return L>>>=0,I||_(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},r.prototype.readInt32BE=function(L,I){return L>>>=0,I||_(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},r.prototype.readFloatLE=function(L,I){return L>>>=0,I||_(L,4,this.length),c.read(this,L,!0,23,4)},r.prototype.readFloatBE=function(L,I){return L>>>=0,I||_(L,4,this.length),c.read(this,L,!1,23,4)},r.prototype.readDoubleLE=function(L,I){return L>>>=0,I||_(L,8,this.length),c.read(this,L,!0,52,8)},r.prototype.readDoubleBE=function(L,I){return L>>>=0,I||_(L,8,this.length),c.read(this,L,!1,52,8)},r.prototype.writeUIntLE=function(L,I,Z,te){L=+L,I>>>=0,Z>>>=0,te||j(this,L,I,Z,Math.pow(2,8*Z)-1,0);var ie=1,se=0;for(this[I]=255&L;++se<Z&&(ie*=256);)this[I+se]=L/ie&255;return I+Z},r.prototype.writeUIntBE=function(L,I,Z,te){L=+L,I>>>=0,Z>>>=0,te||j(this,L,I,Z,Math.pow(2,8*Z)-1,0);var ie=Z-1,se=1;for(this[I+ie]=255&L;--ie>=0&&(se*=256);)this[I+ie]=L/se&255;return I+Z},r.prototype.writeUInt8=function(L,I,Z){return L=+L,I>>>=0,Z||j(this,L,I,1,255,0),this[I]=255&L,I+1},r.prototype.writeUInt16LE=function(L,I,Z){return L=+L,I>>>=0,Z||j(this,L,I,2,65535,0),this[I]=255&L,this[I+1]=L>>>8,I+2},r.prototype.writeUInt16BE=function(L,I,Z){return L=+L,I>>>=0,Z||j(this,L,I,2,65535,0),this[I]=L>>>8,this[I+1]=255&L,I+2},r.prototype.writeUInt32LE=function(L,I,Z){return L=+L,I>>>=0,Z||j(this,L,I,4,4294967295,0),this[I+3]=L>>>24,this[I+2]=L>>>16,this[I+1]=L>>>8,this[I]=255&L,I+4},r.prototype.writeUInt32BE=function(L,I,Z){return L=+L,I>>>=0,Z||j(this,L,I,4,4294967295,0),this[I]=L>>>24,this[I+1]=L>>>16,this[I+2]=L>>>8,this[I+3]=255&L,I+4},r.prototype.writeIntLE=function(L,I,Z,te){if(L=+L,I>>>=0,!te){var ie=Math.pow(2,8*Z-1);j(this,L,I,Z,ie-1,-ie)}var se=0,le=1,me=0;for(this[I]=255&L;++se<Z&&(le*=256);)L<0&&me===0&&this[I+se-1]!==0&&(me=1),this[I+se]=(L/le>>0)-me&255;return I+Z},r.prototype.writeIntBE=function(L,I,Z,te){if(L=+L,I>>>=0,!te){var ie=Math.pow(2,8*Z-1);j(this,L,I,Z,ie-1,-ie)}var se=Z-1,le=1,me=0;for(this[I+se]=255&L;--se>=0&&(le*=256);)L<0&&me===0&&this[I+se+1]!==0&&(me=1),this[I+se]=(L/le>>0)-me&255;return I+Z},r.prototype.writeInt8=function(L,I,Z){return L=+L,I>>>=0,Z||j(this,L,I,1,127,-128),L<0&&(L=255+L+1),this[I]=255&L,I+1},r.prototype.writeInt16LE=function(L,I,Z){return L=+L,I>>>=0,Z||j(this,L,I,2,32767,-32768),this[I]=255&L,this[I+1]=L>>>8,I+2},r.prototype.writeInt16BE=function(L,I,Z){return L=+L,I>>>=0,Z||j(this,L,I,2,32767,-32768),this[I]=L>>>8,this[I+1]=255&L,I+2},r.prototype.writeInt32LE=function(L,I,Z){return L=+L,I>>>=0,Z||j(this,L,I,4,2147483647,-2147483648),this[I]=255&L,this[I+1]=L>>>8,this[I+2]=L>>>16,this[I+3]=L>>>24,I+4},r.prototype.writeInt32BE=function(L,I,Z){return L=+L,I>>>=0,Z||j(this,L,I,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[I]=L>>>24,this[I+1]=L>>>16,this[I+2]=L>>>8,this[I+3]=255&L,I+4},r.prototype.writeFloatLE=function(L,I,Z){return T(this,L,I,!0,Z)},r.prototype.writeFloatBE=function(L,I,Z){return T(this,L,I,!1,Z)},r.prototype.writeDoubleLE=function(L,I,Z){return M(this,L,I,!0,Z)},r.prototype.writeDoubleBE=function(L,I,Z){return M(this,L,I,!1,Z)},r.prototype.copy=function(L,I,Z,te){if(!r.isBuffer(L))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),te||te===0||(te=this.length),I>=L.length&&(I=L.length),I||(I=0),te>0&&te<Z&&(te=Z),te===Z||L.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),L.length-I<te-Z&&(te=L.length-I+Z);var ie=te-Z;if(this===L&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(I,Z,te);else if(this===L&&Z<I&&I<te)for(var se=ie-1;se>=0;--se)L[se+I]=this[se+Z];else Uint8Array.prototype.set.call(L,this.subarray(Z,te),I);return ie},r.prototype.fill=function(L,I,Z,te){if(typeof L=="string"){if(typeof I=="string"?(te=I,I=0,Z=this.length):typeof Z=="string"&&(te=Z,Z=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!r.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(L.length===1){var ie=L.charCodeAt(0);(te==="utf8"&&ie<128||te==="latin1")&&(L=ie)}}else typeof L=="number"&&(L&=255);if(I<0||this.length<I||this.length<Z)throw new RangeError("Out of range index");if(Z<=I)return this;var se;if(I>>>=0,Z=Z===void 0?this.length:Z>>>0,L||(L=0),typeof L=="number")for(se=I;se<Z;++se)this[se]=L;else{var le=r.isBuffer(L)?L:r.from(L,te),me=le.length;if(me===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(se=0;se<Z-I;++se)this[se+I]=le[se%me]}return this};var F=/[^+/0-9A-Za-z-_]/g;function $(L){return L<16?"0"+L.toString(16):L.toString(16)}function V(L,I){var Z;I=I||1/0;for(var te=L.length,ie=null,se=[],le=0;le<te;++le){if((Z=L.charCodeAt(le))>55295&&Z<57344){if(!ie){if(Z>56319){(I-=3)>-1&&se.push(239,191,189);continue}if(le+1===te){(I-=3)>-1&&se.push(239,191,189);continue}ie=Z;continue}if(Z<56320){(I-=3)>-1&&se.push(239,191,189),ie=Z;continue}Z=65536+(ie-55296<<10|Z-56320)}else ie&&(I-=3)>-1&&se.push(239,191,189);if(ie=null,Z<128){if((I-=1)<0)break;se.push(Z)}else if(Z<2048){if((I-=2)<0)break;se.push(Z>>6|192,63&Z|128)}else if(Z<65536){if((I-=3)<0)break;se.push(Z>>12|224,Z>>6&63|128,63&Z|128)}else{if(!(Z<1114112))throw new Error("Invalid code point");if((I-=4)<0)break;se.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,63&Z|128)}}return se}function W(L){return o.toByteArray(function(I){if((I=(I=I.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;I.length%4!=0;)I+="=";return I}(L))}function ee(L,I,Z,te){for(var ie=0;ie<te&&!(ie+Z>=I.length||ie>=L.length);++ie)I[ie+Z]=L[ie];return ie}function U(L,I){return L instanceof I||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===I.name}function Q(L){return L!=L}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,a,l){var f=e("safe-buffer").Buffer,o=e("stream").Transform,c=e("string_decoder").StringDecoder;function s(r){o.call(this),this.hashMode=typeof r=="string",this.hashMode?this[r]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(s,o),s.prototype.update=function(r,i,b){typeof r=="string"&&(r=f.from(r,i));var d=this._update(r);return this.hashMode?this:(b&&(d=this._toString(d,b)),d)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(r,i,b){var d;try{this.hashMode?this._update(r):this.push(this._update(r))}catch(u){d=u}finally{b(d)}},s.prototype._flush=function(r){var i;try{this.push(this.__final())}catch(b){i=b}r(i)},s.prototype._finalOrDigest=function(r){var i=this.__final()||f.alloc(0);return r&&(i=this._toString(i,r,!0)),i},s.prototype._toString=function(r,i,b){if(this._decoder||(this._decoder=new c(i),this._encoding=i),this._encoding!==i)throw new Error("can't switch encodings");var d=this._decoder.write(r);return b&&(d+=this._decoder.end()),d},a.exports=s},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,a,l){var f=e("../internals/is-callable"),o=e("../internals/try-to-string"),c=TypeError;a.exports=function(s){if(f(s))return s;throw new c(o(s)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,a,l){var f=e("../internals/is-constructor"),o=e("../internals/try-to-string"),c=TypeError;a.exports=function(s){if(f(s))return s;throw new c(o(s)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,a,l){var f=e("../internals/is-callable"),o=String,c=TypeError;a.exports=function(s){if(typeof s=="object"||f(s))return s;throw new c("Can't set "+o(s)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,a,l){var f=e("../internals/well-known-symbol"),o=e("../internals/object-create"),c=e("../internals/object-define-property").f,s=f("unscopables"),r=Array.prototype;r[s]===void 0&&c(r,s,{configurable:!0,value:o(null)}),a.exports=function(i){r[s][i]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,a,l){var f=e("../internals/object-is-prototype-of"),o=TypeError;a.exports=function(c,s){if(f(s,c))return c;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,a,l){var f=e("../internals/is-object"),o=String,c=TypeError;a.exports=function(s){if(f(s))return s;throw new c(o(s)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,a,l){var f=e("../internals/to-indexed-object"),o=e("../internals/to-absolute-index"),c=e("../internals/length-of-array-like"),s=function(r){return function(i,b,d){var u,v=f(i),x=c(v),m=o(d,x);if(r&&b!=b){for(;x>m;)if((u=v[m++])!=u)return!0}else for(;x>m;m++)if((r||m in v)&&v[m]===b)return r||m||0;return!r&&-1}};a.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,a,l){var f=e("../internals/function-bind-context"),o=e("../internals/function-uncurry-this"),c=e("../internals/indexed-object"),s=e("../internals/to-object"),r=e("../internals/length-of-array-like"),i=e("../internals/array-species-create"),b=o([].push),d=function(u){var v=u===1,x=u===2,m=u===3,g=u===4,y=u===6,C=u===7,E=u===5||y;return function(A,D,q,B){for(var z,K,Y=s(A),X=c(Y),O=f(D,q),P=r(X),N=0,_=B||i,j=v?_(A,P):x||C?_(A,0):void 0;P>N;N++)if((E||N in X)&&(K=O(z=X[N],N,Y),u))if(v)j[N]=K;else if(K)switch(u){case 3:return!0;case 5:return z;case 6:return N;case 2:b(j,z)}else switch(u){case 4:return!1;case 7:b(j,z)}return y?-1:m||g?g:j}};a.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,a,l){var f=e("../internals/to-absolute-index"),o=e("../internals/length-of-array-like"),c=e("../internals/create-property"),s=Array,r=Math.max;a.exports=function(i,b,d){for(var u=o(i),v=f(b,u),x=f(d===void 0?u:d,u),m=s(r(x-v,0)),g=0;v<x;v++,g++)c(m,g,i[v]);return m.length=g,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,a,l){var f=e("../internals/function-uncurry-this");a.exports=f([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,a,l){var f=e("../internals/is-array"),o=e("../internals/is-constructor"),c=e("../internals/is-object"),s=e("../internals/well-known-symbol")("species"),r=Array;a.exports=function(i){var b;return f(i)&&(b=i.constructor,(o(b)&&(b===r||f(b.prototype))||c(b)&&(b=b[s])===null)&&(b=void 0)),b===void 0?r:b}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,a,l){var f=e("../internals/array-species-constructor");a.exports=function(o,c){return new(f(o))(c===0?0:c)}},{"../internals/array-species-constructor":232}],234:[function(e,a,l){var f=e("../internals/well-known-symbol")("iterator"),o=!1;try{var c=0,s={next:function(){return{done:!!c++}},return:function(){o=!0}};s[f]=function(){return this},Array.from(s,function(){throw 2})}catch{}a.exports=function(r,i){try{if(!i&&!o)return!1}catch{return!1}var b=!1;try{var d={};d[f]=function(){return{next:function(){return{done:b=!0}}}},r(d)}catch{}return b}},{"../internals/well-known-symbol":357}],235:[function(e,a,l){var f=e("../internals/function-uncurry-this"),o=f({}.toString),c=f("".slice);a.exports=function(s){return c(o(s),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,a,l){var f=e("../internals/to-string-tag-support"),o=e("../internals/is-callable"),c=e("../internals/classof-raw"),s=e("../internals/well-known-symbol")("toStringTag"),r=Object,i=c(function(){return arguments}())==="Arguments";a.exports=f?c:function(b){var d,u,v;return b===void 0?"Undefined":b===null?"Null":typeof(u=function(x,m){try{return x[m]}catch{}}(d=r(b),s))=="string"?u:i?c(d):(v=c(d))==="Object"&&o(d.callee)?"Arguments":v}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,a,l){var f=e("../internals/has-own-property"),o=e("../internals/own-keys"),c=e("../internals/object-get-own-property-descriptor"),s=e("../internals/object-define-property");a.exports=function(r,i,b){for(var d=o(i),u=s.f,v=c.f,x=0;x<d.length;x++){var m=d[x];f(r,m)||b&&f(b,m)||u(r,m,v(i,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,a,l){var f=e("../internals/well-known-symbol")("match");a.exports=function(o){var c=/./;try{"/./"[o](c)}catch{try{return c[f]=!1,"/./"[o](c)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,a,l){var f=e("../internals/fails");a.exports=!f(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(e,a,l){a.exports=function(f,o){return{value:f,done:o}}},{}],241:[function(e,a,l){var f=e("../internals/descriptors"),o=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");a.exports=f?function(s,r,i){return o.f(s,r,c(1,i))}:function(s,r,i){return s[r]=i,s}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,a,l){a.exports=function(f,o){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:o}}},{}],243:[function(e,a,l){var f=e("../internals/to-property-key"),o=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");a.exports=function(s,r,i){var b=f(r);b in s?o.f(s,b,c(0,i)):s[b]=i}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,a,l){var f=e("../internals/make-built-in"),o=e("../internals/object-define-property");a.exports=function(c,s,r){return r.get&&f(r.get,s,{getter:!0}),r.set&&f(r.set,s,{setter:!0}),o.f(c,s,r)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,a,l){var f=e("../internals/is-callable"),o=e("../internals/object-define-property"),c=e("../internals/make-built-in"),s=e("../internals/define-global-property");a.exports=function(r,i,b,d){d||(d={});var u=d.enumerable,v=d.name!==void 0?d.name:i;if(f(b)&&c(b,v,d),d.global)u?r[i]=b:s(i,b);else{try{d.unsafe?r[i]&&(u=!0):delete r[i]}catch{}u?r[i]=b:o.f(r,i,{value:b,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return r}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,a,l){var f=e("../internals/global"),o=Object.defineProperty;a.exports=function(c,s){try{o(f,c,{value:s,configurable:!0,writable:!0})}catch{f[c]=s}return s}},{"../internals/global":274}],247:[function(e,a,l){var f=e("../internals/fails");a.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,a,l){var f=typeof document=="object"&&document.all,o=f===void 0&&f!==void 0;a.exports={all:f,IS_HTMLDDA:o}},{}],249:[function(e,a,l){var f=e("../internals/global"),o=e("../internals/is-object"),c=f.document,s=o(c)&&o(c.createElement);a.exports=function(r){return s?c.createElement(r):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,a,l){var f=e("../internals/engine-is-deno"),o=e("../internals/engine-is-node");a.exports=!f&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,a,l){a.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,a,l){var f=e("../internals/engine-user-agent");a.exports=/ipad|iphone|ipod/i.test(f)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,a,l){var f=e("../internals/engine-user-agent");a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},{"../internals/engine-user-agent":256}],254:[function(e,a,l){var f=e("../internals/global"),o=e("../internals/classof-raw");a.exports=o(f.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,a,l){var f=e("../internals/engine-user-agent");a.exports=/web0s(?!.*chrome)/i.test(f)},{"../internals/engine-user-agent":256}],256:[function(e,a,l){a.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,a,l){var f,o,c=e("../internals/global"),s=e("../internals/engine-user-agent"),r=c.process,i=c.Deno,b=r&&r.versions||i&&i.version,d=b&&b.v8;d&&(o=(f=d.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!o&&s&&(!(f=s.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=s.match(/Chrome\/(\d+)/))&&(o=+f[1]),a.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,a,l){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,a,l){var f=e("../internals/global"),o=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/create-non-enumerable-property"),s=e("../internals/define-built-in"),r=e("../internals/define-global-property"),i=e("../internals/copy-constructor-properties"),b=e("../internals/is-forced");a.exports=function(d,u){var v,x,m,g,y,C=d.target,E=d.global,A=d.stat;if(v=E?f:A?f[C]||r(C,{}):(f[C]||{}).prototype)for(x in u){if(g=u[x],m=d.dontCallGetSet?(y=o(v,x))&&y.value:v[x],!b(E?x:C+(A?".":"#")+x,d.forced)&&m!==void 0){if(typeof g==typeof m)continue;i(g,m)}(d.sham||m&&m.sham)&&c(g,"sham",!0),s(v,x,g,d)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,a,l){a.exports=function(f){try{return!!f()}catch{return!0}}},{}],261:[function(e,a,l){var f=e("../internals/function-bind-native"),o=Function.prototype,c=o.apply,s=o.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(f?s.bind(c):function(){return s.apply(c,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,a,l){var f=e("../internals/function-uncurry-this-clause"),o=e("../internals/a-callable"),c=e("../internals/function-bind-native"),s=f(f.bind);a.exports=function(r,i){return o(r),i===void 0?r:c?s(r,i):function(){return r.apply(i,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,a,l){var f=e("../internals/fails");a.exports=!f(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,a,l){var f=e("../internals/function-bind-native"),o=Function.prototype.call;a.exports=f?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,a,l){var f=e("../internals/descriptors"),o=e("../internals/has-own-property"),c=Function.prototype,s=f&&Object.getOwnPropertyDescriptor,r=o(c,"name"),i=r&&(function(){}).name==="something",b=r&&(!f||f&&s(c,"name").configurable);a.exports={EXISTS:r,PROPER:i,CONFIGURABLE:b}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,a,l){var f=e("../internals/function-uncurry-this"),o=e("../internals/a-callable");a.exports=function(c,s,r){try{return f(o(Object.getOwnPropertyDescriptor(c,s)[r]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,a,l){var f=e("../internals/classof-raw"),o=e("../internals/function-uncurry-this");a.exports=function(c){if(f(c)==="Function")return o(c)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,a,l){var f=e("../internals/function-bind-native"),o=Function.prototype,c=o.call,s=f&&o.bind.bind(c,c);a.exports=f?s:function(r){return function(){return c.apply(r,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,a,l){var f=e("../internals/global"),o=e("../internals/is-callable"),c=function(s){return o(s)?s:void 0};a.exports=function(s,r){return arguments.length<2?c(f[s]):f[s]&&f[s][r]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,a,l){var f=e("../internals/classof"),o=e("../internals/get-method"),c=e("../internals/is-null-or-undefined"),s=e("../internals/iterators"),r=e("../internals/well-known-symbol")("iterator");a.exports=function(i){if(!c(i))return o(i,r)||o(i,"@@iterator")||s[f(i)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,a,l){var f=e("../internals/function-call"),o=e("../internals/a-callable"),c=e("../internals/an-object"),s=e("../internals/try-to-string"),r=e("../internals/get-iterator-method"),i=TypeError;a.exports=function(b,d){var u=arguments.length<2?r(b):d;if(o(u))return c(f(u,b));throw new i(s(b)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,a,l){var f=e("../internals/function-uncurry-this"),o=e("../internals/is-array"),c=e("../internals/is-callable"),s=e("../internals/classof-raw"),r=e("../internals/to-string"),i=f([].push);a.exports=function(b){if(c(b))return b;if(o(b)){for(var d=b.length,u=[],v=0;v<d;v++){var x=b[v];typeof x=="string"?i(u,x):typeof x!="number"&&s(x)!=="Number"&&s(x)!=="String"||i(u,r(x))}var m=u.length,g=!0;return function(y,C){if(g)return g=!1,C;if(o(this))return C;for(var E=0;E<m;E++)if(u[E]===y)return C}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,a,l){var f=e("../internals/a-callable"),o=e("../internals/is-null-or-undefined");a.exports=function(c,s){var r=c[s];return o(r)?void 0:f(r)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,a,l){(function(f){(function(){var o=function(c){return c&&c.Math===Math&&c};a.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof f=="object"&&f)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,a,l){var f=e("../internals/function-uncurry-this"),o=e("../internals/to-object"),c=f({}.hasOwnProperty);a.exports=Object.hasOwn||function(s,r){return c(o(s),r)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,a,l){a.exports={}},{}],277:[function(e,a,l){a.exports=function(f,o){try{arguments.length===1?console.error(f):console.error(f,o)}catch{}}},{}],278:[function(e,a,l){var f=e("../internals/get-built-in");a.exports=f("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,a,l){var f=e("../internals/descriptors"),o=e("../internals/fails"),c=e("../internals/document-create-element");a.exports=!f&&!o(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,a,l){var f=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/classof-raw"),s=Object,r=f("".split);a.exports=o(function(){return!s("z").propertyIsEnumerable(0)})?function(i){return c(i)==="String"?r(i,""):s(i)}:s},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,a,l){var f=e("../internals/function-uncurry-this"),o=e("../internals/is-callable"),c=e("../internals/shared-store"),s=f(Function.toString);o(c.inspectSource)||(c.inspectSource=function(r){return s(r)}),a.exports=c.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,a,l){var f,o,c,s=e("../internals/weak-map-basic-detection"),r=e("../internals/global"),i=e("../internals/is-object"),b=e("../internals/create-non-enumerable-property"),d=e("../internals/has-own-property"),u=e("../internals/shared-store"),v=e("../internals/shared-key"),x=e("../internals/hidden-keys"),m=r.TypeError,g=r.WeakMap;if(s||u.state){var y=u.state||(u.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,f=function(E,A){if(y.has(E))throw new m("Object already initialized");return A.facade=E,y.set(E,A),A},o=function(E){return y.get(E)||{}},c=function(E){return y.has(E)}}else{var C=v("state");x[C]=!0,f=function(E,A){if(d(E,C))throw new m("Object already initialized");return A.facade=E,b(E,C,A),A},o=function(E){return d(E,C)?E[C]:{}},c=function(E){return d(E,C)}}a.exports={set:f,get:o,has:c,enforce:function(E){return c(E)?o(E):f(E,{})},getterFor:function(E){return function(A){var D;if(!i(A)||(D=o(A)).type!==E)throw new m("Incompatible receiver, "+E+" required");return D}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,a,l){var f=e("../internals/well-known-symbol"),o=e("../internals/iterators"),c=f("iterator"),s=Array.prototype;a.exports=function(r){return r!==void 0&&(o.Array===r||s[c]===r)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,a,l){var f=e("../internals/classof-raw");a.exports=Array.isArray||function(o){return f(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,a,l){var f=e("../internals/document-all"),o=f.all;a.exports=f.IS_HTMLDDA?function(c){return typeof c=="function"||c===o}:function(c){return typeof c=="function"}},{"../internals/document-all":248}],286:[function(e,a,l){var f=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/is-callable"),s=e("../internals/classof"),r=e("../internals/get-built-in"),i=e("../internals/inspect-source"),b=function(){},d=[],u=r("Reflect","construct"),v=/^\s*(?:class|function)\b/,x=f(v.exec),m=!v.test(b),g=function(C){if(!c(C))return!1;try{return u(b,d,C),!0}catch{return!1}},y=function(C){if(!c(C))return!1;switch(s(C)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!x(v,i(C))}catch{return!0}};y.sham=!0,a.exports=!u||o(function(){var C;return g(g.call)||!g(Object)||!g(function(){C=!0})||C})?y:g},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,a,l){var f=e("../internals/fails"),o=e("../internals/is-callable"),c=/#|\.prototype\./,s=function(u,v){var x=i[r(u)];return x===d||x!==b&&(o(v)?f(v):!!v)},r=s.normalize=function(u){return String(u).replace(c,".").toLowerCase()},i=s.data={},b=s.NATIVE="N",d=s.POLYFILL="P";a.exports=s},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,a,l){a.exports=function(f){return f==null}},{}],289:[function(e,a,l){var f=e("../internals/is-callable"),o=e("../internals/document-all"),c=o.all;a.exports=o.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:f(s)||s===c}:function(s){return typeof s=="object"?s!==null:f(s)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,a,l){a.exports=!1},{}],291:[function(e,a,l){var f=e("../internals/is-object"),o=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("match");a.exports=function(s){var r;return f(s)&&((r=s[c])!==void 0?!!r:o(s)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,a,l){var f=e("../internals/get-built-in"),o=e("../internals/is-callable"),c=e("../internals/object-is-prototype-of"),s=e("../internals/use-symbol-as-uid"),r=Object;a.exports=s?function(i){return typeof i=="symbol"}:function(i){var b=f("Symbol");return o(b)&&c(b.prototype,r(i))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,a,l){var f=e("../internals/function-bind-context"),o=e("../internals/function-call"),c=e("../internals/an-object"),s=e("../internals/try-to-string"),r=e("../internals/is-array-iterator-method"),i=e("../internals/length-of-array-like"),b=e("../internals/object-is-prototype-of"),d=e("../internals/get-iterator"),u=e("../internals/get-iterator-method"),v=e("../internals/iterator-close"),x=TypeError,m=function(y,C){this.stopped=y,this.result=C},g=m.prototype;a.exports=function(y,C,E){var A,D,q,B,z,K,Y,X=E&&E.that,O=!(!E||!E.AS_ENTRIES),P=!(!E||!E.IS_RECORD),N=!(!E||!E.IS_ITERATOR),_=!(!E||!E.INTERRUPTED),j=f(C,X),k=function(M){return A&&v(A,"normal",M),new m(!0,M)},T=function(M){return O?(c(M),_?j(M[0],M[1],k):j(M[0],M[1])):_?j(M,k):j(M)};if(P)A=y.iterator;else if(N)A=y;else{if(!(D=u(y)))throw new x(s(y)+" is not iterable");if(r(D)){for(q=0,B=i(y);B>q;q++)if((z=T(y[q]))&&b(g,z))return z;return new m(!1)}A=d(y,D)}for(K=P?y.next:A.next;!(Y=o(K,A)).done;){try{z=T(Y.value)}catch(M){v(A,"throw",M)}if(typeof z=="object"&&z&&b(g,z))return z}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,a,l){var f=e("../internals/function-call"),o=e("../internals/an-object"),c=e("../internals/get-method");a.exports=function(s,r,i){var b,d;o(s);try{if(!(b=c(s,"return"))){if(r==="throw")throw i;return i}b=f(b,s)}catch(u){d=!0,b=u}if(r==="throw")throw i;if(d)throw b;return o(b),i}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,a,l){var f=e("../internals/iterators-core").IteratorPrototype,o=e("../internals/object-create"),c=e("../internals/create-property-descriptor"),s=e("../internals/set-to-string-tag"),r=e("../internals/iterators"),i=function(){return this};a.exports=function(b,d,u,v){var x=d+" Iterator";return b.prototype=o(f,{next:c(+!v,u)}),s(b,x,!1,!0),r[x]=i,b}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/is-pure"),s=e("../internals/function-name"),r=e("../internals/is-callable"),i=e("../internals/iterator-create-constructor"),b=e("../internals/object-get-prototype-of"),d=e("../internals/object-set-prototype-of"),u=e("../internals/set-to-string-tag"),v=e("../internals/create-non-enumerable-property"),x=e("../internals/define-built-in"),m=e("../internals/well-known-symbol"),g=e("../internals/iterators"),y=e("../internals/iterators-core"),C=s.PROPER,E=s.CONFIGURABLE,A=y.IteratorPrototype,D=y.BUGGY_SAFARI_ITERATORS,q=m("iterator"),B=function(){return this};a.exports=function(z,K,Y,X,O,P,N){i(Y,K,X);var _,j,k,T=function(U){if(U===O&&W)return W;if(!D&&U&&U in $)return $[U];switch(U){case"keys":case"values":case"entries":return function(){return new Y(this,U)}}return function(){return new Y(this)}},M=K+" Iterator",F=!1,$=z.prototype,V=$[q]||$["@@iterator"]||O&&$[O],W=!D&&V||T(O),ee=K==="Array"&&$.entries||V;if(ee&&(_=b(ee.call(new z)))!==Object.prototype&&_.next&&(c||b(_)===A||(d?d(_,A):r(_[q])||x(_,q,B)),u(_,M,!0,!0),c&&(g[M]=B)),C&&O==="values"&&V&&V.name!=="values"&&(!c&&E?v($,"name","values"):(F=!0,W=function(){return o(V,this)})),O)if(j={values:T("values"),keys:P?W:T("keys"),entries:T("entries")},N)for(k in j)(D||F||!(k in $))&&x($,k,j[k]);else f({target:K,proto:!0,forced:D||F},j);return c&&!N||$[q]===W||x($,q,W,{name:O}),g[K]=W,j}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,a,l){var f,o,c,s=e("../internals/fails"),r=e("../internals/is-callable"),i=e("../internals/is-object"),b=e("../internals/object-create"),d=e("../internals/object-get-prototype-of"),u=e("../internals/define-built-in"),v=e("../internals/well-known-symbol"),x=e("../internals/is-pure"),m=v("iterator"),g=!1;[].keys&&("next"in(c=[].keys())?(o=d(d(c)))!==Object.prototype&&(f=o):g=!0),!i(f)||s(function(){var y={};return f[m].call(y)!==y})?f={}:x&&(f=b(f)),r(f[m])||u(f,m,function(){return this}),a.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:g}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,a,l){arguments[4][276][0].apply(l,arguments)},{dup:276}],299:[function(e,a,l){var f=e("../internals/to-length");a.exports=function(o){return f(o.length)}},{"../internals/to-length":343}],300:[function(e,a,l){var f=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/is-callable"),s=e("../internals/has-own-property"),r=e("../internals/descriptors"),i=e("../internals/function-name").CONFIGURABLE,b=e("../internals/inspect-source"),d=e("../internals/internal-state"),u=d.enforce,v=d.get,x=String,m=Object.defineProperty,g=f("".slice),y=f("".replace),C=f([].join),E=r&&!o(function(){return m(function(){},"length",{value:8}).length!==8}),A=String(String).split("String"),D=a.exports=function(q,B,z){g(x(B),0,7)==="Symbol("&&(B="["+y(x(B),/^Symbol\(([^)]*)\)/,"$1")+"]"),z&&z.getter&&(B="get "+B),z&&z.setter&&(B="set "+B),(!s(q,"name")||i&&q.name!==B)&&(r?m(q,"name",{value:B,configurable:!0}):q.name=B),E&&z&&s(z,"arity")&&q.length!==z.arity&&m(q,"length",{value:z.arity});try{z&&s(z,"constructor")&&z.constructor?r&&m(q,"prototype",{writable:!1}):q.prototype&&(q.prototype=void 0)}catch{}var K=u(q);return s(K,"source")||(K.source=C(A,typeof B=="string"?B:"")),q};Function.prototype.toString=D(function(){return c(this)&&v(this).source||b(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,a,l){var f=Math.ceil,o=Math.floor;a.exports=Math.trunc||function(c){var s=+c;return(s>0?o:f)(s)}},{}],302:[function(e,a,l){var f,o,c,s,r,i=e("../internals/global"),b=e("../internals/function-bind-context"),d=e("../internals/object-get-own-property-descriptor").f,u=e("../internals/task").set,v=e("../internals/queue"),x=e("../internals/engine-is-ios"),m=e("../internals/engine-is-ios-pebble"),g=e("../internals/engine-is-webos-webkit"),y=e("../internals/engine-is-node"),C=i.MutationObserver||i.WebKitMutationObserver,E=i.document,A=i.process,D=i.Promise,q=d(i,"queueMicrotask"),B=q&&q.value;if(!B){var z=new v,K=function(){var Y,X;for(y&&(Y=A.domain)&&Y.exit();X=z.get();)try{X()}catch(O){throw z.head&&f(),O}Y&&Y.enter()};x||y||g||!C||!E?!m&&D&&D.resolve?((s=D.resolve(void 0)).constructor=D,r=b(s.then,s),f=function(){r(K)}):y?f=function(){A.nextTick(K)}:(u=b(u,i),f=function(){u(K)}):(o=!0,c=E.createTextNode(""),new C(K).observe(c,{characterData:!0}),f=function(){c.data=o=!o}),B=function(Y){z.head||f(),z.add(Y)}}a.exports=B},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,a,l){var f=e("../internals/a-callable"),o=TypeError,c=function(s){var r,i;this.promise=new s(function(b,d){if(r!==void 0||i!==void 0)throw new o("Bad Promise constructor");r=b,i=d}),this.resolve=f(r),this.reject=f(i)};a.exports.f=function(s){return new c(s)}},{"../internals/a-callable":222}],304:[function(e,a,l){var f=e("../internals/is-regexp"),o=TypeError;a.exports=function(c){if(f(c))throw new o("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":291}],305:[function(e,a,l){var f=e("../internals/descriptors"),o=e("../internals/function-uncurry-this"),c=e("../internals/function-call"),s=e("../internals/fails"),r=e("../internals/object-keys"),i=e("../internals/object-get-own-property-symbols"),b=e("../internals/object-property-is-enumerable"),d=e("../internals/to-object"),u=e("../internals/indexed-object"),v=Object.assign,x=Object.defineProperty,m=o([].concat);a.exports=!v||s(function(){if(f&&v({b:1},v(x({},"a",{enumerable:!0,get:function(){x(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var g={},y={},C=Symbol("assign detection");return g[C]=7,"abcdefghijklmnopqrst".split("").forEach(function(E){y[E]=E}),v({},g)[C]!==7||r(v({},y)).join("")!=="abcdefghijklmnopqrst"})?function(g,y){for(var C=d(g),E=arguments.length,A=1,D=i.f,q=b.f;E>A;)for(var B,z=u(arguments[A++]),K=D?m(r(z),D(z)):r(z),Y=K.length,X=0;Y>X;)B=K[X++],f&&!c(q,z,B)||(C[B]=z[B]);return C}:v},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,a,l){var f,o=e("../internals/an-object"),c=e("../internals/object-define-properties"),s=e("../internals/enum-bug-keys"),r=e("../internals/hidden-keys"),i=e("../internals/html"),b=e("../internals/document-create-element"),d=e("../internals/shared-key"),u=d("IE_PROTO"),v=function(){},x=function(y){return"<script>"+y+"<\/script>"},m=function(y){y.write(x("")),y.close();var C=y.parentWindow.Object;return y=null,C},g=function(){try{f=new ActiveXObject("htmlfile")}catch{}var y,C;g=typeof document<"u"?document.domain&&f?m(f):((C=b("iframe")).style.display="none",i.appendChild(C),C.src="javascript:",(y=C.contentWindow.document).open(),y.write(x("document.F=Object")),y.close(),y.F):m(f);for(var E=s.length;E--;)delete g.prototype[s[E]];return g()};r[u]=!0,a.exports=Object.create||function(y,C){var E;return y!==null?(v.prototype=o(y),E=new v,v.prototype=null,E[u]=y):E=g(),C===void 0?E:c.f(E,C)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,a,l){var f=e("../internals/descriptors"),o=e("../internals/v8-prototype-define-bug"),c=e("../internals/object-define-property"),s=e("../internals/an-object"),r=e("../internals/to-indexed-object"),i=e("../internals/object-keys");l.f=f&&!o?Object.defineProperties:function(b,d){s(b);for(var u,v=r(d),x=i(d),m=x.length,g=0;m>g;)c.f(b,u=x[g++],v[u]);return b}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,a,l){var f=e("../internals/descriptors"),o=e("../internals/ie8-dom-define"),c=e("../internals/v8-prototype-define-bug"),s=e("../internals/an-object"),r=e("../internals/to-property-key"),i=TypeError,b=Object.defineProperty,d=Object.getOwnPropertyDescriptor;l.f=f?c?function(u,v,x){if(s(u),v=r(v),s(x),typeof u=="function"&&v==="prototype"&&"value"in x&&"writable"in x&&!x.writable){var m=d(u,v);m&&m.writable&&(u[v]=x.value,x={configurable:"configurable"in x?x.configurable:m.configurable,enumerable:"enumerable"in x?x.enumerable:m.enumerable,writable:!1})}return b(u,v,x)}:b:function(u,v,x){if(s(u),v=r(v),s(x),o)try{return b(u,v,x)}catch{}if("get"in x||"set"in x)throw new i("Accessors not supported");return"value"in x&&(u[v]=x.value),u}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,a,l){var f=e("../internals/descriptors"),o=e("../internals/function-call"),c=e("../internals/object-property-is-enumerable"),s=e("../internals/create-property-descriptor"),r=e("../internals/to-indexed-object"),i=e("../internals/to-property-key"),b=e("../internals/has-own-property"),d=e("../internals/ie8-dom-define"),u=Object.getOwnPropertyDescriptor;l.f=f?u:function(v,x){if(v=r(v),x=i(x),d)try{return u(v,x)}catch{}if(b(v,x))return s(!o(c.f,v,x),v[x])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,a,l){var f=e("../internals/classof-raw"),o=e("../internals/to-indexed-object"),c=e("../internals/object-get-own-property-names").f,s=e("../internals/array-slice-simple"),r=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(i){return r&&f(i)==="Window"?function(b){try{return c(b)}catch{return s(r)}}(i):c(o(i))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,a,l){var f=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys").concat("length","prototype");l.f=Object.getOwnPropertyNames||function(c){return f(c,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,a,l){l.f=Object.getOwnPropertySymbols},{}],313:[function(e,a,l){var f=e("../internals/has-own-property"),o=e("../internals/is-callable"),c=e("../internals/to-object"),s=e("../internals/shared-key"),r=e("../internals/correct-prototype-getter"),i=s("IE_PROTO"),b=Object,d=b.prototype;a.exports=r?b.getPrototypeOf:function(u){var v=c(u);if(f(v,i))return v[i];var x=v.constructor;return o(x)&&v instanceof x?x.prototype:v instanceof b?d:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,a,l){var f=e("../internals/function-uncurry-this");a.exports=f({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,a,l){var f=e("../internals/function-uncurry-this"),o=e("../internals/has-own-property"),c=e("../internals/to-indexed-object"),s=e("../internals/array-includes").indexOf,r=e("../internals/hidden-keys"),i=f([].push);a.exports=function(b,d){var u,v=c(b),x=0,m=[];for(u in v)!o(r,u)&&o(v,u)&&i(m,u);for(;d.length>x;)o(v,u=d[x++])&&(~s(m,u)||i(m,u));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,a,l){var f=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys");a.exports=Object.keys||function(c){return f(c,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,a,l){var f={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,c=o&&!f.call({1:2},1);l.f=c?function(s){var r=o(this,s);return!!r&&r.enumerable}:f},{}],318:[function(e,a,l){var f=e("../internals/function-uncurry-this-accessor"),o=e("../internals/an-object"),c=e("../internals/a-possible-prototype");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,r=!1,i={};try{(s=f(Object.prototype,"__proto__","set"))(i,[]),r=i instanceof Array}catch{}return function(b,d){return o(b),c(d),r?s(b,d):b.__proto__=d,b}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,a,l){var f=e("../internals/descriptors"),o=e("../internals/fails"),c=e("../internals/function-uncurry-this"),s=e("../internals/object-get-prototype-of"),r=e("../internals/object-keys"),i=e("../internals/to-indexed-object"),b=c(e("../internals/object-property-is-enumerable").f),d=c([].push),u=f&&o(function(){var x=Object.create(null);return x[2]=2,!b(x,2)}),v=function(x){return function(m){for(var g,y=i(m),C=r(y),E=u&&s(y)===null,A=C.length,D=0,q=[];A>D;)g=C[D++],f&&!(E?g in y:b(y,g))||d(q,x?[g,y[g]]:y[g]);return q}};a.exports={entries:v(!0),values:v(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,a,l){var f=e("../internals/function-call"),o=e("../internals/is-callable"),c=e("../internals/is-object"),s=TypeError;a.exports=function(r,i){var b,d;if(i==="string"&&o(b=r.toString)&&!c(d=f(b,r))||o(b=r.valueOf)&&!c(d=f(b,r))||i!=="string"&&o(b=r.toString)&&!c(d=f(b,r)))return d;throw new s("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,a,l){var f=e("../internals/get-built-in"),o=e("../internals/function-uncurry-this"),c=e("../internals/object-get-own-property-names"),s=e("../internals/object-get-own-property-symbols"),r=e("../internals/an-object"),i=o([].concat);a.exports=f("Reflect","ownKeys")||function(b){var d=c.f(r(b)),u=s.f;return u?i(d,u(b)):d}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,a,l){var f=e("../internals/global");a.exports=f},{"../internals/global":274}],323:[function(e,a,l){a.exports=function(f){try{return{error:!1,value:f()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(e,a,l){var f=e("../internals/global"),o=e("../internals/promise-native-constructor"),c=e("../internals/is-callable"),s=e("../internals/is-forced"),r=e("../internals/inspect-source"),i=e("../internals/well-known-symbol"),b=e("../internals/engine-is-browser"),d=e("../internals/engine-is-deno"),u=e("../internals/is-pure"),v=e("../internals/engine-v8-version"),x=o&&o.prototype,m=i("species"),g=!1,y=c(f.PromiseRejectionEvent),C=s("Promise",function(){var E=r(o),A=E!==String(o);if(!A&&v===66||u&&(!x.catch||!x.finally))return!0;if(!v||v<51||!/native code/.test(E)){var D=new o(function(B){B(1)}),q=function(B){B(function(){},function(){})};if((D.constructor={})[m]=q,!(g=D.then(function(){})instanceof q))return!0}return!A&&(b||d)&&!y});a.exports={CONSTRUCTOR:C,REJECTION_EVENT:y,SUBCLASSING:g}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,a,l){var f=e("../internals/global");a.exports=f.Promise},{"../internals/global":274}],326:[function(e,a,l){var f=e("../internals/an-object"),o=e("../internals/is-object"),c=e("../internals/new-promise-capability");a.exports=function(s,r){if(f(s),o(r)&&r.constructor===s)return r;var i=c.f(s);return(0,i.resolve)(r),i.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,a,l){var f=e("../internals/promise-native-constructor"),o=e("../internals/check-correctness-of-iteration"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR;a.exports=c||!o(function(s){f.all(s).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,a,l){var f=function(){this.head=null,this.tail=null};f.prototype={add:function(o){var c={item:o,next:null},s=this.tail;s?s.next=c:this.head=c,this.tail=c},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},a.exports=f},{}],329:[function(e,a,l){var f=e("../internals/is-null-or-undefined"),o=TypeError;a.exports=function(c){if(f(c))throw new o("Can't call method on "+c);return c}},{"../internals/is-null-or-undefined":288}],330:[function(e,a,l){var f=e("../internals/get-built-in"),o=e("../internals/define-built-in-accessor"),c=e("../internals/well-known-symbol"),s=e("../internals/descriptors"),r=c("species");a.exports=function(i){var b=f(i);s&&b&&!b[r]&&o(b,r,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,a,l){var f=e("../internals/object-define-property").f,o=e("../internals/has-own-property"),c=e("../internals/well-known-symbol")("toStringTag");a.exports=function(s,r,i){s&&!i&&(s=s.prototype),s&&!o(s,c)&&f(s,c,{configurable:!0,value:r})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,a,l){var f=e("../internals/shared"),o=e("../internals/uid"),c=f("keys");a.exports=function(s){return c[s]||(c[s]=o(s))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,a,l){var f=e("../internals/global"),o=e("../internals/define-global-property"),c=f["__core-js_shared__"]||o("__core-js_shared__",{});a.exports=c},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,a,l){var f=e("../internals/is-pure"),o=e("../internals/shared-store");(a.exports=function(c,s){return o[c]||(o[c]=s!==void 0?s:{})})("versions",[]).push({version:"3.33.0",mode:f?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,a,l){var f=e("../internals/an-object"),o=e("../internals/a-constructor"),c=e("../internals/is-null-or-undefined"),s=e("../internals/well-known-symbol")("species");a.exports=function(r,i){var b,d=f(r).constructor;return d===void 0||c(b=f(d)[s])?i:o(b)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,a,l){var f=e("../internals/engine-v8-version"),o=e("../internals/fails"),c=e("../internals/global").String;a.exports=!!Object.getOwnPropertySymbols&&!o(function(){var s=Symbol("symbol detection");return!c(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&f&&f<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,a,l){var f=e("../internals/function-call"),o=e("../internals/get-built-in"),c=e("../internals/well-known-symbol"),s=e("../internals/define-built-in");a.exports=function(){var r=o("Symbol"),i=r&&r.prototype,b=i&&i.valueOf,d=c("toPrimitive");i&&!i[d]&&s(i,d,function(u){return f(b,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,a,l){var f=e("../internals/symbol-constructor-detection");a.exports=f&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,a,l){var f,o,c,s,r=e("../internals/global"),i=e("../internals/function-apply"),b=e("../internals/function-bind-context"),d=e("../internals/is-callable"),u=e("../internals/has-own-property"),v=e("../internals/fails"),x=e("../internals/html"),m=e("../internals/array-slice"),g=e("../internals/document-create-element"),y=e("../internals/validate-arguments-length"),C=e("../internals/engine-is-ios"),E=e("../internals/engine-is-node"),A=r.setImmediate,D=r.clearImmediate,q=r.process,B=r.Dispatch,z=r.Function,K=r.MessageChannel,Y=r.String,X=0,O={};v(function(){f=r.location});var P=function(k){if(u(O,k)){var T=O[k];delete O[k],T()}},N=function(k){return function(){P(k)}},_=function(k){P(k.data)},j=function(k){r.postMessage(Y(k),f.protocol+"//"+f.host)};A&&D||(A=function(k){y(arguments.length,1);var T=d(k)?k:z(k),M=m(arguments,1);return O[++X]=function(){i(T,void 0,M)},o(X),X},D=function(k){delete O[k]},E?o=function(k){q.nextTick(N(k))}:B&&B.now?o=function(k){B.now(N(k))}:K&&!C?(s=(c=new K).port2,c.port1.onmessage=_,o=b(s.postMessage,s)):r.addEventListener&&d(r.postMessage)&&!r.importScripts&&f&&f.protocol!=="file:"&&!v(j)?(o=j,r.addEventListener("message",_,!1)):o="onreadystatechange"in g("script")?function(k){x.appendChild(g("script")).onreadystatechange=function(){x.removeChild(this),P(k)}}:function(k){setTimeout(N(k),0)}),a.exports={set:A,clear:D}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,a,l){var f=e("../internals/to-integer-or-infinity"),o=Math.max,c=Math.min;a.exports=function(s,r){var i=f(s);return i<0?o(i+r,0):c(i,r)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,a,l){var f=e("../internals/indexed-object"),o=e("../internals/require-object-coercible");a.exports=function(c){return f(o(c))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,a,l){var f=e("../internals/math-trunc");a.exports=function(o){var c=+o;return c!=c||c===0?0:f(c)}},{"../internals/math-trunc":301}],343:[function(e,a,l){var f=e("../internals/to-integer-or-infinity"),o=Math.min;a.exports=function(c){return c>0?o(f(c),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,a,l){var f=e("../internals/require-object-coercible"),o=Object;a.exports=function(c){return o(f(c))}},{"../internals/require-object-coercible":329}],345:[function(e,a,l){var f=e("../internals/function-call"),o=e("../internals/is-object"),c=e("../internals/is-symbol"),s=e("../internals/get-method"),r=e("../internals/ordinary-to-primitive"),i=e("../internals/well-known-symbol"),b=TypeError,d=i("toPrimitive");a.exports=function(u,v){if(!o(u)||c(u))return u;var x,m=s(u,d);if(m){if(v===void 0&&(v="default"),x=f(m,u,v),!o(x)||c(x))return x;throw new b("Can't convert object to primitive value")}return v===void 0&&(v="number"),r(u,v)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,a,l){var f=e("../internals/to-primitive"),o=e("../internals/is-symbol");a.exports=function(c){var s=f(c,"string");return o(s)?s:s+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,a,l){var f={};f[e("../internals/well-known-symbol")("toStringTag")]="z",a.exports=String(f)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,a,l){var f=e("../internals/classof"),o=String;a.exports=function(c){if(f(c)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(c)}},{"../internals/classof":236}],349:[function(e,a,l){var f=String;a.exports=function(o){try{return f(o)}catch{return"Object"}}},{}],350:[function(e,a,l){var f=e("../internals/function-uncurry-this"),o=0,c=Math.random(),s=f(1 .toString);a.exports=function(r){return"Symbol("+(r===void 0?"":r)+")_"+s(++o+c,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,a,l){var f=e("../internals/symbol-constructor-detection");a.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,a,l){var f=e("../internals/descriptors"),o=e("../internals/fails");a.exports=f&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,a,l){var f=TypeError;a.exports=function(o,c){if(o<c)throw new f("Not enough arguments");return o}},{}],354:[function(e,a,l){var f=e("../internals/global"),o=e("../internals/is-callable"),c=f.WeakMap;a.exports=o(c)&&/native code/.test(String(c))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,a,l){var f=e("../internals/path"),o=e("../internals/has-own-property"),c=e("../internals/well-known-symbol-wrapped"),s=e("../internals/object-define-property").f;a.exports=function(r){var i=f.Symbol||(f.Symbol={});o(i,r)||s(i,r,{value:c.f(r)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,a,l){var f=e("../internals/well-known-symbol");l.f=f},{"../internals/well-known-symbol":357}],357:[function(e,a,l){var f=e("../internals/global"),o=e("../internals/shared"),c=e("../internals/has-own-property"),s=e("../internals/uid"),r=e("../internals/symbol-constructor-detection"),i=e("../internals/use-symbol-as-uid"),b=f.Symbol,d=o("wks"),u=i?b.for||b:b&&b.withoutSetter||s;a.exports=function(v){return c(d,v)||(d[v]=r&&c(b,v)?b[v]:u("Symbol."+v)),d[v]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/array-iteration").findIndex,c=e("../internals/add-to-unscopables"),s=!0;"findIndex"in[]&&Array(1).findIndex(function(){s=!1}),f({target:"Array",proto:!0,forced:s},{findIndex:function(r){return o(this,r,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/array-iteration").find,c=e("../internals/add-to-unscopables"),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),f({target:"Array",proto:!0,forced:s},{find:function(r){return o(this,r,arguments.length>1?arguments[1]:void 0)}}),c("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/array-includes").includes,c=e("../internals/fails"),s=e("../internals/add-to-unscopables");f({target:"Array",proto:!0,forced:c(function(){return!Array(1).includes()})},{includes:function(r){return o(this,r,arguments.length>1?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,a,l){var f=e("../internals/to-indexed-object"),o=e("../internals/add-to-unscopables"),c=e("../internals/iterators"),s=e("../internals/internal-state"),r=e("../internals/object-define-property").f,i=e("../internals/iterator-define"),b=e("../internals/create-iter-result-object"),d=e("../internals/is-pure"),u=e("../internals/descriptors"),v=s.set,x=s.getterFor("Array Iterator");a.exports=i(Array,"Array",function(g,y){v(this,{type:"Array Iterator",target:f(g),index:0,kind:y})},function(){var g=x(this),y=g.target,C=g.kind,E=g.index++;if(!y||E>=y.length)return g.target=void 0,b(void 0,!0);switch(C){case"keys":return b(E,!1);case"values":return b(y[E],!1)}return b([E,y[E]],!1)},"values");var m=c.Arguments=c.Array;if(o("keys"),o("values"),o("entries"),!d&&u&&m.name!=="values")try{r(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/function-apply"),s=e("../internals/function-call"),r=e("../internals/function-uncurry-this"),i=e("../internals/fails"),b=e("../internals/is-callable"),d=e("../internals/is-symbol"),u=e("../internals/array-slice"),v=e("../internals/get-json-replacer-function"),x=e("../internals/symbol-constructor-detection"),m=String,g=o("JSON","stringify"),y=r(/./.exec),C=r("".charAt),E=r("".charCodeAt),A=r("".replace),D=r(1 .toString),q=/[\uD800-\uDFFF]/g,B=/^[\uD800-\uDBFF]$/,z=/^[\uDC00-\uDFFF]$/,K=!x||i(function(){var P=o("Symbol")("stringify detection");return g([P])!=="[null]"||g({a:P})!=="{}"||g(Object(P))!=="{}"}),Y=i(function(){return g("\uDF06\uD834")!=='"\\udf06\\ud834"'||g("\uDEAD")!=='"\\udead"'}),X=function(P,N){var _=u(arguments),j=v(N);if(b(j)||P!==void 0&&!d(P))return _[1]=function(k,T){if(b(j)&&(T=s(j,this,m(k),T)),!d(T))return T},c(g,null,_)},O=function(P,N,_){var j=C(_,N-1),k=C(_,N+1);return y(B,P)&&!y(z,k)||y(z,P)&&!y(B,j)?"\\u"+D(E(P,0),16):P};g&&f({target:"JSON",stat:!0,arity:3,forced:K||Y},{stringify:function(P,N,_){var j=u(arguments),k=c(K?X:g,null,j);return Y&&typeof k=="string"?A(k,q,O):k}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,a,l){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(f){return f!=f}})},{"../internals/export":259}],364:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/object-assign");f({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/symbol-constructor-detection"),c=e("../internals/fails"),s=e("../internals/object-get-own-property-symbols"),r=e("../internals/to-object");f({target:"Object",stat:!0,forced:!o||c(function(){s.f(1)})},{getOwnPropertySymbols:function(i){var b=s.f;return b?b(r(i)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/to-object"),c=e("../internals/object-keys");f({target:"Object",stat:!0,forced:e("../internals/fails")(function(){c(1)})},{keys:function(s){return c(o(s))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/object-to-array").values;f({target:"Object",stat:!0},{values:function(c){return o(c)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/a-callable"),s=e("../internals/new-promise-capability"),r=e("../internals/perform"),i=e("../internals/iterate");f({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(b){var d=this,u=s.f(d),v=u.resolve,x=u.reject,m=r(function(){var g=c(d.resolve),y=[],C=0,E=1;i(b,function(A){var D=C++,q=!1;E++,o(g,d,A).then(function(B){q||(q=!0,y[D]=B,--E||v(y))},x)}),--E||v(y)});return m.error&&x(m.value),u.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/is-pure"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR,s=e("../internals/promise-native-constructor"),r=e("../internals/get-built-in"),i=e("../internals/is-callable"),b=e("../internals/define-built-in"),d=s&&s.prototype;if(f({target:"Promise",proto:!0,forced:c,real:!0},{catch:function(v){return this.then(void 0,v)}}),!o&&i(s)){var u=r("Promise").prototype.catch;d.catch!==u&&b(d,"catch",u,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,a,l){var f,o,c,s=e("../internals/export"),r=e("../internals/is-pure"),i=e("../internals/engine-is-node"),b=e("../internals/global"),d=e("../internals/function-call"),u=e("../internals/define-built-in"),v=e("../internals/object-set-prototype-of"),x=e("../internals/set-to-string-tag"),m=e("../internals/set-species"),g=e("../internals/a-callable"),y=e("../internals/is-callable"),C=e("../internals/is-object"),E=e("../internals/an-instance"),A=e("../internals/species-constructor"),D=e("../internals/task").set,q=e("../internals/microtask"),B=e("../internals/host-report-errors"),z=e("../internals/perform"),K=e("../internals/queue"),Y=e("../internals/internal-state"),X=e("../internals/promise-native-constructor"),O=e("../internals/promise-constructor-detection"),P=e("../internals/new-promise-capability"),N=O.CONSTRUCTOR,_=O.REJECTION_EVENT,j=O.SUBCLASSING,k=Y.getterFor("Promise"),T=Y.set,M=X&&X.prototype,F=X,$=M,V=b.TypeError,W=b.document,ee=b.process,U=P.f,Q=U,L=!!(W&&W.createEvent&&b.dispatchEvent),I=function(ue){var fe;return!(!C(ue)||!y(fe=ue.then))&&fe},Z=function(ue,fe){var be,Ce,Ae,Pe=fe.value,Fe=fe.state===1,pe=Fe?ue.ok:ue.fail,Ee=ue.resolve,He=ue.reject,Me=ue.domain;try{pe?(Fe||(fe.rejection===2&&me(fe),fe.rejection=1),pe===!0?be=Pe:(Me&&Me.enter(),be=pe(Pe),Me&&(Me.exit(),Ae=!0)),be===ue.promise?He(new V("Promise-chain cycle")):(Ce=I(be))?d(Ce,be,Ee,He):Ee(be)):He(Pe)}catch(ve){Me&&!Ae&&Me.exit(),He(ve)}},te=function(ue,fe){ue.notified||(ue.notified=!0,q(function(){for(var be,Ce=ue.reactions;be=Ce.get();)Z(be,ue);ue.notified=!1,fe&&!ue.rejection&&se(ue)}))},ie=function(ue,fe,be){var Ce,Ae;L?((Ce=W.createEvent("Event")).promise=fe,Ce.reason=be,Ce.initEvent(ue,!1,!0),b.dispatchEvent(Ce)):Ce={promise:fe,reason:be},!_&&(Ae=b["on"+ue])?Ae(Ce):ue==="unhandledrejection"&&B("Unhandled promise rejection",be)},se=function(ue){d(D,b,function(){var fe,be=ue.facade,Ce=ue.value;if(le(ue)&&(fe=z(function(){i?ee.emit("unhandledRejection",Ce,be):ie("unhandledrejection",be,Ce)}),ue.rejection=i||le(ue)?2:1,fe.error))throw fe.value})},le=function(ue){return ue.rejection!==1&&!ue.parent},me=function(ue){d(D,b,function(){var fe=ue.facade;i?ee.emit("rejectionHandled",fe):ie("rejectionhandled",fe,ue.value)})},ae=function(ue,fe,be){return function(Ce){ue(fe,Ce,be)}},re=function(ue,fe,be){ue.done||(ue.done=!0,be&&(ue=be),ue.value=fe,ue.state=2,te(ue,!0))},oe=function(ue,fe,be){if(!ue.done){ue.done=!0,be&&(ue=be);try{if(ue.facade===fe)throw new V("Promise can't be resolved itself");var Ce=I(fe);Ce?q(function(){var Ae={done:!1};try{d(Ce,fe,ae(oe,Ae,ue),ae(re,Ae,ue))}catch(Pe){re(Ae,Pe,ue)}}):(ue.value=fe,ue.state=1,te(ue,!1))}catch(Ae){re({done:!1},Ae,ue)}}};if(N&&($=(F=function(ue){E(this,$),g(ue),d(f,this);var fe=k(this);try{ue(ae(oe,fe),ae(re,fe))}catch(be){re(fe,be)}}).prototype,(f=function(ue){T(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new K,rejection:!1,state:0,value:void 0})}).prototype=u($,"then",function(ue,fe){var be=k(this),Ce=U(A(this,F));return be.parent=!0,Ce.ok=!y(ue)||ue,Ce.fail=y(fe)&&fe,Ce.domain=i?ee.domain:void 0,be.state===0?be.reactions.add(Ce):q(function(){Z(Ce,be)}),Ce.promise}),o=function(){var ue=new f,fe=k(ue);this.promise=ue,this.resolve=ae(oe,fe),this.reject=ae(re,fe)},P.f=U=function(ue){return ue===F||ue===void 0?new o(ue):Q(ue)},!r&&y(X)&&M!==Object.prototype)){c=M.then,j||u(M,"then",function(ue,fe){var be=this;return new F(function(Ce,Ae){d(c,be,Ce,Ae)}).then(ue,fe)},{unsafe:!0});try{delete M.constructor}catch{}v&&v(M,$)}s({global:!0,constructor:!0,wrap:!0,forced:N},{Promise:F}),x(F,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),s=e("../internals/fails"),r=e("../internals/get-built-in"),i=e("../internals/is-callable"),b=e("../internals/species-constructor"),d=e("../internals/promise-resolve"),u=e("../internals/define-built-in"),v=c&&c.prototype;if(f({target:"Promise",proto:!0,real:!0,forced:!!c&&s(function(){v.finally.call({then:function(){}},function(){})})},{finally:function(m){var g=b(this,r("Promise")),y=i(m);return this.then(y?function(C){return d(g,m()).then(function(){return C})}:m,y?function(C){return d(g,m()).then(function(){throw C})}:m)}}),!o&&i(c)){var x=r("Promise").prototype.finally;v.finally!==x&&u(v,"finally",x,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,a,l){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/a-callable"),s=e("../internals/new-promise-capability"),r=e("../internals/perform"),i=e("../internals/iterate");f({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(b){var d=this,u=s.f(d),v=u.reject,x=r(function(){var m=c(d.resolve);i(b,function(g){o(m,d,g).then(u.resolve,v)})});return x.error&&v(x.value),u.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/new-promise-capability");f({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(s){var r=c.f(this);return o(r.reject,void 0,s),r.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/is-pure"),s=e("../internals/promise-native-constructor"),r=e("../internals/promise-constructor-detection").CONSTRUCTOR,i=e("../internals/promise-resolve"),b=o("Promise"),d=c&&!r;f({target:"Promise",stat:!0,forced:c||r},{resolve:function(u){return i(d&&this===b?s:this,u)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/function-uncurry-this"),c=e("../internals/to-absolute-index"),s=RangeError,r=String.fromCharCode,i=String.fromCodePoint,b=o([].join);f({target:"String",stat:!0,arity:1,forced:!!i&&i.length!==1},{fromCodePoint:function(d){for(var u,v=[],x=arguments.length,m=0;x>m;){if(u=+arguments[m++],c(u,1114111)!==u)throw new s(u+" is not a valid code point");v[m]=u<65536?r(u):r(55296+((u-=65536)>>10),u%1024+56320)}return b(v,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/function-uncurry-this"),c=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible"),r=e("../internals/to-string"),i=e("../internals/correct-is-regexp-logic"),b=o("".indexOf);f({target:"String",proto:!0,forced:!i("includes")},{includes:function(d){return!!~b(r(s(this)),r(c(d)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,a,l){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/global"),c=e("../internals/function-call"),s=e("../internals/function-uncurry-this"),r=e("../internals/is-pure"),i=e("../internals/descriptors"),b=e("../internals/symbol-constructor-detection"),d=e("../internals/fails"),u=e("../internals/has-own-property"),v=e("../internals/object-is-prototype-of"),x=e("../internals/an-object"),m=e("../internals/to-indexed-object"),g=e("../internals/to-property-key"),y=e("../internals/to-string"),C=e("../internals/create-property-descriptor"),E=e("../internals/object-create"),A=e("../internals/object-keys"),D=e("../internals/object-get-own-property-names"),q=e("../internals/object-get-own-property-names-external"),B=e("../internals/object-get-own-property-symbols"),z=e("../internals/object-get-own-property-descriptor"),K=e("../internals/object-define-property"),Y=e("../internals/object-define-properties"),X=e("../internals/object-property-is-enumerable"),O=e("../internals/define-built-in"),P=e("../internals/define-built-in-accessor"),N=e("../internals/shared"),_=e("../internals/shared-key"),j=e("../internals/hidden-keys"),k=e("../internals/uid"),T=e("../internals/well-known-symbol"),M=e("../internals/well-known-symbol-wrapped"),F=e("../internals/well-known-symbol-define"),$=e("../internals/symbol-define-to-primitive"),V=e("../internals/set-to-string-tag"),W=e("../internals/internal-state"),ee=e("../internals/array-iteration").forEach,U=_("hidden"),Q=W.set,L=W.getterFor("Symbol"),I=Object.prototype,Z=o.Symbol,te=Z&&Z.prototype,ie=o.RangeError,se=o.TypeError,le=o.QObject,me=z.f,ae=K.f,re=q.f,oe=X.f,ue=s([].push),fe=N("symbols"),be=N("op-symbols"),Ce=N("wks"),Ae=!le||!le.prototype||!le.prototype.findChild,Pe=function(he,ye,Te){var Be=me(I,ye);Be&&delete I[ye],ae(he,ye,Te),Be&&he!==I&&ae(I,ye,Be)},Fe=i&&d(function(){return E(ae({},"a",{get:function(){return ae(this,"a",{value:7}).a}})).a!==7})?Pe:ae,pe=function(he,ye){var Te=fe[he]=E(te);return Q(Te,{type:"Symbol",tag:he,description:ye}),i||(Te.description=ye),Te},Ee=function(he,ye,Te){he===I&&Ee(be,ye,Te),x(he);var Be=g(ye);return x(Te),u(fe,Be)?(Te.enumerable?(u(he,U)&&he[U][Be]&&(he[U][Be]=!1),Te=E(Te,{enumerable:C(0,!1)})):(u(he,U)||ae(he,U,C(1,{})),he[U][Be]=!0),Fe(he,Be,Te)):ae(he,Be,Te)},He=function(he,ye){x(he);var Te=m(ye),Be=A(Te).concat(we(Te));return ee(Be,function(Ye){i&&!c(Me,Te,Ye)||Ee(he,Ye,Te[Ye])}),he},Me=function(he){var ye=g(he),Te=c(oe,this,ye);return!(this===I&&u(fe,ye)&&!u(be,ye))&&(!(Te||!u(this,ye)||!u(fe,ye)||u(this,U)&&this[U][ye])||Te)},ve=function(he,ye){var Te=m(he),Be=g(ye);if(Te!==I||!u(fe,Be)||u(be,Be)){var Ye=me(Te,Be);return!Ye||!u(fe,Be)||u(Te,U)&&Te[U][Be]||(Ye.enumerable=!0),Ye}},de=function(he){var ye=re(m(he)),Te=[];return ee(ye,function(Be){u(fe,Be)||u(j,Be)||ue(Te,Be)}),Te},we=function(he){var ye=he===I,Te=re(ye?be:m(he)),Be=[];return ee(Te,function(Ye){!u(fe,Ye)||ye&&!u(I,Ye)||ue(Be,fe[Ye])}),Be};b||(O(te=(Z=function(){if(v(te,this))throw new se("Symbol is not a constructor");var he=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,ye=k(he),Te=function(Be){this===I&&c(Te,be,Be),u(this,U)&&u(this[U],ye)&&(this[U][ye]=!1);var Ye=C(1,Be);try{Fe(this,ye,Ye)}catch(at){if(!(at instanceof ie))throw at;Pe(this,ye,Ye)}};return i&&Ae&&Fe(I,ye,{configurable:!0,set:Te}),pe(ye,he)}).prototype,"toString",function(){return L(this).tag}),O(Z,"withoutSetter",function(he){return pe(k(he),he)}),X.f=Me,K.f=Ee,Y.f=He,z.f=ve,D.f=q.f=de,B.f=we,M.f=function(he){return pe(T(he),he)},i&&(P(te,"description",{configurable:!0,get:function(){return L(this).description}}),r||O(I,"propertyIsEnumerable",Me,{unsafe:!0}))),f({global:!0,constructor:!0,wrap:!0,forced:!b,sham:!b},{Symbol:Z}),ee(A(Ce),function(he){F(he)}),f({target:"Symbol",stat:!0,forced:!b},{useSetter:function(){Ae=!0},useSimple:function(){Ae=!1}}),f({target:"Object",stat:!0,forced:!b,sham:!i},{create:function(he,ye){return ye===void 0?E(he):He(E(he),ye)},defineProperty:Ee,defineProperties:He,getOwnPropertyDescriptor:ve}),f({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:de}),$(),V(Z,"Symbol"),j[U]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/has-own-property"),s=e("../internals/to-string"),r=e("../internals/shared"),i=e("../internals/symbol-registry-detection"),b=r("string-to-symbol-registry"),d=r("symbol-to-string-registry");f({target:"Symbol",stat:!0,forced:!i},{for:function(u){var v=s(u);if(c(b,v))return b[v];var x=o("Symbol")(v);return b[v]=x,d[x]=v,x}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,a,l){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,a,l){var f=e("../internals/export"),o=e("../internals/has-own-property"),c=e("../internals/is-symbol"),s=e("../internals/try-to-string"),r=e("../internals/shared"),i=e("../internals/symbol-registry-detection"),b=r("symbol-to-string-registry");f({target:"Symbol",stat:!0,forced:!i},{keyFor:function(d){if(!c(d))throw new TypeError(s(d)+" is not a symbol");if(o(b,d))return b[d]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,a,l){function f(o){return Object.prototype.toString.call(o)}l.isArray=function(o){return Array.isArray?Array.isArray(o):f(o)==="[object Array]"},l.isBoolean=function(o){return typeof o=="boolean"},l.isNull=function(o){return o===null},l.isNullOrUndefined=function(o){return o==null},l.isNumber=function(o){return typeof o=="number"},l.isString=function(o){return typeof o=="string"},l.isSymbol=function(o){return typeof o=="symbol"},l.isUndefined=function(o){return o===void 0},l.isRegExp=function(o){return f(o)==="[object RegExp]"},l.isObject=function(o){return typeof o=="object"&&o!==null},l.isDate=function(o){return f(o)==="[object Date]"},l.isError=function(o){return f(o)==="[object Error]"||o instanceof Error},l.isFunction=function(o){return typeof o=="function"},l.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},l.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,a,l){(function(f){(function(){var o=e("elliptic"),c=e("bn.js");a.exports=function(b){return new r(b)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function r(b){this.curveType=s[b],this.curveType||(this.curveType={name:b}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function i(b,d,u){Array.isArray(b)||(b=b.toArray());var v=new f(b);if(u&&v.length<u){var x=new f(u-v.length);x.fill(0),v=f.concat([x,v])}return d?v.toString(d):v}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,r.prototype.generateKeys=function(b,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(b,d)},r.prototype.computeSecret=function(b,d,u){return d=d||"utf8",f.isBuffer(b)||(b=new f(b,d)),i(this.curve.keyFromPublic(b).getPublic().mul(this.keys.getPrivate()).getX(),u,this.curveType.byteLength)},r.prototype.getPublicKey=function(b,d){var u=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(u[u.length-1]%2?u[0]=7:u[0]=6),i(u,b)},r.prototype.getPrivateKey=function(b){return i(this.keys.getPrivate(),b)},r.prototype.setPublicKey=function(b,d){return d=d||"utf8",f.isBuffer(b)||(b=new f(b,d)),this.keys._importPublic(b),this},r.prototype.setPrivateKey=function(b,d){d=d||"utf8",f.isBuffer(b)||(b=new f(b,d));var u=new c(b);return u=u.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(u),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,a,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],386:[function(e,a,l){var f=e("inherits"),o=e("md5.js"),c=e("ripemd160"),s=e("sha.js"),r=e("cipher-base");function i(b){r.call(this,"digest"),this._hash=b}f(i,r),i.prototype._update=function(b){this._hash.update(b)},i.prototype._final=function(){return this._hash.digest()},a.exports=function(b){return(b=b.toLowerCase())==="md5"?new o:b==="rmd160"||b==="ripemd160"?new c:new i(s(b))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,a,l){var f=e("md5.js");a.exports=function(o){return new f().update(o).digest()}},{"md5.js":450}],388:[function(e,a,l){var f=e("inherits"),o=e("./legacy"),c=e("cipher-base"),s=e("safe-buffer").Buffer,r=e("create-hash/md5"),i=e("ripemd160"),b=e("sha.js"),d=s.alloc(128);function u(v,x){c.call(this,"digest"),typeof x=="string"&&(x=s.from(x));var m=v==="sha512"||v==="sha384"?128:64;this._alg=v,this._key=x,x.length>m?x=(v==="rmd160"?new i:b(v)).update(x).digest():x.length<m&&(x=s.concat([x,d],m));for(var g=this._ipad=s.allocUnsafe(m),y=this._opad=s.allocUnsafe(m),C=0;C<m;C++)g[C]=54^x[C],y[C]=92^x[C];this._hash=v==="rmd160"?new i:b(v),this._hash.update(g)}f(u,c),u.prototype._update=function(v){this._hash.update(v)},u.prototype._final=function(){var v=this._hash.digest();return(this._alg==="rmd160"?new i:b(this._alg)).update(this._opad).update(v).digest()},a.exports=function(v,x){return(v=v.toLowerCase())==="rmd160"||v==="ripemd160"?new u("rmd160",x):v==="md5"?new o(r,x):new u(v,x)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,a,l){var f=e("inherits"),o=e("safe-buffer").Buffer,c=e("cipher-base"),s=o.alloc(128);function r(i,b){c.call(this,"digest"),typeof b=="string"&&(b=o.from(b)),this._alg=i,this._key=b,b.length>64?b=i(b):b.length<64&&(b=o.concat([b,s],64));for(var d=this._ipad=o.allocUnsafe(64),u=this._opad=o.allocUnsafe(64),v=0;v<64;v++)d[v]=54^b[v],u[v]=92^b[v];this._hash=[d]}f(r,c),r.prototype._update=function(i){this._hash.push(i)},r.prototype._final=function(){var i=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,i]))},a.exports=r},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,a,l){l.randomBytes=l.rng=l.pseudoRandomBytes=l.prng=e("randombytes"),l.createHash=l.Hash=e("create-hash"),l.createHmac=l.Hmac=e("create-hmac");var f=e("browserify-sign/algos"),o=Object.keys(f),c=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);l.getHashes=function(){return c};var s=e("pbkdf2");l.pbkdf2=s.pbkdf2,l.pbkdf2Sync=s.pbkdf2Sync;var r=e("browserify-cipher");l.Cipher=r.Cipher,l.createCipher=r.createCipher,l.Cipheriv=r.Cipheriv,l.createCipheriv=r.createCipheriv,l.Decipher=r.Decipher,l.createDecipher=r.createDecipher,l.Decipheriv=r.Decipheriv,l.createDecipheriv=r.createDecipheriv,l.getCiphers=r.getCiphers,l.listCiphers=r.listCiphers;var i=e("diffie-hellman");l.DiffieHellmanGroup=i.DiffieHellmanGroup,l.createDiffieHellmanGroup=i.createDiffieHellmanGroup,l.getDiffieHellman=i.getDiffieHellman,l.createDiffieHellman=i.createDiffieHellman,l.DiffieHellman=i.DiffieHellman;var b=e("browserify-sign");l.createSign=b.createSign,l.Sign=b.Sign,l.createVerify=b.createVerify,l.Verify=b.Verify,l.createECDH=e("create-ecdh");var d=e("public-encrypt");l.publicEncrypt=d.publicEncrypt,l.privateEncrypt=d.privateEncrypt,l.publicDecrypt=d.publicDecrypt,l.privateDecrypt=d.privateDecrypt;var u=e("randomfill");l.randomFill=u.randomFill,l.randomFillSync=u.randomFillSync,l.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},l.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,a,l){(function(f,o){typeof l=="object"&&a!==void 0?a.exports=o():(f=typeof globalThis<"u"?globalThis:f||self).dayjs=o()})(void 0,function(){var f=6e4,o=36e5,c="millisecond",s="second",r="minute",i="hour",b="day",d="week",u="month",v="quarter",x="year",m="date",g="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var j=["th","st","nd","rd"],k=_%100;return"["+_+(j[(k-20)%10]||j[k]||j[0])+"]"}},A=function(_,j,k){var T=String(_);return!T||T.length>=j?_:""+Array(j+1-T.length).join(k)+_},D={s:A,z:function(_){var j=-_.utcOffset(),k=Math.abs(j),T=Math.floor(k/60),M=k%60;return(j<=0?"+":"-")+A(T,2,"0")+":"+A(M,2,"0")},m:function _(j,k){if(j.date()<k.date())return-_(k,j);var T=12*(k.year()-j.year())+(k.month()-j.month()),M=j.clone().add(T,u),F=k-M<0,$=j.clone().add(T+(F?-1:1),u);return+(-(T+(k-M)/(F?M-$:$-M))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:u,y:x,w:d,d:b,D:m,h:i,m:r,s,ms:c,Q:v}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},q="en",B={};B[q]=E;var z="$isDayjsObject",K=function(_){return _ instanceof P||!(!_||!_[z])},Y=function _(j,k,T){var M;if(!j)return q;if(typeof j=="string"){var F=j.toLowerCase();B[F]&&(M=F),k&&(B[F]=k,M=F);var $=j.split("-");if(!M&&$.length>1)return _($[0])}else{var V=j.name;B[V]=j,M=V}return!T&&M&&(q=M),M||!T&&q},X=function(_,j){if(K(_))return _.clone();var k=typeof j=="object"?j:{};return k.date=_,k.args=arguments,new P(k)},O=D;O.l=Y,O.i=K,O.w=function(_,j){return X(_,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var P=function(){function _(k){this.$L=Y(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[z]=!0}var j=_.prototype;return j.parse=function(k){this.$d=function(T){var M=T.date,F=T.utc;if(M===null)return new Date(NaN);if(O.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var $=M.match(y);if($){var V=$[2]-1||0,W=($[7]||"0").substring(0,3);return F?new Date(Date.UTC($[1],V,$[3]||1,$[4]||0,$[5]||0,$[6]||0,W)):new Date($[1],V,$[3]||1,$[4]||0,$[5]||0,$[6]||0,W)}}return new Date(M)}(k),this.init()},j.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},j.$utils=function(){return O},j.isValid=function(){return this.$d.toString()!==g},j.isSame=function(k,T){var M=X(k);return this.startOf(T)<=M&&M<=this.endOf(T)},j.isAfter=function(k,T){return X(k)<this.startOf(T)},j.isBefore=function(k,T){return this.endOf(T)<X(k)},j.$g=function(k,T,M){return O.u(k)?this[T]:this.set(M,k)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(k,T){var M=this,F=!!O.u(T)||T,$=O.p(k),V=function(te,ie){var se=O.w(M.$u?Date.UTC(M.$y,ie,te):new Date(M.$y,ie,te),M);return F?se:se.endOf(b)},W=function(te,ie){return O.w(M.toDate()[te].apply(M.toDate("s"),(F?[0,0,0,0]:[23,59,59,999]).slice(ie)),M)},ee=this.$W,U=this.$M,Q=this.$D,L="set"+(this.$u?"UTC":"");switch($){case x:return F?V(1,0):V(31,11);case u:return F?V(1,U):V(0,U+1);case d:var I=this.$locale().weekStart||0,Z=(ee<I?ee+7:ee)-I;return V(F?Q-Z:Q+(6-Z),U);case b:case m:return W(L+"Hours",0);case i:return W(L+"Minutes",1);case r:return W(L+"Seconds",2);case s:return W(L+"Milliseconds",3);default:return this.clone()}},j.endOf=function(k){return this.startOf(k,!1)},j.$set=function(k,T){var M,F=O.p(k),$="set"+(this.$u?"UTC":""),V=(M={},M[b]=$+"Date",M[m]=$+"Date",M[u]=$+"Month",M[x]=$+"FullYear",M[i]=$+"Hours",M[r]=$+"Minutes",M[s]=$+"Seconds",M[c]=$+"Milliseconds",M)[F],W=F===b?this.$D+(T-this.$W):T;if(F===u||F===x){var ee=this.clone().set(m,1);ee.$d[V](W),ee.init(),this.$d=ee.set(m,Math.min(this.$D,ee.daysInMonth())).$d}else V&&this.$d[V](W);return this.init(),this},j.set=function(k,T){return this.clone().$set(k,T)},j.get=function(k){return this[O.p(k)]()},j.add=function(k,T){var M,F=this;k=Number(k);var $=O.p(T),V=function(U){var Q=X(F);return O.w(Q.date(Q.date()+Math.round(U*k)),F)};if($===u)return this.set(u,this.$M+k);if($===x)return this.set(x,this.$y+k);if($===b)return V(1);if($===d)return V(7);var W=(M={},M[r]=f,M[i]=o,M[s]=1e3,M)[$]||1,ee=this.$d.getTime()+k*W;return O.w(ee,this)},j.subtract=function(k,T){return this.add(-1*k,T)},j.format=function(k){var T=this,M=this.$locale();if(!this.isValid())return M.invalidDate||g;var F=k||"YYYY-MM-DDTHH:mm:ssZ",$=O.z(this),V=this.$H,W=this.$m,ee=this.$M,U=M.weekdays,Q=M.months,L=M.meridiem,I=function(ie,se,le,me){return ie&&(ie[se]||ie(T,F))||le[se].slice(0,me)},Z=function(ie){return O.s(V%12||12,ie,"0")},te=L||function(ie,se,le){var me=ie<12?"AM":"PM";return le?me.toLowerCase():me};return F.replace(C,function(ie,se){return se||function(le){switch(le){case"YY":return String(T.$y).slice(-2);case"YYYY":return O.s(T.$y,4,"0");case"M":return ee+1;case"MM":return O.s(ee+1,2,"0");case"MMM":return I(M.monthsShort,ee,Q,3);case"MMMM":return I(Q,ee);case"D":return T.$D;case"DD":return O.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return I(M.weekdaysMin,T.$W,U,2);case"ddd":return I(M.weekdaysShort,T.$W,U,3);case"dddd":return U[T.$W];case"H":return String(V);case"HH":return O.s(V,2,"0");case"h":return Z(1);case"hh":return Z(2);case"a":return te(V,W,!0);case"A":return te(V,W,!1);case"m":return String(W);case"mm":return O.s(W,2,"0");case"s":return String(T.$s);case"ss":return O.s(T.$s,2,"0");case"SSS":return O.s(T.$ms,3,"0");case"Z":return $}return null}(ie)||$.replace(":","")})},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(k,T,M){var F,$=this,V=O.p(T),W=X(k),ee=(W.utcOffset()-this.utcOffset())*f,U=this-W,Q=function(){return O.m($,W)};switch(V){case x:F=Q()/12;break;case u:F=Q();break;case v:F=Q()/3;break;case d:F=(U-ee)/6048e5;break;case b:F=(U-ee)/864e5;break;case i:F=U/o;break;case r:F=U/f;break;case s:F=U/1e3;break;default:F=U}return M?F:O.a(F)},j.daysInMonth=function(){return this.endOf(u).$D},j.$locale=function(){return B[this.$L]},j.locale=function(k,T){if(!k)return this.$L;var M=this.clone(),F=Y(k,T,!0);return F&&(M.$L=F),M},j.clone=function(){return O.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},_}(),N=P.prototype;return X.prototype=N,[["$ms",c],["$s",s],["$m",r],["$H",i],["$W",b],["$M",u],["$y",x],["$D",m]].forEach(function(_){N[_[1]]=function(j){return this.$g(j,_[0],_[1])}}),X.extend=function(_,j){return _.$i||(_(j,P,X),_.$i=!0),X},X.locale=Y,X.isDayjs=K,X.unix=function(_){return X(1e3*_)},X.en=B[q],X.Ls=B,X.p={},X})},{}],392:[function(e,a,l){(function(f,o){typeof l=="object"&&a!==void 0?a.exports=o():(f=typeof globalThis<"u"?globalThis:f||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var f={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,c=/\d\d/,s=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,i={},b=function(y){return(y=+y)+(y>68?1900:2e3)},d=function(y){return function(C){this[y]=+C}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(C){if(!C||C==="Z")return 0;var E=C.match(/([+-]|\d\d)/g),A=60*E[1]+(+E[2]||0);return A===0?0:E[0]==="+"?-A:A}(y)}],v=function(y){var C=i[y];return C&&(C.indexOf?C:C.s.concat(C.f))},x=function(y,C){var E,A=i.meridiem;if(A){for(var D=1;D<=24;D+=1)if(y.indexOf(A(D,0,C))>-1){E=D>12;break}}else E=y===(C?"pm":"PM");return E},m={A:[r,function(y){this.afternoon=x(y,!1)}],a:[r,function(y){this.afternoon=x(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[c,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[s,d("seconds")],ss:[s,d("seconds")],m:[s,d("minutes")],mm:[s,d("minutes")],H:[s,d("hours")],h:[s,d("hours")],HH:[s,d("hours")],hh:[s,d("hours")],D:[s,d("day")],DD:[c,d("day")],Do:[r,function(y){var C=i.ordinal,E=y.match(/\d+/);if(this.day=E[0],C)for(var A=1;A<=31;A+=1)C(A).replace(/\[|\]/g,"")===y&&(this.day=A)}],M:[s,d("month")],MM:[c,d("month")],MMM:[r,function(y){var C=v("months"),E=(v("monthsShort")||C.map(function(A){return A.slice(0,3)})).indexOf(y)+1;if(E<1)throw new Error;this.month=E%12||E}],MMMM:[r,function(y){var C=v("months").indexOf(y)+1;if(C<1)throw new Error;this.month=C%12||C}],Y:[/[+-]?\d+/,d("year")],YY:[c,function(y){this.year=b(y)}],YYYY:[/\d{4}/,d("year")],Z:u,ZZ:u};function g(y){var C,E;C=y,E=i&&i.formats;for(var A=(y=C.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(X,O,P){var N=P&&P.toUpperCase();return O||E[P]||f[P]||E[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,j,k){return j||k.slice(1)})})).match(o),D=A.length,q=0;q<D;q+=1){var B=A[q],z=m[B],K=z&&z[0],Y=z&&z[1];A[q]=Y?{regex:K,parser:Y}:B.replace(/^\[|\]$/g,"")}return function(X){for(var O={},P=0,N=0;P<D;P+=1){var _=A[P];if(typeof _=="string")N+=_.length;else{var j=_.regex,k=_.parser,T=X.slice(N),M=j.exec(T)[0];k.call(O,M),X=X.replace(M,"")}}return function(F){var $=F.afternoon;if($!==void 0){var V=F.hours;$?V<12&&(F.hours+=12):V===12&&(F.hours=0),delete F.afternoon}}(O),O}}return function(y,C,E){E.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(b=y.parseTwoDigitYear);var A=C.prototype,D=A.parse;A.parse=function(q){var B=q.date,z=q.utc,K=q.args;this.$u=z;var Y=K[1];if(typeof Y=="string"){var X=K[2]===!0,O=K[3]===!0,P=X||O,N=K[2];O&&(N=K[2]),i=this.$locale(),!X&&N&&(i=E.Ls[N]),this.$d=function(T,M,F){try{if(["x","X"].indexOf(M)>-1)return new Date((M==="X"?1e3:1)*T);var $=g(M)(T),V=$.year,W=$.month,ee=$.day,U=$.hours,Q=$.minutes,L=$.seconds,I=$.milliseconds,Z=$.zone,te=new Date,ie=ee||(V||W?1:te.getDate()),se=V||te.getFullYear(),le=0;V&&!W||(le=W>0?W-1:te.getMonth());var me=U||0,ae=Q||0,re=L||0,oe=I||0;return Z?new Date(Date.UTC(se,le,ie,me,ae,re,oe+60*Z.offset*1e3)):F?new Date(Date.UTC(se,le,ie,me,ae,re,oe)):new Date(se,le,ie,me,ae,re,oe)}catch{return new Date("")}}(B,Y,z),this.init(),N&&N!==!0&&(this.$L=this.locale(N).$L),P&&B!=this.format(Y)&&(this.$d=new Date("")),i={}}else if(Y instanceof Array)for(var _=Y.length,j=1;j<=_;j+=1){K[1]=Y[j-1];var k=E.apply(this,K);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}j===_&&(this.$d=new Date(""))}else D.call(this,q)}}})},{}],393:[function(e,a,l){(function(f,o){typeof l=="object"&&a!==void 0?a.exports=o():(f=typeof globalThis<"u"?globalThis:f||self).dayjs_plugin_utc=o()})(void 0,function(){var f="minute",o=/[+-]\d\d(?::?\d\d)?/g,c=/([+-]|\d\d)/g;return function(s,r,i){var b=r.prototype;i.utc=function(y){var C={date:y,utc:!0,args:arguments};return new r(C)},b.utc=function(y){var C=i(this.toDate(),{locale:this.$L,utc:!0});return y?C.add(this.utcOffset(),f):C},b.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var d=b.parse;b.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),d.call(this,y)};var u=b.init;b.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else u.call(this)};var v=b.utcOffset;b.utcOffset=function(y,C){var E=this.$utils().u;if(E(y))return this.$u?0:E(this.$offset)?v.call(this):this.$offset;if(typeof y=="string"&&(y=function(B){B===void 0&&(B="");var z=B.match(o);if(!z)return null;var K=(""+z[0]).match(c)||["-",0,0],Y=K[0],X=60*+K[1]+ +K[2];return X===0?0:Y==="+"?X:-X}(y))===null)return this;var A=Math.abs(y)<=16?60*y:y,D=this;if(C)return D.$offset=A,D.$u=y===0,D;if(y!==0){var q=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(D=this.local().add(A+q,f)).$offset=A,D.$x.$localOffset=q}else D=this.utc();return D};var x=b.format;b.format=function(y){var C=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return x.call(this,C)},b.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},b.isUTC=function(){return!!this.$u},b.toISOString=function(){return this.toDate().toISOString()},b.toString=function(){return this.toDate().toUTCString()};var m=b.toDate;b.toDate=function(y){return y==="s"&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var g=b.diff;b.diff=function(y,C,E){if(y&&this.$u===y.$u)return g.call(this,y,C,E);var A=this.local(),D=i(y).local();return g.call(A,D,C,E)}}})},{}],394:[function(e,a,l){l.utils=e("./des/utils"),l.Cipher=e("./des/cipher"),l.DES=e("./des/des"),l.CBC=e("./des/cbc"),l.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,a,l){var f=e("minimalistic-assert"),o=e("inherits"),c={};function s(r){f.equal(r.length,8,"Invalid IV length"),this.iv=new Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=r[i]}l.instantiate=function(r){function i(v){r.call(this,v),this._cbcInit()}o(i,r);for(var b=Object.keys(c),d=0;d<b.length;d++){var u=b[d];i.prototype[u]=c[u]}return i.create=function(v){return new i(v)},i},c._cbcInit=function(){var r=new s(this.options.iv);this._cbcState=r},c._update=function(r,i,b,d){var u=this._cbcState,v=this.constructor.super_.prototype,x=u.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)x[m]^=r[i+m];for(v._update.call(this,x,0,b,d),m=0;m<this.blockSize;m++)x[m]=b[d+m]}else{for(v._update.call(this,r,i,b,d),m=0;m<this.blockSize;m++)b[d+m]^=x[m];for(m=0;m<this.blockSize;m++)x[m]=r[i+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,a,l){var f=e("minimalistic-assert");function o(c){this.options=c,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=c.padding!==!1}a.exports=o,o.prototype._init=function(){},o.prototype.update=function(c){return c.length===0?[]:this.type==="decrypt"?this._updateDecrypt(c):this._updateEncrypt(c)},o.prototype._buffer=function(c,s){for(var r=Math.min(this.buffer.length-this.bufferOff,c.length-s),i=0;i<r;i++)this.buffer[this.bufferOff+i]=c[s+i];return this.bufferOff+=r,r},o.prototype._flushBuffer=function(c,s){return this._update(this.buffer,0,c,s),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(c){var s=0,r=0,i=(this.bufferOff+c.length)/this.blockSize|0,b=new Array(i*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(c,s),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(b,r)));for(var d=c.length-(c.length-s)%this.blockSize;s<d;s+=this.blockSize)this._update(c,s,b,r),r+=this.blockSize;for(;s<c.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=c[s];return b},o.prototype._updateDecrypt=function(c){for(var s=0,r=0,i=Math.ceil((this.bufferOff+c.length)/this.blockSize)-1,b=new Array(i*this.blockSize);i>0;i--)s+=this._buffer(c,s),r+=this._flushBuffer(b,r);return s+=this._buffer(c,s),b},o.prototype.final=function(c){var s,r;return c&&(s=this.update(c)),r=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),s?s.concat(r):r},o.prototype._pad=function(c,s){if(s===0)return!1;for(;s<c.length;)c[s++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var c=new Array(this.blockSize);return this._update(this.buffer,0,c,0),c},o.prototype._unpad=function(c){return c},o.prototype._finalDecrypt=function(){f.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var c=new Array(this.blockSize);return this._flushBuffer(c,0),this._unpad(c)}},{"minimalistic-assert":453}],397:[function(e,a,l){var f=e("minimalistic-assert"),o=e("inherits"),c=e("./utils"),s=e("./cipher");function r(){this.tmp=new Array(2),this.keys=null}function i(d){s.call(this,d);var u=new r;this._desState=u,this.deriveKeys(u,d.key)}o(i,s),a.exports=i,i.create=function(d){return new i(d)};var b=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];i.prototype.deriveKeys=function(d,u){d.keys=new Array(32),f.equal(u.length,this.blockSize,"Invalid key length");var v=c.readUInt32BE(u,0),x=c.readUInt32BE(u,4);c.pc1(v,x,d.tmp,0),v=d.tmp[0],x=d.tmp[1];for(var m=0;m<d.keys.length;m+=2){var g=b[m>>>1];v=c.r28shl(v,g),x=c.r28shl(x,g),c.pc2(v,x,d.keys,m)}},i.prototype._update=function(d,u,v,x){var m=this._desState,g=c.readUInt32BE(d,u),y=c.readUInt32BE(d,u+4);c.ip(g,y,m.tmp,0),g=m.tmp[0],y=m.tmp[1],this.type==="encrypt"?this._encrypt(m,g,y,m.tmp,0):this._decrypt(m,g,y,m.tmp,0),g=m.tmp[0],y=m.tmp[1],c.writeUInt32BE(v,g,x),c.writeUInt32BE(v,y,x+4)},i.prototype._pad=function(d,u){if(this.padding===!1)return!1;for(var v=d.length-u,x=u;x<d.length;x++)d[x]=v;return!0},i.prototype._unpad=function(d){if(this.padding===!1)return d;for(var u=d[d.length-1],v=d.length-u;v<d.length;v++)f.equal(d[v],u);return d.slice(0,d.length-u)},i.prototype._encrypt=function(d,u,v,x,m){for(var g=u,y=v,C=0;C<d.keys.length;C+=2){var E=d.keys[C],A=d.keys[C+1];c.expand(y,d.tmp,0),E^=d.tmp[0],A^=d.tmp[1];var D=c.substitute(E,A),q=y;y=(g^c.permute(D))>>>0,g=q}c.rip(y,g,x,m)},i.prototype._decrypt=function(d,u,v,x,m){for(var g=v,y=u,C=d.keys.length-2;C>=0;C-=2){var E=d.keys[C],A=d.keys[C+1];c.expand(g,d.tmp,0),E^=d.tmp[0],A^=d.tmp[1];var D=c.substitute(E,A),q=g;g=(y^c.permute(D))>>>0,y=q}c.rip(g,y,x,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,a,l){var f=e("minimalistic-assert"),o=e("inherits"),c=e("./cipher"),s=e("./des");function r(b,d){f.equal(d.length,24,"Invalid key length");var u=d.slice(0,8),v=d.slice(8,16),x=d.slice(16,24);this.ciphers=b==="encrypt"?[s.create({type:"encrypt",key:u}),s.create({type:"decrypt",key:v}),s.create({type:"encrypt",key:x})]:[s.create({type:"decrypt",key:x}),s.create({type:"encrypt",key:v}),s.create({type:"decrypt",key:u})]}function i(b){c.call(this,b);var d=new r(this.type,this.options.key);this._edeState=d}o(i,c),a.exports=i,i.create=function(b){return new i(b)},i.prototype._update=function(b,d,u,v){var x=this._edeState;x.ciphers[0]._update(b,d,u,v),x.ciphers[1]._update(u,v,u,v),x.ciphers[2]._update(u,v,u,v)},i.prototype._pad=s.prototype._pad,i.prototype._unpad=s.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,a,l){l.readUInt32BE=function(s,r){return(s[0+r]<<24|s[1+r]<<16|s[2+r]<<8|s[3+r])>>>0},l.writeUInt32BE=function(s,r,i){s[0+i]=r>>>24,s[1+i]=r>>>16&255,s[2+i]=r>>>8&255,s[3+i]=255&r},l.ip=function(s,r,i,b){for(var d=0,u=0,v=6;v>=0;v-=2){for(var x=0;x<=24;x+=8)d<<=1,d|=r>>>x+v&1;for(x=0;x<=24;x+=8)d<<=1,d|=s>>>x+v&1}for(v=6;v>=0;v-=2){for(x=1;x<=25;x+=8)u<<=1,u|=r>>>x+v&1;for(x=1;x<=25;x+=8)u<<=1,u|=s>>>x+v&1}i[b+0]=d>>>0,i[b+1]=u>>>0},l.rip=function(s,r,i,b){for(var d=0,u=0,v=0;v<4;v++)for(var x=24;x>=0;x-=8)d<<=1,d|=r>>>x+v&1,d<<=1,d|=s>>>x+v&1;for(v=4;v<8;v++)for(x=24;x>=0;x-=8)u<<=1,u|=r>>>x+v&1,u<<=1,u|=s>>>x+v&1;i[b+0]=d>>>0,i[b+1]=u>>>0},l.pc1=function(s,r,i,b){for(var d=0,u=0,v=7;v>=5;v--){for(var x=0;x<=24;x+=8)d<<=1,d|=r>>x+v&1;for(x=0;x<=24;x+=8)d<<=1,d|=s>>x+v&1}for(x=0;x<=24;x+=8)d<<=1,d|=r>>x+v&1;for(v=1;v<=3;v++){for(x=0;x<=24;x+=8)u<<=1,u|=r>>x+v&1;for(x=0;x<=24;x+=8)u<<=1,u|=s>>x+v&1}for(x=0;x<=24;x+=8)u<<=1,u|=s>>x+v&1;i[b+0]=d>>>0,i[b+1]=u>>>0},l.r28shl=function(s,r){return s<<r&268435455|s>>>28-r};var f=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];l.pc2=function(s,r,i,b){for(var d=0,u=0,v=f.length>>>1,x=0;x<v;x++)d<<=1,d|=s>>>f[x]&1;for(x=v;x<f.length;x++)u<<=1,u|=r>>>f[x]&1;i[b+0]=d>>>0,i[b+1]=u>>>0},l.expand=function(s,r,i){var b=0,d=0;b=(1&s)<<5|s>>>27;for(var u=23;u>=15;u-=4)b<<=6,b|=s>>>u&63;for(u=11;u>=3;u-=4)d|=s>>>u&63,d<<=6;d|=(31&s)<<1|s>>>31,r[i+0]=b>>>0,r[i+1]=d>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];l.substitute=function(s,r){for(var i=0,b=0;b<4;b++)i<<=4,i|=o[64*b+(s>>>18-6*b&63)];for(b=0;b<4;b++)i<<=4,i|=o[256+64*b+(r>>>18-6*b&63)];return i>>>0};var c=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];l.permute=function(s){for(var r=0,i=0;i<c.length;i++)r<<=1,r|=s>>>c[i]&1;return r>>>0},l.padSplit=function(s,r,i){for(var b=s.toString(2);b.length<r;)b="0"+b;for(var d=[],u=0;u<r;u+=i)d.push(b.slice(u,u+i));return d.join(" ")}},{}],400:[function(e,a,l){(function(f){(function(){var o=e("./lib/generatePrime"),c=e("./lib/primes.json"),s=e("./lib/dh"),r={binary:!0,hex:!0,base64:!0};l.DiffieHellmanGroup=l.createDiffieHellmanGroup=l.getDiffieHellman=function(i){var b=new f(c[i].prime,"hex"),d=new f(c[i].gen,"hex");return new s(b,d)},l.createDiffieHellman=l.DiffieHellman=function i(b,d,u,v){return f.isBuffer(d)||r[d]===void 0?i(b,"binary",d,u):(d=d||"binary",v=v||"binary",u=u||new f([2]),f.isBuffer(u)||(u=new f(u,v)),typeof b=="number"?new s(o(b,u),u,!0):(f.isBuffer(b)||(b=new f(b,d)),new s(b,u,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,a,l){(function(f){(function(){var o=e("bn.js"),c=new(e("miller-rabin")),s=new o(24),r=new o(11),i=new o(10),b=new o(3),d=new o(7),u=e("./generatePrime"),v=e("randombytes");function x(E,A){return A=A||"utf8",f.isBuffer(E)||(E=new f(E,A)),this._pub=new o(E),this}function m(E,A){return A=A||"utf8",f.isBuffer(E)||(E=new f(E,A)),this._priv=new o(E),this}a.exports=y;var g={};function y(E,A,D){this.setGenerator(A),this.__prime=new o(E),this._prime=o.mont(this.__prime),this._primeLen=E.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,D?(this.setPublicKey=x,this.setPrivateKey=m):this._primeCode=8}function C(E,A){var D=new f(E.toArray());return A?D.toString(A):D}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(E,A){var D=A.toString("hex"),q=[D,E.toString(16)].join("_");if(q in g)return g[q];var B,z=0;if(E.isEven()||!u.simpleSieve||!u.fermatTest(E)||!c.test(E))return z+=1,z+=D==="02"||D==="05"?8:4,g[q]=z,z;switch(c.test(E.shrn(1))||(z+=2),D){case"02":E.mod(s).cmp(r)&&(z+=8);break;case"05":(B=E.mod(i)).cmp(b)&&B.cmp(d)&&(z+=8);break;default:z+=4}return g[q]=z,z}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new o(v(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(E){var A=(E=(E=new o(E)).toRed(this._prime)).redPow(this._priv).fromRed(),D=new f(A.toArray()),q=this.getPrime();if(D.length<q.length){var B=new f(q.length-D.length);B.fill(0),D=f.concat([B,D])}return D},y.prototype.getPublicKey=function(E){return C(this._pub,E)},y.prototype.getPrivateKey=function(E){return C(this._priv,E)},y.prototype.getPrime=function(E){return C(this.__prime,E)},y.prototype.getGenerator=function(E){return C(this._gen,E)},y.prototype.setGenerator=function(E,A){return A=A||"utf8",f.isBuffer(E)||(E=new f(E,A)),this.__gen=E,this._gen=new o(E),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,a,l){var f=e("randombytes");a.exports=E,E.simpleSieve=y,E.fermatTest=C;var o=e("bn.js"),c=new o(24),s=new(e("miller-rabin")),r=new o(1),i=new o(2),b=new o(5),d=(new o(16),new o(8),new o(10)),u=new o(3),v=(new o(7),new o(11)),x=new o(4),m=(new o(12),null);function g(){if(m!==null)return m;var A=[];A[0]=2;for(var D=1,q=3;q<1048576;q+=2){for(var B=Math.ceil(Math.sqrt(q)),z=0;z<D&&A[z]<=B&&q%A[z]!=0;z++);D!==z&&A[z]<=B||(A[D++]=q)}return m=A,A}function y(A){for(var D=g(),q=0;q<D.length;q++)if(A.modn(D[q])===0)return A.cmpn(D[q])===0;return!0}function C(A){var D=o.mont(A);return i.toRed(D).redPow(A.subn(1)).fromRed().cmpn(1)===0}function E(A,D){if(A<16)return new o(D===2||D===5?[140,123]:[140,39]);var q,B;for(D=new o(D);;){for(q=new o(f(Math.ceil(A/8)));q.bitLength()>A;)q.ishrn(1);if(q.isEven()&&q.iadd(r),q.testn(1)||q.iadd(i),D.cmp(i)){if(!D.cmp(b))for(;q.mod(d).cmp(u);)q.iadd(x)}else for(;q.mod(c).cmp(v);)q.iadd(x);if(y(B=q.shrn(1))&&y(q)&&C(B)&&C(q)&&s.test(B)&&s.test(q))return q}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,a,l){a.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,a,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],405:[function(e,a,l){var f=l;f.version=e("../package.json").version,f.utils=e("./elliptic/utils"),f.rand=e("brorand"),f.curve=e("./elliptic/curve"),f.curves=e("./elliptic/curves"),f.ec=e("./elliptic/ec"),f.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,a,l){var f=e("bn.js"),o=e("../utils"),c=o.getNAF,s=o.getJSF,r=o.assert;function i(d,u){this.type=d,this.p=new f(u.p,16),this.red=u.prime?f.red(u.prime):f.mont(this.p),this.zero=new f(0).toRed(this.red),this.one=new f(1).toRed(this.red),this.two=new f(2).toRed(this.red),this.n=u.n&&new f(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var v=this.n&&this.p.div(this.n);!v||v.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function b(d,u){this.curve=d,this.type=u,this.precomputed=null}a.exports=i,i.prototype.point=function(){throw new Error("Not implemented")},i.prototype.validate=function(){throw new Error("Not implemented")},i.prototype._fixedNafMul=function(d,u){r(d.precomputed);var v=d._getDoubles(),x=c(u,1,this._bitLength),m=(1<<v.step+1)-(v.step%2==0?2:1);m/=3;var g,y,C=[];for(g=0;g<x.length;g+=v.step){y=0;for(var E=g+v.step-1;E>=g;E--)y=(y<<1)+x[E];C.push(y)}for(var A=this.jpoint(null,null,null),D=this.jpoint(null,null,null),q=m;q>0;q--){for(g=0;g<C.length;g++)(y=C[g])===q?D=D.mixedAdd(v.points[g]):y===-q&&(D=D.mixedAdd(v.points[g].neg()));A=A.add(D)}return A.toP()},i.prototype._wnafMul=function(d,u){var v=4,x=d._getNAFPoints(v);v=x.wnd;for(var m=x.points,g=c(u,v,this._bitLength),y=this.jpoint(null,null,null),C=g.length-1;C>=0;C--){for(var E=0;C>=0&&g[C]===0;C--)E++;if(C>=0&&E++,y=y.dblp(E),C<0)break;var A=g[C];r(A!==0),y=d.type==="affine"?A>0?y.mixedAdd(m[A-1>>1]):y.mixedAdd(m[-A-1>>1].neg()):A>0?y.add(m[A-1>>1]):y.add(m[-A-1>>1].neg())}return d.type==="affine"?y.toP():y},i.prototype._wnafMulAdd=function(d,u,v,x,m){var g,y,C,E=this._wnafT1,A=this._wnafT2,D=this._wnafT3,q=0;for(g=0;g<x;g++){var B=(C=u[g])._getNAFPoints(d);E[g]=B.wnd,A[g]=B.points}for(g=x-1;g>=1;g-=2){var z=g-1,K=g;if(E[z]===1&&E[K]===1){var Y=[u[z],null,null,u[K]];u[z].y.cmp(u[K].y)===0?(Y[1]=u[z].add(u[K]),Y[2]=u[z].toJ().mixedAdd(u[K].neg())):u[z].y.cmp(u[K].y.redNeg())===0?(Y[1]=u[z].toJ().mixedAdd(u[K]),Y[2]=u[z].add(u[K].neg())):(Y[1]=u[z].toJ().mixedAdd(u[K]),Y[2]=u[z].toJ().mixedAdd(u[K].neg()));var X=[-3,-1,-5,-7,0,7,5,1,3],O=s(v[z],v[K]);for(q=Math.max(O[0].length,q),D[z]=new Array(q),D[K]=new Array(q),y=0;y<q;y++){var P=0|O[0][y],N=0|O[1][y];D[z][y]=X[3*(P+1)+(N+1)],D[K][y]=0,A[z]=Y}}else D[z]=c(v[z],E[z],this._bitLength),D[K]=c(v[K],E[K],this._bitLength),q=Math.max(D[z].length,q),q=Math.max(D[K].length,q)}var _=this.jpoint(null,null,null),j=this._wnafT4;for(g=q;g>=0;g--){for(var k=0;g>=0;){var T=!0;for(y=0;y<x;y++)j[y]=0|D[y][g],j[y]!==0&&(T=!1);if(!T)break;k++,g--}if(g>=0&&k++,_=_.dblp(k),g<0)break;for(y=0;y<x;y++){var M=j[y];M!==0&&(M>0?C=A[y][M-1>>1]:M<0&&(C=A[y][-M-1>>1].neg()),_=C.type==="affine"?_.mixedAdd(C):_.add(C))}}for(g=0;g<x;g++)A[g]=null;return m?_:_.toP()},i.BasePoint=b,b.prototype.eq=function(){throw new Error("Not implemented")},b.prototype.validate=function(){return this.curve.validate(this)},i.prototype.decodePoint=function(d,u){d=o.toArray(d,u);var v=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*v)return d[0]===6?r(d[d.length-1]%2==0):d[0]===7&&r(d[d.length-1]%2==1),this.point(d.slice(1,1+v),d.slice(1+v,1+2*v));if((d[0]===2||d[0]===3)&&d.length-1===v)return this.pointFromX(d.slice(1,1+v),d[0]===3);throw new Error("Unknown point format")},b.prototype.encodeCompressed=function(d){return this.encode(d,!0)},b.prototype._encode=function(d){var u=this.curve.p.byteLength(),v=this.getX().toArray("be",u);return d?[this.getY().isEven()?2:3].concat(v):[4].concat(v,this.getY().toArray("be",u))},b.prototype.encode=function(d,u){return o.encode(this._encode(u),d)},b.prototype.precompute=function(d){if(this.precomputed)return this;var u={doubles:null,naf:null,beta:null};return u.naf=this._getNAFPoints(8),u.doubles=this._getDoubles(4,d),u.beta=this._getBeta(),this.precomputed=u,this},b.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var u=this.precomputed.doubles;return!!u&&u.points.length>=Math.ceil((d.bitLength()+1)/u.step)},b.prototype._getDoubles=function(d,u){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var v=[this],x=this,m=0;m<u;m+=d){for(var g=0;g<d;g++)x=x.dbl();v.push(x)}return{step:d,points:v}},b.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var u=[this],v=(1<<d)-1,x=v===1?null:this.dbl(),m=1;m<v;m++)u[m]=u[m-1].add(x);return{wnd:d,points:u}},b.prototype._getBeta=function(){return null},b.prototype.dblp=function(d){for(var u=this,v=0;v<d;v++)u=u.dbl();return u}},{"../utils":419,"bn.js":420}],407:[function(e,a,l){var f=e("../utils"),o=e("bn.js"),c=e("inherits"),s=e("./base"),r=f.assert;function i(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,s.call(this,"edwards",d),this.a=new o(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),r(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function b(d,u,v,x,m){s.BasePoint.call(this,d,"projective"),u===null&&v===null&&x===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(u,16),this.y=new o(v,16),this.z=x?new o(x,16):this.curve.one,this.t=m&&new o(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}c(i,s),a.exports=i,i.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},i.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},i.prototype.jpoint=function(d,u,v,x){return this.point(d,u,v,x)},i.prototype.pointFromX=function(d,u){(d=new o(d,16)).red||(d=d.toRed(this.red));var v=d.redSqr(),x=this.c2.redSub(this.a.redMul(v)),m=this.one.redSub(this.c2.redMul(this.d).redMul(v)),g=x.redMul(m.redInvm()),y=g.redSqrt();if(y.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var C=y.fromRed().isOdd();return(u&&!C||!u&&C)&&(y=y.redNeg()),this.point(d,y)},i.prototype.pointFromY=function(d,u){(d=new o(d,16)).red||(d=d.toRed(this.red));var v=d.redSqr(),x=v.redSub(this.c2),m=v.redMul(this.d).redMul(this.c2).redSub(this.a),g=x.redMul(m.redInvm());if(g.cmp(this.zero)===0){if(u)throw new Error("invalid point");return this.point(this.zero,d)}var y=g.redSqrt();if(y.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==u&&(y=y.redNeg()),this.point(y,d)},i.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var u=d.x.redSqr(),v=d.y.redSqr(),x=u.redMul(this.a).redAdd(v),m=this.c2.redMul(this.one.redAdd(this.d.redMul(u).redMul(v)));return x.cmp(m)===0},c(b,s.BasePoint),i.prototype.pointFromJSON=function(d){return b.fromJSON(this,d)},i.prototype.point=function(d,u,v,x){return new b(this,d,u,v,x)},b.fromJSON=function(d,u){return new b(d,u[0],u[1],u[2])},b.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},b.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},b.prototype._extDbl=function(){var d=this.x.redSqr(),u=this.y.redSqr(),v=this.z.redSqr();v=v.redIAdd(v);var x=this.curve._mulA(d),m=this.x.redAdd(this.y).redSqr().redISub(d).redISub(u),g=x.redAdd(u),y=g.redSub(v),C=x.redSub(u),E=m.redMul(y),A=g.redMul(C),D=m.redMul(C),q=y.redMul(g);return this.curve.point(E,A,q,D)},b.prototype._projDbl=function(){var d,u,v,x,m,g,y=this.x.redAdd(this.y).redSqr(),C=this.x.redSqr(),E=this.y.redSqr();if(this.curve.twisted){var A=(x=this.curve._mulA(C)).redAdd(E);this.zOne?(d=y.redSub(C).redSub(E).redMul(A.redSub(this.curve.two)),u=A.redMul(x.redSub(E)),v=A.redSqr().redSub(A).redSub(A)):(m=this.z.redSqr(),g=A.redSub(m).redISub(m),d=y.redSub(C).redISub(E).redMul(g),u=A.redMul(x.redSub(E)),v=A.redMul(g))}else x=C.redAdd(E),m=this.curve._mulC(this.z).redSqr(),g=x.redSub(m).redSub(m),d=this.curve._mulC(y.redISub(x)).redMul(g),u=this.curve._mulC(x).redMul(C.redISub(E)),v=x.redMul(g);return this.curve.point(d,u,v)},b.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},b.prototype._extAdd=function(d){var u=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),v=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),x=this.t.redMul(this.curve.dd).redMul(d.t),m=this.z.redMul(d.z.redAdd(d.z)),g=v.redSub(u),y=m.redSub(x),C=m.redAdd(x),E=v.redAdd(u),A=g.redMul(y),D=C.redMul(E),q=g.redMul(E),B=y.redMul(C);return this.curve.point(A,D,B,q)},b.prototype._projAdd=function(d){var u,v,x=this.z.redMul(d.z),m=x.redSqr(),g=this.x.redMul(d.x),y=this.y.redMul(d.y),C=this.curve.d.redMul(g).redMul(y),E=m.redSub(C),A=m.redAdd(C),D=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(g).redISub(y),q=x.redMul(E).redMul(D);return this.curve.twisted?(u=x.redMul(A).redMul(y.redSub(this.curve._mulA(g))),v=E.redMul(A)):(u=x.redMul(A).redMul(y.redSub(g)),v=this.curve._mulC(E).redMul(A)),this.curve.point(q,u,v)},b.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},b.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},b.prototype.mulAdd=function(d,u,v){return this.curve._wnafMulAdd(1,[this,u],[d,v],2,!1)},b.prototype.jmulAdd=function(d,u,v){return this.curve._wnafMulAdd(1,[this,u],[d,v],2,!0)},b.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},b.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},b.prototype.getX=function(){return this.normalize(),this.x.fromRed()},b.prototype.getY=function(){return this.normalize(),this.y.fromRed()},b.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},b.prototype.eqXToP=function(d){var u=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(u)===0)return!0;for(var v=d.clone(),x=this.curve.redN.redMul(this.z);;){if(v.iadd(this.curve.n),v.cmp(this.curve.p)>=0)return!1;if(u.redIAdd(x),this.x.cmp(u)===0)return!0}},b.prototype.toP=b.prototype.normalize,b.prototype.mixedAdd=b.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,a,l){var f=l;f.base=e("./base"),f.short=e("./short"),f.mont=e("./mont"),f.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,a,l){var f=e("bn.js"),o=e("inherits"),c=e("./base"),s=e("../utils");function r(b){c.call(this,"mont",b),this.a=new f(b.a,16).toRed(this.red),this.b=new f(b.b,16).toRed(this.red),this.i4=new f(4).toRed(this.red).redInvm(),this.two=new f(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function i(b,d,u){c.BasePoint.call(this,b,"projective"),d===null&&u===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new f(d,16),this.z=new f(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(r,c),a.exports=r,r.prototype.validate=function(b){var d=b.normalize().x,u=d.redSqr(),v=u.redMul(d).redAdd(u.redMul(this.a)).redAdd(d);return v.redSqrt().redSqr().cmp(v)===0},o(i,c.BasePoint),r.prototype.decodePoint=function(b,d){return this.point(s.toArray(b,d),1)},r.prototype.point=function(b,d){return new i(this,b,d)},r.prototype.pointFromJSON=function(b){return i.fromJSON(this,b)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(b,d){return new i(b,d[0],d[1]||b.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.z.cmpn(0)===0},i.prototype.dbl=function(){var b=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),u=b.redSub(d),v=b.redMul(d),x=u.redMul(d.redAdd(this.curve.a24.redMul(u)));return this.curve.point(v,x)},i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(b,d){var u=this.x.redAdd(this.z),v=this.x.redSub(this.z),x=b.x.redAdd(b.z),m=b.x.redSub(b.z).redMul(u),g=x.redMul(v),y=d.z.redMul(m.redAdd(g).redSqr()),C=d.x.redMul(m.redISub(g).redSqr());return this.curve.point(y,C)},i.prototype.mul=function(b){for(var d=b.clone(),u=this,v=this.curve.point(null,null),x=[];d.cmpn(0)!==0;d.iushrn(1))x.push(d.andln(1));for(var m=x.length-1;m>=0;m--)x[m]===0?(u=u.diffAdd(v,this),v=v.dbl()):(v=u.diffAdd(v,this),u=u.dbl());return v},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.eq=function(b){return this.getX().cmp(b.getX())===0},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,a,l){var f=e("../utils"),o=e("bn.js"),c=e("inherits"),s=e("./base"),r=f.assert;function i(u){s.call(this,"short",u),this.a=new o(u.a,16).toRed(this.red),this.b=new o(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function b(u,v,x,m){s.BasePoint.call(this,u,"affine"),v===null&&x===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(v,16),this.y=new o(x,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(u,v,x,m){s.BasePoint.call(this,u,"jacobian"),v===null&&x===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(v,16),this.y=new o(x,16),this.z=new o(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}c(i,s),a.exports=i,i.prototype._getEndomorphism=function(u){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var v,x;if(u.beta)v=new o(u.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);v=(v=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(u.lambda)x=new o(u.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(v))===0?x=g[0]:(x=g[1],r(this.g.mul(x).x.cmp(this.g.x.redMul(v))===0))}return{beta:v,lambda:x,basis:u.basis?u.basis.map(function(y){return{a:new o(y.a,16),b:new o(y.b,16)}}):this._getEndoBasis(x)}}},i.prototype._getEndoRoots=function(u){var v=u===this.p?this.red:o.mont(u),x=new o(2).toRed(v).redInvm(),m=x.redNeg(),g=new o(3).toRed(v).redNeg().redSqrt().redMul(x);return[m.redAdd(g).fromRed(),m.redSub(g).fromRed()]},i.prototype._getEndoBasis=function(u){for(var v,x,m,g,y,C,E,A,D,q=this.n.ushrn(Math.floor(this.n.bitLength()/2)),B=u,z=this.n.clone(),K=new o(1),Y=new o(0),X=new o(0),O=new o(1),P=0;B.cmpn(0)!==0;){var N=z.div(B);A=z.sub(N.mul(B)),D=X.sub(N.mul(K));var _=O.sub(N.mul(Y));if(!m&&A.cmp(q)<0)v=E.neg(),x=K,m=A.neg(),g=D;else if(m&&++P==2)break;E=A,z=B,B=A,X=K,K=D,O=Y,Y=_}y=A.neg(),C=D;var j=m.sqr().add(g.sqr());return y.sqr().add(C.sqr()).cmp(j)>=0&&(y=v,C=x),m.negative&&(m=m.neg(),g=g.neg()),y.negative&&(y=y.neg(),C=C.neg()),[{a:m,b:g},{a:y,b:C}]},i.prototype._endoSplit=function(u){var v=this.endo.basis,x=v[0],m=v[1],g=m.b.mul(u).divRound(this.n),y=x.b.neg().mul(u).divRound(this.n),C=g.mul(x.a),E=y.mul(m.a),A=g.mul(x.b),D=y.mul(m.b);return{k1:u.sub(C).sub(E),k2:A.add(D).neg()}},i.prototype.pointFromX=function(u,v){(u=new o(u,16)).red||(u=u.toRed(this.red));var x=u.redSqr().redMul(u).redIAdd(u.redMul(this.a)).redIAdd(this.b),m=x.redSqrt();if(m.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");var g=m.fromRed().isOdd();return(v&&!g||!v&&g)&&(m=m.redNeg()),this.point(u,m)},i.prototype.validate=function(u){if(u.inf)return!0;var v=u.x,x=u.y,m=this.a.redMul(v),g=v.redSqr().redMul(v).redIAdd(m).redIAdd(this.b);return x.redSqr().redISub(g).cmpn(0)===0},i.prototype._endoWnafMulAdd=function(u,v,x){for(var m=this._endoWnafT1,g=this._endoWnafT2,y=0;y<u.length;y++){var C=this._endoSplit(v[y]),E=u[y],A=E._getBeta();C.k1.negative&&(C.k1.ineg(),E=E.neg(!0)),C.k2.negative&&(C.k2.ineg(),A=A.neg(!0)),m[2*y]=E,m[2*y+1]=A,g[2*y]=C.k1,g[2*y+1]=C.k2}for(var D=this._wnafMulAdd(1,m,g,2*y,x),q=0;q<2*y;q++)m[q]=null,g[q]=null;return D},c(b,s.BasePoint),i.prototype.point=function(u,v,x){return new b(this,u,v,x)},i.prototype.pointFromJSON=function(u,v){return b.fromJSON(this,u,v)},b.prototype._getBeta=function(){if(this.curve.endo){var u=this.precomputed;if(u&&u.beta)return u.beta;var v=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(u){var x=this.curve,m=function(g){return x.point(g.x.redMul(x.endo.beta),g.y)};u.beta=v,v.precomputed={beta:null,naf:u.naf&&{wnd:u.naf.wnd,points:u.naf.points.map(m)},doubles:u.doubles&&{step:u.doubles.step,points:u.doubles.points.map(m)}}}return v}},b.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},b.fromJSON=function(u,v,x){typeof v=="string"&&(v=JSON.parse(v));var m=u.point(v[0],v[1],x);if(!v[2])return m;function g(C){return u.point(C[0],C[1],x)}var y=v[2];return m.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[m].concat(y.doubles.points.map(g))},naf:y.naf&&{wnd:y.naf.wnd,points:[m].concat(y.naf.points.map(g))}},m},b.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},b.prototype.isInfinity=function(){return this.inf},b.prototype.add=function(u){if(this.inf)return u;if(u.inf)return this;if(this.eq(u))return this.dbl();if(this.neg().eq(u))return this.curve.point(null,null);if(this.x.cmp(u.x)===0)return this.curve.point(null,null);var v=this.y.redSub(u.y);v.cmpn(0)!==0&&(v=v.redMul(this.x.redSub(u.x).redInvm()));var x=v.redSqr().redISub(this.x).redISub(u.x),m=v.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,m)},b.prototype.dbl=function(){if(this.inf)return this;var u=this.y.redAdd(this.y);if(u.cmpn(0)===0)return this.curve.point(null,null);var v=this.curve.a,x=this.x.redSqr(),m=u.redInvm(),g=x.redAdd(x).redIAdd(x).redIAdd(v).redMul(m),y=g.redSqr().redISub(this.x.redAdd(this.x)),C=g.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,C)},b.prototype.getX=function(){return this.x.fromRed()},b.prototype.getY=function(){return this.y.fromRed()},b.prototype.mul=function(u){return u=new o(u,16),this.isInfinity()?this:this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve.endo?this.curve._endoWnafMulAdd([this],[u]):this.curve._wnafMul(this,u)},b.prototype.mulAdd=function(u,v,x){var m=[this,v],g=[u,x];return this.curve.endo?this.curve._endoWnafMulAdd(m,g):this.curve._wnafMulAdd(1,m,g,2)},b.prototype.jmulAdd=function(u,v,x){var m=[this,v],g=[u,x];return this.curve.endo?this.curve._endoWnafMulAdd(m,g,!0):this.curve._wnafMulAdd(1,m,g,2,!0)},b.prototype.eq=function(u){return this===u||this.inf===u.inf&&(this.inf||this.x.cmp(u.x)===0&&this.y.cmp(u.y)===0)},b.prototype.neg=function(u){if(this.inf)return this;var v=this.curve.point(this.x,this.y.redNeg());if(u&&this.precomputed){var x=this.precomputed,m=function(g){return g.neg()};v.precomputed={naf:x.naf&&{wnd:x.naf.wnd,points:x.naf.points.map(m)},doubles:x.doubles&&{step:x.doubles.step,points:x.doubles.points.map(m)}}}return v},b.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(d,s.BasePoint),i.prototype.jpoint=function(u,v,x){return new d(this,u,v,x)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var u=this.z.redInvm(),v=u.redSqr(),x=this.x.redMul(v),m=this.y.redMul(v).redMul(u);return this.curve.point(x,m)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(u){if(this.isInfinity())return u;if(u.isInfinity())return this;var v=u.z.redSqr(),x=this.z.redSqr(),m=this.x.redMul(v),g=u.x.redMul(x),y=this.y.redMul(v.redMul(u.z)),C=u.y.redMul(x.redMul(this.z)),E=m.redSub(g),A=y.redSub(C);if(E.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=E.redSqr(),q=D.redMul(E),B=m.redMul(D),z=A.redSqr().redIAdd(q).redISub(B).redISub(B),K=A.redMul(B.redISub(z)).redISub(y.redMul(q)),Y=this.z.redMul(u.z).redMul(E);return this.curve.jpoint(z,K,Y)},d.prototype.mixedAdd=function(u){if(this.isInfinity())return u.toJ();if(u.isInfinity())return this;var v=this.z.redSqr(),x=this.x,m=u.x.redMul(v),g=this.y,y=u.y.redMul(v).redMul(this.z),C=x.redSub(m),E=g.redSub(y);if(C.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=C.redSqr(),D=A.redMul(C),q=x.redMul(A),B=E.redSqr().redIAdd(D).redISub(q).redISub(q),z=E.redMul(q.redISub(B)).redISub(g.redMul(D)),K=this.z.redMul(C);return this.curve.jpoint(B,z,K)},d.prototype.dblp=function(u){if(u===0)return this;if(this.isInfinity())return this;if(!u)return this.dbl();var v;if(this.curve.zeroA||this.curve.threeA){var x=this;for(v=0;v<u;v++)x=x.dbl();return x}var m=this.curve.a,g=this.curve.tinv,y=this.x,C=this.y,E=this.z,A=E.redSqr().redSqr(),D=C.redAdd(C);for(v=0;v<u;v++){var q=y.redSqr(),B=D.redSqr(),z=B.redSqr(),K=q.redAdd(q).redIAdd(q).redIAdd(m.redMul(A)),Y=y.redMul(B),X=K.redSqr().redISub(Y.redAdd(Y)),O=Y.redISub(X),P=K.redMul(O);P=P.redIAdd(P).redISub(z);var N=D.redMul(E);v+1<u&&(A=A.redMul(z)),y=X,E=N,D=P}return this.curve.jpoint(y,D.redMul(g),E)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var u,v,x;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),y=g.redSqr(),C=this.x.redAdd(g).redSqr().redISub(m).redISub(y);C=C.redIAdd(C);var E=m.redAdd(m).redIAdd(m),A=E.redSqr().redISub(C).redISub(C),D=y.redIAdd(y);D=(D=D.redIAdd(D)).redIAdd(D),u=A,v=E.redMul(C.redISub(A)).redISub(D),x=this.y.redAdd(this.y)}else{var q=this.x.redSqr(),B=this.y.redSqr(),z=B.redSqr(),K=this.x.redAdd(B).redSqr().redISub(q).redISub(z);K=K.redIAdd(K);var Y=q.redAdd(q).redIAdd(q),X=Y.redSqr(),O=z.redIAdd(z);O=(O=O.redIAdd(O)).redIAdd(O),u=X.redISub(K).redISub(K),v=Y.redMul(K.redISub(u)).redISub(O),x=(x=this.y.redMul(this.z)).redIAdd(x)}return this.curve.jpoint(u,v,x)},d.prototype._threeDbl=function(){var u,v,x;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),y=g.redSqr(),C=this.x.redAdd(g).redSqr().redISub(m).redISub(y);C=C.redIAdd(C);var E=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),A=E.redSqr().redISub(C).redISub(C);u=A;var D=y.redIAdd(y);D=(D=D.redIAdd(D)).redIAdd(D),v=E.redMul(C.redISub(A)).redISub(D),x=this.y.redAdd(this.y)}else{var q=this.z.redSqr(),B=this.y.redSqr(),z=this.x.redMul(B),K=this.x.redSub(q).redMul(this.x.redAdd(q));K=K.redAdd(K).redIAdd(K);var Y=z.redIAdd(z),X=(Y=Y.redIAdd(Y)).redAdd(Y);u=K.redSqr().redISub(X),x=this.y.redAdd(this.z).redSqr().redISub(B).redISub(q);var O=B.redSqr();O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O),v=K.redMul(Y.redISub(u)).redISub(O)}return this.curve.jpoint(u,v,x)},d.prototype._dbl=function(){var u=this.curve.a,v=this.x,x=this.y,m=this.z,g=m.redSqr().redSqr(),y=v.redSqr(),C=x.redSqr(),E=y.redAdd(y).redIAdd(y).redIAdd(u.redMul(g)),A=v.redAdd(v),D=(A=A.redIAdd(A)).redMul(C),q=E.redSqr().redISub(D.redAdd(D)),B=D.redISub(q),z=C.redSqr();z=(z=(z=z.redIAdd(z)).redIAdd(z)).redIAdd(z);var K=E.redMul(B).redISub(z),Y=x.redAdd(x).redMul(m);return this.curve.jpoint(q,K,Y)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var u=this.x.redSqr(),v=this.y.redSqr(),x=this.z.redSqr(),m=v.redSqr(),g=u.redAdd(u).redIAdd(u),y=g.redSqr(),C=this.x.redAdd(v).redSqr().redISub(u).redISub(m),E=(C=(C=(C=C.redIAdd(C)).redAdd(C).redIAdd(C)).redISub(y)).redSqr(),A=m.redIAdd(m);A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A);var D=g.redIAdd(C).redSqr().redISub(y).redISub(E).redISub(A),q=v.redMul(D);q=(q=q.redIAdd(q)).redIAdd(q);var B=this.x.redMul(E).redISub(q);B=(B=B.redIAdd(B)).redIAdd(B);var z=this.y.redMul(D.redMul(A.redISub(D)).redISub(C.redMul(E)));z=(z=(z=z.redIAdd(z)).redIAdd(z)).redIAdd(z);var K=this.z.redAdd(C).redSqr().redISub(x).redISub(E);return this.curve.jpoint(B,z,K)},d.prototype.mul=function(u,v){return u=new o(u,v),this.curve._wnafMul(this,u)},d.prototype.eq=function(u){if(u.type==="affine")return this.eq(u.toJ());if(this===u)return!0;var v=this.z.redSqr(),x=u.z.redSqr();if(this.x.redMul(x).redISub(u.x.redMul(v)).cmpn(0)!==0)return!1;var m=v.redMul(this.z),g=x.redMul(u.z);return this.y.redMul(g).redISub(u.y.redMul(m)).cmpn(0)===0},d.prototype.eqXToP=function(u){var v=this.z.redSqr(),x=u.toRed(this.curve.red).redMul(v);if(this.x.cmp(x)===0)return!0;for(var m=u.clone(),g=this.curve.redN.redMul(v);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(x.redIAdd(g),this.x.cmp(x)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,a,l){var f,o=l,c=e("hash.js"),s=e("./curve"),r=e("./utils").assert;function i(d){d.type==="short"?this.curve=new s.short(d):d.type==="edwards"?this.curve=new s.edwards(d):this.curve=new s.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function b(d,u){Object.defineProperty(o,d,{configurable:!0,enumerable:!0,get:function(){var v=new i(u);return Object.defineProperty(o,d,{configurable:!0,enumerable:!0,value:v}),v}})}o.PresetCurve=i,b("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:c.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),b("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:c.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),b("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:c.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),b("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:c.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),b("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:c.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),b("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["9"]}),b("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{f=e("./precomputed/secp256k1")}catch{f=void 0}b("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:c.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,a,l){var f=e("bn.js"),o=e("hmac-drbg"),c=e("../utils"),s=e("../curves"),r=e("brorand"),i=c.assert,b=e("./key"),d=e("./signature");function u(v){if(!(this instanceof u))return new u(v);typeof v=="string"&&(i(Object.prototype.hasOwnProperty.call(s,v),"Unknown curve "+v),v=s[v]),v instanceof s.PresetCurve&&(v={curve:v}),this.curve=v.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=v.curve.g,this.g.precompute(v.curve.n.bitLength()+1),this.hash=v.hash||v.curve.hash}a.exports=u,u.prototype.keyPair=function(v){return new b(this,v)},u.prototype.keyFromPrivate=function(v,x){return b.fromPrivate(this,v,x)},u.prototype.keyFromPublic=function(v,x){return b.fromPublic(this,v,x)},u.prototype.genKeyPair=function(v){v||(v={});for(var x=new o({hash:this.hash,pers:v.pers,persEnc:v.persEnc||"utf8",entropy:v.entropy||r(this.hash.hmacStrength),entropyEnc:v.entropy&&v.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),g=this.n.sub(new f(2));;){var y=new f(x.generate(m));if(!(y.cmp(g)>0))return y.iaddn(1),this.keyFromPrivate(y)}},u.prototype._truncateToN=function(v,x){var m=8*v.byteLength()-this.n.bitLength();return m>0&&(v=v.ushrn(m)),!x&&v.cmp(this.n)>=0?v.sub(this.n):v},u.prototype.sign=function(v,x,m,g){typeof m=="object"&&(g=m,m=null),g||(g={}),x=this.keyFromPrivate(x,m),v=this._truncateToN(new f(v,16));for(var y=this.n.byteLength(),C=x.getPrivate().toArray("be",y),E=v.toArray("be",y),A=new o({hash:this.hash,entropy:C,nonce:E,pers:g.pers,persEnc:g.persEnc||"utf8"}),D=this.n.sub(new f(1)),q=0;;q++){var B=g.k?g.k(q):new f(A.generate(this.n.byteLength()));if(!((B=this._truncateToN(B,!0)).cmpn(1)<=0||B.cmp(D)>=0)){var z=this.g.mul(B);if(!z.isInfinity()){var K=z.getX(),Y=K.umod(this.n);if(Y.cmpn(0)!==0){var X=B.invm(this.n).mul(Y.mul(x.getPrivate()).iadd(v));if((X=X.umod(this.n)).cmpn(0)!==0){var O=(z.getY().isOdd()?1:0)|(K.cmp(Y)!==0?2:0);return g.canonical&&X.cmp(this.nh)>0&&(X=this.n.sub(X),O^=1),new d({r:Y,s:X,recoveryParam:O})}}}}}},u.prototype.verify=function(v,x,m,g){v=this._truncateToN(new f(v,16)),m=this.keyFromPublic(m,g);var y=(x=new d(x,"hex")).r,C=x.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||C.cmpn(1)<0||C.cmp(this.n)>=0)return!1;var E,A=C.invm(this.n),D=A.mul(v).umod(this.n),q=A.mul(y).umod(this.n);return this.curve._maxwellTrick?!(E=this.g.jmulAdd(D,m.getPublic(),q)).isInfinity()&&E.eqXToP(y):!(E=this.g.mulAdd(D,m.getPublic(),q)).isInfinity()&&E.getX().umod(this.n).cmp(y)===0},u.prototype.recoverPubKey=function(v,x,m,g){i((3&m)===m,"The recovery param is more than two bits"),x=new d(x,g);var y=this.n,C=new f(v),E=x.r,A=x.s,D=1&m,q=m>>1;if(E.cmp(this.curve.p.umod(this.curve.n))>=0&&q)throw new Error("Unable to find sencond key candinate");E=q?this.curve.pointFromX(E.add(this.curve.n),D):this.curve.pointFromX(E,D);var B=x.r.invm(y),z=y.sub(C).mul(B).umod(y),K=A.mul(B).umod(y);return this.g.mulAdd(z,E,K)},u.prototype.getKeyRecoveryParam=function(v,x,m,g){if((x=new d(x,g)).recoveryParam!==null)return x.recoveryParam;for(var y=0;y<4;y++){var C;try{C=this.recoverPubKey(v,x,y)}catch{continue}if(C.eq(m))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,a,l){var f=e("bn.js"),o=e("../utils").assert;function c(s,r){this.ec=s,this.priv=null,this.pub=null,r.priv&&this._importPrivate(r.priv,r.privEnc),r.pub&&this._importPublic(r.pub,r.pubEnc)}a.exports=c,c.fromPublic=function(s,r,i){return r instanceof c?r:new c(s,{pub:r,pubEnc:i})},c.fromPrivate=function(s,r,i){return r instanceof c?r:new c(s,{priv:r,privEnc:i})},c.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},c.prototype.getPublic=function(s,r){return typeof s=="string"&&(r=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,s):this.pub},c.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},c.prototype._importPrivate=function(s,r){this.priv=new f(s,r||16),this.priv=this.priv.umod(this.ec.curve.n)},c.prototype._importPublic=function(s,r){if(s.x||s.y)return this.ec.curve.type==="mont"?o(s.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(s.x&&s.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(s.x,s.y));this.pub=this.ec.curve.decodePoint(s,r)},c.prototype.derive=function(s){return s.validate()||o(s.validate(),"public point not validated"),s.mul(this.priv).getX()},c.prototype.sign=function(s,r,i){return this.ec.sign(s,this,r,i)},c.prototype.verify=function(s,r){return this.ec.verify(s,r,this)},c.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,a,l){var f=e("bn.js"),o=e("../utils"),c=o.assert;function s(u,v){if(u instanceof s)return u;this._importDER(u,v)||(c(u.r&&u.s,"Signature without r or s"),this.r=new f(u.r,16),this.s=new f(u.s,16),u.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=u.recoveryParam)}function r(){this.place=0}function i(u,v){var x=u[v.place++];if(!(128&x))return x;var m=15&x;if(m===0||m>4)return!1;for(var g=0,y=0,C=v.place;y<m;y++,C++)g<<=8,g|=u[C],g>>>=0;return!(g<=127)&&(v.place=C,g)}function b(u){for(var v=0,x=u.length-1;!u[v]&&!(128&u[v+1])&&v<x;)v++;return v===0?u:u.slice(v)}function d(u,v){if(v<128)u.push(v);else{var x=1+(Math.log(v)/Math.LN2>>>3);for(u.push(128|x);--x;)u.push(v>>>(x<<3)&255);u.push(v)}}a.exports=s,s.prototype._importDER=function(u,v){u=o.toArray(u,v);var x=new r;if(u[x.place++]!==48)return!1;var m=i(u,x);if(m===!1||m+x.place!==u.length||u[x.place++]!==2)return!1;var g=i(u,x);if(g===!1)return!1;var y=u.slice(x.place,g+x.place);if(x.place+=g,u[x.place++]!==2)return!1;var C=i(u,x);if(C===!1||u.length!==C+x.place)return!1;var E=u.slice(x.place,C+x.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(E[0]===0){if(!(128&E[1]))return!1;E=E.slice(1)}return this.r=new f(y),this.s=new f(E),this.recoveryParam=null,!0},s.prototype.toDER=function(u){var v=this.r.toArray(),x=this.s.toArray();for(128&v[0]&&(v=[0].concat(v)),128&x[0]&&(x=[0].concat(x)),v=b(v),x=b(x);!(x[0]||128&x[1]);)x=x.slice(1);var m=[2];d(m,v.length),(m=m.concat(v)).push(2),d(m,x.length);var g=m.concat(x),y=[48];return d(y,g.length),y=y.concat(g),o.encode(y,u)}},{"../utils":419,"bn.js":420}],415:[function(e,a,l){var f=e("hash.js"),o=e("../curves"),c=e("../utils"),s=c.assert,r=c.parseBytes,i=e("./key"),b=e("./signature");function d(u){if(s(u==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(u);u=o[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=Math.ceil(u.n.bitLength()/8),this.hash=f.sha512}a.exports=d,d.prototype.sign=function(u,v){u=r(u);var x=this.keyFromSecret(v),m=this.hashInt(x.messagePrefix(),u),g=this.g.mul(m),y=this.encodePoint(g),C=this.hashInt(y,x.pubBytes(),u).mul(x.priv()),E=m.add(C).umod(this.curve.n);return this.makeSignature({R:g,S:E,Rencoded:y})},d.prototype.verify=function(u,v,x){u=r(u),v=this.makeSignature(v);var m=this.keyFromPublic(x),g=this.hashInt(v.Rencoded(),m.pubBytes(),u),y=this.g.mul(v.S());return v.R().add(m.pub().mul(g)).eq(y)},d.prototype.hashInt=function(){for(var u=this.hash(),v=0;v<arguments.length;v++)u.update(arguments[v]);return c.intFromLE(u.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(u){return i.fromPublic(this,u)},d.prototype.keyFromSecret=function(u){return i.fromSecret(this,u)},d.prototype.makeSignature=function(u){return u instanceof b?u:new b(this,u)},d.prototype.encodePoint=function(u){var v=u.getY().toArray("le",this.encodingLength);return v[this.encodingLength-1]|=u.getX().isOdd()?128:0,v},d.prototype.decodePoint=function(u){var v=(u=c.parseBytes(u)).length-1,x=u.slice(0,v).concat(-129&u[v]),m=(128&u[v])!=0,g=c.intFromLE(x);return this.curve.pointFromY(g,m)},d.prototype.encodeInt=function(u){return u.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(u){return c.intFromLE(u)},d.prototype.isPoint=function(u){return u instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,a,l){var f=e("../utils"),o=f.assert,c=f.parseBytes,s=f.cachedProperty;function r(i,b){this.eddsa=i,this._secret=c(b.secret),i.isPoint(b.pub)?this._pub=b.pub:this._pubBytes=c(b.pub)}r.fromPublic=function(i,b){return b instanceof r?b:new r(i,{pub:b})},r.fromSecret=function(i,b){return b instanceof r?b:new r(i,{secret:b})},r.prototype.secret=function(){return this._secret},s(r,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(r,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(r,"privBytes",function(){var i=this.eddsa,b=this.hash(),d=i.encodingLength-1,u=b.slice(0,i.encodingLength);return u[0]&=248,u[d]&=127,u[d]|=64,u}),s(r,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(r,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(r,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),r.prototype.sign=function(i){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(i,this)},r.prototype.verify=function(i,b){return this.eddsa.verify(i,b,this)},r.prototype.getSecret=function(i){return o(this._secret,"KeyPair is public only"),f.encode(this.secret(),i)},r.prototype.getPublic=function(i){return f.encode(this.pubBytes(),i)},a.exports=r},{"../utils":419}],417:[function(e,a,l){var f=e("bn.js"),o=e("../utils"),c=o.assert,s=o.cachedProperty,r=o.parseBytes;function i(b,d){this.eddsa=b,typeof d!="object"&&(d=r(d)),Array.isArray(d)&&(d={R:d.slice(0,b.encodingLength),S:d.slice(b.encodingLength)}),c(d.R&&d.S,"Signature without R or S"),b.isPoint(d.R)&&(this._R=d.R),d.S instanceof f&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}s(i,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(i,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(i,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(i,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),i.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},i.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},a.exports=i},{"../utils":419,"bn.js":420}],418:[function(e,a,l){a.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,a,l){var f=l,o=e("bn.js"),c=e("minimalistic-assert"),s=e("minimalistic-crypto-utils");f.assert=c,f.toArray=s.toArray,f.zero2=s.zero2,f.toHex=s.toHex,f.encode=s.encode,f.getNAF=function(r,i,b){var d=new Array(Math.max(r.bitLength(),b)+1);d.fill(0);for(var u=1<<i+1,v=r.clone(),x=0;x<d.length;x++){var m,g=v.andln(u-1);v.isOdd()?(m=g>(u>>1)-1?(u>>1)-g:g,v.isubn(m)):m=0,d[x]=m,v.iushrn(1)}return d},f.getJSF=function(r,i){var b=[[],[]];r=r.clone(),i=i.clone();for(var d,u=0,v=0;r.cmpn(-u)>0||i.cmpn(-v)>0;){var x,m,g=r.andln(3)+u&3,y=i.andln(3)+v&3;g===3&&(g=-1),y===3&&(y=-1),x=(1&g)==0?0:(d=r.andln(7)+u&7)!==3&&d!==5||y!==2?g:-g,b[0].push(x),m=(1&y)==0?0:(d=i.andln(7)+v&7)!==3&&d!==5||g!==2?y:-y,b[1].push(m),2*u===x+1&&(u=1-u),2*v===m+1&&(v=1-v),r.iushrn(1),i.iushrn(1)}return b},f.cachedProperty=function(r,i,b){var d="_"+i;r.prototype[i]=function(){return this[d]!==void 0?this[d]:this[d]=b.call(this)}},f.parseBytes=function(r){return typeof r=="string"?f.toArray(r,"hex"):r},f.intFromLE=function(r){return new o(r,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,a,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],421:[function(e,a,l){a.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,a,l){var f=Object.create||function(B){var z=function(){};return z.prototype=B,new z},o=Object.keys||function(B){var z=[];for(var K in B)Object.prototype.hasOwnProperty.call(B,K)&&z.push(K);return K},c=Function.prototype.bind||function(B){var z=this;return function(){return z.apply(B,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=f(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}a.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var r,i=10;try{var b={};Object.defineProperty&&Object.defineProperty(b,"x",{value:0}),r=b.x===0}catch{r=!1}function d(B){return B._maxListeners===void 0?s.defaultMaxListeners:B._maxListeners}function u(B,z,K){if(z)B.call(K);else for(var Y=B.length,X=q(B,Y),O=0;O<Y;++O)X[O].call(K)}function v(B,z,K,Y){if(z)B.call(K,Y);else for(var X=B.length,O=q(B,X),P=0;P<X;++P)O[P].call(K,Y)}function x(B,z,K,Y,X){if(z)B.call(K,Y,X);else for(var O=B.length,P=q(B,O),N=0;N<O;++N)P[N].call(K,Y,X)}function m(B,z,K,Y,X,O){if(z)B.call(K,Y,X,O);else for(var P=B.length,N=q(B,P),_=0;_<P;++_)N[_].call(K,Y,X,O)}function g(B,z,K,Y){if(z)B.apply(K,Y);else for(var X=B.length,O=q(B,X),P=0;P<X;++P)O[P].apply(K,Y)}function y(B,z,K,Y){var X,O,P;if(typeof K!="function")throw new TypeError('"listener" argument must be a function');if((O=B._events)?(O.newListener&&(B.emit("newListener",z,K.listener?K.listener:K),O=B._events),P=O[z]):(O=B._events=f(null),B._eventsCount=0),P){if(typeof P=="function"?P=O[z]=Y?[K,P]:[P,K]:Y?P.unshift(K):P.push(K),!P.warned&&(X=d(B))&&X>0&&P.length>X){P.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+P.length+' "'+String(z)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');N.name="MaxListenersExceededWarning",N.emitter=B,N.type=z,N.count=P.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",N.name,N.message)}}else P=O[z]=K,++B._eventsCount;return B}function C(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var B=new Array(arguments.length),z=0;z<B.length;++z)B[z]=arguments[z];this.listener.apply(this.target,B)}}function E(B,z,K){var Y={fired:!1,wrapFn:void 0,target:B,type:z,listener:K},X=c.call(C,Y);return X.listener=K,Y.wrapFn=X,X}function A(B,z,K){var Y=B._events;if(!Y)return[];var X=Y[z];return X?typeof X=="function"?K?[X.listener||X]:[X]:K?function(O){for(var P=new Array(O.length),N=0;N<P.length;++N)P[N]=O[N].listener||O[N];return P}(X):q(X,X.length):[]}function D(B){var z=this._events;if(z){var K=z[B];if(typeof K=="function")return 1;if(K)return K.length}return 0}function q(B,z){for(var K=new Array(z),Y=0;Y<z;++Y)K[Y]=B[Y];return K}r?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(B){if(typeof B!="number"||B<0||B!=B)throw new TypeError('"defaultMaxListeners" must be a positive number');i=B}}):s.defaultMaxListeners=i,s.prototype.setMaxListeners=function(B){if(typeof B!="number"||B<0||isNaN(B))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=B,this},s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(B){var z,K,Y,X,O,P,N=B==="error";if(P=this._events)N=N&&P.error==null;else if(!N)return!1;if(N){if(arguments.length>1&&(z=arguments[1]),z instanceof Error)throw z;var _=new Error('Unhandled "error" event. ('+z+")");throw _.context=z,_}if(!(K=P[B]))return!1;var j=typeof K=="function";switch(Y=arguments.length){case 1:u(K,j,this);break;case 2:v(K,j,this,arguments[1]);break;case 3:x(K,j,this,arguments[1],arguments[2]);break;case 4:m(K,j,this,arguments[1],arguments[2],arguments[3]);break;default:for(X=new Array(Y-1),O=1;O<Y;O++)X[O-1]=arguments[O];g(K,j,this,X)}return!0},s.prototype.addListener=function(B,z){return y(this,B,z,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(B,z){return y(this,B,z,!0)},s.prototype.once=function(B,z){if(typeof z!="function")throw new TypeError('"listener" argument must be a function');return this.on(B,E(this,B,z)),this},s.prototype.prependOnceListener=function(B,z){if(typeof z!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(B,E(this,B,z)),this},s.prototype.removeListener=function(B,z){var K,Y,X,O,P;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if(!(Y=this._events))return this;if(!(K=Y[B]))return this;if(K===z||K.listener===z)--this._eventsCount==0?this._events=f(null):(delete Y[B],Y.removeListener&&this.emit("removeListener",B,K.listener||z));else if(typeof K!="function"){for(X=-1,O=K.length-1;O>=0;O--)if(K[O]===z||K[O].listener===z){P=K[O].listener,X=O;break}if(X<0)return this;X===0?K.shift():function(N,_){for(var j=_,k=j+1,T=N.length;k<T;j+=1,k+=1)N[j]=N[k];N.pop()}(K,X),K.length===1&&(Y[B]=K[0]),Y.removeListener&&this.emit("removeListener",B,P||z)}return this},s.prototype.removeAllListeners=function(B){var z,K,Y;if(!(K=this._events))return this;if(!K.removeListener)return arguments.length===0?(this._events=f(null),this._eventsCount=0):K[B]&&(--this._eventsCount==0?this._events=f(null):delete K[B]),this;if(arguments.length===0){var X,O=o(K);for(Y=0;Y<O.length;++Y)(X=O[Y])!=="removeListener"&&this.removeAllListeners(X);return this.removeAllListeners("removeListener"),this._events=f(null),this._eventsCount=0,this}if(typeof(z=K[B])=="function")this.removeListener(B,z);else if(z)for(Y=z.length-1;Y>=0;Y--)this.removeListener(B,z[Y]);return this},s.prototype.listeners=function(B){return A(this,B,!0)},s.prototype.rawListeners=function(B){return A(this,B,!1)},s.listenerCount=function(B,z){return typeof B.listenerCount=="function"?B.listenerCount(z):D.call(B,z)},s.prototype.listenerCount=D,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,a,l){var f=e("safe-buffer").Buffer,o=e("md5.js");a.exports=function(c,s,r,i){if(f.isBuffer(c)||(c=f.from(c,"binary")),s&&(f.isBuffer(s)||(s=f.from(s,"binary")),s.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var b=r/8,d=f.alloc(b),u=f.alloc(i||0),v=f.alloc(0);b>0||i>0;){var x=new o;x.update(v),x.update(c),s&&x.update(s),v=x.digest();var m=0;if(b>0){var g=d.length-b;m=Math.min(b,v.length),v.copy(d,g,0,m),b-=m}if(m<v.length&&i>0){var y=u.length-i,C=Math.min(i,v.length-m);v.copy(u,y,m,m+C),i-=C}}return v.fill(0),{key:d,iv:u}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvParserStream=l.ParserOptions=l.parseFile=l.parseStream=l.parseString=l.parse=l.FormatterOptions=l.CsvFormatterStream=l.writeToPath=l.writeToString=l.writeToBuffer=l.writeToStream=l.write=l.format=void 0;var f=e("@fast-csv/format");Object.defineProperty(l,"format",{enumerable:!0,get:function(){return f.format}}),Object.defineProperty(l,"write",{enumerable:!0,get:function(){return f.write}}),Object.defineProperty(l,"writeToStream",{enumerable:!0,get:function(){return f.writeToStream}}),Object.defineProperty(l,"writeToBuffer",{enumerable:!0,get:function(){return f.writeToBuffer}}),Object.defineProperty(l,"writeToString",{enumerable:!0,get:function(){return f.writeToString}}),Object.defineProperty(l,"writeToPath",{enumerable:!0,get:function(){return f.writeToPath}}),Object.defineProperty(l,"CsvFormatterStream",{enumerable:!0,get:function(){return f.CsvFormatterStream}}),Object.defineProperty(l,"FormatterOptions",{enumerable:!0,get:function(){return f.FormatterOptions}});var o=e("@fast-csv/parse");Object.defineProperty(l,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(l,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(l,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(l,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(l,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(l,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,a,l){var f=e("safe-buffer").Buffer,o=e("readable-stream").Transform;function c(s){o.call(this),this._block=f.allocUnsafe(s),this._blockSize=s,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(c,o),c.prototype._transform=function(s,r,i){var b=null;try{this.update(s,r)}catch(d){b=d}i(b)},c.prototype._flush=function(s){var r=null;try{this.push(this.digest())}catch(i){r=i}s(r)},c.prototype.update=function(s,r){if(function(x,m){if(!f.isBuffer(x)&&typeof x!="string")throw new TypeError(m+" must be a string or a buffer")}(s,"Data"),this._finalized)throw new Error("Digest already called");f.isBuffer(s)||(s=f.from(s,r));for(var i=this._block,b=0;this._blockOffset+s.length-b>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)i[d++]=s[b++];this._update(),this._blockOffset=0}for(;b<s.length;)i[this._blockOffset++]=s[b++];for(var u=0,v=8*s.length;v>0;++u)this._length[u]+=v,(v=this._length[u]/4294967296|0)>0&&(this._length[u]-=4294967296*v);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(s){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var r=this._digest();s!==void 0&&(r=r.toString(s)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return r},c.prototype._digest=function(){throw new Error("_digest is not implemented")},a.exports=c},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,a,l){var f=l;f.utils=e("./hash/utils"),f.common=e("./hash/common"),f.sha=e("./hash/sha"),f.ripemd=e("./hash/ripemd"),f.hmac=e("./hash/hmac"),f.sha1=f.sha.sha1,f.sha256=f.sha.sha256,f.sha224=f.sha.sha224,f.sha384=f.sha.sha384,f.sha512=f.sha.sha512,f.ripemd160=f.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,a,l){var f=e("./utils"),o=e("minimalistic-assert");function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}l.BlockHash=c,c.prototype.update=function(s,r){if(s=f.toArray(s,r),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){var i=(s=this.pending).length%this._delta8;this.pending=s.slice(s.length-i,s.length),this.pending.length===0&&(this.pending=null),s=f.join32(s,0,s.length-i,this.endian);for(var b=0;b<s.length;b+=this._delta32)this._update(s,b,b+this._delta32)}return this},c.prototype.digest=function(s){return this.update(this._pad()),o(this.pending===null),this._digest(s)},c.prototype._pad=function(){var s=this.pendingTotal,r=this._delta8,i=r-(s+this.padLength)%r,b=new Array(i+this.padLength);b[0]=128;for(var d=1;d<i;d++)b[d]=0;if(s<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)b[d++]=0;b[d++]=0,b[d++]=0,b[d++]=0,b[d++]=0,b[d++]=s>>>24&255,b[d++]=s>>>16&255,b[d++]=s>>>8&255,b[d++]=255&s}else for(b[d++]=255&s,b[d++]=s>>>8&255,b[d++]=s>>>16&255,b[d++]=s>>>24&255,b[d++]=0,b[d++]=0,b[d++]=0,b[d++]=0,u=8;u<this.padLength;u++)b[d++]=0;return b}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,a,l){var f=e("./utils"),o=e("minimalistic-assert");function c(s,r,i){if(!(this instanceof c))return new c(s,r,i);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(f.toArray(r,i))}a.exports=c,c.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),o(s.length<=this.blockSize);for(var r=s.length;r<this.blockSize;r++)s.push(0);for(r=0;r<s.length;r++)s[r]^=54;for(this.inner=new this.Hash().update(s),r=0;r<s.length;r++)s[r]^=106;this.outer=new this.Hash().update(s)},c.prototype.update=function(s,r){return this.inner.update(s,r),this},c.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,a,l){var f=e("./utils"),o=e("./common"),c=f.rotl32,s=f.sum32,r=f.sum32_3,i=f.sum32_4,b=o.BlockHash;function d(){if(!(this instanceof d))return new d;b.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(E,A,D,q){return E<=15?A^D^q:E<=31?A&D|~A&q:E<=47?(A|~D)^q:E<=63?A&q|D&~q:A^(D|~q)}function v(E){return E<=15?0:E<=31?1518500249:E<=47?1859775393:E<=63?2400959708:2840853838}function x(E){return E<=15?1352829926:E<=31?1548603684:E<=47?1836072691:E<=63?2053994217:0}f.inherits(d,b),l.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(E,A){for(var D=this.h[0],q=this.h[1],B=this.h[2],z=this.h[3],K=this.h[4],Y=D,X=q,O=B,P=z,N=K,_=0;_<80;_++){var j=s(c(i(D,u(_,q,B,z),E[m[_]+A],v(_)),y[_]),K);D=K,K=z,z=c(B,10),B=q,q=j,j=s(c(i(Y,u(79-_,X,O,P),E[g[_]+A],x(_)),C[_]),N),Y=N,N=P,P=c(O,10),O=X,X=j}j=r(this.h[1],B,P),this.h[1]=r(this.h[2],z,N),this.h[2]=r(this.h[3],K,Y),this.h[3]=r(this.h[4],D,X),this.h[4]=r(this.h[0],q,O),this.h[0]=j},d.prototype._digest=function(E){return E==="hex"?f.toHex32(this.h,"little"):f.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],C=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,a,l){l.sha1=e("./sha/1"),l.sha224=e("./sha/224"),l.sha256=e("./sha/256"),l.sha384=e("./sha/384"),l.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,a,l){var f=e("../utils"),o=e("../common"),c=e("./common"),s=f.rotl32,r=f.sum32,i=f.sum32_5,b=c.ft_1,d=o.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function v(){if(!(this instanceof v))return new v;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}f.inherits(v,d),a.exports=v,v.blockSize=512,v.outSize=160,v.hmacStrength=80,v.padLength=64,v.prototype._update=function(x,m){for(var g=this.W,y=0;y<16;y++)g[y]=x[m+y];for(;y<g.length;y++)g[y]=s(g[y-3]^g[y-8]^g[y-14]^g[y-16],1);var C=this.h[0],E=this.h[1],A=this.h[2],D=this.h[3],q=this.h[4];for(y=0;y<g.length;y++){var B=~~(y/20),z=i(s(C,5),b(B,E,A,D),q,g[y],u[B]);q=D,D=A,A=s(E,30),E=C,C=z}this.h[0]=r(this.h[0],C),this.h[1]=r(this.h[1],E),this.h[2]=r(this.h[2],A),this.h[3]=r(this.h[3],D),this.h[4]=r(this.h[4],q)},v.prototype._digest=function(x){return x==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,a,l){var f=e("../utils"),o=e("./256");function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}f.inherits(c,o),a.exports=c,c.blockSize=512,c.outSize=224,c.hmacStrength=192,c.padLength=64,c.prototype._digest=function(s){return s==="hex"?f.toHex32(this.h.slice(0,7),"big"):f.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,a,l){var f=e("../utils"),o=e("../common"),c=e("./common"),s=e("minimalistic-assert"),r=f.sum32,i=f.sum32_4,b=f.sum32_5,d=c.ch32,u=c.maj32,v=c.s0_256,x=c.s1_256,m=c.g0_256,g=c.g1_256,y=o.BlockHash,C=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function E(){if(!(this instanceof E))return new E;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=C,this.W=new Array(64)}f.inherits(E,y),a.exports=E,E.blockSize=512,E.outSize=256,E.hmacStrength=192,E.padLength=64,E.prototype._update=function(A,D){for(var q=this.W,B=0;B<16;B++)q[B]=A[D+B];for(;B<q.length;B++)q[B]=i(g(q[B-2]),q[B-7],m(q[B-15]),q[B-16]);var z=this.h[0],K=this.h[1],Y=this.h[2],X=this.h[3],O=this.h[4],P=this.h[5],N=this.h[6],_=this.h[7];for(s(this.k.length===q.length),B=0;B<q.length;B++){var j=b(_,x(O),d(O,P,N),this.k[B],q[B]),k=r(v(z),u(z,K,Y));_=N,N=P,P=O,O=r(X,j),X=Y,Y=K,K=z,z=r(j,k)}this.h[0]=r(this.h[0],z),this.h[1]=r(this.h[1],K),this.h[2]=r(this.h[2],Y),this.h[3]=r(this.h[3],X),this.h[4]=r(this.h[4],O),this.h[5]=r(this.h[5],P),this.h[6]=r(this.h[6],N),this.h[7]=r(this.h[7],_)},E.prototype._digest=function(A){return A==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,a,l){var f=e("../utils"),o=e("./512");function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}f.inherits(c,o),a.exports=c,c.blockSize=1024,c.outSize=384,c.hmacStrength=192,c.padLength=128,c.prototype._digest=function(s){return s==="hex"?f.toHex32(this.h.slice(0,12),"big"):f.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,a,l){var f=e("../utils"),o=e("../common"),c=e("minimalistic-assert"),s=f.rotr64_hi,r=f.rotr64_lo,i=f.shr64_hi,b=f.shr64_lo,d=f.sum64,u=f.sum64_hi,v=f.sum64_lo,x=f.sum64_4_hi,m=f.sum64_4_lo,g=f.sum64_5_hi,y=f.sum64_5_lo,C=o.BlockHash,E=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function A(){if(!(this instanceof A))return new A;C.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=E,this.W=new Array(160)}function D(k,T,M,F,$){var V=k&M^~k&$;return V<0&&(V+=4294967296),V}function q(k,T,M,F,$,V){var W=T&F^~T&V;return W<0&&(W+=4294967296),W}function B(k,T,M,F,$){var V=k&M^k&$^M&$;return V<0&&(V+=4294967296),V}function z(k,T,M,F,$,V){var W=T&F^T&V^F&V;return W<0&&(W+=4294967296),W}function K(k,T){var M=s(k,T,28)^s(T,k,2)^s(T,k,7);return M<0&&(M+=4294967296),M}function Y(k,T){var M=r(k,T,28)^r(T,k,2)^r(T,k,7);return M<0&&(M+=4294967296),M}function X(k,T){var M=s(k,T,14)^s(k,T,18)^s(T,k,9);return M<0&&(M+=4294967296),M}function O(k,T){var M=r(k,T,14)^r(k,T,18)^r(T,k,9);return M<0&&(M+=4294967296),M}function P(k,T){var M=s(k,T,1)^s(k,T,8)^i(k,T,7);return M<0&&(M+=4294967296),M}function N(k,T){var M=r(k,T,1)^r(k,T,8)^b(k,T,7);return M<0&&(M+=4294967296),M}function _(k,T){var M=s(k,T,19)^s(T,k,29)^i(k,T,6);return M<0&&(M+=4294967296),M}function j(k,T){var M=r(k,T,19)^r(T,k,29)^b(k,T,6);return M<0&&(M+=4294967296),M}f.inherits(A,C),a.exports=A,A.blockSize=1024,A.outSize=512,A.hmacStrength=192,A.padLength=128,A.prototype._prepareBlock=function(k,T){for(var M=this.W,F=0;F<32;F++)M[F]=k[T+F];for(;F<M.length;F+=2){var $=_(M[F-4],M[F-3]),V=j(M[F-4],M[F-3]),W=M[F-14],ee=M[F-13],U=P(M[F-30],M[F-29]),Q=N(M[F-30],M[F-29]),L=M[F-32],I=M[F-31];M[F]=x($,V,W,ee,U,Q,L,I),M[F+1]=m($,V,W,ee,U,Q,L,I)}},A.prototype._update=function(k,T){this._prepareBlock(k,T);var M=this.W,F=this.h[0],$=this.h[1],V=this.h[2],W=this.h[3],ee=this.h[4],U=this.h[5],Q=this.h[6],L=this.h[7],I=this.h[8],Z=this.h[9],te=this.h[10],ie=this.h[11],se=this.h[12],le=this.h[13],me=this.h[14],ae=this.h[15];c(this.k.length===M.length);for(var re=0;re<M.length;re+=2){var oe=me,ue=ae,fe=X(I,Z),be=O(I,Z),Ce=D(I,Z,te,ie,se),Ae=q(I,Z,te,ie,se,le),Pe=this.k[re],Fe=this.k[re+1],pe=M[re],Ee=M[re+1],He=g(oe,ue,fe,be,Ce,Ae,Pe,Fe,pe,Ee),Me=y(oe,ue,fe,be,Ce,Ae,Pe,Fe,pe,Ee);oe=K(F,$),ue=Y(F,$),fe=B(F,$,V,W,ee),be=z(F,$,V,W,ee,U);var ve=u(oe,ue,fe,be),de=v(oe,ue,fe,be);me=se,ae=le,se=te,le=ie,te=I,ie=Z,I=u(Q,L,He,Me),Z=v(L,L,He,Me),Q=ee,L=U,ee=V,U=W,V=F,W=$,F=u(He,Me,ve,de),$=v(He,Me,ve,de)}d(this.h,0,F,$),d(this.h,2,V,W),d(this.h,4,ee,U),d(this.h,6,Q,L),d(this.h,8,I,Z),d(this.h,10,te,ie),d(this.h,12,se,le),d(this.h,14,me,ae)},A.prototype._digest=function(k){return k==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,a,l){var f=e("../utils").rotr32;function o(r,i,b){return r&i^~r&b}function c(r,i,b){return r&i^r&b^i&b}function s(r,i,b){return r^i^b}l.ft_1=function(r,i,b,d){return r===0?o(i,b,d):r===1||r===3?s(i,b,d):r===2?c(i,b,d):void 0},l.ch32=o,l.maj32=c,l.p32=s,l.s0_256=function(r){return f(r,2)^f(r,13)^f(r,22)},l.s1_256=function(r){return f(r,6)^f(r,11)^f(r,25)},l.g0_256=function(r){return f(r,7)^f(r,18)^r>>>3},l.g1_256=function(r){return f(r,17)^f(r,19)^r>>>10}},{"../utils":437}],437:[function(e,a,l){var f=e("minimalistic-assert"),o=e("inherits");function c(b,d){return(64512&b.charCodeAt(d))==55296&&!(d<0||d+1>=b.length)&&(64512&b.charCodeAt(d+1))==56320}function s(b){return(b>>>24|b>>>8&65280|b<<8&16711680|(255&b)<<24)>>>0}function r(b){return b.length===1?"0"+b:b}function i(b){return b.length===7?"0"+b:b.length===6?"00"+b:b.length===5?"000"+b:b.length===4?"0000"+b:b.length===3?"00000"+b:b.length===2?"000000"+b:b.length===1?"0000000"+b:b}l.inherits=o,l.toArray=function(b,d){if(Array.isArray(b))return b.slice();if(!b)return[];var u=[];if(typeof b=="string")if(d){if(d==="hex")for((b=b.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(b="0"+b),x=0;x<b.length;x+=2)u.push(parseInt(b[x]+b[x+1],16))}else for(var v=0,x=0;x<b.length;x++){var m=b.charCodeAt(x);m<128?u[v++]=m:m<2048?(u[v++]=m>>6|192,u[v++]=63&m|128):c(b,x)?(m=65536+((1023&m)<<10)+(1023&b.charCodeAt(++x)),u[v++]=m>>18|240,u[v++]=m>>12&63|128,u[v++]=m>>6&63|128,u[v++]=63&m|128):(u[v++]=m>>12|224,u[v++]=m>>6&63|128,u[v++]=63&m|128)}else for(x=0;x<b.length;x++)u[x]=0|b[x];return u},l.toHex=function(b){for(var d="",u=0;u<b.length;u++)d+=r(b[u].toString(16));return d},l.htonl=s,l.toHex32=function(b,d){for(var u="",v=0;v<b.length;v++){var x=b[v];d==="little"&&(x=s(x)),u+=i(x.toString(16))}return u},l.zero2=r,l.zero8=i,l.join32=function(b,d,u,v){var x=u-d;f(x%4==0);for(var m=new Array(x/4),g=0,y=d;g<m.length;g++,y+=4){var C;C=v==="big"?b[y]<<24|b[y+1]<<16|b[y+2]<<8|b[y+3]:b[y+3]<<24|b[y+2]<<16|b[y+1]<<8|b[y],m[g]=C>>>0}return m},l.split32=function(b,d){for(var u=new Array(4*b.length),v=0,x=0;v<b.length;v++,x+=4){var m=b[v];d==="big"?(u[x]=m>>>24,u[x+1]=m>>>16&255,u[x+2]=m>>>8&255,u[x+3]=255&m):(u[x+3]=m>>>24,u[x+2]=m>>>16&255,u[x+1]=m>>>8&255,u[x]=255&m)}return u},l.rotr32=function(b,d){return b>>>d|b<<32-d},l.rotl32=function(b,d){return b<<d|b>>>32-d},l.sum32=function(b,d){return b+d>>>0},l.sum32_3=function(b,d,u){return b+d+u>>>0},l.sum32_4=function(b,d,u,v){return b+d+u+v>>>0},l.sum32_5=function(b,d,u,v,x){return b+d+u+v+x>>>0},l.sum64=function(b,d,u,v){var x=b[d],m=v+b[d+1]>>>0,g=(m<v?1:0)+u+x;b[d]=g>>>0,b[d+1]=m},l.sum64_hi=function(b,d,u,v){return(d+v>>>0<d?1:0)+b+u>>>0},l.sum64_lo=function(b,d,u,v){return d+v>>>0},l.sum64_4_hi=function(b,d,u,v,x,m,g,y){var C=0,E=d;return C+=(E=E+v>>>0)<d?1:0,C+=(E=E+m>>>0)<m?1:0,b+u+x+g+(C+=(E=E+y>>>0)<y?1:0)>>>0},l.sum64_4_lo=function(b,d,u,v,x,m,g,y){return d+v+m+y>>>0},l.sum64_5_hi=function(b,d,u,v,x,m,g,y,C,E){var A=0,D=d;return A+=(D=D+v>>>0)<d?1:0,A+=(D=D+m>>>0)<m?1:0,A+=(D=D+y>>>0)<y?1:0,b+u+x+g+C+(A+=(D=D+E>>>0)<E?1:0)>>>0},l.sum64_5_lo=function(b,d,u,v,x,m,g,y,C,E){return d+v+m+y+E>>>0},l.rotr64_hi=function(b,d,u){return(d<<32-u|b>>>u)>>>0},l.rotr64_lo=function(b,d,u){return(b<<32-u|d>>>u)>>>0},l.shr64_hi=function(b,d,u){return b>>>u},l.shr64_lo=function(b,d,u){return(b<<32-u|d>>>u)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,a,l){var f=e("hash.js"),o=e("minimalistic-crypto-utils"),c=e("minimalistic-assert");function s(r){if(!(this instanceof s))return new s(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var i=o.toArray(r.entropy,r.entropyEnc||"hex"),b=o.toArray(r.nonce,r.nonceEnc||"hex"),d=o.toArray(r.pers,r.persEnc||"hex");c(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(i,b,d)}a.exports=s,s.prototype._init=function(r,i,b){var d=r.concat(i).concat(b);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var u=0;u<this.V.length;u++)this.K[u]=0,this.V[u]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new f.hmac(this.hash,this.K)},s.prototype._update=function(r){var i=this._hmac().update(this.V).update([0]);r&&(i=i.update(r)),this.K=i.digest(),this.V=this._hmac().update(this.V).digest(),r&&(this.K=this._hmac().update(this.V).update([1]).update(r).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(r,i,b,d){typeof i!="string"&&(d=b,b=i,i=null),r=o.toArray(r,i),b=o.toArray(b,d),c(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(r.concat(b||[])),this._reseed=1},s.prototype.generate=function(r,i,b,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof i!="string"&&(d=b,b=i,i=null),b&&(b=o.toArray(b,d||"hex"),this._update(b));for(var u=[];u.length<r;)this.V=this._hmac().update(this.V).digest(),u=u.concat(this.V);var v=u.slice(0,r);return this._update(b),this._reseed++,o.encode(v,i)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,a,l){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */l.read=function(f,o,c,s,r){var i,b,d=8*r-s-1,u=(1<<d)-1,v=u>>1,x=-7,m=c?r-1:0,g=c?-1:1,y=f[o+m];for(m+=g,i=y&(1<<-x)-1,y>>=-x,x+=d;x>0;i=256*i+f[o+m],m+=g,x-=8);for(b=i&(1<<-x)-1,i>>=-x,x+=s;x>0;b=256*b+f[o+m],m+=g,x-=8);if(i===0)i=1-v;else{if(i===u)return b?NaN:1/0*(y?-1:1);b+=Math.pow(2,s),i-=v}return(y?-1:1)*b*Math.pow(2,i-s)},l.write=function(f,o,c,s,r,i){var b,d,u,v=8*i-r-1,x=(1<<v)-1,m=x>>1,g=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=s?0:i-1,C=s?1:-1,E=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(d=isNaN(o)?1:0,b=x):(b=Math.floor(Math.log(o)/Math.LN2),o*(u=Math.pow(2,-b))<1&&(b--,u*=2),(o+=b+m>=1?g/u:g*Math.pow(2,1-m))*u>=2&&(b++,u/=2),b+m>=x?(d=0,b=x):b+m>=1?(d=(o*u-1)*Math.pow(2,r),b+=m):(d=o*Math.pow(2,m-1)*Math.pow(2,r),b=0));r>=8;f[c+y]=255&d,y+=C,d/=256,r-=8);for(b=b<<r|d,v+=r;v>0;f[c+y]=255&b,y+=C,b/=256,v-=8);f[c+y-C]|=128*E}},{}],440:[function(e,a,l){typeof Object.create=="function"?a.exports=function(f,o){o&&(f.super_=o,f.prototype=Object.create(o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}))}:a.exports=function(f,o){if(o){f.super_=o;var c=function(){};c.prototype=o.prototype,f.prototype=new c,f.prototype.constructor=f}}},{}],441:[function(e,a,l){(function(f,o,c,s,r,i,b,d){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(u){typeof l=="object"&&a!==void 0?a.exports=u():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=u()})(function(){return function u(v,x,m){function g(E,A){if(!x[E]){if(!v[E]){var D=typeof e=="function"&&e;if(!A&&D)return D(E,!0);if(y)return y(E,!0);var q=new Error("Cannot find module '"+E+"'");throw q.code="MODULE_NOT_FOUND",q}var B=x[E]={exports:{}};v[E][0].call(B.exports,function(z){return g(v[E][1][z]||z)},B,B.exports,u,v,x,m)}return x[E].exports}for(var y=typeof e=="function"&&e,C=0;C<m.length;C++)g(m[C]);return g}({1:[function(u,v,x){var m=u("./utils"),g=u("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";x.encode=function(C){for(var E,A,D,q,B,z,K,Y=[],X=0,O=C.length,P=O,N=m.getTypeOf(C)!=="string";X<C.length;)P=O-X,D=N?(E=C[X++],A=X<O?C[X++]:0,X<O?C[X++]:0):(E=C.charCodeAt(X++),A=X<O?C.charCodeAt(X++):0,X<O?C.charCodeAt(X++):0),q=E>>2,B=(3&E)<<4|A>>4,z=1<P?(15&A)<<2|D>>6:64,K=2<P?63&D:64,Y.push(y.charAt(q)+y.charAt(B)+y.charAt(z)+y.charAt(K));return Y.join("")},x.decode=function(C){var E,A,D,q,B,z,K=0,Y=0,X="data:";if(C.substr(0,X.length)===X)throw new Error("Invalid base64 input, it looks like a data url.");var O,P=3*(C=C.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(C.charAt(C.length-1)===y.charAt(64)&&P--,C.charAt(C.length-2)===y.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(O=g.uint8array?new Uint8Array(0|P):new Array(0|P);K<C.length;)E=y.indexOf(C.charAt(K++))<<2|(q=y.indexOf(C.charAt(K++)))>>4,A=(15&q)<<4|(B=y.indexOf(C.charAt(K++)))>>2,D=(3&B)<<6|(z=y.indexOf(C.charAt(K++))),O[Y++]=E,B!==64&&(O[Y++]=A),z!==64&&(O[Y++]=D);return O}},{"./support":30,"./utils":32}],2:[function(u,v,x){var m=u("./external"),g=u("./stream/DataWorker"),y=u("./stream/Crc32Probe"),C=u("./stream/DataLengthProbe");function E(A,D,q,B,z){this.compressedSize=A,this.uncompressedSize=D,this.crc32=q,this.compression=B,this.compressedContent=z}E.prototype={getContentWorker:function(){var A=new g(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new C("data_length")),D=this;return A.on("end",function(){if(this.streamInfo.data_length!==D.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),A},getCompressedWorker:function(){return new g(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},E.createWorkerFrom=function(A,D,q){return A.pipe(new y).pipe(new C("uncompressedSize")).pipe(D.compressWorker(q)).pipe(new C("compressedSize")).withStreamInfo("compression",D)},v.exports=E},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(u,v,x){var m=u("./stream/GenericWorker");x.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},x.DEFLATE=u("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(u,v,x){var m=u("./utils"),g=function(){for(var y,C=[],E=0;E<256;E++){y=E;for(var A=0;A<8;A++)y=1&y?3988292384^y>>>1:y>>>1;C[E]=y}return C}();v.exports=function(y,C){return y!==void 0&&y.length?m.getTypeOf(y)!=="string"?function(E,A,D,q){var B=g,z=0+D;E^=-1;for(var K=0;K<z;K++)E=E>>>8^B[255&(E^A[K])];return-1^E}(0|C,y,y.length):function(E,A,D,q){var B=g,z=0+D;E^=-1;for(var K=0;K<z;K++)E=E>>>8^B[255&(E^A.charCodeAt(K))];return-1^E}(0|C,y,y.length):0}},{"./utils":32}],5:[function(u,v,x){x.base64=!1,x.binary=!1,x.dir=!1,x.createFolders=!0,x.date=null,x.compression=null,x.compressionOptions=null,x.comment=null,x.unixPermissions=null,x.dosPermissions=null},{}],6:[function(u,v,x){var m;m=typeof Promise<"u"?Promise:u("lie"),v.exports={Promise:m}},{lie:37}],7:[function(u,v,x){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",g=u("pako"),y=u("./utils"),C=u("./stream/GenericWorker"),E=m?"uint8array":"array";function A(D,q){C.call(this,"FlateWorker/"+D),this._pako=null,this._pakoAction=D,this._pakoOptions=q,this.meta={}}x.magic="\b\0",y.inherits(A,C),A.prototype.processChunk=function(D){this.meta=D.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(E,D.data),!1)},A.prototype.flush=function(){C.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},A.prototype.cleanUp=function(){C.prototype.cleanUp.call(this),this._pako=null},A.prototype._createPako=function(){this._pako=new g[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var D=this;this._pako.onData=function(q){D.push({data:q,meta:D.meta})}},x.compressWorker=function(D){return new A("Deflate",D)},x.uncompressWorker=function(){return new A("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(u,v,x){function m(B,z){var K,Y="";for(K=0;K<z;K++)Y+=String.fromCharCode(255&B),B>>>=8;return Y}function g(B,z,K,Y,X,O){var P,N,_=B.file,j=B.compression,k=O!==E.utf8encode,T=y.transformTo("string",O(_.name)),M=y.transformTo("string",E.utf8encode(_.name)),F=_.comment,$=y.transformTo("string",O(F)),V=y.transformTo("string",E.utf8encode(F)),W=M.length!==_.name.length,ee=V.length!==F.length,U="",Q="",L="",I=_.dir,Z=_.date,te={crc32:0,compressedSize:0,uncompressedSize:0};z&&!K||(te.crc32=B.crc32,te.compressedSize=B.compressedSize,te.uncompressedSize=B.uncompressedSize);var ie=0;z&&(ie|=8),k||!W&&!ee||(ie|=2048);var se=0,le=0;I&&(se|=16),X==="UNIX"?(le=798,se|=function(ae,re){var oe=ae;return ae||(oe=re?16893:33204),(65535&oe)<<16}(_.unixPermissions,I)):(le=20,se|=function(ae){return 63&(ae||0)}(_.dosPermissions)),P=Z.getUTCHours(),P<<=6,P|=Z.getUTCMinutes(),P<<=5,P|=Z.getUTCSeconds()/2,N=Z.getUTCFullYear()-1980,N<<=4,N|=Z.getUTCMonth()+1,N<<=5,N|=Z.getUTCDate(),W&&(Q=m(1,1)+m(A(T),4)+M,U+="up"+m(Q.length,2)+Q),ee&&(L=m(1,1)+m(A($),4)+V,U+="uc"+m(L.length,2)+L);var me="";return me+=`
\0`,me+=m(ie,2),me+=j.magic,me+=m(P,2),me+=m(N,2),me+=m(te.crc32,4),me+=m(te.compressedSize,4),me+=m(te.uncompressedSize,4),me+=m(T.length,2),me+=m(U.length,2),{fileRecord:D.LOCAL_FILE_HEADER+me+T+U,dirRecord:D.CENTRAL_FILE_HEADER+m(le,2)+me+m($.length,2)+"\0\0\0\0"+m(se,4)+m(Y,4)+T+U+$}}var y=u("../utils"),C=u("../stream/GenericWorker"),E=u("../utf8"),A=u("../crc32"),D=u("../signature");function q(B,z,K,Y){C.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=z,this.zipPlatform=K,this.encodeFileName=Y,this.streamFiles=B,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(q,C),q.prototype.push=function(B){var z=B.meta.percent||0,K=this.entriesCount,Y=this._sources.length;this.accumulate?this.contentBuffer.push(B):(this.bytesWritten+=B.data.length,C.prototype.push.call(this,{data:B.data,meta:{currentFile:this.currentFile,percent:K?(z+100*(K-Y-1))/K:100}}))},q.prototype.openedSource=function(B){this.currentSourceOffset=this.bytesWritten,this.currentFile=B.file.name;var z=this.streamFiles&&!B.file.dir;if(z){var K=g(B,z,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:K.fileRecord,meta:{percent:0}})}else this.accumulate=!0},q.prototype.closedSource=function(B){this.accumulate=!1;var z=this.streamFiles&&!B.file.dir,K=g(B,z,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(K.dirRecord),z)this.push({data:function(Y){return D.DATA_DESCRIPTOR+m(Y.crc32,4)+m(Y.compressedSize,4)+m(Y.uncompressedSize,4)}(B),meta:{percent:100}});else for(this.push({data:K.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},q.prototype.flush=function(){for(var B=this.bytesWritten,z=0;z<this.dirRecords.length;z++)this.push({data:this.dirRecords[z],meta:{percent:100}});var K=this.bytesWritten-B,Y=function(X,O,P,N,_){var j=y.transformTo("string",_(N));return D.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(X,2)+m(X,2)+m(O,4)+m(P,4)+m(j.length,2)+j}(this.dirRecords.length,K,B,this.zipComment,this.encodeFileName);this.push({data:Y,meta:{percent:100}})},q.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},q.prototype.registerPrevious=function(B){this._sources.push(B);var z=this;return B.on("data",function(K){z.processChunk(K)}),B.on("end",function(){z.closedSource(z.previous.streamInfo),z._sources.length?z.prepareNextSource():z.end()}),B.on("error",function(K){z.error(K)}),this},q.prototype.resume=function(){return!!C.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},q.prototype.error=function(B){var z=this._sources;if(!C.prototype.error.call(this,B))return!1;for(var K=0;K<z.length;K++)try{z[K].error(B)}catch{}return!0},q.prototype.lock=function(){C.prototype.lock.call(this);for(var B=this._sources,z=0;z<B.length;z++)B[z].lock()},v.exports=q},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(u,v,x){var m=u("../compressions"),g=u("./ZipFileWorker");x.generateWorker=function(y,C,E){var A=new g(C.streamFiles,E,C.platform,C.encodeFileName),D=0;try{y.forEach(function(q,B){D++;var z=function(O,P){var N=O||P,_=m[N];if(!_)throw new Error(N+" is not a valid compression method !");return _}(B.options.compression,C.compression),K=B.options.compressionOptions||C.compressionOptions||{},Y=B.dir,X=B.date;B._compressWorker(z,K).withStreamInfo("file",{name:q,dir:Y,date:X,comment:B.comment||"",unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions}).pipe(A)}),A.entriesCount=D}catch(q){A.error(q)}return A}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(u,v,x){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var g=new m;for(var y in this)typeof this[y]!="function"&&(g[y]=this[y]);return g}}(m.prototype=u("./object")).loadAsync=u("./load"),m.support=u("./support"),m.defaults=u("./defaults"),m.version="3.10.1",m.loadAsync=function(g,y){return new m().loadAsync(g,y)},m.external=u("./external"),v.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(u,v,x){var m=u("./utils"),g=u("./external"),y=u("./utf8"),C=u("./zipEntries"),E=u("./stream/Crc32Probe"),A=u("./nodejsUtils");function D(q){return new g.Promise(function(B,z){var K=q.decompressed.getContentWorker().pipe(new E);K.on("error",function(Y){z(Y)}).on("end",function(){K.streamInfo.crc32!==q.decompressed.crc32?z(new Error("Corrupted zip : CRC32 mismatch")):B()}).resume()})}v.exports=function(q,B){var z=this;return B=m.extend(B||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),A.isNode&&A.isStream(q)?g.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",q,!0,B.optimizedBinaryString,B.base64).then(function(K){var Y=new C(B);return Y.load(K),Y}).then(function(K){var Y=[g.Promise.resolve(K)],X=K.files;if(B.checkCRC32)for(var O=0;O<X.length;O++)Y.push(D(X[O]));return g.Promise.all(Y)}).then(function(K){for(var Y=K.shift(),X=Y.files,O=0;O<X.length;O++){var P=X[O],N=P.fileNameStr,_=m.resolve(P.fileNameStr);z.file(_,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:B.createFolders}),P.dir||(z.file(_).unsafeOriginalName=N)}return Y.zipComment.length&&(z.comment=Y.zipComment),z})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(u,v,x){var m=u("../utils"),g=u("../stream/GenericWorker");function y(C,E){g.call(this,"Nodejs stream input adapter for "+C),this._upstreamEnded=!1,this._bindStream(E)}m.inherits(y,g),y.prototype._bindStream=function(C){var E=this;(this._stream=C).pause(),C.on("data",function(A){E.push({data:A,meta:{percent:0}})}).on("error",function(A){E.isPaused?this.generatedError=A:E.error(A)}).on("end",function(){E.isPaused?E._upstreamEnded=!0:E.end()})},y.prototype.pause=function(){return!!g.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},v.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(u,v,x){var m=u("readable-stream").Readable;function g(y,C,E){m.call(this,C),this._helper=y;var A=this;y.on("data",function(D,q){A.push(D)||A._helper.pause(),E&&E(q)}).on("error",function(D){A.emit("error",D)}).on("end",function(){A.push(null)})}u("../utils").inherits(g,m),g.prototype._read=function(){this._helper.resume()},v.exports=g},{"../utils":32,"readable-stream":16}],14:[function(u,v,x){v.exports={isNode:c!==void 0,newBufferFrom:function(m,g){if(c.from&&c.from!==Uint8Array.from)return c.from(m,g);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new c(m,g)},allocBuffer:function(m){if(c.alloc)return c.alloc(m);var g=new c(m);return g.fill(0),g},isBuffer:function(m){return c.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(u,v,x){function m(_,j,k){var T,M=y.getTypeOf(j),F=y.extend(k||{},A);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(_=X(_)),F.createFolders&&(T=Y(_))&&O.call(this,T,!0);var $=M==="string"&&F.binary===!1&&F.base64===!1;k&&k.binary!==void 0||(F.binary=!$),(j instanceof D&&j.uncompressedSize===0||F.dir||!j||j.length===0)&&(F.base64=!1,F.binary=!0,j="",F.compression="STORE",M="string");var V;V=j instanceof D||j instanceof C?j:z.isNode&&z.isStream(j)?new K(_,j):y.prepareContent(_,j,F.binary,F.optimizedBinaryString,F.base64);var W=new q(_,V,F);this.files[_]=W}var g=u("./utf8"),y=u("./utils"),C=u("./stream/GenericWorker"),E=u("./stream/StreamHelper"),A=u("./defaults"),D=u("./compressedObject"),q=u("./zipObject"),B=u("./generate"),z=u("./nodejsUtils"),K=u("./nodejs/NodejsStreamInputAdapter"),Y=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var j=_.lastIndexOf("/");return 0<j?_.substring(0,j):""},X=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},O=function(_,j){return j=j!==void 0?j:A.createFolders,_=X(_),this.files[_]||m.call(this,_,null,{dir:!0,createFolders:j}),this.files[_]};function P(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var j,k,T;for(j in this.files)T=this.files[j],(k=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&_(k,T)},filter:function(_){var j=[];return this.forEach(function(k,T){_(k,T)&&j.push(T)}),j},file:function(_,j,k){if(arguments.length!==1)return _=this.root+_,m.call(this,_,j,k),this;if(P(_)){var T=_;return this.filter(function(F,$){return!$.dir&&T.test(F)})}var M=this.files[this.root+_];return M&&!M.dir?M:null},folder:function(_){if(!_)return this;if(P(_))return this.filter(function(M,F){return F.dir&&_.test(M)});var j=this.root+_,k=O.call(this,j),T=this.clone();return T.root=k.name,T},remove:function(_){_=this.root+_;var j=this.files[_];if(j||(_.slice(-1)!=="/"&&(_+="/"),j=this.files[_]),j&&!j.dir)delete this.files[_];else for(var k=this.filter(function(M,F){return F.name.slice(0,_.length)===_}),T=0;T<k.length;T++)delete this.files[k[T].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var j,k={};try{if((k=y.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:g.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");y.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var T=k.comment||this.comment||"";j=B.generateWorker(this,k,T)}catch(M){(j=new C("error")).error(M)}return new E(j,k.type||"string",k.mimeType)},generateAsync:function(_,j){return this.generateInternalStream(_).accumulate(j)},generateNodeStream:function(_,j){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(j)}};v.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(u,v,x){v.exports=u("stream")},{stream:void 0}],17:[function(u,v,x){var m=u("./DataReader");function g(y){m.call(this,y);for(var C=0;C<this.data.length;C++)y[C]=255&y[C]}u("../utils").inherits(g,m),g.prototype.byteAt=function(y){return this.data[this.zero+y]},g.prototype.lastIndexOfSignature=function(y){for(var C=y.charCodeAt(0),E=y.charCodeAt(1),A=y.charCodeAt(2),D=y.charCodeAt(3),q=this.length-4;0<=q;--q)if(this.data[q]===C&&this.data[q+1]===E&&this.data[q+2]===A&&this.data[q+3]===D)return q-this.zero;return-1},g.prototype.readAndCheckSignature=function(y){var C=y.charCodeAt(0),E=y.charCodeAt(1),A=y.charCodeAt(2),D=y.charCodeAt(3),q=this.readData(4);return C===q[0]&&E===q[1]&&A===q[2]&&D===q[3]},g.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var C=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,C},v.exports=g},{"../utils":32,"./DataReader":18}],18:[function(u,v,x){var m=u("../utils");function g(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}g.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var C,E=0;for(this.checkOffset(y),C=this.index+y-1;C>=this.index;C--)E=(E<<8)+this.byteAt(C);return this.index+=y,E},readString:function(y){return m.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},v.exports=g},{"../utils":32}],19:[function(u,v,x){var m=u("./Uint8ArrayReader");function g(y){m.call(this,y)}u("../utils").inherits(g,m),g.prototype.readData=function(y){this.checkOffset(y);var C=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,C},v.exports=g},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(u,v,x){var m=u("./DataReader");function g(y){m.call(this,y)}u("../utils").inherits(g,m),g.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},g.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},g.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},g.prototype.readData=function(y){this.checkOffset(y);var C=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,C},v.exports=g},{"../utils":32,"./DataReader":18}],21:[function(u,v,x){var m=u("./ArrayReader");function g(y){m.call(this,y)}u("../utils").inherits(g,m),g.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var C=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,C},v.exports=g},{"../utils":32,"./ArrayReader":17}],22:[function(u,v,x){var m=u("../utils"),g=u("../support"),y=u("./ArrayReader"),C=u("./StringReader"),E=u("./NodeBufferReader"),A=u("./Uint8ArrayReader");v.exports=function(D){var q=m.getTypeOf(D);return m.checkSupport(q),q!=="string"||g.uint8array?q==="nodebuffer"?new E(D):g.uint8array?new A(m.transformTo("uint8array",D)):new y(m.transformTo("array",D)):new C(D)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(u,v,x){x.LOCAL_FILE_HEADER="PK",x.CENTRAL_FILE_HEADER="PK",x.CENTRAL_DIRECTORY_END="PK",x.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",x.ZIP64_CENTRAL_DIRECTORY_END="PK",x.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(u,v,x){var m=u("./GenericWorker"),g=u("../utils");function y(C){m.call(this,"ConvertWorker to "+C),this.destType=C}g.inherits(y,m),y.prototype.processChunk=function(C){this.push({data:g.transformTo(this.destType,C.data),meta:C.meta})},v.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(u,v,x){var m=u("./GenericWorker"),g=u("../crc32");function y(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}u("../utils").inherits(y,m),y.prototype.processChunk=function(C){this.streamInfo.crc32=g(C.data,this.streamInfo.crc32||0),this.push(C)},v.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(u,v,x){var m=u("../utils"),g=u("./GenericWorker");function y(C){g.call(this,"DataLengthProbe for "+C),this.propName=C,this.withStreamInfo(C,0)}m.inherits(y,g),y.prototype.processChunk=function(C){if(C){var E=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=E+C.data.length}g.prototype.processChunk.call(this,C)},v.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(u,v,x){var m=u("../utils"),g=u("./GenericWorker");function y(C){g.call(this,"DataWorker");var E=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,C.then(function(A){E.dataIsReady=!0,E.data=A,E.max=A&&A.length||0,E.type=m.getTypeOf(A),E.isPaused||E._tickAndRepeat()},function(A){E.error(A)})}m.inherits(y,g),y.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var C=null,E=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":C=this.data.substring(this.index,E);break;case"uint8array":C=this.data.subarray(this.index,E);break;case"array":case"nodebuffer":C=this.data.slice(this.index,E)}return this.index=E,this.push({data:C,meta:{percent:this.max?this.index/this.max*100:0}})},v.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(u,v,x){function m(g){this.name=g||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(g){this.emit("data",g)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(g){this.emit("error",g)}return!0},error:function(g){return!this.isFinished&&(this.isPaused?this.generatedError=g:(this.isFinished=!0,this.emit("error",g),this.previous&&this.previous.error(g),this.cleanUp()),!0)},on:function(g,y){return this._listeners[g].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(g,y){if(this._listeners[g])for(var C=0;C<this._listeners[g].length;C++)this._listeners[g][C].call(this,y)},pipe:function(g){return g.registerPrevious(this)},registerPrevious:function(g){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=g.streamInfo,this.mergeStreamInfo(),this.previous=g;var y=this;return g.on("data",function(C){y.processChunk(C)}),g.on("end",function(){y.end()}),g.on("error",function(C){y.error(C)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var g=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),g=!0),this.previous&&this.previous.resume(),!g},flush:function(){},processChunk:function(g){this.push(g)},withStreamInfo:function(g,y){return this.extraStreamInfo[g]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var g in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,g)&&(this.streamInfo[g]=this.extraStreamInfo[g])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var g="Worker "+this.name;return this.previous?this.previous+" -> "+g:g}},v.exports=m},{}],29:[function(u,v,x){var m=u("../utils"),g=u("./ConvertWorker"),y=u("./GenericWorker"),C=u("../base64"),E=u("../support"),A=u("../external"),D=null;if(E.nodestream)try{D=u("../nodejs/NodejsStreamOutputAdapter")}catch{}function q(B,z,K){var Y=z;switch(z){case"blob":case"arraybuffer":Y="uint8array";break;case"base64":Y="string"}try{this._internalType=Y,this._outputType=z,this._mimeType=K,m.checkSupport(Y),this._worker=B.pipe(new g(Y)),B.lock()}catch(X){this._worker=new y("error"),this._worker.error(X)}}q.prototype={accumulate:function(B){return function(z,K){return new A.Promise(function(Y,X){var O=[],P=z._internalType,N=z._outputType,_=z._mimeType;z.on("data",function(j,k){O.push(j),K&&K(k)}).on("error",function(j){O=[],X(j)}).on("end",function(){try{var j=function(k,T,M){switch(k){case"blob":return m.newBlob(m.transformTo("arraybuffer",T),M);case"base64":return C.encode(T);default:return m.transformTo(k,T)}}(N,function(k,T){var M,F=0,$=null,V=0;for(M=0;M<T.length;M++)V+=T[M].length;switch(k){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for($=new Uint8Array(V),M=0;M<T.length;M++)$.set(T[M],F),F+=T[M].length;return $;case"nodebuffer":return c.concat(T);default:throw new Error("concat : unsupported type '"+k+"'")}}(P,O),_);Y(j)}catch(k){X(k)}O=[]}).resume()})}(this,B)},on:function(B,z){var K=this;return B==="data"?this._worker.on(B,function(Y){z.call(K,Y.data,Y.meta)}):this._worker.on(B,function(){m.delay(z,arguments,K)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(B){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new D(this,{objectMode:this._outputType!=="nodebuffer"},B)}},v.exports=q},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(u,v,x){if(x.base64=!0,x.array=!0,x.string=!0,x.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",x.nodebuffer=c!==void 0,x.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")x.blob=!1;else{var m=new ArrayBuffer(0);try{x.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);g.append(m),x.blob=g.getBlob("application/zip").size===0}catch{x.blob=!1}}}try{x.nodestream=!!u("readable-stream").Readable}catch{x.nodestream=!1}},{"readable-stream":16}],31:[function(u,v,x){for(var m=u("./utils"),g=u("./support"),y=u("./nodejsUtils"),C=u("./stream/GenericWorker"),E=new Array(256),A=0;A<256;A++)E[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;function D(){C.call(this,"utf-8 decode"),this.leftOver=null}function q(){C.call(this,"utf-8 encode")}E[254]=E[254]=1,x.utf8encode=function(B){return g.nodebuffer?y.newBufferFrom(B,"utf-8"):function(z){var K,Y,X,O,P,N=z.length,_=0;for(O=0;O<N;O++)(64512&(Y=z.charCodeAt(O)))==55296&&O+1<N&&(64512&(X=z.charCodeAt(O+1)))==56320&&(Y=65536+(Y-55296<<10)+(X-56320),O++),_+=Y<128?1:Y<2048?2:Y<65536?3:4;for(K=g.uint8array?new Uint8Array(_):new Array(_),O=P=0;P<_;O++)(64512&(Y=z.charCodeAt(O)))==55296&&O+1<N&&(64512&(X=z.charCodeAt(O+1)))==56320&&(Y=65536+(Y-55296<<10)+(X-56320),O++),Y<128?K[P++]=Y:(Y<2048?K[P++]=192|Y>>>6:(Y<65536?K[P++]=224|Y>>>12:(K[P++]=240|Y>>>18,K[P++]=128|Y>>>12&63),K[P++]=128|Y>>>6&63),K[P++]=128|63&Y);return K}(B)},x.utf8decode=function(B){return g.nodebuffer?m.transformTo("nodebuffer",B).toString("utf-8"):function(z){var K,Y,X,O,P=z.length,N=new Array(2*P);for(K=Y=0;K<P;)if((X=z[K++])<128)N[Y++]=X;else if(4<(O=E[X]))N[Y++]=65533,K+=O-1;else{for(X&=O===2?31:O===3?15:7;1<O&&K<P;)X=X<<6|63&z[K++],O--;1<O?N[Y++]=65533:X<65536?N[Y++]=X:(X-=65536,N[Y++]=55296|X>>10&1023,N[Y++]=56320|1023&X)}return N.length!==Y&&(N.subarray?N=N.subarray(0,Y):N.length=Y),m.applyFromCharCode(N)}(B=m.transformTo(g.uint8array?"uint8array":"array",B))},m.inherits(D,C),D.prototype.processChunk=function(B){var z=m.transformTo(g.uint8array?"uint8array":"array",B.data);if(this.leftOver&&this.leftOver.length){if(g.uint8array){var K=z;(z=new Uint8Array(K.length+this.leftOver.length)).set(this.leftOver,0),z.set(K,this.leftOver.length)}else z=this.leftOver.concat(z);this.leftOver=null}var Y=function(O,P){var N;for((P=P||O.length)>O.length&&(P=O.length),N=P-1;0<=N&&(192&O[N])==128;)N--;return N<0||N===0?P:N+E[O[N]]>P?N:P}(z),X=z;Y!==z.length&&(g.uint8array?(X=z.subarray(0,Y),this.leftOver=z.subarray(Y,z.length)):(X=z.slice(0,Y),this.leftOver=z.slice(Y,z.length))),this.push({data:x.utf8decode(X),meta:B.meta})},D.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:x.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},x.Utf8DecodeWorker=D,m.inherits(q,C),q.prototype.processChunk=function(B){this.push({data:x.utf8encode(B.data),meta:B.meta})},x.Utf8EncodeWorker=q},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(u,v,x){var m=u("./support"),g=u("./base64"),y=u("./nodejsUtils"),C=u("./external");function E(K){return K}function A(K,Y){for(var X=0;X<K.length;++X)Y[X]=255&K.charCodeAt(X);return Y}u("setimmediate"),x.newBlob=function(K,Y){x.checkSupport("blob");try{return new Blob([K],{type:Y})}catch{try{var X=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return X.append(K),X.getBlob(Y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var D={stringifyByChunk:function(K,Y,X){var O=[],P=0,N=K.length;if(N<=X)return String.fromCharCode.apply(null,K);for(;P<N;)Y==="array"||Y==="nodebuffer"?O.push(String.fromCharCode.apply(null,K.slice(P,Math.min(P+X,N)))):O.push(String.fromCharCode.apply(null,K.subarray(P,Math.min(P+X,N)))),P+=X;return O.join("")},stringifyByChar:function(K){for(var Y="",X=0;X<K.length;X++)Y+=String.fromCharCode(K[X]);return Y},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function q(K){var Y=65536,X=x.getTypeOf(K),O=!0;if(X==="uint8array"?O=D.applyCanBeUsed.uint8array:X==="nodebuffer"&&(O=D.applyCanBeUsed.nodebuffer),O)for(;1<Y;)try{return D.stringifyByChunk(K,X,Y)}catch{Y=Math.floor(Y/2)}return D.stringifyByChar(K)}function B(K,Y){for(var X=0;X<K.length;X++)Y[X]=K[X];return Y}x.applyFromCharCode=q;var z={};z.string={string:E,array:function(K){return A(K,new Array(K.length))},arraybuffer:function(K){return z.string.uint8array(K).buffer},uint8array:function(K){return A(K,new Uint8Array(K.length))},nodebuffer:function(K){return A(K,y.allocBuffer(K.length))}},z.array={string:q,array:E,arraybuffer:function(K){return new Uint8Array(K).buffer},uint8array:function(K){return new Uint8Array(K)},nodebuffer:function(K){return y.newBufferFrom(K)}},z.arraybuffer={string:function(K){return q(new Uint8Array(K))},array:function(K){return B(new Uint8Array(K),new Array(K.byteLength))},arraybuffer:E,uint8array:function(K){return new Uint8Array(K)},nodebuffer:function(K){return y.newBufferFrom(new Uint8Array(K))}},z.uint8array={string:q,array:function(K){return B(K,new Array(K.length))},arraybuffer:function(K){return K.buffer},uint8array:E,nodebuffer:function(K){return y.newBufferFrom(K)}},z.nodebuffer={string:q,array:function(K){return B(K,new Array(K.length))},arraybuffer:function(K){return z.nodebuffer.uint8array(K).buffer},uint8array:function(K){return B(K,new Uint8Array(K.length))},nodebuffer:E},x.transformTo=function(K,Y){if(Y=Y||"",!K)return Y;x.checkSupport(K);var X=x.getTypeOf(Y);return z[X][K](Y)},x.resolve=function(K){for(var Y=K.split("/"),X=[],O=0;O<Y.length;O++){var P=Y[O];P==="."||P===""&&O!==0&&O!==Y.length-1||(P===".."?X.pop():X.push(P))}return X.join("/")},x.getTypeOf=function(K){return typeof K=="string"?"string":Object.prototype.toString.call(K)==="[object Array]"?"array":m.nodebuffer&&y.isBuffer(K)?"nodebuffer":m.uint8array&&K instanceof Uint8Array?"uint8array":m.arraybuffer&&K instanceof ArrayBuffer?"arraybuffer":void 0},x.checkSupport=function(K){if(!m[K.toLowerCase()])throw new Error(K+" is not supported by this platform")},x.MAX_VALUE_16BITS=65535,x.MAX_VALUE_32BITS=-1,x.pretty=function(K){var Y,X,O="";for(X=0;X<(K||"").length;X++)O+="\\x"+((Y=K.charCodeAt(X))<16?"0":"")+Y.toString(16).toUpperCase();return O},x.delay=function(K,Y,X){d(function(){K.apply(X||null,Y||[])})},x.inherits=function(K,Y){function X(){}X.prototype=Y.prototype,K.prototype=new X},x.extend=function(){var K,Y,X={};for(K=0;K<arguments.length;K++)for(Y in arguments[K])Object.prototype.hasOwnProperty.call(arguments[K],Y)&&X[Y]===void 0&&(X[Y]=arguments[K][Y]);return X},x.prepareContent=function(K,Y,X,O,P){return C.Promise.resolve(Y).then(function(N){return m.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new C.Promise(function(_,j){var k=new FileReader;k.onload=function(T){_(T.target.result)},k.onerror=function(T){j(T.target.error)},k.readAsArrayBuffer(N)}):N}).then(function(N){var _=x.getTypeOf(N);return _?(_==="arraybuffer"?N=x.transformTo("uint8array",N):_==="string"&&(P?N=g.decode(N):X&&O!==!0&&(N=function(j){return A(j,m.uint8array?new Uint8Array(j.length):new Array(j.length))}(N))),N):C.Promise.reject(new Error("Can't read the data of '"+K+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(u,v,x){var m=u("./reader/readerFor"),g=u("./utils"),y=u("./signature"),C=u("./zipEntry"),E=u("./support");function A(D){this.files=[],this.loadOptions=D}A.prototype={checkSignature:function(D){if(!this.reader.readAndCheckSignature(D)){this.reader.index-=4;var q=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+g.pretty(q)+", expected "+g.pretty(D)+")")}},isSignature:function(D,q){var B=this.reader.index;this.reader.setIndex(D);var z=this.reader.readString(4)===q;return this.reader.setIndex(B),z},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var D=this.reader.readData(this.zipCommentLength),q=E.uint8array?"uint8array":"array",B=g.transformTo(q,D);this.zipComment=this.loadOptions.decodeFileName(B)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var D,q,B,z=this.zip64EndOfCentralSize-44;0<z;)D=this.reader.readInt(2),q=this.reader.readInt(4),B=this.reader.readData(q),this.zip64ExtensibleData[D]={id:D,length:q,value:B}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var D,q;for(D=0;D<this.files.length;D++)q=this.files[D],this.reader.setIndex(q.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),q.readLocalPart(this.reader),q.handleUTF8(),q.processAttributes()},readCentralDir:function(){var D;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(D=new C({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(D);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var D=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(D<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(D);var q=D;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,(D=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(D),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var B=this.centralDirOffset+this.centralDirSize;this.zip64&&(B+=20,B+=12+this.zip64EndOfCentralSize);var z=q-B;if(0<z)this.isSignature(q,y.CENTRAL_FILE_HEADER)||(this.reader.zero=z);else if(z<0)throw new Error("Corrupted zip: missing "+Math.abs(z)+" bytes.")},prepareReader:function(D){this.reader=m(D)},load:function(D){this.prepareReader(D),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},v.exports=A},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(u,v,x){var m=u("./reader/readerFor"),g=u("./utils"),y=u("./compressedObject"),C=u("./crc32"),E=u("./utf8"),A=u("./compressions"),D=u("./support");function q(B,z){this.options=B,this.loadOptions=z}q.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(B){var z,K;if(B.skip(22),this.fileNameLength=B.readInt(2),K=B.readInt(2),this.fileName=B.readData(this.fileNameLength),B.skip(K),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((z=function(Y){for(var X in A)if(Object.prototype.hasOwnProperty.call(A,X)&&A[X].magic===Y)return A[X];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+g.pretty(this.compressionMethod)+" unknown (inner file : "+g.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,z,B.readData(this.compressedSize))},readCentralPart:function(B){this.versionMadeBy=B.readInt(2),B.skip(2),this.bitFlag=B.readInt(2),this.compressionMethod=B.readString(2),this.date=B.readDate(),this.crc32=B.readInt(4),this.compressedSize=B.readInt(4),this.uncompressedSize=B.readInt(4);var z=B.readInt(2);if(this.extraFieldsLength=B.readInt(2),this.fileCommentLength=B.readInt(2),this.diskNumberStart=B.readInt(2),this.internalFileAttributes=B.readInt(2),this.externalFileAttributes=B.readInt(4),this.localHeaderOffset=B.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");B.skip(z),this.readExtraFields(B),this.parseZIP64ExtraField(B),this.fileComment=B.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var B=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),B==0&&(this.dosPermissions=63&this.externalFileAttributes),B==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var B=m(this.extraFields[1].value);this.uncompressedSize===g.MAX_VALUE_32BITS&&(this.uncompressedSize=B.readInt(8)),this.compressedSize===g.MAX_VALUE_32BITS&&(this.compressedSize=B.readInt(8)),this.localHeaderOffset===g.MAX_VALUE_32BITS&&(this.localHeaderOffset=B.readInt(8)),this.diskNumberStart===g.MAX_VALUE_32BITS&&(this.diskNumberStart=B.readInt(4))}},readExtraFields:function(B){var z,K,Y,X=B.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});B.index+4<X;)z=B.readInt(2),K=B.readInt(2),Y=B.readData(K),this.extraFields[z]={id:z,length:K,value:Y};B.setIndex(X)},handleUTF8:function(){var B=D.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=E.utf8decode(this.fileName),this.fileCommentStr=E.utf8decode(this.fileComment);else{var z=this.findExtraFieldUnicodePath();if(z!==null)this.fileNameStr=z;else{var K=g.transformTo(B,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(K)}var Y=this.findExtraFieldUnicodeComment();if(Y!==null)this.fileCommentStr=Y;else{var X=g.transformTo(B,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(X)}}},findExtraFieldUnicodePath:function(){var B=this.extraFields[28789];if(B){var z=m(B.value);return z.readInt(1)!==1||C(this.fileName)!==z.readInt(4)?null:E.utf8decode(z.readData(B.length-5))}return null},findExtraFieldUnicodeComment:function(){var B=this.extraFields[25461];if(B){var z=m(B.value);return z.readInt(1)!==1||C(this.fileComment)!==z.readInt(4)?null:E.utf8decode(z.readData(B.length-5))}return null}},v.exports=q},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(u,v,x){function m(z,K,Y){this.name=z,this.dir=Y.dir,this.date=Y.date,this.comment=Y.comment,this.unixPermissions=Y.unixPermissions,this.dosPermissions=Y.dosPermissions,this._data=K,this._dataBinary=Y.binary,this.options={compression:Y.compression,compressionOptions:Y.compressionOptions}}var g=u("./stream/StreamHelper"),y=u("./stream/DataWorker"),C=u("./utf8"),E=u("./compressedObject"),A=u("./stream/GenericWorker");m.prototype={internalStream:function(z){var K=null,Y="string";try{if(!z)throw new Error("No output type specified.");var X=(Y=z.toLowerCase())==="string"||Y==="text";Y!=="binarystring"&&Y!=="text"||(Y="string"),K=this._decompressWorker();var O=!this._dataBinary;O&&!X&&(K=K.pipe(new C.Utf8EncodeWorker)),!O&&X&&(K=K.pipe(new C.Utf8DecodeWorker))}catch(P){(K=new A("error")).error(P)}return new g(K,Y,"")},async:function(z,K){return this.internalStream(z).accumulate(K)},nodeStream:function(z,K){return this.internalStream(z||"nodebuffer").toNodejsStream(K)},_compressWorker:function(z,K){if(this._data instanceof E&&this._data.compression.magic===z.magic)return this._data.getCompressedWorker();var Y=this._decompressWorker();return this._dataBinary||(Y=Y.pipe(new C.Utf8EncodeWorker)),E.createWorkerFrom(Y,z,K)},_decompressWorker:function(){return this._data instanceof E?this._data.getContentWorker():this._data instanceof A?this._data:new y(this._data)}};for(var D=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],q=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},B=0;B<D.length;B++)m.prototype[D[B]]=q;v.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(u,v,x){(function(m){var g,y,C=m.MutationObserver||m.WebKitMutationObserver;if(C){var E=0,A=new C(z),D=m.document.createTextNode("");A.observe(D,{characterData:!0}),g=function(){D.data=E=++E%2}}else if(m.setImmediate||m.MessageChannel===void 0)g="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var K=m.document.createElement("script");K.onreadystatechange=function(){z(),K.onreadystatechange=null,K.parentNode.removeChild(K),K=null},m.document.documentElement.appendChild(K)}:function(){setTimeout(z,0)};else{var q=new m.MessageChannel;q.port1.onmessage=z,g=function(){q.port2.postMessage(0)}}var B=[];function z(){var K,Y;y=!0;for(var X=B.length;X;){for(Y=B,B=[],K=-1;++K<X;)Y[K]();X=B.length}y=!1}v.exports=function(K){B.push(K)!==1||y||g()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(u,v,x){var m=u("immediate");function g(){}var y={},C=["REJECTED"],E=["FULFILLED"],A=["PENDING"];function D(X){if(typeof X!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,X!==g&&K(this,X)}function q(X,O,P){this.promise=X,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function B(X,O,P){m(function(){var N;try{N=O(P)}catch(_){return y.reject(X,_)}N===X?y.reject(X,new TypeError("Cannot resolve promise with itself")):y.resolve(X,N)})}function z(X){var O=X&&X.then;if(X&&(typeof X=="object"||typeof X=="function")&&typeof O=="function")return function(){O.apply(X,arguments)}}function K(X,O){var P=!1;function N(k){P||(P=!0,y.reject(X,k))}function _(k){P||(P=!0,y.resolve(X,k))}var j=Y(function(){O(_,N)});j.status==="error"&&N(j.value)}function Y(X,O){var P={};try{P.value=X(O),P.status="success"}catch(N){P.status="error",P.value=N}return P}(v.exports=D).prototype.finally=function(X){if(typeof X!="function")return this;var O=this.constructor;return this.then(function(P){return O.resolve(X()).then(function(){return P})},function(P){return O.resolve(X()).then(function(){throw P})})},D.prototype.catch=function(X){return this.then(null,X)},D.prototype.then=function(X,O){if(typeof X!="function"&&this.state===E||typeof O!="function"&&this.state===C)return this;var P=new this.constructor(g);return this.state!==A?B(P,this.state===E?X:O,this.outcome):this.queue.push(new q(P,X,O)),P},q.prototype.callFulfilled=function(X){y.resolve(this.promise,X)},q.prototype.otherCallFulfilled=function(X){B(this.promise,this.onFulfilled,X)},q.prototype.callRejected=function(X){y.reject(this.promise,X)},q.prototype.otherCallRejected=function(X){B(this.promise,this.onRejected,X)},y.resolve=function(X,O){var P=Y(z,O);if(P.status==="error")return y.reject(X,P.value);var N=P.value;if(N)K(X,N);else{X.state=E,X.outcome=O;for(var _=-1,j=X.queue.length;++_<j;)X.queue[_].callFulfilled(O)}return X},y.reject=function(X,O){X.state=C,X.outcome=O;for(var P=-1,N=X.queue.length;++P<N;)X.queue[P].callRejected(O);return X},D.resolve=function(X){return X instanceof this?X:y.resolve(new this(g),X)},D.reject=function(X){var O=new this(g);return y.reject(O,X)},D.all=function(X){var O=this;if(Object.prototype.toString.call(X)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=X.length,N=!1;if(!P)return this.resolve([]);for(var _=new Array(P),j=0,k=-1,T=new this(g);++k<P;)M(X[k],k);return T;function M(F,$){O.resolve(F).then(function(V){_[$]=V,++j!==P||N||(N=!0,y.resolve(T,_))},function(V){N||(N=!0,y.reject(T,V))})}},D.race=function(X){if(Object.prototype.toString.call(X)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=X.length,P=!1;if(!O)return this.resolve([]);for(var N,_=-1,j=new this(g);++_<O;)N=X[_],this.resolve(N).then(function(k){P||(P=!0,y.resolve(j,k))},function(k){P||(P=!0,y.reject(j,k))});return j}},{immediate:36}],38:[function(u,v,x){var m={};(0,u("./lib/utils/common").assign)(m,u("./lib/deflate"),u("./lib/inflate"),u("./lib/zlib/constants")),v.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(u,v,x){var m=u("./zlib/deflate"),g=u("./utils/common"),y=u("./utils/strings"),C=u("./zlib/messages"),E=u("./zlib/zstream"),A=Object.prototype.toString;function D(B){if(!(this instanceof D))return new D(B);this.options=g.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},B||{});var z=this.options;z.raw&&0<z.windowBits?z.windowBits=-z.windowBits:z.gzip&&0<z.windowBits&&z.windowBits<16&&(z.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var K=m.deflateInit2(this.strm,z.level,z.method,z.windowBits,z.memLevel,z.strategy);if(K!==0)throw new Error(C[K]);if(z.header&&m.deflateSetHeader(this.strm,z.header),z.dictionary){var Y;if(Y=typeof z.dictionary=="string"?y.string2buf(z.dictionary):A.call(z.dictionary)==="[object ArrayBuffer]"?new Uint8Array(z.dictionary):z.dictionary,(K=m.deflateSetDictionary(this.strm,Y))!==0)throw new Error(C[K]);this._dict_set=!0}}function q(B,z){var K=new D(z);if(K.push(B,!0),K.err)throw K.msg||C[K.err];return K.result}D.prototype.push=function(B,z){var K,Y,X=this.strm,O=this.options.chunkSize;if(this.ended)return!1;Y=z===~~z?z:z===!0?4:0,typeof B=="string"?X.input=y.string2buf(B):A.call(B)==="[object ArrayBuffer]"?X.input=new Uint8Array(B):X.input=B,X.next_in=0,X.avail_in=X.input.length;do{if(X.avail_out===0&&(X.output=new g.Buf8(O),X.next_out=0,X.avail_out=O),(K=m.deflate(X,Y))!==1&&K!==0)return this.onEnd(K),!(this.ended=!0);X.avail_out!==0&&(X.avail_in!==0||Y!==4&&Y!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(g.shrinkBuf(X.output,X.next_out))):this.onData(g.shrinkBuf(X.output,X.next_out)))}while((0<X.avail_in||X.avail_out===0)&&K!==1);return Y===4?(K=m.deflateEnd(this.strm),this.onEnd(K),this.ended=!0,K===0):Y!==2||(this.onEnd(0),!(X.avail_out=0))},D.prototype.onData=function(B){this.chunks.push(B)},D.prototype.onEnd=function(B){B===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg},x.Deflate=D,x.deflate=q,x.deflateRaw=function(B,z){return(z=z||{}).raw=!0,q(B,z)},x.gzip=function(B,z){return(z=z||{}).gzip=!0,q(B,z)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(u,v,x){var m=u("./zlib/inflate"),g=u("./utils/common"),y=u("./utils/strings"),C=u("./zlib/constants"),E=u("./zlib/messages"),A=u("./zlib/zstream"),D=u("./zlib/gzheader"),q=Object.prototype.toString;function B(K){if(!(this instanceof B))return new B(K);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},K||{});var Y=this.options;Y.raw&&0<=Y.windowBits&&Y.windowBits<16&&(Y.windowBits=-Y.windowBits,Y.windowBits===0&&(Y.windowBits=-15)),!(0<=Y.windowBits&&Y.windowBits<16)||K&&K.windowBits||(Y.windowBits+=32),15<Y.windowBits&&Y.windowBits<48&&(15&Y.windowBits)==0&&(Y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var X=m.inflateInit2(this.strm,Y.windowBits);if(X!==C.Z_OK)throw new Error(E[X]);this.header=new D,m.inflateGetHeader(this.strm,this.header)}function z(K,Y){var X=new B(Y);if(X.push(K,!0),X.err)throw X.msg||E[X.err];return X.result}B.prototype.push=function(K,Y){var X,O,P,N,_,j,k=this.strm,T=this.options.chunkSize,M=this.options.dictionary,F=!1;if(this.ended)return!1;O=Y===~~Y?Y:Y===!0?C.Z_FINISH:C.Z_NO_FLUSH,typeof K=="string"?k.input=y.binstring2buf(K):q.call(K)==="[object ArrayBuffer]"?k.input=new Uint8Array(K):k.input=K,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new g.Buf8(T),k.next_out=0,k.avail_out=T),(X=m.inflate(k,C.Z_NO_FLUSH))===C.Z_NEED_DICT&&M&&(j=typeof M=="string"?y.string2buf(M):q.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,X=m.inflateSetDictionary(this.strm,j)),X===C.Z_BUF_ERROR&&F===!0&&(X=C.Z_OK,F=!1),X!==C.Z_STREAM_END&&X!==C.Z_OK)return this.onEnd(X),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&X!==C.Z_STREAM_END&&(k.avail_in!==0||O!==C.Z_FINISH&&O!==C.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=y.utf8border(k.output,k.next_out),N=k.next_out-P,_=y.buf2string(k.output,P),k.next_out=N,k.avail_out=T-N,N&&g.arraySet(k.output,k.output,P,N,0),this.onData(_)):this.onData(g.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(F=!0)}while((0<k.avail_in||k.avail_out===0)&&X!==C.Z_STREAM_END);return X===C.Z_STREAM_END&&(O=C.Z_FINISH),O===C.Z_FINISH?(X=m.inflateEnd(this.strm),this.onEnd(X),this.ended=!0,X===C.Z_OK):O!==C.Z_SYNC_FLUSH||(this.onEnd(C.Z_OK),!(k.avail_out=0))},B.prototype.onData=function(K){this.chunks.push(K)},B.prototype.onEnd=function(K){K===C.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=K,this.msg=this.strm.msg},x.Inflate=B,x.inflate=z,x.inflateRaw=function(K,Y){return(Y=Y||{}).raw=!0,z(K,Y)},x.ungzip=z},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(u,v,x){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";x.assign=function(C){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var A=E.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var D in A)A.hasOwnProperty(D)&&(C[D]=A[D])}}return C},x.shrinkBuf=function(C,E){return C.length===E?C:C.subarray?C.subarray(0,E):(C.length=E,C)};var g={arraySet:function(C,E,A,D,q){if(E.subarray&&C.subarray)C.set(E.subarray(A,A+D),q);else for(var B=0;B<D;B++)C[q+B]=E[A+B]},flattenChunks:function(C){var E,A,D,q,B,z;for(E=D=0,A=C.length;E<A;E++)D+=C[E].length;for(z=new Uint8Array(D),E=q=0,A=C.length;E<A;E++)B=C[E],z.set(B,q),q+=B.length;return z}},y={arraySet:function(C,E,A,D,q){for(var B=0;B<D;B++)C[q+B]=E[A+B]},flattenChunks:function(C){return[].concat.apply([],C)}};x.setTyped=function(C){C?(x.Buf8=Uint8Array,x.Buf16=Uint16Array,x.Buf32=Int32Array,x.assign(x,g)):(x.Buf8=Array,x.Buf16=Array,x.Buf32=Array,x.assign(x,y))},x.setTyped(m)},{}],42:[function(u,v,x){var m=u("./common"),g=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var C=new m.Buf8(256),E=0;E<256;E++)C[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function A(D,q){if(q<65537&&(D.subarray&&y||!D.subarray&&g))return String.fromCharCode.apply(null,m.shrinkBuf(D,q));for(var B="",z=0;z<q;z++)B+=String.fromCharCode(D[z]);return B}C[254]=C[254]=1,x.string2buf=function(D){var q,B,z,K,Y,X=D.length,O=0;for(K=0;K<X;K++)(64512&(B=D.charCodeAt(K)))==55296&&K+1<X&&(64512&(z=D.charCodeAt(K+1)))==56320&&(B=65536+(B-55296<<10)+(z-56320),K++),O+=B<128?1:B<2048?2:B<65536?3:4;for(q=new m.Buf8(O),K=Y=0;Y<O;K++)(64512&(B=D.charCodeAt(K)))==55296&&K+1<X&&(64512&(z=D.charCodeAt(K+1)))==56320&&(B=65536+(B-55296<<10)+(z-56320),K++),B<128?q[Y++]=B:(B<2048?q[Y++]=192|B>>>6:(B<65536?q[Y++]=224|B>>>12:(q[Y++]=240|B>>>18,q[Y++]=128|B>>>12&63),q[Y++]=128|B>>>6&63),q[Y++]=128|63&B);return q},x.buf2binstring=function(D){return A(D,D.length)},x.binstring2buf=function(D){for(var q=new m.Buf8(D.length),B=0,z=q.length;B<z;B++)q[B]=D.charCodeAt(B);return q},x.buf2string=function(D,q){var B,z,K,Y,X=q||D.length,O=new Array(2*X);for(B=z=0;B<X;)if((K=D[B++])<128)O[z++]=K;else if(4<(Y=C[K]))O[z++]=65533,B+=Y-1;else{for(K&=Y===2?31:Y===3?15:7;1<Y&&B<X;)K=K<<6|63&D[B++],Y--;1<Y?O[z++]=65533:K<65536?O[z++]=K:(K-=65536,O[z++]=55296|K>>10&1023,O[z++]=56320|1023&K)}return A(O,z)},x.utf8border=function(D,q){var B;for((q=q||D.length)>D.length&&(q=D.length),B=q-1;0<=B&&(192&D[B])==128;)B--;return B<0||B===0?q:B+C[D[B]]>q?B:q}},{"./common":41}],43:[function(u,v,x){v.exports=function(m,g,y,C){for(var E=65535&m|0,A=m>>>16&65535|0,D=0;y!==0;){for(y-=D=2e3<y?2e3:y;A=A+(E=E+g[C++]|0)|0,--D;);E%=65521,A%=65521}return E|A<<16|0}},{}],44:[function(u,v,x){v.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(u,v,x){var m=function(){for(var g,y=[],C=0;C<256;C++){g=C;for(var E=0;E<8;E++)g=1&g?3988292384^g>>>1:g>>>1;y[C]=g}return y}();v.exports=function(g,y,C,E){var A=m,D=E+C;g^=-1;for(var q=E;q<D;q++)g=g>>>8^A[255&(g^y[q])];return-1^g}},{}],46:[function(u,v,x){var m,g=u("../utils/common"),y=u("./trees"),C=u("./adler32"),E=u("./crc32"),A=u("./messages"),D=-2,q=258,B=262,z=113;function K(U,Q){return U.msg=A[Q],Q}function Y(U){return(U<<1)-(4<U?9:0)}function X(U){for(var Q=U.length;0<=--Q;)U[Q]=0}function O(U){var Q=U.state,L=Q.pending;L>U.avail_out&&(L=U.avail_out),L!==0&&(g.arraySet(U.output,Q.pending_buf,Q.pending_out,L,U.next_out),U.next_out+=L,Q.pending_out+=L,U.total_out+=L,U.avail_out-=L,Q.pending-=L,Q.pending===0&&(Q.pending_out=0))}function P(U,Q){y._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,Q),U.block_start=U.strstart,O(U.strm)}function N(U,Q){U.pending_buf[U.pending++]=Q}function _(U,Q){U.pending_buf[U.pending++]=Q>>>8&255,U.pending_buf[U.pending++]=255&Q}function j(U,Q){var L,I,Z=U.max_chain_length,te=U.strstart,ie=U.prev_length,se=U.nice_match,le=U.strstart>U.w_size-B?U.strstart-(U.w_size-B):0,me=U.window,ae=U.w_mask,re=U.prev,oe=U.strstart+q,ue=me[te+ie-1],fe=me[te+ie];U.prev_length>=U.good_match&&(Z>>=2),se>U.lookahead&&(se=U.lookahead);do if(me[(L=Q)+ie]===fe&&me[L+ie-1]===ue&&me[L]===me[te]&&me[++L]===me[te+1]){te+=2,L++;do;while(me[++te]===me[++L]&&me[++te]===me[++L]&&me[++te]===me[++L]&&me[++te]===me[++L]&&me[++te]===me[++L]&&me[++te]===me[++L]&&me[++te]===me[++L]&&me[++te]===me[++L]&&te<oe);if(I=q-(oe-te),te=oe-q,ie<I){if(U.match_start=Q,se<=(ie=I))break;ue=me[te+ie-1],fe=me[te+ie]}}while((Q=re[Q&ae])>le&&--Z!=0);return ie<=U.lookahead?ie:U.lookahead}function k(U){var Q,L,I,Z,te,ie,se,le,me,ae,re=U.w_size;do{if(Z=U.window_size-U.lookahead-U.strstart,U.strstart>=re+(re-B)){for(g.arraySet(U.window,U.window,re,re,0),U.match_start-=re,U.strstart-=re,U.block_start-=re,Q=L=U.hash_size;I=U.head[--Q],U.head[Q]=re<=I?I-re:0,--L;);for(Q=L=re;I=U.prev[--Q],U.prev[Q]=re<=I?I-re:0,--L;);Z+=re}if(U.strm.avail_in===0)break;if(ie=U.strm,se=U.window,le=U.strstart+U.lookahead,ae=void 0,(me=Z)<(ae=ie.avail_in)&&(ae=me),L=ae===0?0:(ie.avail_in-=ae,g.arraySet(se,ie.input,ie.next_in,ae,le),ie.state.wrap===1?ie.adler=C(ie.adler,se,ae,le):ie.state.wrap===2&&(ie.adler=E(ie.adler,se,ae,le)),ie.next_in+=ae,ie.total_in+=ae,ae),U.lookahead+=L,U.lookahead+U.insert>=3)for(te=U.strstart-U.insert,U.ins_h=U.window[te],U.ins_h=(U.ins_h<<U.hash_shift^U.window[te+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[te+3-1])&U.hash_mask,U.prev[te&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=te,te++,U.insert--,!(U.lookahead+U.insert<3)););}while(U.lookahead<B&&U.strm.avail_in!==0)}function T(U,Q){for(var L,I;;){if(U.lookahead<B){if(k(U),U.lookahead<B&&Q===0)return 1;if(U.lookahead===0)break}if(L=0,U.lookahead>=3&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+3-1])&U.hash_mask,L=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),L!==0&&U.strstart-L<=U.w_size-B&&(U.match_length=j(U,L)),U.match_length>=3)if(I=y._tr_tally(U,U.strstart-U.match_start,U.match_length-3),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=3){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+3-1])&U.hash_mask,L=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else I=y._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(I&&(P(U,!1),U.strm.avail_out===0))return 1}return U.insert=U.strstart<2?U.strstart:2,Q===4?(P(U,!0),U.strm.avail_out===0?3:4):U.last_lit&&(P(U,!1),U.strm.avail_out===0)?1:2}function M(U,Q){for(var L,I,Z;;){if(U.lookahead<B){if(k(U),U.lookahead<B&&Q===0)return 1;if(U.lookahead===0)break}if(L=0,U.lookahead>=3&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+3-1])&U.hash_mask,L=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=2,L!==0&&U.prev_length<U.max_lazy_match&&U.strstart-L<=U.w_size-B&&(U.match_length=j(U,L),U.match_length<=5&&(U.strategy===1||U.match_length===3&&4096<U.strstart-U.match_start)&&(U.match_length=2)),U.prev_length>=3&&U.match_length<=U.prev_length){for(Z=U.strstart+U.lookahead-3,I=y._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-3),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=Z&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+3-1])&U.hash_mask,L=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=2,U.strstart++,I&&(P(U,!1),U.strm.avail_out===0))return 1}else if(U.match_available){if((I=y._tr_tally(U,0,U.window[U.strstart-1]))&&P(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return 1}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(I=y._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<2?U.strstart:2,Q===4?(P(U,!0),U.strm.avail_out===0?3:4):U.last_lit&&(P(U,!1),U.strm.avail_out===0)?1:2}function F(U,Q,L,I,Z){this.good_length=U,this.max_lazy=Q,this.nice_length=L,this.max_chain=I,this.func=Z}function $(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(1146),this.dyn_dtree=new g.Buf16(122),this.bl_tree=new g.Buf16(78),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(16),this.heap=new g.Buf16(573),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(573),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(U){var Q;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=2,(Q=U.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?42:z,U.adler=Q.wrap===2?0:1,Q.last_flush=0,y._tr_init(Q),0):K(U,D)}function W(U){var Q=V(U);return Q===0&&function(L){L.window_size=2*L.w_size,X(L.head),L.max_lazy_match=m[L.level].max_lazy,L.good_match=m[L.level].good_length,L.nice_match=m[L.level].nice_length,L.max_chain_length=m[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=2,L.match_available=0,L.ins_h=0}(U.state),Q}function ee(U,Q,L,I,Z,te){if(!U)return D;var ie=1;if(Q===-1&&(Q=6),I<0?(ie=0,I=-I):15<I&&(ie=2,I-=16),Z<1||9<Z||L!==8||I<8||15<I||Q<0||9<Q||te<0||4<te)return K(U,D);I===8&&(I=9);var se=new $;return(U.state=se).strm=U,se.wrap=ie,se.gzhead=null,se.w_bits=I,se.w_size=1<<se.w_bits,se.w_mask=se.w_size-1,se.hash_bits=Z+7,se.hash_size=1<<se.hash_bits,se.hash_mask=se.hash_size-1,se.hash_shift=~~((se.hash_bits+3-1)/3),se.window=new g.Buf8(2*se.w_size),se.head=new g.Buf16(se.hash_size),se.prev=new g.Buf16(se.w_size),se.lit_bufsize=1<<Z+6,se.pending_buf_size=4*se.lit_bufsize,se.pending_buf=new g.Buf8(se.pending_buf_size),se.d_buf=1*se.lit_bufsize,se.l_buf=3*se.lit_bufsize,se.level=Q,se.strategy=te,se.method=L,W(U)}m=[new F(0,0,0,0,function(U,Q){var L=65535;for(L>U.pending_buf_size-5&&(L=U.pending_buf_size-5);;){if(U.lookahead<=1){if(k(U),U.lookahead===0&&Q===0)return 1;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var I=U.block_start+L;if((U.strstart===0||U.strstart>=I)&&(U.lookahead=U.strstart-I,U.strstart=I,P(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-B&&(P(U,!1),U.strm.avail_out===0))return 1}return U.insert=0,Q===4?(P(U,!0),U.strm.avail_out===0?3:4):(U.strstart>U.block_start&&(P(U,!1),U.strm.avail_out),1)}),new F(4,4,8,4,T),new F(4,5,16,8,T),new F(4,6,32,32,T),new F(4,4,16,16,M),new F(8,16,32,32,M),new F(8,16,128,128,M),new F(8,32,128,256,M),new F(32,128,258,1024,M),new F(32,258,258,4096,M)],x.deflateInit=function(U,Q){return ee(U,Q,8,15,8,0)},x.deflateInit2=ee,x.deflateReset=W,x.deflateResetKeep=V,x.deflateSetHeader=function(U,Q){return U&&U.state?U.state.wrap!==2?D:(U.state.gzhead=Q,0):D},x.deflate=function(U,Q){var L,I,Z,te;if(!U||!U.state||5<Q||Q<0)return U?K(U,D):D;if(I=U.state,!U.output||!U.input&&U.avail_in!==0||I.status===666&&Q!==4)return K(U,U.avail_out===0?-5:D);if(I.strm=U,L=I.last_flush,I.last_flush=Q,I.status===42)if(I.wrap===2)U.adler=0,N(I,31),N(I,139),N(I,8),I.gzhead?(N(I,(I.gzhead.text?1:0)+(I.gzhead.hcrc?2:0)+(I.gzhead.extra?4:0)+(I.gzhead.name?8:0)+(I.gzhead.comment?16:0)),N(I,255&I.gzhead.time),N(I,I.gzhead.time>>8&255),N(I,I.gzhead.time>>16&255),N(I,I.gzhead.time>>24&255),N(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),N(I,255&I.gzhead.os),I.gzhead.extra&&I.gzhead.extra.length&&(N(I,255&I.gzhead.extra.length),N(I,I.gzhead.extra.length>>8&255)),I.gzhead.hcrc&&(U.adler=E(U.adler,I.pending_buf,I.pending,0)),I.gzindex=0,I.status=69):(N(I,0),N(I,0),N(I,0),N(I,0),N(I,0),N(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),N(I,3),I.status=z);else{var ie=8+(I.w_bits-8<<4)<<8;ie|=(2<=I.strategy||I.level<2?0:I.level<6?1:I.level===6?2:3)<<6,I.strstart!==0&&(ie|=32),ie+=31-ie%31,I.status=z,_(I,ie),I.strstart!==0&&(_(I,U.adler>>>16),_(I,65535&U.adler)),U.adler=1}if(I.status===69)if(I.gzhead.extra){for(Z=I.pending;I.gzindex<(65535&I.gzhead.extra.length)&&(I.pending!==I.pending_buf_size||(I.gzhead.hcrc&&I.pending>Z&&(U.adler=E(U.adler,I.pending_buf,I.pending-Z,Z)),O(U),Z=I.pending,I.pending!==I.pending_buf_size));)N(I,255&I.gzhead.extra[I.gzindex]),I.gzindex++;I.gzhead.hcrc&&I.pending>Z&&(U.adler=E(U.adler,I.pending_buf,I.pending-Z,Z)),I.gzindex===I.gzhead.extra.length&&(I.gzindex=0,I.status=73)}else I.status=73;if(I.status===73)if(I.gzhead.name){Z=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>Z&&(U.adler=E(U.adler,I.pending_buf,I.pending-Z,Z)),O(U),Z=I.pending,I.pending===I.pending_buf_size)){te=1;break}te=I.gzindex<I.gzhead.name.length?255&I.gzhead.name.charCodeAt(I.gzindex++):0,N(I,te)}while(te!==0);I.gzhead.hcrc&&I.pending>Z&&(U.adler=E(U.adler,I.pending_buf,I.pending-Z,Z)),te===0&&(I.gzindex=0,I.status=91)}else I.status=91;if(I.status===91)if(I.gzhead.comment){Z=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>Z&&(U.adler=E(U.adler,I.pending_buf,I.pending-Z,Z)),O(U),Z=I.pending,I.pending===I.pending_buf_size)){te=1;break}te=I.gzindex<I.gzhead.comment.length?255&I.gzhead.comment.charCodeAt(I.gzindex++):0,N(I,te)}while(te!==0);I.gzhead.hcrc&&I.pending>Z&&(U.adler=E(U.adler,I.pending_buf,I.pending-Z,Z)),te===0&&(I.status=103)}else I.status=103;if(I.status===103&&(I.gzhead.hcrc?(I.pending+2>I.pending_buf_size&&O(U),I.pending+2<=I.pending_buf_size&&(N(I,255&U.adler),N(I,U.adler>>8&255),U.adler=0,I.status=z)):I.status=z),I.pending!==0){if(O(U),U.avail_out===0)return I.last_flush=-1,0}else if(U.avail_in===0&&Y(Q)<=Y(L)&&Q!==4)return K(U,-5);if(I.status===666&&U.avail_in!==0)return K(U,-5);if(U.avail_in!==0||I.lookahead!==0||Q!==0&&I.status!==666){var se=I.strategy===2?function(le,me){for(var ae;;){if(le.lookahead===0&&(k(le),le.lookahead===0)){if(me===0)return 1;break}if(le.match_length=0,ae=y._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,ae&&(P(le,!1),le.strm.avail_out===0))return 1}return le.insert=0,me===4?(P(le,!0),le.strm.avail_out===0?3:4):le.last_lit&&(P(le,!1),le.strm.avail_out===0)?1:2}(I,Q):I.strategy===3?function(le,me){for(var ae,re,oe,ue,fe=le.window;;){if(le.lookahead<=q){if(k(le),le.lookahead<=q&&me===0)return 1;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=3&&0<le.strstart&&(re=fe[oe=le.strstart-1])===fe[++oe]&&re===fe[++oe]&&re===fe[++oe]){ue=le.strstart+q;do;while(re===fe[++oe]&&re===fe[++oe]&&re===fe[++oe]&&re===fe[++oe]&&re===fe[++oe]&&re===fe[++oe]&&re===fe[++oe]&&re===fe[++oe]&&oe<ue);le.match_length=q-(ue-oe),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=3?(ae=y._tr_tally(le,1,le.match_length-3),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(ae=y._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),ae&&(P(le,!1),le.strm.avail_out===0))return 1}return le.insert=0,me===4?(P(le,!0),le.strm.avail_out===0?3:4):le.last_lit&&(P(le,!1),le.strm.avail_out===0)?1:2}(I,Q):m[I.level].func(I,Q);if(se!==3&&se!==4||(I.status=666),se===1||se===3)return U.avail_out===0&&(I.last_flush=-1),0;if(se===2&&(Q===1?y._tr_align(I):Q!==5&&(y._tr_stored_block(I,0,0,!1),Q===3&&(X(I.head),I.lookahead===0&&(I.strstart=0,I.block_start=0,I.insert=0))),O(U),U.avail_out===0))return I.last_flush=-1,0}return Q!==4?0:I.wrap<=0?1:(I.wrap===2?(N(I,255&U.adler),N(I,U.adler>>8&255),N(I,U.adler>>16&255),N(I,U.adler>>24&255),N(I,255&U.total_in),N(I,U.total_in>>8&255),N(I,U.total_in>>16&255),N(I,U.total_in>>24&255)):(_(I,U.adler>>>16),_(I,65535&U.adler)),O(U),0<I.wrap&&(I.wrap=-I.wrap),I.pending!==0?0:1)},x.deflateEnd=function(U){var Q;return U&&U.state?(Q=U.state.status)!==42&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==z&&Q!==666?K(U,D):(U.state=null,Q===z?K(U,-3):0):D},x.deflateSetDictionary=function(U,Q){var L,I,Z,te,ie,se,le,me,ae=Q.length;if(!U||!U.state||(te=(L=U.state).wrap)===2||te===1&&L.status!==42||L.lookahead)return D;for(te===1&&(U.adler=C(U.adler,Q,ae,0)),L.wrap=0,ae>=L.w_size&&(te===0&&(X(L.head),L.strstart=0,L.block_start=0,L.insert=0),me=new g.Buf8(L.w_size),g.arraySet(me,Q,ae-L.w_size,L.w_size,0),Q=me,ae=L.w_size),ie=U.avail_in,se=U.next_in,le=U.input,U.avail_in=ae,U.next_in=0,U.input=Q,k(L);L.lookahead>=3;){for(I=L.strstart,Z=L.lookahead-2;L.ins_h=(L.ins_h<<L.hash_shift^L.window[I+3-1])&L.hash_mask,L.prev[I&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=I,I++,--Z;);L.strstart=I,L.lookahead=2,k(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=2,L.match_available=0,U.next_in=se,U.input=le,U.avail_in=ie,L.wrap=te,0},x.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(u,v,x){v.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(u,v,x){v.exports=function(m,g){var y,C,E,A,D,q,B,z,K,Y,X,O,P,N,_,j,k,T,M,F,$,V,W,ee,U;y=m.state,C=m.next_in,ee=m.input,E=C+(m.avail_in-5),A=m.next_out,U=m.output,D=A-(g-m.avail_out),q=A+(m.avail_out-257),B=y.dmax,z=y.wsize,K=y.whave,Y=y.wnext,X=y.window,O=y.hold,P=y.bits,N=y.lencode,_=y.distcode,j=(1<<y.lenbits)-1,k=(1<<y.distbits)-1;e:do{P<15&&(O+=ee[C++]<<P,P+=8,O+=ee[C++]<<P,P+=8),T=N[O&j];t:for(;;){if(O>>>=M=T>>>24,P-=M,(M=T>>>16&255)==0)U[A++]=65535&T;else{if(!(16&M)){if((64&M)==0){T=N[(65535&T)+(O&(1<<M)-1)];continue t}if(32&M){y.mode=12;break e}m.msg="invalid literal/length code",y.mode=30;break e}F=65535&T,(M&=15)&&(P<M&&(O+=ee[C++]<<P,P+=8),F+=O&(1<<M)-1,O>>>=M,P-=M),P<15&&(O+=ee[C++]<<P,P+=8,O+=ee[C++]<<P,P+=8),T=_[O&k];r:for(;;){if(O>>>=M=T>>>24,P-=M,!(16&(M=T>>>16&255))){if((64&M)==0){T=_[(65535&T)+(O&(1<<M)-1)];continue r}m.msg="invalid distance code",y.mode=30;break e}if($=65535&T,P<(M&=15)&&(O+=ee[C++]<<P,(P+=8)<M&&(O+=ee[C++]<<P,P+=8)),B<($+=O&(1<<M)-1)){m.msg="invalid distance too far back",y.mode=30;break e}if(O>>>=M,P-=M,(M=A-D)<$){if(K<(M=$-M)&&y.sane){m.msg="invalid distance too far back",y.mode=30;break e}if(W=X,(V=0)===Y){if(V+=z-M,M<F){for(F-=M;U[A++]=X[V++],--M;);V=A-$,W=U}}else if(Y<M){if(V+=z+Y-M,(M-=Y)<F){for(F-=M;U[A++]=X[V++],--M;);if(V=0,Y<F){for(F-=M=Y;U[A++]=X[V++],--M;);V=A-$,W=U}}}else if(V+=Y-M,M<F){for(F-=M;U[A++]=X[V++],--M;);V=A-$,W=U}for(;2<F;)U[A++]=W[V++],U[A++]=W[V++],U[A++]=W[V++],F-=3;F&&(U[A++]=W[V++],1<F&&(U[A++]=W[V++]))}else{for(V=A-$;U[A++]=U[V++],U[A++]=U[V++],U[A++]=U[V++],2<(F-=3););F&&(U[A++]=U[V++],1<F&&(U[A++]=U[V++]))}break}}break}}while(C<E&&A<q);C-=F=P>>3,O&=(1<<(P-=F<<3))-1,m.next_in=C,m.next_out=A,m.avail_in=C<E?E-C+5:5-(C-E),m.avail_out=A<q?q-A+257:257-(A-q),y.hold=O,y.bits=P}},{}],49:[function(u,v,x){var m=u("../utils/common"),g=u("./adler32"),y=u("./crc32"),C=u("./inffast"),E=u("./inftrees"),A=-2;function D(j){return(j>>>24&255)+(j>>>8&65280)+((65280&j)<<8)+((255&j)<<24)}function q(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function B(j){var k;return j&&j.state?(k=j.state,j.total_in=j.total_out=k.total=0,j.msg="",k.wrap&&(j.adler=1&k.wrap),k.mode=1,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new m.Buf32(852),k.distcode=k.distdyn=new m.Buf32(592),k.sane=1,k.back=-1,0):A}function z(j){var k;return j&&j.state?((k=j.state).wsize=0,k.whave=0,k.wnext=0,B(j)):A}function K(j,k){var T,M;return j&&j.state?(M=j.state,k<0?(T=0,k=-k):(T=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?A:(M.window!==null&&M.wbits!==k&&(M.window=null),M.wrap=T,M.wbits=k,z(j))):A}function Y(j,k){var T,M;return j?(M=new q,(j.state=M).window=null,(T=K(j,k))!==0&&(j.state=null),T):A}var X,O,P=!0;function N(j){if(P){var k;for(X=new m.Buf32(512),O=new m.Buf32(32),k=0;k<144;)j.lens[k++]=8;for(;k<256;)j.lens[k++]=9;for(;k<280;)j.lens[k++]=7;for(;k<288;)j.lens[k++]=8;for(E(1,j.lens,0,288,X,0,j.work,{bits:9}),k=0;k<32;)j.lens[k++]=5;E(2,j.lens,0,32,O,0,j.work,{bits:5}),P=!1}j.lencode=X,j.lenbits=9,j.distcode=O,j.distbits=5}function _(j,k,T,M){var F,$=j.state;return $.window===null&&($.wsize=1<<$.wbits,$.wnext=0,$.whave=0,$.window=new m.Buf8($.wsize)),M>=$.wsize?(m.arraySet($.window,k,T-$.wsize,$.wsize,0),$.wnext=0,$.whave=$.wsize):(M<(F=$.wsize-$.wnext)&&(F=M),m.arraySet($.window,k,T-M,F,$.wnext),(M-=F)?(m.arraySet($.window,k,T-M,M,0),$.wnext=M,$.whave=$.wsize):($.wnext+=F,$.wnext===$.wsize&&($.wnext=0),$.whave<$.wsize&&($.whave+=F))),0}x.inflateReset=z,x.inflateReset2=K,x.inflateResetKeep=B,x.inflateInit=function(j){return Y(j,15)},x.inflateInit2=Y,x.inflate=function(j,k){var T,M,F,$,V,W,ee,U,Q,L,I,Z,te,ie,se,le,me,ae,re,oe,ue,fe,be,Ce,Ae=0,Pe=new m.Buf8(4),Fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!j||!j.state||!j.output||!j.input&&j.avail_in!==0)return A;(T=j.state).mode===12&&(T.mode=13),V=j.next_out,F=j.output,ee=j.avail_out,$=j.next_in,M=j.input,W=j.avail_in,U=T.hold,Q=T.bits,L=W,I=ee,fe=0;e:for(;;)switch(T.mode){case 1:if(T.wrap===0){T.mode=13;break}for(;Q<16;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}if(2&T.wrap&&U===35615){Pe[T.check=0]=255&U,Pe[1]=U>>>8&255,T.check=y(T.check,Pe,2,0),Q=U=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&U)<<8)+(U>>8))%31){j.msg="incorrect header check",T.mode=30;break}if((15&U)!=8){j.msg="unknown compression method",T.mode=30;break}if(Q-=4,ue=8+(15&(U>>>=4)),T.wbits===0)T.wbits=ue;else if(ue>T.wbits){j.msg="invalid window size",T.mode=30;break}T.dmax=1<<ue,j.adler=T.check=1,T.mode=512&U?10:12,Q=U=0;break;case 2:for(;Q<16;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}if(T.flags=U,(255&T.flags)!=8){j.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){j.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=U>>8&1),512&T.flags&&(Pe[0]=255&U,Pe[1]=U>>>8&255,T.check=y(T.check,Pe,2,0)),Q=U=0,T.mode=3;case 3:for(;Q<32;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}T.head&&(T.head.time=U),512&T.flags&&(Pe[0]=255&U,Pe[1]=U>>>8&255,Pe[2]=U>>>16&255,Pe[3]=U>>>24&255,T.check=y(T.check,Pe,4,0)),Q=U=0,T.mode=4;case 4:for(;Q<16;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}T.head&&(T.head.xflags=255&U,T.head.os=U>>8),512&T.flags&&(Pe[0]=255&U,Pe[1]=U>>>8&255,T.check=y(T.check,Pe,2,0)),Q=U=0,T.mode=5;case 5:if(1024&T.flags){for(;Q<16;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}T.length=U,T.head&&(T.head.extra_len=U),512&T.flags&&(Pe[0]=255&U,Pe[1]=U>>>8&255,T.check=y(T.check,Pe,2,0)),Q=U=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(W<(Z=T.length)&&(Z=W),Z&&(T.head&&(ue=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),m.arraySet(T.head.extra,M,$,Z,ue)),512&T.flags&&(T.check=y(T.check,M,Z,$)),W-=Z,$+=Z,T.length-=Z),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(W===0)break e;for(Z=0;ue=M[$+Z++],T.head&&ue&&T.length<65536&&(T.head.name+=String.fromCharCode(ue)),ue&&Z<W;);if(512&T.flags&&(T.check=y(T.check,M,Z,$)),W-=Z,$+=Z,ue)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(W===0)break e;for(Z=0;ue=M[$+Z++],T.head&&ue&&T.length<65536&&(T.head.comment+=String.fromCharCode(ue)),ue&&Z<W;);if(512&T.flags&&(T.check=y(T.check,M,Z,$)),W-=Z,$+=Z,ue)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;Q<16;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}if(U!==(65535&T.check)){j.msg="header crc mismatch",T.mode=30;break}Q=U=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),j.adler=T.check=0,T.mode=12;break;case 10:for(;Q<32;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}j.adler=T.check=D(U),Q=U=0,T.mode=11;case 11:if(T.havedict===0)return j.next_out=V,j.avail_out=ee,j.next_in=$,j.avail_in=W,T.hold=U,T.bits=Q,2;j.adler=T.check=1,T.mode=12;case 12:if(k===5||k===6)break e;case 13:if(T.last){U>>>=7&Q,Q-=7&Q,T.mode=27;break}for(;Q<3;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}switch(T.last=1&U,Q-=1,3&(U>>>=1)){case 0:T.mode=14;break;case 1:if(N(T),T.mode=20,k!==6)break;U>>>=2,Q-=2;break e;case 2:T.mode=17;break;case 3:j.msg="invalid block type",T.mode=30}U>>>=2,Q-=2;break;case 14:for(U>>>=7&Q,Q-=7&Q;Q<32;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}if((65535&U)!=(U>>>16^65535)){j.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&U,Q=U=0,T.mode=15,k===6)break e;case 15:T.mode=16;case 16:if(Z=T.length){if(W<Z&&(Z=W),ee<Z&&(Z=ee),Z===0)break e;m.arraySet(F,M,$,Z,V),W-=Z,$+=Z,ee-=Z,V+=Z,T.length-=Z;break}T.mode=12;break;case 17:for(;Q<14;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}if(T.nlen=257+(31&U),U>>>=5,Q-=5,T.ndist=1+(31&U),U>>>=5,Q-=5,T.ncode=4+(15&U),U>>>=4,Q-=4,286<T.nlen||30<T.ndist){j.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;Q<3;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}T.lens[Fe[T.have++]]=7&U,U>>>=3,Q-=3}for(;T.have<19;)T.lens[Fe[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,be={bits:T.lenbits},fe=E(0,T.lens,0,19,T.lencode,0,T.work,be),T.lenbits=be.bits,fe){j.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;le=(Ae=T.lencode[U&(1<<T.lenbits)-1])>>>16&255,me=65535&Ae,!((se=Ae>>>24)<=Q);){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}if(me<16)U>>>=se,Q-=se,T.lens[T.have++]=me;else{if(me===16){for(Ce=se+2;Q<Ce;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}if(U>>>=se,Q-=se,T.have===0){j.msg="invalid bit length repeat",T.mode=30;break}ue=T.lens[T.have-1],Z=3+(3&U),U>>>=2,Q-=2}else if(me===17){for(Ce=se+3;Q<Ce;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}Q-=se,ue=0,Z=3+(7&(U>>>=se)),U>>>=3,Q-=3}else{for(Ce=se+7;Q<Ce;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}Q-=se,ue=0,Z=11+(127&(U>>>=se)),U>>>=7,Q-=7}if(T.have+Z>T.nlen+T.ndist){j.msg="invalid bit length repeat",T.mode=30;break}for(;Z--;)T.lens[T.have++]=ue}}if(T.mode===30)break;if(T.lens[256]===0){j.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,be={bits:T.lenbits},fe=E(1,T.lens,0,T.nlen,T.lencode,0,T.work,be),T.lenbits=be.bits,fe){j.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,be={bits:T.distbits},fe=E(2,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,be),T.distbits=be.bits,fe){j.msg="invalid distances set",T.mode=30;break}if(T.mode=20,k===6)break e;case 20:T.mode=21;case 21:if(6<=W&&258<=ee){j.next_out=V,j.avail_out=ee,j.next_in=$,j.avail_in=W,T.hold=U,T.bits=Q,C(j,I),V=j.next_out,F=j.output,ee=j.avail_out,$=j.next_in,M=j.input,W=j.avail_in,U=T.hold,Q=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;le=(Ae=T.lencode[U&(1<<T.lenbits)-1])>>>16&255,me=65535&Ae,!((se=Ae>>>24)<=Q);){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}if(le&&(240&le)==0){for(ae=se,re=le,oe=me;le=(Ae=T.lencode[oe+((U&(1<<ae+re)-1)>>ae)])>>>16&255,me=65535&Ae,!(ae+(se=Ae>>>24)<=Q);){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}U>>>=ae,Q-=ae,T.back+=ae}if(U>>>=se,Q-=se,T.back+=se,T.length=me,le===0){T.mode=26;break}if(32&le){T.back=-1,T.mode=12;break}if(64&le){j.msg="invalid literal/length code",T.mode=30;break}T.extra=15&le,T.mode=22;case 22:if(T.extra){for(Ce=T.extra;Q<Ce;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}T.length+=U&(1<<T.extra)-1,U>>>=T.extra,Q-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;le=(Ae=T.distcode[U&(1<<T.distbits)-1])>>>16&255,me=65535&Ae,!((se=Ae>>>24)<=Q);){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}if((240&le)==0){for(ae=se,re=le,oe=me;le=(Ae=T.distcode[oe+((U&(1<<ae+re)-1)>>ae)])>>>16&255,me=65535&Ae,!(ae+(se=Ae>>>24)<=Q);){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}U>>>=ae,Q-=ae,T.back+=ae}if(U>>>=se,Q-=se,T.back+=se,64&le){j.msg="invalid distance code",T.mode=30;break}T.offset=me,T.extra=15&le,T.mode=24;case 24:if(T.extra){for(Ce=T.extra;Q<Ce;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}T.offset+=U&(1<<T.extra)-1,U>>>=T.extra,Q-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){j.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(ee===0)break e;if(Z=I-ee,T.offset>Z){if((Z=T.offset-Z)>T.whave&&T.sane){j.msg="invalid distance too far back",T.mode=30;break}te=Z>T.wnext?(Z-=T.wnext,T.wsize-Z):T.wnext-Z,Z>T.length&&(Z=T.length),ie=T.window}else ie=F,te=V-T.offset,Z=T.length;for(ee<Z&&(Z=ee),ee-=Z,T.length-=Z;F[V++]=ie[te++],--Z;);T.length===0&&(T.mode=21);break;case 26:if(ee===0)break e;F[V++]=T.length,ee--,T.mode=21;break;case 27:if(T.wrap){for(;Q<32;){if(W===0)break e;W--,U|=M[$++]<<Q,Q+=8}if(I-=ee,j.total_out+=I,T.total+=I,I&&(j.adler=T.check=T.flags?y(T.check,F,I,V-I):g(T.check,F,I,V-I)),I=ee,(T.flags?U:D(U))!==T.check){j.msg="incorrect data check",T.mode=30;break}Q=U=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;Q<32;){if(W===0)break e;W--,U+=M[$++]<<Q,Q+=8}if(U!==(4294967295&T.total)){j.msg="incorrect length check",T.mode=30;break}Q=U=0}T.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return A}return j.next_out=V,j.avail_out=ee,j.next_in=$,j.avail_in=W,T.hold=U,T.bits=Q,(T.wsize||I!==j.avail_out&&T.mode<30&&(T.mode<27||k!==4))&&_(j,j.output,j.next_out,I-j.avail_out)?(T.mode=31,-4):(L-=j.avail_in,I-=j.avail_out,j.total_in+=L,j.total_out+=I,T.total+=I,T.wrap&&I&&(j.adler=T.check=T.flags?y(T.check,F,I,j.next_out-I):g(T.check,F,I,j.next_out-I)),j.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(L==0&&I===0||k===4)&&fe===0&&(fe=-5),fe)},x.inflateEnd=function(j){if(!j||!j.state)return A;var k=j.state;return k.window&&(k.window=null),j.state=null,0},x.inflateGetHeader=function(j,k){var T;return j&&j.state?(2&(T=j.state).wrap)==0?A:((T.head=k).done=!1,0):A},x.inflateSetDictionary=function(j,k){var T,M=k.length;return j&&j.state?(T=j.state).wrap!==0&&T.mode!==11?A:T.mode===11&&g(1,k,M,0)!==T.check?-3:_(j,k,M,M)?(T.mode=31,-4):(T.havedict=1,0):A},x.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(u,v,x){var m=u("../utils/common"),g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];v.exports=function(A,D,q,B,z,K,Y,X){var O,P,N,_,j,k,T,M,F,$=X.bits,V=0,W=0,ee=0,U=0,Q=0,L=0,I=0,Z=0,te=0,ie=0,se=null,le=0,me=new m.Buf16(16),ae=new m.Buf16(16),re=null,oe=0;for(V=0;V<=15;V++)me[V]=0;for(W=0;W<B;W++)me[D[q+W]]++;for(Q=$,U=15;1<=U&&me[U]===0;U--);if(U<Q&&(Q=U),U===0)return z[K++]=20971520,z[K++]=20971520,X.bits=1,0;for(ee=1;ee<U&&me[ee]===0;ee++);for(Q<ee&&(Q=ee),V=Z=1;V<=15;V++)if(Z<<=1,(Z-=me[V])<0)return-1;if(0<Z&&(A===0||U!==1))return-1;for(ae[1]=0,V=1;V<15;V++)ae[V+1]=ae[V]+me[V];for(W=0;W<B;W++)D[q+W]!==0&&(Y[ae[D[q+W]]++]=W);if(k=A===0?(se=re=Y,19):A===1?(se=g,le-=257,re=y,oe-=257,256):(se=C,re=E,-1),V=ee,j=K,I=W=ie=0,N=-1,_=(te=1<<(L=Q))-1,A===1&&852<te||A===2&&592<te)return 1;for(;;){for(T=V-I,F=Y[W]<k?(M=0,Y[W]):Y[W]>k?(M=re[oe+Y[W]],se[le+Y[W]]):(M=96,0),O=1<<V-I,ee=P=1<<L;z[j+(ie>>I)+(P-=O)]=T<<24|M<<16|F|0,P!==0;);for(O=1<<V-1;ie&O;)O>>=1;if(O!==0?(ie&=O-1,ie+=O):ie=0,W++,--me[V]==0){if(V===U)break;V=D[q+Y[W]]}if(Q<V&&(ie&_)!==N){for(I===0&&(I=Q),j+=ee,Z=1<<(L=V-I);L+I<U&&!((Z-=me[L+I])<=0);)L++,Z<<=1;if(te+=1<<L,A===1&&852<te||A===2&&592<te)return 1;z[N=ie&_]=Q<<24|L<<16|j-K|0}}return ie!==0&&(z[j+ie]=V-I<<24|64<<16|0),X.bits=Q,0}},{"../utils/common":41}],51:[function(u,v,x){v.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(u,v,x){var m=u("../utils/common");function g(re){for(var oe=re.length;0<=--oe;)re[oe]=0}var y=256,C=286,E=30,A=15,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(576);g(K);var Y=new Array(60);g(Y);var X=new Array(512);g(X);var O=new Array(256);g(O);var P=new Array(29);g(P);var N,_,j,k=new Array(E);function T(re,oe,ue,fe,be){this.static_tree=re,this.extra_bits=oe,this.extra_base=ue,this.elems=fe,this.max_length=be,this.has_stree=re&&re.length}function M(re,oe){this.dyn_tree=re,this.max_code=0,this.stat_desc=oe}function F(re){return re<256?X[re]:X[256+(re>>>7)]}function $(re,oe){re.pending_buf[re.pending++]=255&oe,re.pending_buf[re.pending++]=oe>>>8&255}function V(re,oe,ue){re.bi_valid>16-ue?(re.bi_buf|=oe<<re.bi_valid&65535,$(re,re.bi_buf),re.bi_buf=oe>>16-re.bi_valid,re.bi_valid+=ue-16):(re.bi_buf|=oe<<re.bi_valid&65535,re.bi_valid+=ue)}function W(re,oe,ue){V(re,ue[2*oe],ue[2*oe+1])}function ee(re,oe){for(var ue=0;ue|=1&re,re>>>=1,ue<<=1,0<--oe;);return ue>>>1}function U(re,oe,ue){var fe,be,Ce=new Array(16),Ae=0;for(fe=1;fe<=A;fe++)Ce[fe]=Ae=Ae+ue[fe-1]<<1;for(be=0;be<=oe;be++){var Pe=re[2*be+1];Pe!==0&&(re[2*be]=ee(Ce[Pe]++,Pe))}}function Q(re){var oe;for(oe=0;oe<C;oe++)re.dyn_ltree[2*oe]=0;for(oe=0;oe<E;oe++)re.dyn_dtree[2*oe]=0;for(oe=0;oe<19;oe++)re.bl_tree[2*oe]=0;re.dyn_ltree[512]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function L(re){8<re.bi_valid?$(re,re.bi_buf):0<re.bi_valid&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function I(re,oe,ue,fe){var be=2*oe,Ce=2*ue;return re[be]<re[Ce]||re[be]===re[Ce]&&fe[oe]<=fe[ue]}function Z(re,oe,ue){for(var fe=re.heap[ue],be=ue<<1;be<=re.heap_len&&(be<re.heap_len&&I(oe,re.heap[be+1],re.heap[be],re.depth)&&be++,!I(oe,fe,re.heap[be],re.depth));)re.heap[ue]=re.heap[be],ue=be,be<<=1;re.heap[ue]=fe}function te(re,oe,ue){var fe,be,Ce,Ae,Pe=0;if(re.last_lit!==0)for(;fe=re.pending_buf[re.d_buf+2*Pe]<<8|re.pending_buf[re.d_buf+2*Pe+1],be=re.pending_buf[re.l_buf+Pe],Pe++,fe===0?W(re,be,oe):(W(re,(Ce=O[be])+y+1,oe),(Ae=D[Ce])!==0&&V(re,be-=P[Ce],Ae),W(re,Ce=F(--fe),ue),(Ae=q[Ce])!==0&&V(re,fe-=k[Ce],Ae)),Pe<re.last_lit;);W(re,256,oe)}function ie(re,oe){var ue,fe,be,Ce=oe.dyn_tree,Ae=oe.stat_desc.static_tree,Pe=oe.stat_desc.has_stree,Fe=oe.stat_desc.elems,pe=-1;for(re.heap_len=0,re.heap_max=573,ue=0;ue<Fe;ue++)Ce[2*ue]!==0?(re.heap[++re.heap_len]=pe=ue,re.depth[ue]=0):Ce[2*ue+1]=0;for(;re.heap_len<2;)Ce[2*(be=re.heap[++re.heap_len]=pe<2?++pe:0)]=1,re.depth[be]=0,re.opt_len--,Pe&&(re.static_len-=Ae[2*be+1]);for(oe.max_code=pe,ue=re.heap_len>>1;1<=ue;ue--)Z(re,Ce,ue);for(be=Fe;ue=re.heap[1],re.heap[1]=re.heap[re.heap_len--],Z(re,Ce,1),fe=re.heap[1],re.heap[--re.heap_max]=ue,re.heap[--re.heap_max]=fe,Ce[2*be]=Ce[2*ue]+Ce[2*fe],re.depth[be]=(re.depth[ue]>=re.depth[fe]?re.depth[ue]:re.depth[fe])+1,Ce[2*ue+1]=Ce[2*fe+1]=be,re.heap[1]=be++,Z(re,Ce,1),2<=re.heap_len;);re.heap[--re.heap_max]=re.heap[1],function(Ee,He){var Me,ve,de,we,he,ye,Te=He.dyn_tree,Be=He.max_code,Ye=He.stat_desc.static_tree,at=He.stat_desc.has_stree,ot=He.stat_desc.extra_bits,Ue=He.stat_desc.extra_base,ze=He.stat_desc.max_length,je=0;for(we=0;we<=A;we++)Ee.bl_count[we]=0;for(Te[2*Ee.heap[Ee.heap_max]+1]=0,Me=Ee.heap_max+1;Me<573;Me++)ze<(we=Te[2*Te[2*(ve=Ee.heap[Me])+1]+1]+1)&&(we=ze,je++),Te[2*ve+1]=we,Be<ve||(Ee.bl_count[we]++,he=0,Ue<=ve&&(he=ot[ve-Ue]),ye=Te[2*ve],Ee.opt_len+=ye*(we+he),at&&(Ee.static_len+=ye*(Ye[2*ve+1]+he)));if(je!==0){do{for(we=ze-1;Ee.bl_count[we]===0;)we--;Ee.bl_count[we]--,Ee.bl_count[we+1]+=2,Ee.bl_count[ze]--,je-=2}while(0<je);for(we=ze;we!==0;we--)for(ve=Ee.bl_count[we];ve!==0;)Be<(de=Ee.heap[--Me])||(Te[2*de+1]!==we&&(Ee.opt_len+=(we-Te[2*de+1])*Te[2*de],Te[2*de+1]=we),ve--)}}(re,oe),U(Ce,pe,re.bl_count)}function se(re,oe,ue){var fe,be,Ce=-1,Ae=oe[1],Pe=0,Fe=7,pe=4;for(Ae===0&&(Fe=138,pe=3),oe[2*(ue+1)+1]=65535,fe=0;fe<=ue;fe++)be=Ae,Ae=oe[2*(fe+1)+1],++Pe<Fe&&be===Ae||(Pe<pe?re.bl_tree[2*be]+=Pe:be!==0?(be!==Ce&&re.bl_tree[2*be]++,re.bl_tree[32]++):Pe<=10?re.bl_tree[34]++:re.bl_tree[36]++,Ce=be,pe=(Pe=0)===Ae?(Fe=138,3):be===Ae?(Fe=6,3):(Fe=7,4))}function le(re,oe,ue){var fe,be,Ce=-1,Ae=oe[1],Pe=0,Fe=7,pe=4;for(Ae===0&&(Fe=138,pe=3),fe=0;fe<=ue;fe++)if(be=Ae,Ae=oe[2*(fe+1)+1],!(++Pe<Fe&&be===Ae)){if(Pe<pe)for(;W(re,be,re.bl_tree),--Pe!=0;);else be!==0?(be!==Ce&&(W(re,be,re.bl_tree),Pe--),W(re,16,re.bl_tree),V(re,Pe-3,2)):Pe<=10?(W(re,17,re.bl_tree),V(re,Pe-3,3)):(W(re,18,re.bl_tree),V(re,Pe-11,7));Ce=be,pe=(Pe=0)===Ae?(Fe=138,3):be===Ae?(Fe=6,3):(Fe=7,4)}}g(k);var me=!1;function ae(re,oe,ue,fe){V(re,0+(fe?1:0),3),function(be,Ce,Ae,Pe){L(be),$(be,Ae),$(be,~Ae),m.arraySet(be.pending_buf,be.window,Ce,Ae,be.pending),be.pending+=Ae}(re,oe,ue)}x._tr_init=function(re){me||(function(){var oe,ue,fe,be,Ce,Ae=new Array(16);for(be=fe=0;be<28;be++)for(P[be]=fe,oe=0;oe<1<<D[be];oe++)O[fe++]=be;for(O[fe-1]=be,be=Ce=0;be<16;be++)for(k[be]=Ce,oe=0;oe<1<<q[be];oe++)X[Ce++]=be;for(Ce>>=7;be<E;be++)for(k[be]=Ce<<7,oe=0;oe<1<<q[be]-7;oe++)X[256+Ce++]=be;for(ue=0;ue<=A;ue++)Ae[ue]=0;for(oe=0;oe<=143;)K[2*oe+1]=8,oe++,Ae[8]++;for(;oe<=255;)K[2*oe+1]=9,oe++,Ae[9]++;for(;oe<=279;)K[2*oe+1]=7,oe++,Ae[7]++;for(;oe<=287;)K[2*oe+1]=8,oe++,Ae[8]++;for(U(K,287,Ae),oe=0;oe<E;oe++)Y[2*oe+1]=5,Y[2*oe]=ee(oe,5);N=new T(K,D,257,C,A),_=new T(Y,q,0,E,A),j=new T(new Array(0),B,0,19,7)}(),me=!0),re.l_desc=new M(re.dyn_ltree,N),re.d_desc=new M(re.dyn_dtree,_),re.bl_desc=new M(re.bl_tree,j),re.bi_buf=0,re.bi_valid=0,Q(re)},x._tr_stored_block=ae,x._tr_flush_block=function(re,oe,ue,fe){var be,Ce,Ae=0;0<re.level?(re.strm.data_type===2&&(re.strm.data_type=function(Pe){var Fe,pe=4093624447;for(Fe=0;Fe<=31;Fe++,pe>>>=1)if(1&pe&&Pe.dyn_ltree[2*Fe]!==0)return 0;if(Pe.dyn_ltree[18]!==0||Pe.dyn_ltree[20]!==0||Pe.dyn_ltree[26]!==0)return 1;for(Fe=32;Fe<y;Fe++)if(Pe.dyn_ltree[2*Fe]!==0)return 1;return 0}(re)),ie(re,re.l_desc),ie(re,re.d_desc),Ae=function(Pe){var Fe;for(se(Pe,Pe.dyn_ltree,Pe.l_desc.max_code),se(Pe,Pe.dyn_dtree,Pe.d_desc.max_code),ie(Pe,Pe.bl_desc),Fe=18;3<=Fe&&Pe.bl_tree[2*z[Fe]+1]===0;Fe--);return Pe.opt_len+=3*(Fe+1)+5+5+4,Fe}(re),be=re.opt_len+3+7>>>3,(Ce=re.static_len+3+7>>>3)<=be&&(be=Ce)):be=Ce=ue+5,ue+4<=be&&oe!==-1?ae(re,oe,ue,fe):re.strategy===4||Ce===be?(V(re,2+(fe?1:0),3),te(re,K,Y)):(V(re,4+(fe?1:0),3),function(Pe,Fe,pe,Ee){var He;for(V(Pe,Fe-257,5),V(Pe,pe-1,5),V(Pe,Ee-4,4),He=0;He<Ee;He++)V(Pe,Pe.bl_tree[2*z[He]+1],3);le(Pe,Pe.dyn_ltree,Fe-1),le(Pe,Pe.dyn_dtree,pe-1)}(re,re.l_desc.max_code+1,re.d_desc.max_code+1,Ae+1),te(re,re.dyn_ltree,re.dyn_dtree)),Q(re),fe&&L(re)},x._tr_tally=function(re,oe,ue){return re.pending_buf[re.d_buf+2*re.last_lit]=oe>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&oe,re.pending_buf[re.l_buf+re.last_lit]=255&ue,re.last_lit++,oe===0?re.dyn_ltree[2*ue]++:(re.matches++,oe--,re.dyn_ltree[2*(O[ue]+y+1)]++,re.dyn_dtree[2*F(oe)]++),re.last_lit===re.lit_bufsize-1},x._tr_align=function(re){V(re,2,3),W(re,256,K),function(oe){oe.bi_valid===16?($(oe,oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0):8<=oe.bi_valid&&(oe.pending_buf[oe.pending++]=255&oe.bi_buf,oe.bi_buf>>=8,oe.bi_valid-=8)}(re)}},{"../utils/common":41}],53:[function(u,v,x){v.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(u,v,x){(function(m){(function(g,y){if(!g.setImmediate){var C,E,A,D,q=1,B={},z=!1,K=g.document,Y=Object.getPrototypeOf&&Object.getPrototypeOf(g);Y=Y&&Y.setTimeout?Y:g,C={}.toString.call(g.process)==="[object process]"?function(N){f.nextTick(function(){O(N)})}:function(){if(g.postMessage&&!g.importScripts){var N=!0,_=g.onmessage;return g.onmessage=function(){N=!1},g.postMessage("","*"),g.onmessage=_,N}}()?(D="setImmediate$"+Math.random()+"$",g.addEventListener?g.addEventListener("message",P,!1):g.attachEvent("onmessage",P),function(N){g.postMessage(D+N,"*")}):g.MessageChannel?((A=new MessageChannel).port1.onmessage=function(N){O(N.data)},function(N){A.port2.postMessage(N)}):K&&"onreadystatechange"in K.createElement("script")?(E=K.documentElement,function(N){var _=K.createElement("script");_.onreadystatechange=function(){O(N),_.onreadystatechange=null,E.removeChild(_),_=null},E.appendChild(_)}):function(N){setTimeout(O,0,N)},Y.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var _=new Array(arguments.length-1),j=0;j<_.length;j++)_[j]=arguments[j+1];var k={callback:N,args:_};return B[q]=k,C(q),q++},Y.clearImmediate=X}function X(N){delete B[N]}function O(N){if(z)setTimeout(O,0,N);else{var _=B[N];if(_){z=!0;try{(function(j){var k=j.callback,T=j.args;switch(T.length){case 0:k();break;case 1:k(T[0]);break;case 2:k(T[0],T[1]);break;case 3:k(T[0],T[1],T[2]);break;default:k.apply(void 0,T)}})(_)}finally{X(N),z=!1}}}}function P(N){N.source===g&&typeof N.data=="string"&&N.data.indexOf(D)===0&&O(+N.data.slice(D.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,a,l){(function(f){(function(){var o=/[\\^$.*+?()[\]{}|]/g,c=RegExp(o.source),s=typeof f=="object"&&f&&f.Object===Object&&f,r=typeof self=="object"&&self&&self.Object===Object&&self,i=s||r||Function("return this")(),b=Object.prototype.toString,d=i.Symbol,u=d?d.prototype:void 0,v=u?u.toString:void 0;function x(m){if(typeof m=="string")return m;if(function(y){return typeof y=="symbol"||function(C){return!!C&&typeof C=="object"}(y)&&b.call(y)=="[object Symbol]"}(m))return v?v.call(m):"";var g=m+"";return g=="0"&&1/m==-1/0?"-0":g}a.exports=function(m){var g;return(m=(g=m)==null?"":x(g))&&c.test(m)?m.replace(o,"\\$&"):m}}).call(this)}).call(this,typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,a,l){(function(f){(function(){var o="[object Arguments]",c="[object Map]",s="[object Object]",r="[object Set]",i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/,d=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v=/\\(\\)?/g,x=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[o]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g[c]=g["[object Number]"]=g[s]=g["[object RegExp]"]=g[r]=g["[object String]"]=g["[object WeakMap]"]=!1;var y=typeof f=="object"&&f&&f.Object===Object&&f,C=typeof self=="object"&&self&&self.Object===Object&&self,E=y||C||Function("return this")(),A=typeof l=="object"&&l&&!l.nodeType&&l,D=A&&typeof a=="object"&&a&&!a.nodeType&&a,q=D&&D.exports===A&&y.process,B=function(){try{return q&&q.binding("util")}catch{}}(),z=B&&B.isTypedArray;function K(ge,Le,rt,it){for(var gt=-1,ut=ge?ge.length:0;++gt<ut;){var ht=ge[gt];Le(it,ht,rt(ht),ge)}return it}function Y(ge,Le){for(var rt=-1,it=ge?ge.length:0;++rt<it;)if(Le(ge[rt],rt,ge))return!0;return!1}function X(ge){var Le=!1;if(ge!=null&&typeof ge.toString!="function")try{Le=!!(ge+"")}catch{}return Le}function O(ge){var Le=-1,rt=Array(ge.size);return ge.forEach(function(it,gt){rt[++Le]=[gt,it]}),rt}function P(ge){var Le=-1,rt=Array(ge.size);return ge.forEach(function(it){rt[++Le]=it}),rt}var N,_,j,k=Array.prototype,T=Function.prototype,M=Object.prototype,F=E["__core-js_shared__"],$=(N=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",V=T.toString,W=M.hasOwnProperty,ee=M.toString,U=RegExp("^"+V.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=E.Symbol,L=E.Uint8Array,I=M.propertyIsEnumerable,Z=k.splice,te=(_=Object.keys,j=Object,function(ge){return _(j(ge))}),ie=Re(E,"DataView"),se=Re(E,"Map"),le=Re(E,"Promise"),me=Re(E,"Set"),ae=Re(E,"WeakMap"),re=Re(Object,"create"),oe=Ne(ie),ue=Ne(se),fe=Ne(le),be=Ne(me),Ce=Ne(ae),Ae=Q?Q.prototype:void 0,Pe=Ae?Ae.valueOf:void 0,Fe=Ae?Ae.toString:void 0;function pe(ge){var Le=-1,rt=ge?ge.length:0;for(this.clear();++Le<rt;){var it=ge[Le];this.set(it[0],it[1])}}function Ee(ge){var Le=-1,rt=ge?ge.length:0;for(this.clear();++Le<rt;){var it=ge[Le];this.set(it[0],it[1])}}function He(ge){var Le=-1,rt=ge?ge.length:0;for(this.clear();++Le<rt;){var it=ge[Le];this.set(it[0],it[1])}}function Me(ge){var Le=-1,rt=ge?ge.length:0;for(this.__data__=new He;++Le<rt;)this.add(ge[Le])}function ve(ge){this.__data__=new Ee(ge)}function de(ge,Le){var rt=xt(ge)||kt(ge)?function(ht,qt){for(var Ot=-1,Lt=Array(ht);++Ot<ht;)Lt[Ot]=qt(Ot);return Lt}(ge.length,String):[],it=rt.length,gt=!!it;for(var ut in ge)!W.call(ge,ut)||gt&&(ut=="length"||Ve(ut,it))||rt.push(ut);return rt}function we(ge,Le){for(var rt=ge.length;rt--;)if(ft(ge[rt][0],Le))return rt;return-1}function he(ge,Le,rt,it){return Te(ge,function(gt,ut,ht){Le(it,gt,rt(gt),ht)}),it}pe.prototype.clear=function(){this.__data__=re?re(null):{}},pe.prototype.delete=function(ge){return this.has(ge)&&delete this.__data__[ge]},pe.prototype.get=function(ge){var Le=this.__data__;if(re){var rt=Le[ge];return rt==="__lodash_hash_undefined__"?void 0:rt}return W.call(Le,ge)?Le[ge]:void 0},pe.prototype.has=function(ge){var Le=this.__data__;return re?Le[ge]!==void 0:W.call(Le,ge)},pe.prototype.set=function(ge,Le){return this.__data__[ge]=re&&Le===void 0?"__lodash_hash_undefined__":Le,this},Ee.prototype.clear=function(){this.__data__=[]},Ee.prototype.delete=function(ge){var Le=this.__data__,rt=we(Le,ge);return!(rt<0)&&(rt==Le.length-1?Le.pop():Z.call(Le,rt,1),!0)},Ee.prototype.get=function(ge){var Le=this.__data__,rt=we(Le,ge);return rt<0?void 0:Le[rt][1]},Ee.prototype.has=function(ge){return we(this.__data__,ge)>-1},Ee.prototype.set=function(ge,Le){var rt=this.__data__,it=we(rt,ge);return it<0?rt.push([ge,Le]):rt[it][1]=Le,this},He.prototype.clear=function(){this.__data__={hash:new pe,map:new(se||Ee),string:new pe}},He.prototype.delete=function(ge){return $e(this,ge).delete(ge)},He.prototype.get=function(ge){return $e(this,ge).get(ge)},He.prototype.has=function(ge){return $e(this,ge).has(ge)},He.prototype.set=function(ge,Le){return $e(this,ge).set(ge,Le),this},Me.prototype.add=Me.prototype.push=function(ge){return this.__data__.set(ge,"__lodash_hash_undefined__"),this},Me.prototype.has=function(ge){return this.__data__.has(ge)},ve.prototype.clear=function(){this.__data__=new Ee},ve.prototype.delete=function(ge){return this.__data__.delete(ge)},ve.prototype.get=function(ge){return this.__data__.get(ge)},ve.prototype.has=function(ge){return this.__data__.has(ge)},ve.prototype.set=function(ge,Le){var rt=this.__data__;if(rt instanceof Ee){var it=rt.__data__;if(!se||it.length<199)return it.push([ge,Le]),this;rt=this.__data__=new He(it)}return rt.set(ge,Le),this};var ye,Te=(ye=function(ge,Le){return ge&&Be(ge,Le,mr)},function(ge,Le){if(ge==null)return ge;if(!bt(ge))return ye(ge,Le);for(var rt=ge.length,it=-1,gt=Object(ge);++it<rt&&Le(gt[it],it,gt)!==!1;);return ge}),Be=function(ge){return function(Le,rt,it){for(var gt=-1,ut=Object(Le),ht=it(Le),qt=ht.length;qt--;){var Ot=ht[++gt];if(rt(ut[Ot],Ot,ut)===!1)break}return Le}}();function Ye(ge,Le){for(var rt=0,it=(Le=Qe(Le,ge)?[Le]:Je(Le)).length;ge!=null&&rt<it;)ge=ge[_e(Le[rt++])];return rt&&rt==it?ge:void 0}function at(ge,Le){return ge!=null&&Le in Object(ge)}function ot(ge,Le,rt,it,gt){return ge===Le||(ge==null||Le==null||!wt(ge)&&!vr(Le)?ge!=ge&&Le!=Le:function(ut,ht,qt,Ot,Lt,_t){var Qt=xt(ut),Zt=xt(ht),It="[object Array]",gr="[object Array]";Qt||(It=(It=De(ut))==o?s:It),Zt||(gr=(gr=De(ht))==o?s:gr);var Mr=It==s&&!X(ut),Rr=gr==s&&!X(ht),fn=It==gr;if(fn&&!Mr)return _t||(_t=new ve),Qt||hr(ut)?nt(ut,ht,qt,Ot,Lt,_t):function(Jt,Ht,ln,rs,Si,Ar,Hn){switch(ln){case"[object DataView]":if(Jt.byteLength!=Ht.byteLength||Jt.byteOffset!=Ht.byteOffset)return!1;Jt=Jt.buffer,Ht=Ht.buffer;case"[object ArrayBuffer]":return!(Jt.byteLength!=Ht.byteLength||!rs(new L(Jt),new L(Ht)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ft(+Jt,+Ht);case"[object Error]":return Jt.name==Ht.name&&Jt.message==Ht.message;case"[object RegExp]":case"[object String]":return Jt==Ht+"";case c:var Vn=O;case r:var Vs=2&Ar;if(Vn||(Vn=P),Jt.size!=Ht.size&&!Vs)return!1;var Ks=Hn.get(Jt);if(Ks)return Ks==Ht;Ar|=1,Hn.set(Jt,Ht);var Xs=nt(Vn(Jt),Vn(Ht),rs,Si,Ar,Hn);return Hn.delete(Jt),Xs;case"[object Symbol]":if(Pe)return Pe.call(Jt)==Pe.call(Ht)}return!1}(ut,ht,It,qt,Ot,Lt,_t);if(!(2&Lt)){var Pn=Mr&&W.call(ut,"__wrapped__"),Hs=Rr&&W.call(ht,"__wrapped__");if(Pn||Hs){var Dr=Pn?ut.value():ut,ts=Hs?ht.value():ht;return _t||(_t=new ve),qt(Dr,ts,Ot,Lt,_t)}}return fn?(_t||(_t=new ve),function(Jt,Ht,ln,rs,Si,Ar){var Hn=2&Si,Vn=mr(Jt),Vs=Vn.length,Ks=mr(Ht).length;if(Vs!=Ks&&!Hn)return!1;for(var Xs=Vs;Xs--;){var ns=Vn[Xs];if(!(Hn?ns in Ht:W.call(Ht,ns)))return!1}var Ci=Ar.get(Jt);if(Ci&&Ar.get(Ht))return Ci==Ht;var Ys=!0;Ar.set(Jt,Ht),Ar.set(Ht,Jt);for(var ji=Hn;++Xs<Vs;){ns=Vn[Xs];var Kn=Jt[ns],Xn=Ht[ns];if(rs)var ca=Hn?rs(Xn,Kn,ns,Ht,Jt,Ar):rs(Kn,Xn,ns,Jt,Ht,Ar);if(!(ca===void 0?Kn===Xn||ln(Kn,Xn,rs,Si,Ar):ca)){Ys=!1;break}ji||(ji=ns=="constructor")}if(Ys&&!ji){var Ws=Jt.constructor,ki=Ht.constructor;Ws==ki||!("constructor"in Jt)||!("constructor"in Ht)||typeof Ws=="function"&&Ws instanceof Ws&&typeof ki=="function"&&ki instanceof ki||(Ys=!1)}return Ar.delete(Jt),Ar.delete(Ht),Ys}(ut,ht,qt,Ot,Lt,_t)):!1}(ge,Le,ot,rt,it,gt))}function Ue(ge){return!(!wt(ge)||function(Le){return!!$&&$ in Le}(ge))&&(Et(ge)||X(ge)?U:x).test(Ne(ge))}function ze(ge){return typeof ge=="function"?ge:ge==null?en:typeof ge=="object"?xt(ge)?function(it,gt){return Qe(it)&&lt(gt)?ct(_e(it),gt):function(ut){var ht=function(qt,Ot,Lt){var _t=qt==null?void 0:Ye(qt,Ot);return _t===void 0?Lt:_t}(ut,it);return ht===void 0&&ht===gt?function(qt,Ot){return qt!=null&&function(Lt,_t,Qt){_t=Qe(_t,Lt)?[_t]:Je(_t);for(var Zt,It=-1,gr=_t.length;++It<gr;){var Mr=_e(_t[It]);if(!(Zt=Lt!=null&&Qt(Lt,Mr)))break;Lt=Lt[Mr]}return Zt||!!(gr=Lt?Lt.length:0)&&Ct(gr)&&Ve(Mr,gr)&&(xt(Lt)||kt(Lt))}(qt,Ot,at)}(ut,it):ot(gt,ht,void 0,3)}}(ge[0],ge[1]):function(it){var gt=function(ut){for(var ht=mr(ut),qt=ht.length;qt--;){var Ot=ht[qt],Lt=ut[Ot];ht[qt]=[Ot,Lt,lt(Lt)]}return ht}(it);return gt.length==1&&gt[0][2]?ct(gt[0][0],gt[0][1]):function(ut){return ut===it||function(ht,qt,Ot,Lt){var _t=Ot.length,Qt=_t;if(ht==null)return!Qt;for(ht=Object(ht);_t--;){var Zt=Ot[_t];if(Zt[2]?Zt[1]!==ht[Zt[0]]:!(Zt[0]in ht))return!1}for(;++_t<Qt;){var It=(Zt=Ot[_t])[0],gr=ht[It],Mr=Zt[1];if(Zt[2]){if(gr===void 0&&!(It in ht))return!1}else{var Rr=new ve,fn;if(!(fn===void 0?ot(Mr,gr,Lt,3,Rr):fn))return!1}}return!0}(ut,it,gt)}}(ge):Qe(Le=ge)?(rt=_e(Le),function(it){return it==null?void 0:it[rt]}):function(it){return function(gt){return Ye(gt,it)}}(Le);var Le,rt}function je(ge){if(rt=(Le=ge)&&Le.constructor,it=typeof rt=="function"&&rt.prototype||M,Le!==it)return te(ge);var Le,rt,it,gt=[];for(var ut in Object(ge))W.call(ge,ut)&&ut!="constructor"&&gt.push(ut);return gt}function Je(ge){return xt(ge)?ge:pt(ge)}function nt(ge,Le,rt,it,gt,ut){var ht=2&gt,qt=ge.length,Ot=Le.length;if(qt!=Ot&&!(ht&&Ot>qt))return!1;var Lt=ut.get(ge);if(Lt&&ut.get(Le))return Lt==Le;var _t=-1,Qt=!0,Zt=1&gt?new Me:void 0;for(ut.set(ge,Le),ut.set(Le,ge);++_t<qt;){var It=ge[_t],gr=Le[_t];if(it)var Mr=ht?it(gr,It,_t,Le,ge,ut):it(It,gr,_t,ge,Le,ut);if(Mr!==void 0){if(Mr)continue;Qt=!1;break}if(Zt){if(!Y(Le,function(Rr,fn){if(!Zt.has(fn)&&(It===Rr||rt(It,Rr,it,gt,ut)))return Zt.add(fn)})){Qt=!1;break}}else if(It!==gr&&!rt(It,gr,it,gt,ut)){Qt=!1;break}}return ut.delete(ge),ut.delete(Le),Qt}function $e(ge,Le){var rt,it,gt=ge.__data__;return((it=typeof(rt=Le))=="string"||it=="number"||it=="symbol"||it=="boolean"?rt!=="__proto__":rt===null)?gt[typeof Le=="string"?"string":"hash"]:gt.map}function Re(ge,Le){var rt=function(it,gt){return it==null?void 0:it[gt]}(ge,Le);return Ue(rt)?rt:void 0}var De=function(ge){return ee.call(ge)};function Ve(ge,Le){return!!(Le=Le??9007199254740991)&&(typeof ge=="number"||m.test(ge))&&ge>-1&&ge%1==0&&ge<Le}function Qe(ge,Le){if(xt(ge))return!1;var rt=typeof ge;return!(rt!="number"&&rt!="symbol"&&rt!="boolean"&&ge!=null&&!or(ge))||b.test(ge)||!i.test(ge)||Le!=null&&ge in Object(Le)}function lt(ge){return ge==ge&&!wt(ge)}function ct(ge,Le){return function(rt){return rt!=null&&rt[ge]===Le&&(Le!==void 0||ge in Object(rt))}}(ie&&De(new ie(new ArrayBuffer(1)))!="[object DataView]"||se&&De(new se)!=c||le&&De(le.resolve())!="[object Promise]"||me&&De(new me)!=r||ae&&De(new ae)!="[object WeakMap]")&&(De=function(ge){var Le=ee.call(ge),rt=Le==s?ge.constructor:void 0,it=rt?Ne(rt):void 0;if(it)switch(it){case oe:return"[object DataView]";case ue:return c;case fe:return"[object Promise]";case be:return r;case Ce:return"[object WeakMap]"}return Le});var pt=vt(function(ge){var Le;ge=(Le=ge)==null?"":function(it){if(typeof it=="string")return it;if(or(it))return Fe?Fe.call(it):"";var gt=it+"";return gt=="0"&&1/it==-1/0?"-0":gt}(Le);var rt=[];return d.test(ge)&&rt.push(""),ge.replace(u,function(it,gt,ut,ht){rt.push(ut?ht.replace(v,"$1"):gt||it)}),rt});function _e(ge){if(typeof ge=="string"||or(ge))return ge;var Le=ge+"";return Le=="0"&&1/ge==-1/0?"-0":Le}function Ne(ge){if(ge!=null){try{return V.call(ge)}catch{}try{return ge+""}catch{}}return""}var We,dt=(We=function(ge,Le,rt){W.call(ge,rt)?ge[rt].push(Le):ge[rt]=[Le]},function(ge,Le){var rt=xt(ge)?K:he,it={};return rt(ge,We,ze(Le),it)});function vt(ge,Le){if(typeof ge!="function"||Le&&typeof Le!="function")throw new TypeError("Expected a function");var rt=function(){var it=arguments,gt=Le?Le.apply(this,it):it[0],ut=rt.cache;if(ut.has(gt))return ut.get(gt);var ht=ge.apply(this,it);return rt.cache=ut.set(gt,ht),ht};return rt.cache=new(vt.Cache||He),rt}function ft(ge,Le){return ge===Le||ge!=ge&&Le!=Le}function kt(ge){return function(Le){return vr(Le)&&bt(Le)}(ge)&&W.call(ge,"callee")&&(!I.call(ge,"callee")||ee.call(ge)==o)}vt.Cache=He;var xt=Array.isArray;function bt(ge){return ge!=null&&Ct(ge.length)&&!Et(ge)}function Et(ge){var Le=wt(ge)?ee.call(ge):"";return Le=="[object Function]"||Le=="[object GeneratorFunction]"}function Ct(ge){return typeof ge=="number"&&ge>-1&&ge%1==0&&ge<=9007199254740991}function wt(ge){var Le=typeof ge;return!!ge&&(Le=="object"||Le=="function")}function vr(ge){return!!ge&&typeof ge=="object"}function or(ge){return typeof ge=="symbol"||vr(ge)&&ee.call(ge)=="[object Symbol]"}var hr=z?function(ge){return function(Le){return ge(Le)}}(z):function(ge){return vr(ge)&&Ct(ge.length)&&!!g[ee.call(ge)]};function mr(ge){return bt(ge)?de(ge):je(ge)}function en(ge){return ge}a.exports=dt}).call(this)}).call(this,typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,a,l){var f=Object.prototype.toString;a.exports=function(o){return o===!0||o===!1||function(c){return!!c&&typeof c=="object"}(o)&&f.call(o)=="[object Boolean]"}},{}],445:[function(e,a,l){(function(f){(function(){var o="[object Arguments]",c="[object Map]",s="[object Object]",r="[object Set]",i=/^\[object .+?Constructor\]$/,b=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[o]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[c]=d["[object Number]"]=d[s]=d["[object RegExp]"]=d[r]=d["[object String]"]=d["[object WeakMap]"]=!1;var u=typeof f=="object"&&f&&f.Object===Object&&f,v=typeof self=="object"&&self&&self.Object===Object&&self,x=u||v||Function("return this")(),m=typeof l=="object"&&l&&!l.nodeType&&l,g=m&&typeof a=="object"&&a&&!a.nodeType&&a,y=g&&g.exports===m,C=y&&u.process,E=function(){try{return C&&C.binding&&C.binding("util")}catch{}}(),A=E&&E.isTypedArray;function D(_e,Ne){for(var We=-1,dt=_e==null?0:_e.length;++We<dt;)if(Ne(_e[We],We,_e))return!0;return!1}function q(_e){var Ne=-1,We=Array(_e.size);return _e.forEach(function(dt,vt){We[++Ne]=[vt,dt]}),We}function B(_e){var Ne=-1,We=Array(_e.size);return _e.forEach(function(dt){We[++Ne]=dt}),We}var z,K,Y,X=Array.prototype,O=Function.prototype,P=Object.prototype,N=x["__core-js_shared__"],_=O.toString,j=P.hasOwnProperty,k=(z=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",T=P.toString,M=RegExp("^"+_.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=y?x.Buffer:void 0,$=x.Symbol,V=x.Uint8Array,W=P.propertyIsEnumerable,ee=X.splice,U=$?$.toStringTag:void 0,Q=Object.getOwnPropertySymbols,L=F?F.isBuffer:void 0,I=(K=Object.keys,Y=Object,function(_e){return K(Y(_e))}),Z=at(x,"DataView"),te=at(x,"Map"),ie=at(x,"Promise"),se=at(x,"Set"),le=at(x,"WeakMap"),me=at(Object,"create"),ae=je(Z),re=je(te),oe=je(ie),ue=je(se),fe=je(le),be=$?$.prototype:void 0,Ce=be?be.valueOf:void 0;function Ae(_e){var Ne=-1,We=_e==null?0:_e.length;for(this.clear();++Ne<We;){var dt=_e[Ne];this.set(dt[0],dt[1])}}function Pe(_e){var Ne=-1,We=_e==null?0:_e.length;for(this.clear();++Ne<We;){var dt=_e[Ne];this.set(dt[0],dt[1])}}function Fe(_e){var Ne=-1,We=_e==null?0:_e.length;for(this.clear();++Ne<We;){var dt=_e[Ne];this.set(dt[0],dt[1])}}function pe(_e){var Ne=-1,We=_e==null?0:_e.length;for(this.__data__=new Fe;++Ne<We;)this.add(_e[Ne])}function Ee(_e){var Ne=this.__data__=new Pe(_e);this.size=Ne.size}function He(_e,Ne){var We=$e(_e),dt=!We&&nt(_e),vt=!We&&!dt&&Re(_e),ft=!We&&!dt&&!vt&&ct(_e),kt=We||dt||vt||ft,xt=kt?function(Ct,wt){for(var vr=-1,or=Array(Ct);++vr<Ct;)or[vr]=wt(vr);return or}(_e.length,String):[],bt=xt.length;for(var Et in _e)!j.call(_e,Et)||kt&&(Et=="length"||vt&&(Et=="offset"||Et=="parent")||ft&&(Et=="buffer"||Et=="byteLength"||Et=="byteOffset")||ze(Et,bt))||xt.push(Et);return xt}function Me(_e,Ne){for(var We=_e.length;We--;)if(Je(_e[We][0],Ne))return We;return-1}function ve(_e){return _e==null?_e===void 0?"[object Undefined]":"[object Null]":U&&U in Object(_e)?function(Ne){var We=j.call(Ne,U),dt=Ne[U];try{Ne[U]=void 0;var vt=!0}catch{}var ft=T.call(Ne);return vt&&(We?Ne[U]=dt:delete Ne[U]),ft}(_e):function(Ne){return T.call(Ne)}(_e)}function de(_e){return lt(_e)&&ve(_e)==o}function we(_e,Ne,We,dt,vt){return _e===Ne||(_e==null||Ne==null||!lt(_e)&&!lt(Ne)?_e!=_e&&Ne!=Ne:function(ft,kt,xt,bt,Et,Ct){var wt=$e(ft),vr=$e(kt),or=wt?"[object Array]":Ue(ft),hr=vr?"[object Array]":Ue(kt),mr=(or=or==o?s:or)==s,en=(hr=hr==o?s:hr)==s,ge=or==hr;if(ge&&Re(ft)){if(!Re(kt))return!1;wt=!0,mr=!1}if(ge&&!mr)return Ct||(Ct=new Ee),wt||ct(ft)?Te(ft,kt,xt,bt,Et,Ct):function(ut,ht,qt,Ot,Lt,_t,Qt){switch(qt){case"[object DataView]":if(ut.byteLength!=ht.byteLength||ut.byteOffset!=ht.byteOffset)return!1;ut=ut.buffer,ht=ht.buffer;case"[object ArrayBuffer]":return!(ut.byteLength!=ht.byteLength||!_t(new V(ut),new V(ht)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Je(+ut,+ht);case"[object Error]":return ut.name==ht.name&&ut.message==ht.message;case"[object RegExp]":case"[object String]":return ut==ht+"";case c:var Zt=q;case r:var It=1&Ot;if(Zt||(Zt=B),ut.size!=ht.size&&!It)return!1;var gr=Qt.get(ut);if(gr)return gr==ht;Ot|=2,Qt.set(ut,ht);var Mr=Te(Zt(ut),Zt(ht),Ot,Lt,_t,Qt);return Qt.delete(ut),Mr;case"[object Symbol]":if(Ce)return Ce.call(ut)==Ce.call(ht)}return!1}(ft,kt,or,xt,bt,Et,Ct);if(!(1&xt)){var Le=mr&&j.call(ft,"__wrapped__"),rt=en&&j.call(kt,"__wrapped__");if(Le||rt){var it=Le?ft.value():ft,gt=rt?kt.value():kt;return Ct||(Ct=new Ee),Et(it,gt,xt,bt,Ct)}}return ge?(Ct||(Ct=new Ee),function(ut,ht,qt,Ot,Lt,_t){var Qt=1&qt,Zt=Be(ut),It=Zt.length,gr=Be(ht).length;if(It!=gr&&!Qt)return!1;for(var Mr=It;Mr--;){var Rr=Zt[Mr];if(!(Qt?Rr in ht:j.call(ht,Rr)))return!1}var fn=_t.get(ut);if(fn&&_t.get(ht))return fn==ht;var Pn=!0;_t.set(ut,ht),_t.set(ht,ut);for(var Hs=Qt;++Mr<It;){Rr=Zt[Mr];var Dr=ut[Rr],ts=ht[Rr];if(Ot)var Jt=Qt?Ot(ts,Dr,Rr,ht,ut,_t):Ot(Dr,ts,Rr,ut,ht,_t);if(!(Jt===void 0?Dr===ts||Lt(Dr,ts,qt,Ot,_t):Jt)){Pn=!1;break}Hs||(Hs=Rr=="constructor")}if(Pn&&!Hs){var Ht=ut.constructor,ln=ht.constructor;Ht==ln||!("constructor"in ut)||!("constructor"in ht)||typeof Ht=="function"&&Ht instanceof Ht&&typeof ln=="function"&&ln instanceof ln||(Pn=!1)}return _t.delete(ut),_t.delete(ht),Pn}(ft,kt,xt,bt,Et,Ct)):!1}(_e,Ne,We,dt,we,vt))}function he(_e){return!(!Qe(_e)||function(Ne){return!!k&&k in Ne}(_e))&&(De(_e)?M:i).test(je(_e))}function ye(_e){if(We=(Ne=_e)&&Ne.constructor,dt=typeof We=="function"&&We.prototype||P,Ne!==dt)return I(_e);var Ne,We,dt,vt=[];for(var ft in Object(_e))j.call(_e,ft)&&ft!="constructor"&&vt.push(ft);return vt}function Te(_e,Ne,We,dt,vt,ft){var kt=1&We,xt=_e.length,bt=Ne.length;if(xt!=bt&&!(kt&&bt>xt))return!1;var Et=ft.get(_e);if(Et&&ft.get(Ne))return Et==Ne;var Ct=-1,wt=!0,vr=2&We?new pe:void 0;for(ft.set(_e,Ne),ft.set(Ne,_e);++Ct<xt;){var or=_e[Ct],hr=Ne[Ct];if(dt)var mr=kt?dt(hr,or,Ct,Ne,_e,ft):dt(or,hr,Ct,_e,Ne,ft);if(mr!==void 0){if(mr)continue;wt=!1;break}if(vr){if(!D(Ne,function(en,ge){if(Le=ge,!vr.has(Le)&&(or===en||vt(or,en,We,dt,ft)))return vr.push(ge);var Le})){wt=!1;break}}else if(or!==hr&&!vt(or,hr,We,dt,ft)){wt=!1;break}}return ft.delete(_e),ft.delete(Ne),wt}function Be(_e){return function(Ne,We,dt){var vt=We(Ne);return $e(Ne)?vt:function(ft,kt){for(var xt=-1,bt=kt.length,Et=ft.length;++xt<bt;)ft[Et+xt]=kt[xt];return ft}(vt,dt(Ne))}(_e,pt,ot)}function Ye(_e,Ne){var We,dt,vt=_e.__data__;return((dt=typeof(We=Ne))=="string"||dt=="number"||dt=="symbol"||dt=="boolean"?We!=="__proto__":We===null)?vt[typeof Ne=="string"?"string":"hash"]:vt.map}function at(_e,Ne){var We=function(dt,vt){return dt==null?void 0:dt[vt]}(_e,Ne);return he(We)?We:void 0}Ae.prototype.clear=function(){this.__data__=me?me(null):{},this.size=0},Ae.prototype.delete=function(_e){var Ne=this.has(_e)&&delete this.__data__[_e];return this.size-=Ne?1:0,Ne},Ae.prototype.get=function(_e){var Ne=this.__data__;if(me){var We=Ne[_e];return We==="__lodash_hash_undefined__"?void 0:We}return j.call(Ne,_e)?Ne[_e]:void 0},Ae.prototype.has=function(_e){var Ne=this.__data__;return me?Ne[_e]!==void 0:j.call(Ne,_e)},Ae.prototype.set=function(_e,Ne){var We=this.__data__;return this.size+=this.has(_e)?0:1,We[_e]=me&&Ne===void 0?"__lodash_hash_undefined__":Ne,this},Pe.prototype.clear=function(){this.__data__=[],this.size=0},Pe.prototype.delete=function(_e){var Ne=this.__data__,We=Me(Ne,_e);return!(We<0)&&(We==Ne.length-1?Ne.pop():ee.call(Ne,We,1),--this.size,!0)},Pe.prototype.get=function(_e){var Ne=this.__data__,We=Me(Ne,_e);return We<0?void 0:Ne[We][1]},Pe.prototype.has=function(_e){return Me(this.__data__,_e)>-1},Pe.prototype.set=function(_e,Ne){var We=this.__data__,dt=Me(We,_e);return dt<0?(++this.size,We.push([_e,Ne])):We[dt][1]=Ne,this},Fe.prototype.clear=function(){this.size=0,this.__data__={hash:new Ae,map:new(te||Pe),string:new Ae}},Fe.prototype.delete=function(_e){var Ne=Ye(this,_e).delete(_e);return this.size-=Ne?1:0,Ne},Fe.prototype.get=function(_e){return Ye(this,_e).get(_e)},Fe.prototype.has=function(_e){return Ye(this,_e).has(_e)},Fe.prototype.set=function(_e,Ne){var We=Ye(this,_e),dt=We.size;return We.set(_e,Ne),this.size+=We.size==dt?0:1,this},pe.prototype.add=pe.prototype.push=function(_e){return this.__data__.set(_e,"__lodash_hash_undefined__"),this},pe.prototype.has=function(_e){return this.__data__.has(_e)},Ee.prototype.clear=function(){this.__data__=new Pe,this.size=0},Ee.prototype.delete=function(_e){var Ne=this.__data__,We=Ne.delete(_e);return this.size=Ne.size,We},Ee.prototype.get=function(_e){return this.__data__.get(_e)},Ee.prototype.has=function(_e){return this.__data__.has(_e)},Ee.prototype.set=function(_e,Ne){var We=this.__data__;if(We instanceof Pe){var dt=We.__data__;if(!te||dt.length<199)return dt.push([_e,Ne]),this.size=++We.size,this;We=this.__data__=new Fe(dt)}return We.set(_e,Ne),this.size=We.size,this};var ot=Q?function(_e){return _e==null?[]:(_e=Object(_e),function(Ne,We){for(var dt=-1,vt=Ne==null?0:Ne.length,ft=0,kt=[];++dt<vt;){var xt=Ne[dt];We(xt,dt,Ne)&&(kt[ft++]=xt)}return kt}(Q(_e),function(Ne){return W.call(_e,Ne)}))}:function(){return[]},Ue=ve;function ze(_e,Ne){return!!(Ne=Ne??9007199254740991)&&(typeof _e=="number"||b.test(_e))&&_e>-1&&_e%1==0&&_e<Ne}function je(_e){if(_e!=null){try{return _.call(_e)}catch{}try{return _e+""}catch{}}return""}function Je(_e,Ne){return _e===Ne||_e!=_e&&Ne!=Ne}(Z&&Ue(new Z(new ArrayBuffer(1)))!="[object DataView]"||te&&Ue(new te)!=c||ie&&Ue(ie.resolve())!="[object Promise]"||se&&Ue(new se)!=r||le&&Ue(new le)!="[object WeakMap]")&&(Ue=function(_e){var Ne=ve(_e),We=Ne==s?_e.constructor:void 0,dt=We?je(We):"";if(dt)switch(dt){case ae:return"[object DataView]";case re:return c;case oe:return"[object Promise]";case ue:return r;case fe:return"[object WeakMap]"}return Ne});var nt=de(function(){return arguments}())?de:function(_e){return lt(_e)&&j.call(_e,"callee")&&!W.call(_e,"callee")},$e=Array.isArray,Re=L||function(){return!1};function De(_e){if(!Qe(_e))return!1;var Ne=ve(_e);return Ne=="[object Function]"||Ne=="[object GeneratorFunction]"||Ne=="[object AsyncFunction]"||Ne=="[object Proxy]"}function Ve(_e){return typeof _e=="number"&&_e>-1&&_e%1==0&&_e<=9007199254740991}function Qe(_e){var Ne=typeof _e;return _e!=null&&(Ne=="object"||Ne=="function")}function lt(_e){return _e!=null&&typeof _e=="object"}var ct=A?function(_e){return function(Ne){return _e(Ne)}}(A):function(_e){return lt(_e)&&Ve(_e.length)&&!!d[ve(_e)]};function pt(_e){return(Ne=_e)!=null&&Ve(Ne.length)&&!De(Ne)?He(_e):ye(_e);var Ne}a.exports=function(_e,Ne){return we(_e,Ne)}}).call(this)}).call(this,typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,a,l){(function(f){(function(){var o=typeof f=="object"&&f&&f.Object===Object&&f,c=typeof self=="object"&&self&&self.Object===Object&&self,s=o||c||Function("return this")(),r=Object.prototype,i=r.hasOwnProperty,b=r.toString,d=s.Symbol,u=d?d.toStringTag:void 0;function v(x){return x==null?x===void 0?"[object Undefined]":"[object Null]":u&&u in Object(x)?function(m){var g=i.call(m,u),y=m[u];try{m[u]=void 0;var C=!0}catch{}var E=b.call(m);return C&&(g?m[u]=y:delete m[u]),E}(x):function(m){return b.call(m)}(x)}a.exports=function(x){if(!function(g){var y=typeof g;return g!=null&&(y=="object"||y=="function")}(x))return!1;var m=v(x);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,a,l){a.exports=function(f){return f==null}},{}],448:[function(e,a,l){a.exports=function(f){return f===void 0}},{}],449:[function(e,a,l){(function(f){(function(){var o=/^\[object .+?Constructor\]$/,c=typeof f=="object"&&f&&f.Object===Object&&f,s=typeof self=="object"&&self&&self.Object===Object&&self,r=c||s||Function("return this")();function i($,V){return!!($&&$.length)&&function(W,ee,U){if(ee!=ee)return function(I,Z,te,ie){for(var se=I.length,le=te+-1;++le<se;)if(Z(I[le],le,I))return le;return-1}(W,b,U);for(var Q=U-1,L=W.length;++Q<L;)if(W[Q]===ee)return Q;return-1}($,V,0)>-1}function b($){return $!=$}function d($,V){return $.has(V)}function u($){var V=-1,W=Array($.size);return $.forEach(function(ee){W[++V]=ee}),W}var v,x=Array.prototype,m=Function.prototype,g=Object.prototype,y=r["__core-js_shared__"],C=(v=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",E=m.toString,A=g.hasOwnProperty,D=g.toString,q=RegExp("^"+E.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=x.splice,z=M(r,"Map"),K=M(r,"Set"),Y=M(Object,"create");function X($){var V=-1,W=$?$.length:0;for(this.clear();++V<W;){var ee=$[V];this.set(ee[0],ee[1])}}function O($){var V=-1,W=$?$.length:0;for(this.clear();++V<W;){var ee=$[V];this.set(ee[0],ee[1])}}function P($){var V=-1,W=$?$.length:0;for(this.clear();++V<W;){var ee=$[V];this.set(ee[0],ee[1])}}function N($){var V=-1,W=$?$.length:0;for(this.__data__=new P;++V<W;)this.add($[V])}function _($,V){for(var W,ee,U=$.length;U--;)if((W=$[U][0])===(ee=V)||W!=W&&ee!=ee)return U;return-1}function j($){return!(!F($)||(V=$,C&&C in V))&&(function(W){var ee=F(W)?D.call(W):"";return ee=="[object Function]"||ee=="[object GeneratorFunction]"}($)||function(W){var ee=!1;if(W!=null&&typeof W.toString!="function")try{ee=!!(W+"")}catch{}return ee}($)?q:o).test(function(W){if(W!=null){try{return E.call(W)}catch{}try{return W+""}catch{}}return""}($));var V}X.prototype.clear=function(){this.__data__=Y?Y(null):{}},X.prototype.delete=function($){return this.has($)&&delete this.__data__[$]},X.prototype.get=function($){var V=this.__data__;if(Y){var W=V[$];return W==="__lodash_hash_undefined__"?void 0:W}return A.call(V,$)?V[$]:void 0},X.prototype.has=function($){var V=this.__data__;return Y?V[$]!==void 0:A.call(V,$)},X.prototype.set=function($,V){return this.__data__[$]=Y&&V===void 0?"__lodash_hash_undefined__":V,this},O.prototype.clear=function(){this.__data__=[]},O.prototype.delete=function($){var V=this.__data__,W=_(V,$);return!(W<0)&&(W==V.length-1?V.pop():B.call(V,W,1),!0)},O.prototype.get=function($){var V=this.__data__,W=_(V,$);return W<0?void 0:V[W][1]},O.prototype.has=function($){return _(this.__data__,$)>-1},O.prototype.set=function($,V){var W=this.__data__,ee=_(W,$);return ee<0?W.push([$,V]):W[ee][1]=V,this},P.prototype.clear=function(){this.__data__={hash:new X,map:new(z||O),string:new X}},P.prototype.delete=function($){return T(this,$).delete($)},P.prototype.get=function($){return T(this,$).get($)},P.prototype.has=function($){return T(this,$).has($)},P.prototype.set=function($,V){return T(this,$).set($,V),this},N.prototype.add=N.prototype.push=function($){return this.__data__.set($,"__lodash_hash_undefined__"),this},N.prototype.has=function($){return this.__data__.has($)};var k=K&&1/u(new K([,-0]))[1]==1/0?function($){return new K($)}:function(){};function T($,V){var W,ee,U=$.__data__;return((ee=typeof(W=V))=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?W!=="__proto__":W===null)?U[typeof V=="string"?"string":"hash"]:U.map}function M($,V){var W=function(ee,U){return ee==null?void 0:ee[U]}($,V);return j(W)?W:void 0}function F($){var V=typeof $;return!!$&&(V=="object"||V=="function")}a.exports=function($){return $&&$.length?function(V,W,ee){var U=-1,Q=i,L=V.length,I=!0,Z=[],te=Z;if(L>=200){var ie=k(V);if(ie)return u(ie);I=!1,Q=d,te=new N}else te=Z;e:for(;++U<L;){var se=V[U],le=se;if(se=se!==0?se:0,I&&le==le){for(var me=te.length;me--;)if(te[me]===le)continue e;Z.push(se)}else Q(te,le,ee)||(te!==Z&&te.push(le),Z.push(se))}return Z}($):[]}}).call(this)}).call(this,typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,a,l){var f=e("inherits"),o=e("hash-base"),c=e("safe-buffer").Buffer,s=new Array(16);function r(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function i(x,m){return x<<m|x>>>32-m}function b(x,m,g,y,C,E,A){return i(x+(m&g|~m&y)+C+E|0,A)+m|0}function d(x,m,g,y,C,E,A){return i(x+(m&y|g&~y)+C+E|0,A)+m|0}function u(x,m,g,y,C,E,A){return i(x+(m^g^y)+C+E|0,A)+m|0}function v(x,m,g,y,C,E,A){return i(x+(g^(m|~y))+C+E|0,A)+m|0}f(r,o),r.prototype._update=function(){for(var x=s,m=0;m<16;++m)x[m]=this._block.readInt32LE(4*m);var g=this._a,y=this._b,C=this._c,E=this._d;g=b(g,y,C,E,x[0],3614090360,7),E=b(E,g,y,C,x[1],3905402710,12),C=b(C,E,g,y,x[2],606105819,17),y=b(y,C,E,g,x[3],3250441966,22),g=b(g,y,C,E,x[4],4118548399,7),E=b(E,g,y,C,x[5],1200080426,12),C=b(C,E,g,y,x[6],2821735955,17),y=b(y,C,E,g,x[7],4249261313,22),g=b(g,y,C,E,x[8],1770035416,7),E=b(E,g,y,C,x[9],2336552879,12),C=b(C,E,g,y,x[10],4294925233,17),y=b(y,C,E,g,x[11],2304563134,22),g=b(g,y,C,E,x[12],1804603682,7),E=b(E,g,y,C,x[13],4254626195,12),C=b(C,E,g,y,x[14],2792965006,17),g=d(g,y=b(y,C,E,g,x[15],1236535329,22),C,E,x[1],4129170786,5),E=d(E,g,y,C,x[6],3225465664,9),C=d(C,E,g,y,x[11],643717713,14),y=d(y,C,E,g,x[0],3921069994,20),g=d(g,y,C,E,x[5],3593408605,5),E=d(E,g,y,C,x[10],38016083,9),C=d(C,E,g,y,x[15],3634488961,14),y=d(y,C,E,g,x[4],3889429448,20),g=d(g,y,C,E,x[9],568446438,5),E=d(E,g,y,C,x[14],3275163606,9),C=d(C,E,g,y,x[3],4107603335,14),y=d(y,C,E,g,x[8],1163531501,20),g=d(g,y,C,E,x[13],2850285829,5),E=d(E,g,y,C,x[2],4243563512,9),C=d(C,E,g,y,x[7],1735328473,14),g=u(g,y=d(y,C,E,g,x[12],2368359562,20),C,E,x[5],4294588738,4),E=u(E,g,y,C,x[8],2272392833,11),C=u(C,E,g,y,x[11],1839030562,16),y=u(y,C,E,g,x[14],4259657740,23),g=u(g,y,C,E,x[1],2763975236,4),E=u(E,g,y,C,x[4],1272893353,11),C=u(C,E,g,y,x[7],4139469664,16),y=u(y,C,E,g,x[10],3200236656,23),g=u(g,y,C,E,x[13],681279174,4),E=u(E,g,y,C,x[0],3936430074,11),C=u(C,E,g,y,x[3],3572445317,16),y=u(y,C,E,g,x[6],76029189,23),g=u(g,y,C,E,x[9],3654602809,4),E=u(E,g,y,C,x[12],3873151461,11),C=u(C,E,g,y,x[15],530742520,16),g=v(g,y=u(y,C,E,g,x[2],3299628645,23),C,E,x[0],4096336452,6),E=v(E,g,y,C,x[7],1126891415,10),C=v(C,E,g,y,x[14],2878612391,15),y=v(y,C,E,g,x[5],4237533241,21),g=v(g,y,C,E,x[12],1700485571,6),E=v(E,g,y,C,x[3],2399980690,10),C=v(C,E,g,y,x[10],4293915773,15),y=v(y,C,E,g,x[1],2240044497,21),g=v(g,y,C,E,x[8],1873313359,6),E=v(E,g,y,C,x[15],4264355552,10),C=v(C,E,g,y,x[6],2734768916,15),y=v(y,C,E,g,x[13],1309151649,21),g=v(g,y,C,E,x[4],4149444226,6),E=v(E,g,y,C,x[11],3174756917,10),C=v(C,E,g,y,x[2],718787259,15),y=v(y,C,E,g,x[9],3951481745,21),this._a=this._a+g|0,this._b=this._b+y|0,this._c=this._c+C|0,this._d=this._d+E|0},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var x=c.allocUnsafe(16);return x.writeInt32LE(this._a,0),x.writeInt32LE(this._b,4),x.writeInt32LE(this._c,8),x.writeInt32LE(this._d,12),x},a.exports=r},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,a,l){var f=e("bn.js"),o=e("brorand");function c(s){this.rand=s||new o.Rand}a.exports=c,c.create=function(s){return new c(s)},c.prototype._randbelow=function(s){var r=s.bitLength(),i=Math.ceil(r/8);do var b=new f(this.rand.generate(i));while(b.cmp(s)>=0);return b},c.prototype._randrange=function(s,r){var i=r.sub(s);return s.add(this._randbelow(i))},c.prototype.test=function(s,r,i){var b=s.bitLength(),d=f.mont(s),u=new f(1).toRed(d);r||(r=Math.max(1,b/48|0));for(var v=s.subn(1),x=0;!v.testn(x);x++);for(var m=s.shrn(x),g=v.toRed(d);r>0;r--){var y=this._randrange(new f(2),v);i&&i(y);var C=y.toRed(d).redPow(m);if(C.cmp(u)!==0&&C.cmp(g)!==0){for(var E=1;E<x;E++){if((C=C.redSqr()).cmp(u)===0)return!1;if(C.cmp(g)===0)break}if(E===x)return!1}}return!0},c.prototype.getDivisor=function(s,r){var i=s.bitLength(),b=f.mont(s),d=new f(1).toRed(b);r||(r=Math.max(1,i/48|0));for(var u=s.subn(1),v=0;!u.testn(v);v++);for(var x=s.shrn(v),m=u.toRed(b);r>0;r--){var g=this._randrange(new f(2),u),y=s.gcd(g);if(y.cmpn(1)!==0)return y;var C=g.toRed(b).redPow(x);if(C.cmp(d)!==0&&C.cmp(m)!==0){for(var E=1;E<v;E++){if((C=C.redSqr()).cmp(d)===0)return C.fromRed().subn(1).gcd(s);if(C.cmp(m)===0)break}if(E===v)return(C=C.redSqr()).fromRed().subn(1).gcd(s)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,a,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],453:[function(e,a,l){function f(o,c){if(!o)throw new Error(c||"Assertion failed")}a.exports=f,f.equal=function(o,c,s){if(o!=c)throw new Error(s||"Assertion failed: "+o+" != "+c)}},{}],454:[function(e,a,l){var f=l;function o(s){return s.length===1?"0"+s:s}function c(s){for(var r="",i=0;i<s.length;i++)r+=o(s[i].toString(16));return r}f.toArray=function(s,r){if(Array.isArray(s))return s.slice();if(!s)return[];var i=[];if(typeof s!="string"){for(var b=0;b<s.length;b++)i[b]=0|s[b];return i}if(r==="hex")for((s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s="0"+s),b=0;b<s.length;b+=2)i.push(parseInt(s[b]+s[b+1],16));else for(b=0;b<s.length;b++){var d=s.charCodeAt(b),u=d>>8,v=255&d;u?i.push(u,v):i.push(v)}return i},f.zero2=o,f.toHex=c,f.encode=function(s,r){return r==="hex"?c(s):s}},{}],455:[function(e,a,l){a.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,a,l){var f=e("asn1.js");l.certificate=e("./certificate");var o=f.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});l.RSAPrivateKey=o;var c=f.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});l.RSAPublicKey=c;var s=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(r),this.key("subjectPublicKey").bitstr())});l.PublicKey=s;var r=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),i=f.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(r),this.key("subjectPrivateKey").octstr())});l.PrivateKey=i;var b=f.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});l.EncryptedPrivateKey=b;var d=f.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});l.DSAPrivateKey=d,l.DSAparam=f.define("DSAparam",function(){this.int()});var u=f.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(v),this.key("publicKey").optional().explicit(1).bitstr())});l.ECPrivateKey=u;var v=f.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});l.signature=f.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,a,l){var f=e("asn1.js"),o=f.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),c=f.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),r=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),i=f.define("RelativeDistinguishedName",function(){this.setof(c)}),b=f.define("RDNSequence",function(){this.seqof(i)}),d=f.define("Name",function(){this.choice({rdnSequence:this.use(b)})}),u=f.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),v=f.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),x=f.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(d),this.key("validity").use(u),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(r),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(v).optional())}),m=f.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(x),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});a.exports=m},{"asn1.js":170}],458:[function(e,a,l){var f=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=e("evp_bytestokey"),r=e("browserify-aes"),i=e("safe-buffer").Buffer;a.exports=function(b,d){var u,v=b.toString(),x=v.match(f);if(x){var m="aes"+x[1],g=i.from(x[2],"hex"),y=i.from(x[3].replace(/[\r\n]/g,""),"base64"),C=s(d,g.slice(0,8),parseInt(x[1],10)).key,E=[],A=r.createDecipheriv(m,C,g);E.push(A.update(y)),E.push(A.final()),u=i.concat(E)}else{var D=v.match(c);u=i.from(D[2].replace(/[\r\n]/g,""),"base64")}return{tag:v.match(o)[1],data:u}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,a,l){var f=e("./asn1"),o=e("./aesid.json"),c=e("./fixProc"),s=e("browserify-aes"),r=e("pbkdf2"),i=e("safe-buffer").Buffer;function b(d){var u;typeof d!="object"||i.isBuffer(d)||(u=d.passphrase,d=d.key),typeof d=="string"&&(d=i.from(d));var v,x,m=c(d,u),g=m.tag,y=m.data;switch(g){case"CERTIFICATE":x=f.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(x||(x=f.PublicKey.decode(y,"der")),v=x.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return f.RSAPublicKey.decode(x.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return x.subjectPrivateKey=x.subjectPublicKey,{type:"ec",data:x};case"1.2.840.10040.4.1":return x.algorithm.params.pub_key=f.DSAparam.decode(x.subjectPublicKey.data,"der"),{type:"dsa",data:x.algorithm.params};default:throw new Error("unknown key id "+v)}case"ENCRYPTED PRIVATE KEY":y=function(C,E){var A=C.algorithm.decrypt.kde.kdeparams.salt,D=parseInt(C.algorithm.decrypt.kde.kdeparams.iters.toString(),10),q=o[C.algorithm.decrypt.cipher.algo.join(".")],B=C.algorithm.decrypt.cipher.iv,z=C.subjectPrivateKey,K=parseInt(q.split("-")[1],10)/8,Y=r.pbkdf2Sync(E,A,D,K,"sha1"),X=s.createDecipheriv(q,Y,B),O=[];return O.push(X.update(z)),O.push(X.final()),i.concat(O)}(y=f.EncryptedPrivateKey.decode(y,"der"),u);case"PRIVATE KEY":switch(v=(x=f.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return f.RSAPrivateKey.decode(x.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:x.algorithm.curve,privateKey:f.ECPrivateKey.decode(x.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return x.algorithm.params.priv_key=f.DSAparam.decode(x.subjectPrivateKey,"der"),{type:"dsa",params:x.algorithm.params};default:throw new Error("unknown key id "+v)}case"RSA PUBLIC KEY":return f.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return f.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:f.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=f.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+g)}}a.exports=b,b.signature=f.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,a,l){l.pbkdf2=e("./lib/async"),l.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,a,l){(function(f){(function(){var o,c,s=e("safe-buffer").Buffer,r=e("./precondition"),i=e("./default-encoding"),b=e("./sync"),d=e("./to-buffer"),u=f.crypto&&f.crypto.subtle,v={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},x=[];function m(){return c||(c=f.process&&f.process.nextTick?f.process.nextTick:f.queueMicrotask?f.queueMicrotask:f.setImmediate?f.setImmediate:f.setTimeout)}function g(y,C,E,A,D){return u.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then(function(q){return u.deriveBits({name:"PBKDF2",salt:C,iterations:E,hash:{name:D}},q,A<<3)}).then(function(q){return s.from(q)})}a.exports=function(y,C,E,A,D,q){typeof D=="function"&&(q=D,D=void 0);var B=v[(D=D||"sha1").toLowerCase()];if(B&&typeof f.Promise=="function"){if(r(E,A),y=d(y,i,"Password"),C=d(C,i,"Salt"),typeof q!="function")throw new Error("No callback provided to pbkdf2");(function(z,K){z.then(function(Y){m()(function(){K(null,Y)})},function(Y){m()(function(){K(Y)})})})(function(z){if(f.process&&!f.process.browser||!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(x[z]!==void 0)return x[z];var K=g(o=o||s.alloc(8),o,10,128,z).then(function(){return!0}).catch(function(){return!1});return x[z]=K,K}(B).then(function(z){return z?g(y,C,E,A,B):b(y,C,E,A,D)}),q)}else m()(function(){var z;try{z=b(y,C,E,A,D)}catch(K){return q(K)}q(null,z)})}}).call(this)}).call(this,typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,a,l){(function(f,o){(function(){var c;o.process&&o.process.browser?c="utf-8":o.process&&o.process.version?c=parseInt(f.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":c="utf-8",a.exports=c}).call(this)}).call(this,e("_process"),typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,a,l){var f=Math.pow(2,30)-1;a.exports=function(o,c){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof c!="number")throw new TypeError("Key length not a number");if(c<0||c>f||c!=c)throw new TypeError("Bad key length")}},{}],464:[function(e,a,l){var f=e("create-hash/md5"),o=e("ripemd160"),c=e("sha.js"),s=e("safe-buffer").Buffer,r=e("./precondition"),i=e("./default-encoding"),b=e("./to-buffer"),d=s.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function v(x,m,g){var y=function(B){function z(K){return c(B).update(K).digest()}return B==="rmd160"||B==="ripemd160"?function(K){return new o().update(K).digest()}:B==="md5"?f:z}(x),C=x==="sha512"||x==="sha384"?128:64;m.length>C?m=y(m):m.length<C&&(m=s.concat([m,d],C));for(var E=s.allocUnsafe(C+u[x]),A=s.allocUnsafe(C+u[x]),D=0;D<C;D++)E[D]=54^m[D],A[D]=92^m[D];var q=s.allocUnsafe(C+g+4);E.copy(q,0,0,C),this.ipad1=q,this.ipad2=E,this.opad=A,this.alg=x,this.blocksize=C,this.hash=y,this.size=u[x]}v.prototype.run=function(x,m){return x.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},a.exports=function(x,m,g,y,C){r(g,y);var E=new v(C=C||"sha1",x=b(x,i,"Password"),(m=b(m,i,"Salt")).length),A=s.allocUnsafe(y),D=s.allocUnsafe(m.length+4);m.copy(D,0,0,m.length);for(var q=0,B=u[C],z=Math.ceil(y/B),K=1;K<=z;K++){D.writeUInt32BE(K,m.length);for(var Y=E.run(D,E.ipad1),X=Y,O=1;O<g;O++){X=E.run(X,E.ipad2);for(var P=0;P<B;P++)Y[P]^=X[P]}Y.copy(A,q),q+=B}return A}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,a,l){var f=e("safe-buffer").Buffer;a.exports=function(o,c,s){if(f.isBuffer(o))return o;if(typeof o=="string")return f.from(o,c);if(ArrayBuffer.isView(o))return f.from(o.buffer);throw new TypeError(s+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,a,l){(function(f){(function(){f===void 0||!f.version||f.version.indexOf("v0.")===0||f.version.indexOf("v1.")===0&&f.version.indexOf("v1.8.")!==0?a.exports={nextTick:function(o,c,s,r){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var i,b,d=arguments.length;switch(d){case 0:case 1:return f.nextTick(o);case 2:return f.nextTick(function(){o.call(null,c)});case 3:return f.nextTick(function(){o.call(null,c,s)});case 4:return f.nextTick(function(){o.call(null,c,s,r)});default:for(i=new Array(d-1),b=0;b<i.length;)i[b++]=arguments[b];return f.nextTick(function(){o.apply(null,i)})}}}:a.exports=f}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,a,l){var f,o,c=a.exports={};function s(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(C){if(f===setTimeout)return setTimeout(C,0);if((f===s||!f)&&setTimeout)return f=setTimeout,setTimeout(C,0);try{return f(C,0)}catch{try{return f.call(null,C,0)}catch{return f.call(this,C,0)}}}(function(){try{f=typeof setTimeout=="function"?setTimeout:s}catch{f=s}try{o=typeof clearTimeout=="function"?clearTimeout:r}catch{o=r}})();var b,d=[],u=!1,v=-1;function x(){u&&b&&(u=!1,b.length?d=b.concat(d):v=-1,d.length&&m())}function m(){if(!u){var C=i(x);u=!0;for(var E=d.length;E;){for(b=d,d=[];++v<E;)b&&b[v].run();v=-1,E=d.length}b=null,u=!1,function(A){if(o===clearTimeout)return clearTimeout(A);if((o===r||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(A);try{o(A)}catch{try{return o.call(null,A)}catch{return o.call(this,A)}}}(C)}}function g(C,E){this.fun=C,this.array=E}function y(){}c.nextTick=function(C){var E=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)E[A-1]=arguments[A];d.push(new g(C,E)),d.length!==1||u||i(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=y,c.addListener=y,c.once=y,c.off=y,c.removeListener=y,c.removeAllListeners=y,c.emit=y,c.prependListener=y,c.prependOnceListener=y,c.listeners=function(C){return[]},c.binding=function(C){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(C){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],468:[function(e,a,l){l.publicEncrypt=e("./publicEncrypt"),l.privateDecrypt=e("./privateDecrypt"),l.privateEncrypt=function(f,o){return l.publicEncrypt(f,o,!0)},l.publicDecrypt=function(f,o){return l.privateDecrypt(f,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,a,l){var f=e("create-hash"),o=e("safe-buffer").Buffer;function c(s){var r=o.allocUnsafe(4);return r.writeUInt32BE(s,0),r}a.exports=function(s,r){for(var i,b=o.alloc(0),d=0;b.length<r;)i=c(d++),b=o.concat([b,f("sha1").update(s).update(i).digest()]);return b.slice(0,r)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,a,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],471:[function(e,a,l){var f=e("parse-asn1"),o=e("./mgf"),c=e("./xor"),s=e("bn.js"),r=e("browserify-rsa"),i=e("create-hash"),b=e("./withPublic"),d=e("safe-buffer").Buffer;a.exports=function(u,v,x){var m;m=u.padding?u.padding:x?1:4;var g,y=f(u),C=y.modulus.byteLength();if(v.length>C||new s(v).cmp(y.modulus)>=0)throw new Error("decryption error");g=x?b(new s(v),y):r(v,y);var E=d.alloc(C-g.length);if(g=d.concat([E,g],C),m===4)return function(A,D){var q=A.modulus.byteLength(),B=i("sha1").update(d.alloc(0)).digest(),z=B.length;if(D[0]!==0)throw new Error("decryption error");var K=D.slice(1,z+1),Y=D.slice(z+1),X=c(K,o(Y,z)),O=c(Y,o(X,q-z-1));if(function(N,_){N=d.from(N),_=d.from(_);var j=0,k=N.length;N.length!==_.length&&(j++,k=Math.min(N.length,_.length));for(var T=-1;++T<k;)j+=N[T]^_[T];return j}(B,O.slice(0,z)))throw new Error("decryption error");for(var P=z;O[P]===0;)P++;if(O[P++]!==1)throw new Error("decryption error");return O.slice(P)}(y,g);if(m===1)return function(A,D,q){for(var B=D.slice(0,2),z=2,K=0;D[z++]!==0;)if(z>=D.length){K++;break}var Y=D.slice(2,z-1);if((B.toString("hex")!=="0002"&&!q||B.toString("hex")!=="0001"&&q)&&K++,Y.length<8&&K++,K)throw new Error("decryption error");return D.slice(z)}(0,g,x);if(m===3)return g;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,a,l){var f=e("parse-asn1"),o=e("randombytes"),c=e("create-hash"),s=e("./mgf"),r=e("./xor"),i=e("bn.js"),b=e("./withPublic"),d=e("browserify-rsa"),u=e("safe-buffer").Buffer;a.exports=function(v,x,m){var g;g=v.padding?v.padding:m?1:4;var y,C=f(v);if(g===4)y=function(E,A){var D=E.modulus.byteLength(),q=A.length,B=c("sha1").update(u.alloc(0)).digest(),z=B.length,K=2*z;if(q>D-K-2)throw new Error("message too long");var Y=u.alloc(D-q-K-2),X=D-z-1,O=o(z),P=r(u.concat([B,Y,u.alloc(1,1),A],X),s(O,X)),N=r(O,s(P,z));return new i(u.concat([u.alloc(1),N,P],D))}(C,x);else if(g===1)y=function(E,A,D){var q,B=A.length,z=E.modulus.byteLength();if(B>z-11)throw new Error("message too long");return q=D?u.alloc(z-B-3,255):function(K){for(var Y,X=u.allocUnsafe(K),O=0,P=o(2*K),N=0;O<K;)N===P.length&&(P=o(2*K),N=0),(Y=P[N++])&&(X[O++]=Y);return X}(z-B-3),new i(u.concat([u.from([0,D?1:2]),q,u.alloc(1),A],z))}(C,x,m);else{if(g!==3)throw new Error("unknown padding");if((y=new i(x)).cmp(C.modulus)>=0)throw new Error("data too long for modulus")}return m?d(y,C):b(y,C)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,a,l){var f=e("bn.js"),o=e("safe-buffer").Buffer;a.exports=function(c,s){return o.from(c.toRed(f.mont(s.modulus)).redPow(new f(s.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,a,l){a.exports=function(f,o){for(var c=f.length,s=-1;++s<c;)f[s]^=o[s];return f}},{}],475:[function(e,a,l){(function(f,o){(function(){var c=e("safe-buffer").Buffer,s=o.crypto||o.msCrypto;s&&s.getRandomValues?a.exports=function(r,i){if(r>4294967295)throw new RangeError("requested too many random bytes");var b=c.allocUnsafe(r);if(r>0)if(r>65536)for(var d=0;d<r;d+=65536)s.getRandomValues(b.slice(d,d+65536));else s.getRandomValues(b);return typeof i=="function"?f.nextTick(function(){i(null,b)}):b}:a.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,a,l){(function(f,o){(function(){function c(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var s=e("safe-buffer"),r=e("randombytes"),i=s.Buffer,b=s.kMaxLength,d=o.crypto||o.msCrypto,u=Math.pow(2,32)-1;function v(g,y){if(typeof g!="number"||g!=g)throw new TypeError("offset must be a number");if(g>u||g<0)throw new TypeError("offset must be a uint32");if(g>b||g>y)throw new RangeError("offset out of range")}function x(g,y,C){if(typeof g!="number"||g!=g)throw new TypeError("size must be a number");if(g>u||g<0)throw new TypeError("size must be a uint32");if(g+y>C||g>b)throw new RangeError("buffer too small")}function m(g,y,C,E){if(f.browser){var A=g.buffer,D=new Uint8Array(A,y,C);return d.getRandomValues(D),E?void f.nextTick(function(){E(null,g)}):g}if(!E)return r(C).copy(g,y),g;r(C,function(q,B){if(q)return E(q);B.copy(g,y),E(null,g)})}d&&d.getRandomValues||!f.browser?(l.randomFill=function(g,y,C,E){if(!(i.isBuffer(g)||g instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")E=y,y=0,C=g.length;else if(typeof C=="function")E=C,C=g.length-y;else if(typeof E!="function")throw new TypeError('"cb" argument must be a function');return v(y,g.length),x(C,y,g.length),m(g,y,C,E)},l.randomFillSync=function(g,y,C){if(y===void 0&&(y=0),!(i.isBuffer(g)||g instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return v(y,g.length),C===void 0&&(C=g.length-y),x(C,y,g.length),m(g,y,C)}):(l.randomFill=c,l.randomFillSync=c)}).call(this)}).call(this,e("_process"),typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,a,l){var f={};function o(s,r,i){i||(i=Error);var b=function(d){var u,v;function x(m,g,y){return d.call(this,function(C,E,A){return typeof r=="string"?r:r(C,E,A)}(m,g,y))||this}return v=d,(u=x).prototype=Object.create(v.prototype),u.prototype.constructor=u,u.__proto__=v,x}(i);b.prototype.name=i.name,b.prototype.code=s,f[s]=b}function c(s,r){if(Array.isArray(s)){var i=s.length;return s=s.map(function(b){return String(b)}),i>2?"one of ".concat(r," ").concat(s.slice(0,i-1).join(", "),", or ")+s[i-1]:i===2?"one of ".concat(r," ").concat(s[0]," or ").concat(s[1]):"of ".concat(r," ").concat(s[0])}return"of ".concat(r," ").concat(String(s))}o("ERR_INVALID_OPT_VALUE",function(s,r){return'The value "'+r+'" is invalid for option "'+s+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(s,r,i){var b,d,u;if(typeof r=="string"&&(d="not ",r.substr(0,d.length)===d)?(b="must not be",r=r.replace(/^not /,"")):b="must be",function(x,m,g){return(g===void 0||g>x.length)&&(g=x.length),x.substring(g-m.length,g)===m}(s," argument"))u="The ".concat(s," ").concat(b," ").concat(c(r,"type"));else{var v=function(x,m,g){return typeof g!="number"&&(g=0),!(g+m.length>x.length)&&x.indexOf(m,g)!==-1}(s,".")?"property":"argument";u='The "'.concat(s,'" ').concat(v," ").concat(b," ").concat(c(r,"type"))}return u+=". Received type ".concat(typeof i)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),a.exports.codes=f},{}],478:[function(e,a,l){(function(f){(function(){var o=Object.keys||function(x){var m=[];for(var g in x)m.push(g);return m};a.exports=d;var c=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(d,c);for(var r=o(s.prototype),i=0;i<r.length;i++){var b=r[i];d.prototype[b]||(d.prototype[b]=s.prototype[b])}function d(x){if(!(this instanceof d))return new d(x);c.call(this,x),s.call(this,x),this.allowHalfOpen=!0,x&&(x.readable===!1&&(this.readable=!1),x.writable===!1&&(this.writable=!1),x.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||f.nextTick(v,this)}function v(x){x.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(x){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=x,this._writableState.destroyed=x)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,a,l){a.exports=o;var f=e("./_stream_transform");function o(c){if(!(this instanceof o))return new o(c);f.call(this,c)}e("inherits")(o,f),o.prototype._transform=function(c,s,r){r(null,c)}},{"./_stream_transform":481,inherits:440}],480:[function(e,a,l){(function(f,o){(function(){var c;a.exports=X,X.ReadableState=Y,e("events").EventEmitter;var s=function(L,I){return L.listeners(I).length},r=e("./internal/streams/stream"),i=e("buffer").Buffer,b=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,u=e("util");d=u&&u.debuglog?u.debuglog("stream"):function(){};var v,x,m,g=e("./internal/streams/buffer_list"),y=e("./internal/streams/destroy"),C=e("./internal/streams/state").getHighWaterMark,E=e("../errors").codes,A=E.ERR_INVALID_ARG_TYPE,D=E.ERR_STREAM_PUSH_AFTER_EOF,q=E.ERR_METHOD_NOT_IMPLEMENTED,B=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(X,r);var z=y.errorOrDestroy,K=["error","close","destroy","pause","resume"];function Y(L,I,Z){c=c||e("./_stream_duplex"),L=L||{},typeof Z!="boolean"&&(Z=I instanceof c),this.objectMode=!!L.objectMode,Z&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=C(this,L,"readableHighWaterMark",Z),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(v||(v=e("string_decoder/").StringDecoder),this.decoder=new v(L.encoding),this.encoding=L.encoding)}function X(L){if(c=c||e("./_stream_duplex"),!(this instanceof X))return new X(L);var I=this instanceof c;this._readableState=new Y(L,this,I),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),r.call(this)}function O(L,I,Z,te,ie){d("readableAddChunk",I);var se,le=L._readableState;if(I===null)le.reading=!1,function(me,ae){if(d("onEofChunk"),!ae.ended){if(ae.decoder){var re=ae.decoder.end();re&&re.length&&(ae.buffer.push(re),ae.length+=ae.objectMode?1:re.length)}ae.ended=!0,ae.sync?_(me):(ae.needReadable=!1,ae.emittedReadable||(ae.emittedReadable=!0,j(me)))}}(L,le);else if(ie||(se=function(me,ae){var re;oe=ae,i.isBuffer(oe)||oe instanceof b||typeof ae=="string"||ae===void 0||me.objectMode||(re=new A("chunk",["string","Buffer","Uint8Array"],ae));var oe;return re}(le,I)),se)z(L,se);else if(le.objectMode||I&&I.length>0)if(typeof I=="string"||le.objectMode||Object.getPrototypeOf(I)===i.prototype||(I=function(me){return i.from(me)}(I)),te)le.endEmitted?z(L,new B):P(L,le,I,!0);else if(le.ended)z(L,new D);else{if(le.destroyed)return!1;le.reading=!1,le.decoder&&!Z?(I=le.decoder.write(I),le.objectMode||I.length!==0?P(L,le,I,!1):k(L,le)):P(L,le,I,!1)}else te||(le.reading=!1,k(L,le));return!le.ended&&(le.length<le.highWaterMark||le.length===0)}function P(L,I,Z,te){I.flowing&&I.length===0&&!I.sync?(I.awaitDrain=0,L.emit("data",Z)):(I.length+=I.objectMode?1:Z.length,te?I.buffer.unshift(Z):I.buffer.push(Z),I.needReadable&&_(L)),k(L,I)}Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),X.prototype.destroy=y.destroy,X.prototype._undestroy=y.undestroy,X.prototype._destroy=function(L,I){I(L)},X.prototype.push=function(L,I){var Z,te=this._readableState;return te.objectMode?Z=!0:typeof L=="string"&&((I=I||te.defaultEncoding)!==te.encoding&&(L=i.from(L,I),I=""),Z=!0),O(this,L,I,!1,Z)},X.prototype.unshift=function(L){return O(this,L,null,!0,!1)},X.prototype.isPaused=function(){return this._readableState.flowing===!1},X.prototype.setEncoding=function(L){v||(v=e("string_decoder/").StringDecoder);var I=new v(L);this._readableState.decoder=I,this._readableState.encoding=this._readableState.decoder.encoding;for(var Z=this._readableState.buffer.head,te="";Z!==null;)te+=I.write(Z.data),Z=Z.next;return this._readableState.buffer.clear(),te!==""&&this._readableState.buffer.push(te),this._readableState.length=te.length,this};function N(L,I){return L<=0||I.length===0&&I.ended?0:I.objectMode?1:L!=L?I.flowing&&I.length?I.buffer.head.data.length:I.length:(L>I.highWaterMark&&(I.highWaterMark=function(Z){return Z>=1073741824?Z=1073741824:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}(L)),L<=I.length?L:I.ended?I.length:(I.needReadable=!0,0))}function _(L){var I=L._readableState;d("emitReadable",I.needReadable,I.emittedReadable),I.needReadable=!1,I.emittedReadable||(d("emitReadable",I.flowing),I.emittedReadable=!0,f.nextTick(j,L))}function j(L){var I=L._readableState;d("emitReadable_",I.destroyed,I.length,I.ended),I.destroyed||!I.length&&!I.ended||(L.emit("readable"),I.emittedReadable=!1),I.needReadable=!I.flowing&&!I.ended&&I.length<=I.highWaterMark,V(L)}function k(L,I){I.readingMore||(I.readingMore=!0,f.nextTick(T,L,I))}function T(L,I){for(;!I.reading&&!I.ended&&(I.length<I.highWaterMark||I.flowing&&I.length===0);){var Z=I.length;if(d("maybeReadMore read 0"),L.read(0),Z===I.length)break}I.readingMore=!1}function M(L){var I=L._readableState;I.readableListening=L.listenerCount("readable")>0,I.resumeScheduled&&!I.paused?I.flowing=!0:L.listenerCount("data")>0&&L.resume()}function F(L){d("readable nexttick read 0"),L.read(0)}function $(L,I){d("resume",I.reading),I.reading||L.read(0),I.resumeScheduled=!1,L.emit("resume"),V(L),I.flowing&&!I.reading&&L.read(0)}function V(L){var I=L._readableState;for(d("flow",I.flowing);I.flowing&&L.read()!==null;);}function W(L,I){return I.length===0?null:(I.objectMode?Z=I.buffer.shift():!L||L>=I.length?(Z=I.decoder?I.buffer.join(""):I.buffer.length===1?I.buffer.first():I.buffer.concat(I.length),I.buffer.clear()):Z=I.buffer.consume(L,I.decoder),Z);var Z}function ee(L){var I=L._readableState;d("endReadable",I.endEmitted),I.endEmitted||(I.ended=!0,f.nextTick(U,I,L))}function U(L,I){if(d("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&L.length===0&&(L.endEmitted=!0,I.readable=!1,I.emit("end"),L.autoDestroy)){var Z=I._writableState;(!Z||Z.autoDestroy&&Z.finished)&&I.destroy()}}function Q(L,I){for(var Z=0,te=L.length;Z<te;Z++)if(L[Z]===I)return Z;return-1}X.prototype.read=function(L){d("read",L),L=parseInt(L,10);var I=this._readableState,Z=L;if(L!==0&&(I.emittedReadable=!1),L===0&&I.needReadable&&((I.highWaterMark!==0?I.length>=I.highWaterMark:I.length>0)||I.ended))return d("read: emitReadable",I.length,I.ended),I.length===0&&I.ended?ee(this):_(this),null;if((L=N(L,I))===0&&I.ended)return I.length===0&&ee(this),null;var te,ie=I.needReadable;return d("need readable",ie),(I.length===0||I.length-L<I.highWaterMark)&&d("length less than watermark",ie=!0),I.ended||I.reading?d("reading or ended",ie=!1):ie&&(d("do read"),I.reading=!0,I.sync=!0,I.length===0&&(I.needReadable=!0),this._read(I.highWaterMark),I.sync=!1,I.reading||(L=N(Z,I))),(te=L>0?W(L,I):null)===null?(I.needReadable=I.length<=I.highWaterMark,L=0):(I.length-=L,I.awaitDrain=0),I.length===0&&(I.ended||(I.needReadable=!0),Z!==L&&I.ended&&ee(this)),te!==null&&this.emit("data",te),te},X.prototype._read=function(L){z(this,new q("_read()"))},X.prototype.pipe=function(L,I){var Z=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=L;break;case 1:te.pipes=[te.pipes,L];break;default:te.pipes.push(L)}te.pipesCount+=1,d("pipe count=%d opts=%j",te.pipesCount,I);var ie=(!I||I.end!==!1)&&L!==f.stdout&&L!==f.stderr?le:be;function se(Ce,Ae){d("onunpipe"),Ce===Z&&Ae&&Ae.hasUnpiped===!1&&(Ae.hasUnpiped=!0,d("cleanup"),L.removeListener("close",ue),L.removeListener("finish",fe),L.removeListener("drain",me),L.removeListener("error",oe),L.removeListener("unpipe",se),Z.removeListener("end",le),Z.removeListener("end",be),Z.removeListener("data",re),ae=!0,!te.awaitDrain||L._writableState&&!L._writableState.needDrain||me())}function le(){d("onend"),L.end()}te.endEmitted?f.nextTick(ie):Z.once("end",ie),L.on("unpipe",se);var me=function(Ce){return function(){var Ae=Ce._readableState;d("pipeOnDrain",Ae.awaitDrain),Ae.awaitDrain&&Ae.awaitDrain--,Ae.awaitDrain===0&&s(Ce,"data")&&(Ae.flowing=!0,V(Ce))}}(Z);L.on("drain",me);var ae=!1;function re(Ce){d("ondata");var Ae=L.write(Ce);d("dest.write",Ae),Ae===!1&&((te.pipesCount===1&&te.pipes===L||te.pipesCount>1&&Q(te.pipes,L)!==-1)&&!ae&&(d("false write response, pause",te.awaitDrain),te.awaitDrain++),Z.pause())}function oe(Ce){d("onerror",Ce),be(),L.removeListener("error",oe),s(L,"error")===0&&z(L,Ce)}function ue(){L.removeListener("finish",fe),be()}function fe(){d("onfinish"),L.removeListener("close",ue),be()}function be(){d("unpipe"),Z.unpipe(L)}return Z.on("data",re),function(Ce,Ae,Pe){if(typeof Ce.prependListener=="function")return Ce.prependListener(Ae,Pe);Ce._events&&Ce._events[Ae]?Array.isArray(Ce._events[Ae])?Ce._events[Ae].unshift(Pe):Ce._events[Ae]=[Pe,Ce._events[Ae]]:Ce.on(Ae,Pe)}(L,"error",oe),L.once("close",ue),L.once("finish",fe),L.emit("pipe",Z),te.flowing||(d("pipe resume"),Z.resume()),L},X.prototype.unpipe=function(L){var I=this._readableState,Z={hasUnpiped:!1};if(I.pipesCount===0)return this;if(I.pipesCount===1)return L&&L!==I.pipes||(L||(L=I.pipes),I.pipes=null,I.pipesCount=0,I.flowing=!1,L&&L.emit("unpipe",this,Z)),this;if(!L){var te=I.pipes,ie=I.pipesCount;I.pipes=null,I.pipesCount=0,I.flowing=!1;for(var se=0;se<ie;se++)te[se].emit("unpipe",this,{hasUnpiped:!1});return this}var le=Q(I.pipes,L);return le===-1||(I.pipes.splice(le,1),I.pipesCount-=1,I.pipesCount===1&&(I.pipes=I.pipes[0]),L.emit("unpipe",this,Z)),this},X.prototype.on=function(L,I){var Z=r.prototype.on.call(this,L,I),te=this._readableState;return L==="data"?(te.readableListening=this.listenerCount("readable")>0,te.flowing!==!1&&this.resume()):L==="readable"&&(te.endEmitted||te.readableListening||(te.readableListening=te.needReadable=!0,te.flowing=!1,te.emittedReadable=!1,d("on readable",te.length,te.reading),te.length?_(this):te.reading||f.nextTick(F,this))),Z},X.prototype.addListener=X.prototype.on,X.prototype.removeListener=function(L,I){var Z=r.prototype.removeListener.call(this,L,I);return L==="readable"&&f.nextTick(M,this),Z},X.prototype.removeAllListeners=function(L){var I=r.prototype.removeAllListeners.apply(this,arguments);return L!=="readable"&&L!==void 0||f.nextTick(M,this),I},X.prototype.resume=function(){var L=this._readableState;return L.flowing||(d("resume"),L.flowing=!L.readableListening,function(I,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,f.nextTick($,I,Z))}(this,L)),L.paused=!1,this},X.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},X.prototype.wrap=function(L){var I=this,Z=this._readableState,te=!1;for(var ie in L.on("end",function(){if(d("wrapped end"),Z.decoder&&!Z.ended){var le=Z.decoder.end();le&&le.length&&I.push(le)}I.push(null)}),L.on("data",function(le){d("wrapped data"),Z.decoder&&(le=Z.decoder.write(le)),Z.objectMode&&le==null||(Z.objectMode||le&&le.length)&&(I.push(le)||(te=!0,L.pause()))}),L)this[ie]===void 0&&typeof L[ie]=="function"&&(this[ie]=function(le){return function(){return L[le].apply(L,arguments)}}(ie));for(var se=0;se<K.length;se++)L.on(K[se],this.emit.bind(this,K[se]));return this._read=function(le){d("wrapped _read",le),te&&(te=!1,L.resume())},this},typeof Symbol=="function"&&(X.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=e("./internal/streams/async_iterator")),x(this)}),Object.defineProperty(X.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(X.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(X.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),X._fromList=W,Object.defineProperty(X.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(X.from=function(L,I){return m===void 0&&(m=e("./internal/streams/from")),m(X,L,I)})}).call(this)}).call(this,e("_process"),typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,a,l){a.exports=d;var f=e("../errors").codes,o=f.ERR_METHOD_NOT_IMPLEMENTED,c=f.ERR_MULTIPLE_CALLBACK,s=f.ERR_TRANSFORM_ALREADY_TRANSFORMING,r=f.ERR_TRANSFORM_WITH_LENGTH_0,i=e("./_stream_duplex");function b(x,m){var g=this._transformState;g.transforming=!1;var y=g.writecb;if(y===null)return this.emit("error",new c);g.writechunk=null,g.writecb=null,m!=null&&this.push(m),y(x);var C=this._readableState;C.reading=!1,(C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}function d(x){if(!(this instanceof d))return new d(x);i.call(this,x),this._transformState={afterTransform:b.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,x&&(typeof x.transform=="function"&&(this._transform=x.transform),typeof x.flush=="function"&&(this._flush=x.flush)),this.on("prefinish",u)}function u(){var x=this;typeof this._flush!="function"||this._readableState.destroyed?v(this,null,null):this._flush(function(m,g){v(x,m,g)})}function v(x,m,g){if(m)return x.emit("error",m);if(g!=null&&x.push(g),x._writableState.length)throw new r;if(x._transformState.transforming)throw new s;return x.push(null)}e("inherits")(d,i),d.prototype.push=function(x,m){return this._transformState.needTransform=!1,i.prototype.push.call(this,x,m)},d.prototype._transform=function(x,m,g){g(new o("_transform()"))},d.prototype._write=function(x,m,g){var y=this._transformState;if(y.writecb=g,y.writechunk=x,y.writeencoding=m,!y.transforming){var C=this._readableState;(y.needTransform||C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}},d.prototype._read=function(x){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},d.prototype._destroy=function(x,m){i.prototype._destroy.call(this,x,function(g){m(g)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,a,l){(function(f,o){(function(){function c(T){var M=this;this.next=null,this.entry=null,this.finish=function(){(function(F,$,V){var W=F.entry;for(F.entry=null;W;){var ee=W.callback;$.pendingcb--,ee(V),W=W.next}$.corkedRequestsFree.next=F})(M,T)}}var s;a.exports=X,X.WritableState=Y;var r={deprecate:e("util-deprecate")},i=e("./internal/streams/stream"),b=e("buffer").Buffer,d=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},u,v=e("./internal/streams/destroy"),x=e("./internal/streams/state").getHighWaterMark,m=e("../errors").codes,g=m.ERR_INVALID_ARG_TYPE,y=m.ERR_METHOD_NOT_IMPLEMENTED,C=m.ERR_MULTIPLE_CALLBACK,E=m.ERR_STREAM_CANNOT_PIPE,A=m.ERR_STREAM_DESTROYED,D=m.ERR_STREAM_NULL_VALUES,q=m.ERR_STREAM_WRITE_AFTER_END,B=m.ERR_UNKNOWN_ENCODING,z=v.errorOrDestroy;function K(){}function Y(T,M,F){s=s||e("./_stream_duplex"),T=T||{},typeof F!="boolean"&&(F=M instanceof s),this.objectMode=!!T.objectMode,F&&(this.objectMode=this.objectMode||!!T.writableObjectMode),this.highWaterMark=x(this,T,"writableHighWaterMark",F),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=T.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){(function(W,ee){var U=W._writableState,Q=U.sync,L=U.writecb;if(typeof L!="function")throw new C;if(function(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}(U),ee)(function(Z,te,ie,se,le){--te.pendingcb,ie?(f.nextTick(le,se),f.nextTick(k,Z,te),Z._writableState.errorEmitted=!0,z(Z,se)):(le(se),Z._writableState.errorEmitted=!0,z(Z,se),k(Z,te))})(W,U,Q,ee,L);else{var I=_(U)||W.destroyed;I||U.corked||U.bufferProcessing||!U.bufferedRequest||N(W,U),Q?f.nextTick(P,W,U,I,L):P(W,U,I,L)}})(M,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=T.emitClose!==!1,this.autoDestroy=!!T.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function X(T){var M=this instanceof(s=s||e("./_stream_duplex"));if(!M&&!u.call(X,this))return new X(T);this._writableState=new Y(T,this,M),this.writable=!0,T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final)),i.call(this)}function O(T,M,F,$,V,W,ee){M.writelen=$,M.writecb=ee,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new A("write")):F?T._writev(V,M.onwrite):T._write(V,W,M.onwrite),M.sync=!1}function P(T,M,F,$){F||function(V,W){W.length===0&&W.needDrain&&(W.needDrain=!1,V.emit("drain"))}(T,M),M.pendingcb--,$(),k(T,M)}function N(T,M){M.bufferProcessing=!0;var F=M.bufferedRequest;if(T._writev&&F&&F.next){var $=M.bufferedRequestCount,V=new Array($),W=M.corkedRequestsFree;W.entry=F;for(var ee=0,U=!0;F;)V[ee]=F,F.isBuf||(U=!1),F=F.next,ee+=1;V.allBuffers=U,O(T,M,!0,M.length,V,"",W.finish),M.pendingcb++,M.lastBufferedRequest=null,W.next?(M.corkedRequestsFree=W.next,W.next=null):M.corkedRequestsFree=new c(M),M.bufferedRequestCount=0}else{for(;F;){var Q=F.chunk,L=F.encoding,I=F.callback;if(O(T,M,!1,M.objectMode?1:Q.length,Q,L,I),F=F.next,M.bufferedRequestCount--,M.writing)break}F===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=F,M.bufferProcessing=!1}function _(T){return T.ending&&T.length===0&&T.bufferedRequest===null&&!T.finished&&!T.writing}function j(T,M){T._final(function(F){M.pendingcb--,F&&z(T,F),M.prefinished=!0,T.emit("prefinish"),k(T,M)})}function k(T,M){var F=_(M);if(F&&(function(V,W){W.prefinished||W.finalCalled||(typeof V._final!="function"||W.destroyed?(W.prefinished=!0,V.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,f.nextTick(j,V,W)))}(T,M),M.pendingcb===0&&(M.finished=!0,T.emit("finish"),M.autoDestroy))){var $=T._readableState;(!$||$.autoDestroy&&$.endEmitted)&&T.destroy()}return F}e("inherits")(X,i),Y.prototype.getBuffer=function(){for(var T=this.bufferedRequest,M=[];T;)M.push(T),T=T.next;return M},function(){try{Object.defineProperty(Y.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(T){return!!u.call(this,T)||this===X&&T&&T._writableState instanceof Y}})):u=function(T){return T instanceof this},X.prototype.pipe=function(){z(this,new E)},X.prototype.write=function(T,M,F){var $,V=this._writableState,W=!1,ee=!V.objectMode&&($=T,b.isBuffer($)||$ instanceof d);return ee&&!b.isBuffer(T)&&(T=function(U){return b.from(U)}(T)),typeof M=="function"&&(F=M,M=null),ee?M="buffer":M||(M=V.defaultEncoding),typeof F!="function"&&(F=K),V.ending?function(U,Q){var L=new q;z(U,L),f.nextTick(Q,L)}(this,F):(ee||function(U,Q,L,I){var Z;return L===null?Z=new D:typeof L=="string"||Q.objectMode||(Z=new g("chunk",["string","Buffer"],L)),!Z||(z(U,Z),f.nextTick(I,Z),!1)}(this,V,T,F))&&(V.pendingcb++,W=function(U,Q,L,I,Z,te){if(!L){var ie=function(ae,re,oe){return ae.objectMode||ae.decodeStrings===!1||typeof re!="string"||(re=b.from(re,oe)),re}(Q,I,Z);I!==ie&&(L=!0,Z="buffer",I=ie)}var se=Q.objectMode?1:I.length;Q.length+=se;var le=Q.length<Q.highWaterMark;if(le||(Q.needDrain=!0),Q.writing||Q.corked){var me=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:I,encoding:Z,isBuf:L,callback:te,next:null},me?me.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else O(U,Q,!1,se,I,Z,te);return le}(this,V,ee,T,M,F)),W},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var T=this._writableState;T.corked&&(T.corked--,T.writing||T.corked||T.bufferProcessing||!T.bufferedRequest||N(this,T))},X.prototype.setDefaultEncoding=function(T){if(typeof T=="string"&&(T=T.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((T+"").toLowerCase())>-1))throw new B(T);return this._writableState.defaultEncoding=T,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),X.prototype._write=function(T,M,F){F(new y("_write()"))},X.prototype._writev=null,X.prototype.end=function(T,M,F){var $=this._writableState;return typeof T=="function"?(F=T,T=null,M=null):typeof M=="function"&&(F=M,M=null),T!=null&&this.write(T,M),$.corked&&($.corked=1,this.uncork()),$.ending||function(V,W,ee){W.ending=!0,k(V,W),ee&&(W.finished?f.nextTick(ee):V.once("finish",ee)),W.ended=!0,V.writable=!1}(this,$,F),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(T){this._writableState&&(this._writableState.destroyed=T)}}),X.prototype.destroy=v.destroy,X.prototype._undestroy=v.undestroy,X.prototype._destroy=function(T,M){M(T)}}).call(this)}).call(this,e("_process"),typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,a,l){(function(f){(function(){var o;function c(A,D,q){return(D=function(B){var z=function(K,Y){if(typeof K!="object"||K===null)return K;var X=K[Symbol.toPrimitive];if(X!==void 0){var O=X.call(K,Y);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(K)}(B,"string");return typeof z=="symbol"?z:String(z)}(D))in A?Object.defineProperty(A,D,{value:q,enumerable:!0,configurable:!0,writable:!0}):A[D]=q,A}var s=e("./end-of-stream"),r=Symbol("lastResolve"),i=Symbol("lastReject"),b=Symbol("error"),d=Symbol("ended"),u=Symbol("lastPromise"),v=Symbol("handlePromise"),x=Symbol("stream");function m(A,D){return{value:A,done:D}}function g(A){var D=A[r];if(D!==null){var q=A[x].read();q!==null&&(A[u]=null,A[r]=null,A[i]=null,D(m(q,!1)))}}function y(A){f.nextTick(g,A)}var C=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((c(o={get stream(){return this[x]},next:function(){var A=this,D=this[b];if(D!==null)return Promise.reject(D);if(this[d])return Promise.resolve(m(void 0,!0));if(this[x].destroyed)return new Promise(function(K,Y){f.nextTick(function(){A[b]?Y(A[b]):K(m(void 0,!0))})});var q,B=this[u];if(B)q=new Promise(function(K,Y){return function(X,O){K.then(function(){Y[d]?X(m(void 0,!0)):Y[v](X,O)},O)}}(B,this));else{var z=this[x].read();if(z!==null)return Promise.resolve(m(z,!1));q=new Promise(this[v])}return this[u]=q,q}},Symbol.asyncIterator,function(){return this}),c(o,"return",function(){var A=this;return new Promise(function(D,q){A[x].destroy(null,function(B){B?q(B):D(m(void 0,!0))})})}),o),C);a.exports=function(A){var D,q=Object.create(E,(c(D={},x,{value:A,writable:!0}),c(D,r,{value:null,writable:!0}),c(D,i,{value:null,writable:!0}),c(D,b,{value:null,writable:!0}),c(D,d,{value:A._readableState.endEmitted,writable:!0}),c(D,v,{value:function(B,z){var K=q[x].read();K?(q[u]=null,q[r]=null,q[i]=null,B(m(K,!1))):(q[r]=B,q[i]=z)},writable:!0}),D));return q[u]=null,s(A,function(B){if(B&&B.code!=="ERR_STREAM_PREMATURE_CLOSE"){var z=q[i];return z!==null&&(q[u]=null,q[r]=null,q[i]=null,z(B)),void(q[b]=B)}var K=q[r];K!==null&&(q[u]=null,q[r]=null,q[i]=null,K(m(void 0,!0))),q[d]=!0}),A.on("readable",y.bind(null,q)),q}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,a,l){function f(u,v){var x=Object.keys(u);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(u);v&&(m=m.filter(function(g){return Object.getOwnPropertyDescriptor(u,g).enumerable})),x.push.apply(x,m)}return x}function o(u){for(var v=1;v<arguments.length;v++){var x=arguments[v]!=null?arguments[v]:{};v%2?f(Object(x),!0).forEach(function(m){c(u,m,x[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(x)):f(Object(x)).forEach(function(m){Object.defineProperty(u,m,Object.getOwnPropertyDescriptor(x,m))})}return u}function c(u,v,x){return(v=r(v))in u?Object.defineProperty(u,v,{value:x,enumerable:!0,configurable:!0,writable:!0}):u[v]=x,u}function s(u,v){for(var x=0;x<v.length;x++){var m=v[x];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,r(m.key),m)}}function r(u){var v=function(x,m){if(typeof x!="object"||x===null)return x;var g=x[Symbol.toPrimitive];if(g!==void 0){var y=g.call(x,m);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(x)}(u,"string");return typeof v=="symbol"?v:String(v)}var i=e("buffer").Buffer,b=e("util").inspect,d=b&&b.custom||"inspect";a.exports=function(){function u(){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}var v,x;return v=u,(x=[{key:"push",value:function(m){var g={data:m,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(m){var g={data:m,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var g=this.head,y=""+g.data;g=g.next;)y+=m+g.data;return y}},{key:"concat",value:function(m){if(this.length===0)return i.alloc(0);for(var g,y,C,E=i.allocUnsafe(m>>>0),A=this.head,D=0;A;)g=A.data,y=E,C=D,i.prototype.copy.call(g,y,C),D+=A.data.length,A=A.next;return E}},{key:"consume",value:function(m,g){var y;return m<this.head.data.length?(y=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):y=m===this.head.data.length?this.shift():g?this._getString(m):this._getBuffer(m),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var g=this.head,y=1,C=g.data;for(m-=C.length;g=g.next;){var E=g.data,A=m>E.length?E.length:m;if(A===E.length?C+=E:C+=E.slice(0,m),(m-=A)==0){A===E.length?(++y,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=E.slice(A));break}++y}return this.length-=y,C}},{key:"_getBuffer",value:function(m){var g=i.allocUnsafe(m),y=this.head,C=1;for(y.data.copy(g),m-=y.data.length;y=y.next;){var E=y.data,A=m>E.length?E.length:m;if(E.copy(g,g.length-m,0,A),(m-=A)==0){A===E.length?(++C,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=E.slice(A));break}++C}return this.length-=C,g}},{key:d,value:function(m,g){return b(this,o(o({},g),{},{depth:0,customInspect:!1}))}}])&&s(v.prototype,x),Object.defineProperty(v,"prototype",{writable:!1}),u}()},{buffer:220,util:188}],485:[function(e,a,l){(function(f){(function(){function o(r,i){s(r,i),c(r)}function c(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function s(r,i){r.emit("error",i)}a.exports={destroy:function(r,i){var b=this,d=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return d||u?(i?i(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,f.nextTick(s,this,r)):f.nextTick(s,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(v){!i&&v?b._writableState?b._writableState.errorEmitted?f.nextTick(c,b):(b._writableState.errorEmitted=!0,f.nextTick(o,b,v)):f.nextTick(o,b,v):i?(f.nextTick(c,b),i(v)):f.nextTick(c,b)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,i){var b=r._readableState,d=r._writableState;b&&b.autoDestroy||d&&d.autoDestroy?r.destroy(i):r.emit("error",i)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,a,l){var f=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}a.exports=function c(s,r,i){if(typeof r=="function")return c(s,null,r);r||(r={}),i=function(A){var D=!1;return function(){if(!D){D=!0;for(var q=arguments.length,B=new Array(q),z=0;z<q;z++)B[z]=arguments[z];A.apply(this,B)}}}(i||o);var b=r.readable||r.readable!==!1&&s.readable,d=r.writable||r.writable!==!1&&s.writable,u=function(){s.writable||x()},v=s._writableState&&s._writableState.finished,x=function(){d=!1,v=!0,b||i.call(s)},m=s._readableState&&s._readableState.endEmitted,g=function(){b=!1,m=!0,d||i.call(s)},y=function(A){i.call(s,A)},C=function(){var A;return b&&!m?(s._readableState&&s._readableState.ended||(A=new f),i.call(s,A)):d&&!v?(s._writableState&&s._writableState.ended||(A=new f),i.call(s,A)):void 0},E=function(){s.req.on("finish",x)};return function(A){return A.setHeader&&typeof A.abort=="function"}(s)?(s.on("complete",x),s.on("abort",C),s.req?E():s.on("request",E)):d&&!s._writableState&&(s.on("end",u),s.on("close",u)),s.on("end",g),s.on("finish",x),r.error!==!1&&s.on("error",y),s.on("close",C),function(){s.removeListener("complete",x),s.removeListener("abort",C),s.removeListener("request",E),s.req&&s.req.removeListener("finish",x),s.removeListener("end",u),s.removeListener("close",u),s.removeListener("finish",x),s.removeListener("end",g),s.removeListener("error",y),s.removeListener("close",C)}}},{"../../../errors":477}],487:[function(e,a,l){a.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,a,l){var f,o=e("../../../errors").codes,c=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function r(v){if(v)throw v}function i(v,x,m,g){g=function(E){var A=!1;return function(){A||(A=!0,E.apply(void 0,arguments))}}(g);var y=!1;v.on("close",function(){y=!0}),f===void 0&&(f=e("./end-of-stream")),f(v,{readable:x,writable:m},function(E){if(E)return g(E);y=!0,g()});var C=!1;return function(E){if(!y&&!C)return C=!0,function(A){return A.setHeader&&typeof A.abort=="function"}(v)?v.abort():typeof v.destroy=="function"?v.destroy():void g(E||new s("pipe"))}}function b(v){v()}function d(v,x){return v.pipe(x)}function u(v){return v.length?typeof v[v.length-1]!="function"?r:v.pop():r}a.exports=function(){for(var v=arguments.length,x=new Array(v),m=0;m<v;m++)x[m]=arguments[m];var g,y=u(x);if(Array.isArray(x[0])&&(x=x[0]),x.length<2)throw new c("streams");var C=x.map(function(E,A){var D=A<x.length-1;return i(E,D,A>0,function(q){g||(g=q),q&&C.forEach(b),D||(C.forEach(b),y(g))})});return x.reduce(d)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,a,l){var f=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;a.exports={getHighWaterMark:function(o,c,s,r){var i=function(b,d,u){return b.highWaterMark!=null?b.highWaterMark:d?b[u]:null}(c,r,s);if(i!=null){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new f(r?s:"highWaterMark",i);return Math.floor(i)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,a,l){a.exports=e("events").EventEmitter},{events:422}],491:[function(e,a,l){(l=a.exports=e("./lib/_stream_readable.js")).Stream=l,l.Readable=l,l.Writable=e("./lib/_stream_writable.js"),l.Duplex=e("./lib/_stream_duplex.js"),l.Transform=e("./lib/_stream_transform.js"),l.PassThrough=e("./lib/_stream_passthrough.js"),l.finished=e("./lib/internal/streams/end-of-stream.js"),l.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,a,l){var f=function(o){var c=Object.prototype,s=c.hasOwnProperty,r=Object.defineProperty||function(k,T,M){k[T]=M.value},i=typeof Symbol=="function"?Symbol:{},b=i.iterator||"@@iterator",d=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function v(k,T,M){return Object.defineProperty(k,T,{value:M,enumerable:!0,configurable:!0,writable:!0}),k[T]}try{v({},"")}catch{v=function(T,M,F){return T[M]=F}}function x(k,T,M,F){var $=T&&T.prototype instanceof y?T:y,V=Object.create($.prototype),W=new N(F||[]);return r(V,"_invoke",{value:Y(k,M,W)}),V}function m(k,T,M){try{return{type:"normal",arg:k.call(T,M)}}catch(F){return{type:"throw",arg:F}}}o.wrap=x;var g={};function y(){}function C(){}function E(){}var A={};v(A,b,function(){return this});var D=Object.getPrototypeOf,q=D&&D(D(_([])));q&&q!==c&&s.call(q,b)&&(A=q);var B=E.prototype=y.prototype=Object.create(A);function z(k){["next","throw","return"].forEach(function(T){v(k,T,function(M){return this._invoke(T,M)})})}function K(k,T){var M;r(this,"_invoke",{value:function(F,$){function V(){return new T(function(W,ee){(function U(Q,L,I,Z){var te=m(k[Q],k,L);if(te.type!=="throw"){var ie=te.arg,se=ie.value;return se&&typeof se=="object"&&s.call(se,"__await")?T.resolve(se.__await).then(function(le){U("next",le,I,Z)},function(le){U("throw",le,I,Z)}):T.resolve(se).then(function(le){ie.value=le,I(ie)},function(le){return U("throw",le,I,Z)})}Z(te.arg)})(F,$,W,ee)})}return M=M?M.then(V,V):V()}})}function Y(k,T,M){var F="suspendedStart";return function($,V){if(F==="executing")throw new Error("Generator is already running");if(F==="completed"){if($==="throw")throw V;return j()}for(M.method=$,M.arg=V;;){var W=M.delegate;if(W){var ee=X(W,M);if(ee){if(ee===g)continue;return ee}}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(F==="suspendedStart")throw F="completed",M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);F="executing";var U=m(k,T,M);if(U.type==="normal"){if(F=M.done?"completed":"suspendedYield",U.arg===g)continue;return{value:U.arg,done:M.done}}U.type==="throw"&&(F="completed",M.method="throw",M.arg=U.arg)}}}function X(k,T){var M=T.method,F=k.iterator[M];if(F===void 0)return T.delegate=null,M==="throw"&&k.iterator.return&&(T.method="return",T.arg=void 0,X(k,T),T.method==="throw")||M!=="return"&&(T.method="throw",T.arg=new TypeError("The iterator does not provide a '"+M+"' method")),g;var $=m(F,k.iterator,T.arg);if($.type==="throw")return T.method="throw",T.arg=$.arg,T.delegate=null,g;var V=$.arg;return V?V.done?(T[k.resultName]=V.value,T.next=k.nextLoc,T.method!=="return"&&(T.method="next",T.arg=void 0),T.delegate=null,g):V:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,g)}function O(k){var T={tryLoc:k[0]};1 in k&&(T.catchLoc=k[1]),2 in k&&(T.finallyLoc=k[2],T.afterLoc=k[3]),this.tryEntries.push(T)}function P(k){var T=k.completion||{};T.type="normal",delete T.arg,k.completion=T}function N(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(O,this),this.reset(!0)}function _(k){if(k){var T=k[b];if(T)return T.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var M=-1,F=function $(){for(;++M<k.length;)if(s.call(k,M))return $.value=k[M],$.done=!1,$;return $.value=void 0,$.done=!0,$};return F.next=F}}return{next:j}}function j(){return{value:void 0,done:!0}}return C.prototype=E,r(B,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:C,configurable:!0}),C.displayName=v(E,u,"GeneratorFunction"),o.isGeneratorFunction=function(k){var T=typeof k=="function"&&k.constructor;return!!T&&(T===C||(T.displayName||T.name)==="GeneratorFunction")},o.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,E):(k.__proto__=E,v(k,u,"GeneratorFunction")),k.prototype=Object.create(B),k},o.awrap=function(k){return{__await:k}},z(K.prototype),v(K.prototype,d,function(){return this}),o.AsyncIterator=K,o.async=function(k,T,M,F,$){$===void 0&&($=Promise);var V=new K(x(k,T,M,F),$);return o.isGeneratorFunction(T)?V:V.next().then(function(W){return W.done?W.value:V.next()})},z(B),v(B,u,"Generator"),v(B,b,function(){return this}),v(B,"toString",function(){return"[object Generator]"}),o.keys=function(k){var T=Object(k),M=[];for(var F in T)M.push(F);return M.reverse(),function $(){for(;M.length;){var V=M.pop();if(V in T)return $.value=V,$.done=!1,$}return $.done=!0,$}},o.values=_,N.prototype={constructor:N,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!k)for(var T in this)T.charAt(0)==="t"&&s.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=void 0)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var T=this;function M(U,Q){return V.type="throw",V.arg=k,T.next=U,Q&&(T.method="next",T.arg=void 0),!!Q}for(var F=this.tryEntries.length-1;F>=0;--F){var $=this.tryEntries[F],V=$.completion;if($.tryLoc==="root")return M("end");if($.tryLoc<=this.prev){var W=s.call($,"catchLoc"),ee=s.call($,"finallyLoc");if(W&&ee){if(this.prev<$.catchLoc)return M($.catchLoc,!0);if(this.prev<$.finallyLoc)return M($.finallyLoc)}else if(W){if(this.prev<$.catchLoc)return M($.catchLoc,!0)}else{if(!ee)throw new Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return M($.finallyLoc)}}}},abrupt:function(k,T){for(var M=this.tryEntries.length-1;M>=0;--M){var F=this.tryEntries[M];if(F.tryLoc<=this.prev&&s.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var $=F;break}}$&&(k==="break"||k==="continue")&&$.tryLoc<=T&&T<=$.finallyLoc&&($=null);var V=$?$.completion:{};return V.type=k,V.arg=T,$?(this.method="next",this.next=$.finallyLoc,g):this.complete(V)},complete:function(k,T){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&T&&(this.next=T),g},finish:function(k){for(var T=this.tryEntries.length-1;T>=0;--T){var M=this.tryEntries[T];if(M.finallyLoc===k)return this.complete(M.completion,M.afterLoc),P(M),g}},catch:function(k){for(var T=this.tryEntries.length-1;T>=0;--T){var M=this.tryEntries[T];if(M.tryLoc===k){var F=M.completion;if(F.type==="throw"){var $=F.arg;P(M)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(k,T,M){return this.delegate={iterator:_(k),resultName:T,nextLoc:M},this.method==="next"&&(this.arg=void 0),g}},o}(typeof a=="object"?a.exports:{});try{regeneratorRuntime=f}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=f:Function("r","regeneratorRuntime = r")(f)}},{}],493:[function(e,a,l){var f=e("buffer").Buffer,o=e("inherits"),c=e("hash-base"),s=new Array(16),r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],v=[1352829926,1548603684,1836072691,2053994217,0];function x(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(D,q){return D<<q|D>>>32-q}function g(D,q,B,z,K,Y,X,O){return m(D+(q^B^z)+Y+X|0,O)+K|0}function y(D,q,B,z,K,Y,X,O){return m(D+(q&B|~q&z)+Y+X|0,O)+K|0}function C(D,q,B,z,K,Y,X,O){return m(D+((q|~B)^z)+Y+X|0,O)+K|0}function E(D,q,B,z,K,Y,X,O){return m(D+(q&z|B&~z)+Y+X|0,O)+K|0}function A(D,q,B,z,K,Y,X,O){return m(D+(q^(B|~z))+Y+X|0,O)+K|0}o(x,c),x.prototype._update=function(){for(var D=s,q=0;q<16;++q)D[q]=this._block.readInt32LE(4*q);for(var B=0|this._a,z=0|this._b,K=0|this._c,Y=0|this._d,X=0|this._e,O=0|this._a,P=0|this._b,N=0|this._c,_=0|this._d,j=0|this._e,k=0;k<80;k+=1){var T,M;k<16?(T=g(B,z,K,Y,X,D[r[k]],u[0],b[k]),M=A(O,P,N,_,j,D[i[k]],v[0],d[k])):k<32?(T=y(B,z,K,Y,X,D[r[k]],u[1],b[k]),M=E(O,P,N,_,j,D[i[k]],v[1],d[k])):k<48?(T=C(B,z,K,Y,X,D[r[k]],u[2],b[k]),M=C(O,P,N,_,j,D[i[k]],v[2],d[k])):k<64?(T=E(B,z,K,Y,X,D[r[k]],u[3],b[k]),M=y(O,P,N,_,j,D[i[k]],v[3],d[k])):(T=A(B,z,K,Y,X,D[r[k]],u[4],b[k]),M=g(O,P,N,_,j,D[i[k]],v[4],d[k])),B=X,X=Y,Y=m(K,10),K=z,z=T,O=j,j=_,_=m(N,10),N=P,P=M}var F=this._b+K+_|0;this._b=this._c+Y+j|0,this._c=this._d+X+O|0,this._d=this._e+B+P|0,this._e=this._a+z+N|0,this._a=F},x.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var D=f.alloc?f.alloc(20):new f(20);return D.writeInt32LE(this._a,0),D.writeInt32LE(this._b,4),D.writeInt32LE(this._c,8),D.writeInt32LE(this._d,12),D.writeInt32LE(this._e,16),D},a.exports=x},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,a,l){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var f=e("buffer"),o=f.Buffer;function c(r,i){for(var b in r)i[b]=r[b]}function s(r,i,b){return o(r,i,b)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?a.exports=f:(c(f,l),l.Buffer=s),s.prototype=Object.create(o.prototype),c(o,s),s.from=function(r,i,b){if(typeof r=="number")throw new TypeError("Argument must not be a number");return o(r,i,b)},s.alloc=function(r,i,b){if(typeof r!="number")throw new TypeError("Argument must be a number");var d=o(r);return i!==void 0?typeof b=="string"?d.fill(i,b):d.fill(i):d.fill(0),d},s.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return o(r)},s.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return f.SlowBuffer(r)}},{buffer:220}],495:[function(e,a,l){(function(f){(function(){var o,c=e("buffer"),s=c.Buffer,r={};for(o in c)c.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(r[o]=c[o]);var i=r.Buffer={};for(o in s)s.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(i[o]=s[o]);if(r.Buffer.prototype=s.prototype,i.from&&i.from!==Uint8Array.from||(i.from=function(b,d,u){if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof b);if(b&&b.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);return s(b,d,u)}),i.alloc||(i.alloc=function(b,d,u){if(typeof b!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof b);if(b<0||b>=2*(1<<30))throw new RangeError('The value "'+b+'" is invalid for option "size"');var v=s(b);return d&&d.length!==0?typeof u=="string"?v.fill(d,u):v.fill(d):v.fill(0),v}),!r.kStringMaxLength)try{r.kStringMaxLength=f.binding("buffer").kStringMaxLength}catch{}r.constants||(r.constants={MAX_LENGTH:r.kMaxLength},r.kStringMaxLength&&(r.constants.MAX_STRING_LENGTH=r.kStringMaxLength)),a.exports=r}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0});const f=e("xmlchars/xml/1.0/ed5"),o=e("xmlchars/xml/1.1/ed2"),c=e("xmlchars/xmlns/1.0/ed3");var s=f.isS,r=f.isChar,i=f.isNameStartChar,b=f.isNameChar,d=f.S_LIST,u=f.NAME_RE,v=o.isChar,x=c.isNCNameStartChar,m=c.isNCNameChar,g=c.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",C="http://www.w3.org/2000/xmlns/",E={__proto__:null,xml:y,xmlns:C},A={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},D=_=>_===34||_===39,q=[34,39],B=[...q,91,62],z=[...q,60,93],K=[61,63,...d],Y=[...d,62,38,60];function X(_,j,k){switch(j){case"xml":k!==y&&_.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":k!==C&&_.fail(`xmlns prefix must be bound to ${C}.`)}switch(k){case C:_.fail(j===""?`the default namespace may not be set to ${k}.`:`may not assign a prefix (even "xmlns") to the URI ${C}.`);break;case y:switch(j){case"xml":break;case"":_.fail(`the default namespace may not be set to ${k}.`);break;default:_.fail("may not assign the xml namespace to another prefix.")}}}const O=_=>g.test(_),P=_=>u.test(_);l.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const N={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};l.SaxesParser=class{constructor(_){this.opt=_??{},this.fragmentOpt=!!this.opt.fragment;const j=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,j){this.nameStartCheck=x,this.nameCheck=m,this.isName=O,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},E);const k=this.opt.additionalNamespaces;k!=null&&(function(T,M){for(const F of Object.keys(M))X(T,F,M[F])}(this,k),Object.assign(this.ns,k))}else this.nameStartCheck=i,this.nameCheck=b,this.isName=P,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var _;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:j}=this;this.state=j?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=j,this.xmlDeclPossible=!j,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:k}=this.opt;if(k===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");k="1.0"}this.setXMLVersion(k),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(A),(_=this.readyHandler)===null||_===void 0||_.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(_,j){this[N[_]]=j}off(_){this[N[_]]=void 0}makeError(_){var j;let k=(j=this.fileName)!==null&&j!==void 0?j:"";return this.trackPosition&&(k.length>0&&(k+=":"),k+=`${this.line}:${this.column}`),k.length>0&&(k+=": "),new Error(k+_)}fail(_){const j=this.makeError(_),k=this.errorHandler;if(k===void 0)throw j;return k(j),this}write(_){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let j=!1;_===null?(j=!0,_=""):typeof _=="object"&&(_=_.toString()),this.carriedFromPrevious!==void 0&&(_=`${this.carriedFromPrevious}${_}`,this.carriedFromPrevious=void 0);let k=_.length;const T=_.charCodeAt(k-1);!j&&(T===13||T>=55296&&T<=56319)&&(this.carriedFromPrevious=_[k-1],k--,_=_.slice(0,k));const{stateTable:M}=this;for(this.chunk=_,this.i=0;this.i<k;)M[this.state].call(this);return this.chunkPosition+=k,j?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:_,i:j}=this;if(this.prevI=j,this.i=j+1,j>=_.length)return-1;const k=_.charCodeAt(j);if(this.column++,k<55296){if(k>=32||k===9)return k;switch(k){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return _.charCodeAt(j+1)===10&&(this.i=j+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),k}}if(k>56319)return k>=57344&&k<=65533||this.fail("disallowed character."),k;const T=65536+1024*(k-55296)+(_.charCodeAt(j+1)-56320);return this.i=j+2,T>1114111&&this.fail("disallowed character."),T}getCode11(){const{chunk:_,i:j}=this;if(this.prevI=j,this.i=j+1,j>=_.length)return-1;const k=_.charCodeAt(j);if(this.column++,k<55296){if(k>31&&k<127||k>159&&k!==8232||k===9)return k;switch(k){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const M=_.charCodeAt(j+1);M!==10&&M!==133||(this.i=j+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),k}}if(k>56319)return k>=57344&&k<=65533||this.fail("disallowed character."),k;const T=65536+1024*(k-55296)+(_.charCodeAt(j+1)-56320);return this.i=j+2,T>1114111&&this.fail("disallowed character."),T}getCodeNorm(){const _=this.getCode();return _===-2?10:_}unget(){this.i=this.prevI,this.column--}captureTo(_){let{i:j}=this;const{chunk:k}=this;for(;;){const T=this.getCode(),M=T===-2,F=M?10:T;if(F===-1||_.includes(F))return this.text+=k.slice(j,this.prevI),F;M&&(this.text+=k.slice(j,this.prevI)+`
`,j=this.i)}}captureToChar(_){let{i:j}=this;const{chunk:k}=this;for(;;){let T=this.getCode();switch(T){case-2:this.text+=k.slice(j,this.prevI)+`
`,j=this.i,T=10;break;case-1:return this.text+=k.slice(j),!1}if(T===_)return this.text+=k.slice(j,this.prevI),!0}}captureNameChars(){const{chunk:_,i:j}=this;for(;;){const k=this.getCode();if(k===-1)return this.name+=_.slice(j),-1;if(!b(k))return this.name+=_.slice(j,this.prevI),k===-2?10:k}}skipSpaces(){for(;;){const _=this.getCodeNorm();if(_===-1||!s(_))return _}}setXMLVersion(_){this.currentXMLVersion=_,_==="1.0"?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=v,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const _=this.i,j=this.skipSpaces();switch(this.prevI!==_&&(this.xmlDeclPossible=!1),j){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var _;const j=this.captureTo(B);switch(j){case 62:(_=this.doctypeHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(j),j===91?this.state=4:D(j)&&(this.state=3,this.q=j)}}sDoctypeQuote(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.q=null,this.state=2)}sDTD(){const _=this.captureTo(z);_!==-1&&(this.text+=String.fromCodePoint(_),_===93?this.state=2:_===60?this.state=6:D(_)&&(this.state=5,this.q=_))}sDTDQuoted(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.state=4,this.q=null)}sDTDOpenWaka(){const _=this.getCodeNorm();switch(this.text+=String.fromCodePoint(_),_){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const _=String.fromCodePoint(this.getCodeNorm()),j=this.openWakaBang+=_;this.text+=_,j!=="-"&&(this.state=j==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),this.state=_===45?10:8}sDTDCommentEnded(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:_}=this;const{chunk:j}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=j.slice(_,this.prevI)+`
`,_=this.i;break;case 59:{const{entityReturnState:k}=this,T=this.entity+j.slice(_,this.prevI);let M;this.state=k,T===""?(this.fail("empty entity name."),M="&;"):(M=this.parseEntity(T),this.entity=""),k===13&&this.textHandler===void 0||(this.text+=M);break e}case-1:this.entity+=j.slice(_);break e}}sOpenWaka(){const _=this.getCode();if(i(_))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(_){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var _;const j=this.getCodeNorm();j===45?(this.state=19,(_=this.commentHandler)===null||_===void 0||_.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(j),this.state=17)}sCommentEnded(){const _=this.getCodeNorm();_!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(_),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const _=this.getCodeNorm();_===93?this.state=22:(this.text+="]"+String.fromCodePoint(_),this.state=20)}sCDataEnding2(){var _;const j=this.getCodeNorm();switch(j){case 62:(_=this.cdataHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(j),this.state=20}}sPIFirstChar(){const _=this.getCodeNorm();this.nameStartCheck(_)?(this.piTarget+=String.fromCodePoint(_),this.state=24):_===63||s(_)?(this.fail("processing instruction without a target."),this.state=_===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_),this.state=24)}sPIRest(){const{chunk:_,i:j}=this;for(;;){const k=this.getCodeNorm();if(k===-1)return void(this.piTarget+=_.slice(j));if(!this.nameCheck(k)){this.piTarget+=_.slice(j,this.prevI);const T=k===63;T||s(k)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=T?33:27):this.state=T?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(k));break}}}sPIBody(){if(this.text.length===0){const _=this.getCodeNorm();_===63?this.state=26:s(_)||(this.text=String.fromCodePoint(_))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var _;const j=this.getCodeNorm();if(j===62){const{piTarget:k}=this;k.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(_=this.piHandler)===null||_===void 0||_.call(this,{target:k,body:this.text}),this.piTarget=this.text="",this.state=13}else j===63?this.text+="?":(this.text+="?"+String.fromCodePoint(j),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const _=this.skipSpaces();_!==63?_!==-1&&(this.state=28,this.name=String.fromCodePoint(_)):this.state=33}sXMLDeclName(){const _=this.captureTo(K);if(_===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(s(_)||_===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=_===61?30:29}}sXMLDeclEq(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(_)||(_!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(_)||(D(_)?this.q=_:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const _=this.captureTo([this.q,63]);if(_===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(_===-1)return;const j=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const k=j;this.xmlDecl.version=k,/^1\.[0-9]+$/.test(k)?this.opt.forceXMLVersion||this.setXMLVersion(k):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(j)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=j;break;case"standalone":j!=="yes"&&j!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=j}this.name="",this.state=32}sXMLDeclSeparator(){const _=this.getCodeNorm();_!==63?(s(_)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var _;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(_=this.xmldeclHandler)===null||_===void 0||_.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var _;const j=this.captureNameChars();if(j===-1)return;const k=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=k.ns=Object.create(null)),(_=this.openTagStartHandler)===null||_===void 0||_.call(this,k),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),j){case 62:this.openTag();break;case 47:this.state=35;break;default:s(j)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const _=this.skipSpaces();_!==-1&&(i(_)?(this.unget(),this.state=37):_===62?this.openTag():_===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const _=this.captureNameChars();_===61?this.state=39:s(_)?this.state=38:_===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):_!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const _=this.skipSpaces();switch(_){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",_===62?this.openTag():i(_)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const _=this.getCodeNorm();D(_)?(this.q=_,this.state=40):s(_)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:_,chunk:j}=this;let{i:k}=this;for(;;)switch(this.getCode()){case _:return this.pushAttrib(this.name,this.text+j.slice(k,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=j.slice(k,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=j.slice(k,this.prevI)+" ",k=this.i;break;case 60:return this.text+=j.slice(k,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=j.slice(k))}}sAttribValueClosed(){const _=this.getCodeNorm();s(_)?this.state=36:_===62?this.openTag():_===47?this.state=35:i(_)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const _=this.captureTo(Y);switch(_){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",_===62?this.openTag():this.state=36}}sCloseTag(){const _=this.captureNameChars();_===62?this.closeTag():s(_)?this.state=44:_!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:_,forbiddenState:j}=this;const{chunk:k,textHandler:T}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,T!==void 0){const{text:M}=this,F=k.slice(_,this.prevI);M.length!==0?(T(M+F),this.text=""):F.length!==0&&T(F)}j=0;break e;case 38:this.state=14,this.entityReturnState=13,T!==void 0&&(this.text+=k.slice(_,this.prevI)),j=0;break e;case 93:switch(j){case 0:j=1;break;case 1:j=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:j===2&&this.fail('the string "]]>" is disallowed in char data.'),j=0;break;case-2:T!==void 0&&(this.text+=k.slice(_,this.prevI)+`
`),_=this.i,j=0;break;case-1:T!==void 0&&(this.text+=k.slice(_));break e;default:j=0}this.forbiddenState=j}handleTextOutsideRoot(){let{i:_}=this;const{chunk:j,textHandler:k}=this;let T=!1;e:for(;;){const M=this.getCode();switch(M){case 60:if(this.state=15,k!==void 0){const{text:F}=this,$=j.slice(_,this.prevI);F.length!==0?(k(F+$),this.text=""):$.length!==0&&k($)}break e;case 38:this.state=14,this.entityReturnState=13,k!==void 0&&(this.text+=j.slice(_,this.prevI)),T=!0;break e;case-2:k!==void 0&&(this.text+=j.slice(_,this.prevI)+`
`),_=this.i;break;case-1:k!==void 0&&(this.text+=j.slice(_));break e;default:s(M)||(T=!0)}}T&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(_,j){var k;const{prefix:T,local:M}=this.qname(_),F={name:_,prefix:T,local:M,value:j};if(this.attribList.push(F),(k=this.attributeHandler)===null||k===void 0||k.call(this,F),T==="xmlns"){const $=j.trim();this.currentXMLVersion==="1.0"&&$===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[M]=$,X(this,M,$)}else if(_==="xmlns"){const $=j.trim();this.topNS[""]=$,X(this,"",$)}}pushAttribPlain(_,j){var k;const T={name:_,value:j};this.attribList.push(T),(k=this.attributeHandler)===null||k===void 0||k.call(this,T)}end(){var _,j;this.sawRoot||this.fail("document must contain a root element.");const{tags:k}=this;for(;k.length>0;){const M=k.pop();this.fail("unclosed tag: "+M.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:T}=this;return T.length!==0&&((_=this.textHandler)===null||_===void 0||_.call(this,T),this.text=""),this._closed=!0,(j=this.endHandler)===null||j===void 0||j.call(this),this._init(),this}resolve(_){var j,k;let T=this.topNS[_];if(T!==void 0)return T;const{tags:M}=this;for(let F=M.length-1;F>=0;F--)if(T=M[F].ns[_],T!==void 0)return T;return T=this.ns[_],T!==void 0?T:(k=(j=this.opt).resolvePrefix)===null||k===void 0?void 0:k.call(j,_)}qname(_){const j=_.indexOf(":");if(j===-1)return{prefix:"",local:_};const k=_.slice(j+1),T=_.slice(0,j);return(T===""||k===""||k.includes(":"))&&this.fail(`malformed name: ${_}.`),{prefix:T,local:k}}processAttribsNS(){var _;const{attribList:j}=this,k=this.tag;{const{prefix:F,local:$}=this.qname(k.name);k.prefix=F,k.local=$;const V=k.uri=(_=this.resolve(F))!==null&&_!==void 0?_:"";F!==""&&(F==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),V===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(F)}.`),k.uri=F))}if(j.length===0)return;const{attributes:T}=k,M=new Set;for(const F of j){const{name:$,prefix:V,local:W}=F;let ee,U;V===""?(ee=$==="xmlns"?C:"",U=$):(ee=this.resolve(V),ee===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(V)}.`),ee=V),U=`{${ee}}${W}`),M.has(U)&&this.fail(`duplicate attribute: ${U}.`),M.add(U),F.uri=ee,T[$]=F}this.attribList=[]}processAttribsPlain(){const{attribList:_}=this,j=this.tag.attributes;for(const{name:k,value:T}of _)j[k]!==void 0&&this.fail(`duplicate attribute: ${k}.`),j[k]=T;this.attribList=[]}openTag(){var _;this.processAttribs();const{tags:j}=this,k=this.tag;k.isSelfClosing=!1,(_=this.openTagHandler)===null||_===void 0||_.call(this,k),j.push(k),this.state=13,this.name=""}openSelfClosingTag(){var _,j,k;this.processAttribs();const{tags:T}=this,M=this.tag;M.isSelfClosing=!0,(_=this.openTagHandler)===null||_===void 0||_.call(this,M),(j=this.closeTagHandler)===null||j===void 0||j.call(this,M),(this.tag=(k=T[T.length-1])!==null&&k!==void 0?k:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:_,name:j}=this;if(this.state=13,this.name="",j==="")return this.fail("weird empty close tag."),void(this.text+="</>");const k=this.closeTagHandler;let T=_.length;for(;T-- >0;){const M=this.tag=_.pop();if(this.topNS=M.ns,k==null||k(M),M.name===j)break;this.fail("unexpected close tag.")}T===0?this.closedRoot=!0:T<0&&(this.fail(`unmatched closing tag: ${j}.`),this.text+=`</${j}>`)}parseEntity(_){if(_[0]!=="#"){const k=this.ENTITIES[_];return k!==void 0?k:(this.fail(this.isName(_)?"undefined entity.":"disallowed character in entity name."),`&${_};`)}let j=NaN;return _[1]==="x"&&/^#x[0-9a-f]+$/i.test(_)?j=parseInt(_.slice(2),16):/^#[0-9]+$/.test(_)&&(j=parseInt(_.slice(1),10)),this.isChar(j)?String.fromCodePoint(j):(this.fail("malformed character entity."),`&${_};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,a,l){var f=e("safe-buffer").Buffer;function o(c,s){this._block=f.alloc(c),this._finalSize=s,this._blockSize=c,this._len=0}o.prototype.update=function(c,s){typeof c=="string"&&(s=s||"utf8",c=f.from(c,s));for(var r=this._block,i=this._blockSize,b=c.length,d=this._len,u=0;u<b;){for(var v=d%i,x=Math.min(b-u,i-v),m=0;m<x;m++)r[v+m]=c[u+m];u+=x,(d+=x)%i==0&&this._update(r)}return this._len+=b,this},o.prototype.digest=function(c){var s=this._len%this._blockSize;this._block[s]=128,this._block.fill(0,s+1),s>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(4294967295&r)>>>0,b=(r-i)/4294967296;this._block.writeUInt32BE(b,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var d=this._hash();return c?d.toString(c):d},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},a.exports=o},{"safe-buffer":494}],498:[function(e,a,l){var f=a.exports=function(o){o=o.toLowerCase();var c=f[o];if(!c)throw new Error(o+" is not supported (we accept pull requests)");return new c};f.sha=e("./sha"),f.sha1=e("./sha1"),f.sha224=e("./sha224"),f.sha256=e("./sha256"),f.sha384=e("./sha384"),f.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,a,l){var f=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],r=new Array(80);function i(){this.init(),this._w=r,o.call(this,64,56)}function b(u){return u<<30|u>>>2}function d(u,v,x,m){return u===0?v&x|~v&m:u===2?v&x|v&m|x&m:v^x^m}f(i,o),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},i.prototype._update=function(u){for(var v,x=this._w,m=0|this._a,g=0|this._b,y=0|this._c,C=0|this._d,E=0|this._e,A=0;A<16;++A)x[A]=u.readInt32BE(4*A);for(;A<80;++A)x[A]=x[A-3]^x[A-8]^x[A-14]^x[A-16];for(var D=0;D<80;++D){var q=~~(D/20),B=0|((v=m)<<5|v>>>27)+d(q,g,y,C)+E+x[D]+s[q];E=C,C=y,y=b(g),g=m,m=B}this._a=m+this._a|0,this._b=g+this._b|0,this._c=y+this._c|0,this._d=C+this._d|0,this._e=E+this._e|0},i.prototype._hash=function(){var u=c.allocUnsafe(20);return u.writeInt32BE(0|this._a,0),u.writeInt32BE(0|this._b,4),u.writeInt32BE(0|this._c,8),u.writeInt32BE(0|this._d,12),u.writeInt32BE(0|this._e,16),u},a.exports=i},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,a,l){var f=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],r=new Array(80);function i(){this.init(),this._w=r,o.call(this,64,56)}function b(v){return v<<5|v>>>27}function d(v){return v<<30|v>>>2}function u(v,x,m,g){return v===0?x&m|~x&g:v===2?x&m|x&g|m&g:x^m^g}f(i,o),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},i.prototype._update=function(v){for(var x,m=this._w,g=0|this._a,y=0|this._b,C=0|this._c,E=0|this._d,A=0|this._e,D=0;D<16;++D)m[D]=v.readInt32BE(4*D);for(;D<80;++D)m[D]=(x=m[D-3]^m[D-8]^m[D-14]^m[D-16])<<1|x>>>31;for(var q=0;q<80;++q){var B=~~(q/20),z=b(g)+u(B,y,C,E)+A+m[q]+s[B]|0;A=E,E=C,C=d(y),y=g,g=z}this._a=g+this._a|0,this._b=y+this._b|0,this._c=C+this._c|0,this._d=E+this._d|0,this._e=A+this._e|0},i.prototype._hash=function(){var v=c.allocUnsafe(20);return v.writeInt32BE(0|this._a,0),v.writeInt32BE(0|this._b,4),v.writeInt32BE(0|this._c,8),v.writeInt32BE(0|this._d,12),v.writeInt32BE(0|this._e,16),v},a.exports=i},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,a,l){var f=e("inherits"),o=e("./sha256"),c=e("./hash"),s=e("safe-buffer").Buffer,r=new Array(64);function i(){this.init(),this._w=r,c.call(this,64,56)}f(i,o),i.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},i.prototype._hash=function(){var b=s.allocUnsafe(28);return b.writeInt32BE(this._a,0),b.writeInt32BE(this._b,4),b.writeInt32BE(this._c,8),b.writeInt32BE(this._d,12),b.writeInt32BE(this._e,16),b.writeInt32BE(this._f,20),b.writeInt32BE(this._g,24),b},a.exports=i},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,a,l){var f=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=new Array(64);function i(){this.init(),this._w=r,o.call(this,64,56)}function b(m,g,y){return y^m&(g^y)}function d(m,g,y){return m&g|y&(m|g)}function u(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function v(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function x(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}f(i,o),i.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},i.prototype._update=function(m){for(var g,y=this._w,C=0|this._a,E=0|this._b,A=0|this._c,D=0|this._d,q=0|this._e,B=0|this._f,z=0|this._g,K=0|this._h,Y=0;Y<16;++Y)y[Y]=m.readInt32BE(4*Y);for(;Y<64;++Y)y[Y]=0|(((g=y[Y-2])>>>17|g<<15)^(g>>>19|g<<13)^g>>>10)+y[Y-7]+x(y[Y-15])+y[Y-16];for(var X=0;X<64;++X){var O=K+v(q)+b(q,B,z)+s[X]+y[X]|0,P=u(C)+d(C,E,A)|0;K=z,z=B,B=q,q=D+O|0,D=A,A=E,E=C,C=O+P|0}this._a=C+this._a|0,this._b=E+this._b|0,this._c=A+this._c|0,this._d=D+this._d|0,this._e=q+this._e|0,this._f=B+this._f|0,this._g=z+this._g|0,this._h=K+this._h|0},i.prototype._hash=function(){var m=c.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},a.exports=i},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,a,l){var f=e("inherits"),o=e("./sha512"),c=e("./hash"),s=e("safe-buffer").Buffer,r=new Array(160);function i(){this.init(),this._w=r,c.call(this,128,112)}f(i,o),i.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},i.prototype._hash=function(){var b=s.allocUnsafe(48);function d(u,v,x){b.writeInt32BE(u,x),b.writeInt32BE(v,x+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),b},a.exports=i},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,a,l){var f=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],r=new Array(160);function i(){this.init(),this._w=r,o.call(this,128,112)}function b(E,A,D){return D^E&(A^D)}function d(E,A,D){return E&A|D&(E|A)}function u(E,A){return(E>>>28|A<<4)^(A>>>2|E<<30)^(A>>>7|E<<25)}function v(E,A){return(E>>>14|A<<18)^(E>>>18|A<<14)^(A>>>9|E<<23)}function x(E,A){return(E>>>1|A<<31)^(E>>>8|A<<24)^E>>>7}function m(E,A){return(E>>>1|A<<31)^(E>>>8|A<<24)^(E>>>7|A<<25)}function g(E,A){return(E>>>19|A<<13)^(A>>>29|E<<3)^E>>>6}function y(E,A){return(E>>>19|A<<13)^(A>>>29|E<<3)^(E>>>6|A<<26)}function C(E,A){return E>>>0<A>>>0?1:0}f(i,o),i.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},i.prototype._update=function(E){for(var A=this._w,D=0|this._ah,q=0|this._bh,B=0|this._ch,z=0|this._dh,K=0|this._eh,Y=0|this._fh,X=0|this._gh,O=0|this._hh,P=0|this._al,N=0|this._bl,_=0|this._cl,j=0|this._dl,k=0|this._el,T=0|this._fl,M=0|this._gl,F=0|this._hl,$=0;$<32;$+=2)A[$]=E.readInt32BE(4*$),A[$+1]=E.readInt32BE(4*$+4);for(;$<160;$+=2){var V=A[$-30],W=A[$-30+1],ee=x(V,W),U=m(W,V),Q=g(V=A[$-4],W=A[$-4+1]),L=y(W,V),I=A[$-14],Z=A[$-14+1],te=A[$-32],ie=A[$-32+1],se=U+Z|0,le=ee+I+C(se,U)|0;le=(le=le+Q+C(se=se+L|0,L)|0)+te+C(se=se+ie|0,ie)|0,A[$]=le,A[$+1]=se}for(var me=0;me<160;me+=2){le=A[me],se=A[me+1];var ae=d(D,q,B),re=d(P,N,_),oe=u(D,P),ue=u(P,D),fe=v(K,k),be=v(k,K),Ce=s[me],Ae=s[me+1],Pe=b(K,Y,X),Fe=b(k,T,M),pe=F+be|0,Ee=O+fe+C(pe,F)|0;Ee=(Ee=(Ee=Ee+Pe+C(pe=pe+Fe|0,Fe)|0)+Ce+C(pe=pe+Ae|0,Ae)|0)+le+C(pe=pe+se|0,se)|0;var He=ue+re|0,Me=oe+ae+C(He,ue)|0;O=X,F=M,X=Y,M=T,Y=K,T=k,K=z+Ee+C(k=j+pe|0,j)|0,z=B,j=_,B=q,_=N,q=D,N=P,D=Ee+Me+C(P=pe+He|0,pe)|0}this._al=this._al+P|0,this._bl=this._bl+N|0,this._cl=this._cl+_|0,this._dl=this._dl+j|0,this._el=this._el+k|0,this._fl=this._fl+T|0,this._gl=this._gl+M|0,this._hl=this._hl+F|0,this._ah=this._ah+D+C(this._al,P)|0,this._bh=this._bh+q+C(this._bl,N)|0,this._ch=this._ch+B+C(this._cl,_)|0,this._dh=this._dh+z+C(this._dl,j)|0,this._eh=this._eh+K+C(this._el,k)|0,this._fh=this._fh+Y+C(this._fl,T)|0,this._gh=this._gh+X+C(this._gl,M)|0,this._hh=this._hh+O+C(this._hl,F)|0},i.prototype._hash=function(){var E=c.allocUnsafe(64);function A(D,q,B){E.writeInt32BE(D,B),E.writeInt32BE(q,B+4)}return A(this._ah,this._al,0),A(this._bh,this._bl,8),A(this._ch,this._cl,16),A(this._dh,this._dl,24),A(this._eh,this._el,32),A(this._fh,this._fl,40),A(this._gh,this._gl,48),A(this._hh,this._hl,56),E},a.exports=i},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,a,l){a.exports=o;var f=e("events").EventEmitter;function o(){f.call(this)}e("inherits")(o,f),o.Readable=e("readable-stream/readable.js"),o.Writable=e("readable-stream/writable.js"),o.Duplex=e("readable-stream/duplex.js"),o.Transform=e("readable-stream/transform.js"),o.PassThrough=e("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(c,s){var r=this;function i(g){c.writable&&c.write(g)===!1&&r.pause&&r.pause()}function b(){r.readable&&r.resume&&r.resume()}r.on("data",i),c.on("drain",b),c._isStdio||s&&s.end===!1||(r.on("end",u),r.on("close",v));var d=!1;function u(){d||(d=!0,c.end())}function v(){d||(d=!0,typeof c.destroy=="function"&&c.destroy())}function x(g){if(m(),f.listenerCount(this,"error")===0)throw g}function m(){r.removeListener("data",i),c.removeListener("drain",b),r.removeListener("end",u),r.removeListener("close",v),r.removeListener("error",x),c.removeListener("error",x),r.removeListener("end",m),r.removeListener("close",m),c.removeListener("close",m)}return r.on("error",x),c.on("error",x),r.on("end",m),r.on("close",m),c.on("close",m),c.emit("pipe",r),c}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,a,l){var f={}.toString;a.exports=Array.isArray||function(o){return f.call(o)=="[object Array]"}},{}],507:[function(e,a,l){a.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,a,l){var f=e("process-nextick-args"),o=Object.keys||function(m){var g=[];for(var y in m)g.push(y);return g};a.exports=u;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var s=e("./_stream_readable"),r=e("./_stream_writable");c.inherits(u,s);for(var i=o(r.prototype),b=0;b<i.length;b++){var d=i[b];u.prototype[d]||(u.prototype[d]=r.prototype[d])}function u(m){if(!(this instanceof u))return new u(m);s.call(this,m),r.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",v)}function v(){this.allowHalfOpen||this._writableState.ended||f.nextTick(x,this)}function x(m){m.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),u.prototype._destroy=function(m,g){this.push(null),this.end(),f.nextTick(g,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,a,l){a.exports=c;var f=e("./_stream_transform"),o=Object.create(e("core-util-is"));function c(s){if(!(this instanceof c))return new c(s);f.call(this,s)}o.inherits=e("inherits"),o.inherits(c,f),c.prototype._transform=function(s,r,i){i(null,s)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,a,l){(function(f,o){(function(){var c=e("process-nextick-args");a.exports=D;var s,r=e("isarray");D.ReadableState=A,e("events").EventEmitter;var i=function(F,$){return F.listeners($).length},b=e("./internal/streams/stream"),d=e("safe-buffer").Buffer,u=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v=Object.create(e("core-util-is"));v.inherits=e("inherits");var x=e("util"),m=void 0;m=x&&x.debuglog?x.debuglog("stream"):function(){};var g,y=e("./internal/streams/BufferList"),C=e("./internal/streams/destroy");v.inherits(D,b);var E=["error","close","destroy","pause","resume"];function A(F,$){F=F||{};var V=$ instanceof(s=s||e("./_stream_duplex"));this.objectMode=!!F.objectMode,V&&(this.objectMode=this.objectMode||!!F.readableObjectMode);var W=F.highWaterMark,ee=F.readableHighWaterMark,U=this.objectMode?16:16384;this.highWaterMark=W||W===0?W:V&&(ee||ee===0)?ee:U,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=F.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,F.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(F.encoding),this.encoding=F.encoding)}function D(F){if(s=s||e("./_stream_duplex"),!(this instanceof D))return new D(F);this._readableState=new A(F,this),this.readable=!0,F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy)),b.call(this)}function q(F,$,V,W,ee){var U,Q=F._readableState;return $===null?(Q.reading=!1,function(L,I){if(!I.ended){if(I.decoder){var Z=I.decoder.end();Z&&Z.length&&(I.buffer.push(Z),I.length+=I.objectMode?1:Z.length)}I.ended=!0,K(L)}}(F,Q)):(ee||(U=function(L,I){var Z;te=I,d.isBuffer(te)||te instanceof u||typeof I=="string"||I===void 0||L.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk"));var te;return Z}(Q,$)),U?F.emit("error",U):Q.objectMode||$&&$.length>0?(typeof $=="string"||Q.objectMode||Object.getPrototypeOf($)===d.prototype||($=function(L){return d.from(L)}($)),W?Q.endEmitted?F.emit("error",new Error("stream.unshift() after end event")):B(F,Q,$,!0):Q.ended?F.emit("error",new Error("stream.push() after EOF")):(Q.reading=!1,Q.decoder&&!V?($=Q.decoder.write($),Q.objectMode||$.length!==0?B(F,Q,$,!1):X(F,Q)):B(F,Q,$,!1))):W||(Q.reading=!1)),function(L){return!L.ended&&(L.needReadable||L.length<L.highWaterMark||L.length===0)}(Q)}function B(F,$,V,W){$.flowing&&$.length===0&&!$.sync?(F.emit("data",V),F.read(0)):($.length+=$.objectMode?1:V.length,W?$.buffer.unshift(V):$.buffer.push(V),$.needReadable&&K(F)),X(F,$)}Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}}),D.prototype.destroy=C.destroy,D.prototype._undestroy=C.undestroy,D.prototype._destroy=function(F,$){this.push(null),$(F)},D.prototype.push=function(F,$){var V,W=this._readableState;return W.objectMode?V=!0:typeof F=="string"&&(($=$||W.defaultEncoding)!==W.encoding&&(F=d.from(F,$),$=""),V=!0),q(this,F,$,!1,V)},D.prototype.unshift=function(F){return q(this,F,null,!0,!1)},D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(F){return g||(g=e("string_decoder/").StringDecoder),this._readableState.decoder=new g(F),this._readableState.encoding=F,this};function z(F,$){return F<=0||$.length===0&&$.ended?0:$.objectMode?1:F!=F?$.flowing&&$.length?$.buffer.head.data.length:$.length:(F>$.highWaterMark&&($.highWaterMark=function(V){return V>=8388608?V=8388608:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}(F)),F<=$.length?F:$.ended?$.length:($.needReadable=!0,0))}function K(F){var $=F._readableState;$.needReadable=!1,$.emittedReadable||(m("emitReadable",$.flowing),$.emittedReadable=!0,$.sync?c.nextTick(Y,F):Y(F))}function Y(F){m("emit readable"),F.emit("readable"),_(F)}function X(F,$){$.readingMore||($.readingMore=!0,c.nextTick(O,F,$))}function O(F,$){for(var V=$.length;!$.reading&&!$.flowing&&!$.ended&&$.length<$.highWaterMark&&(m("maybeReadMore read 0"),F.read(0),V!==$.length);)V=$.length;$.readingMore=!1}function P(F){m("readable nexttick read 0"),F.read(0)}function N(F,$){$.reading||(m("resume read 0"),F.read(0)),$.resumeScheduled=!1,$.awaitDrain=0,F.emit("resume"),_(F),$.flowing&&!$.reading&&F.read(0)}function _(F){var $=F._readableState;for(m("flow",$.flowing);$.flowing&&F.read()!==null;);}function j(F,$){return $.length===0?null:($.objectMode?V=$.buffer.shift():!F||F>=$.length?(V=$.decoder?$.buffer.join(""):$.buffer.length===1?$.buffer.head.data:$.buffer.concat($.length),$.buffer.clear()):V=function(W,ee,U){var Q;return W<ee.head.data.length?(Q=ee.head.data.slice(0,W),ee.head.data=ee.head.data.slice(W)):Q=W===ee.head.data.length?ee.shift():U?function(L,I){var Z=I.head,te=1,ie=Z.data;for(L-=ie.length;Z=Z.next;){var se=Z.data,le=L>se.length?se.length:L;if(le===se.length?ie+=se:ie+=se.slice(0,L),(L-=le)===0){le===se.length?(++te,Z.next?I.head=Z.next:I.head=I.tail=null):(I.head=Z,Z.data=se.slice(le));break}++te}return I.length-=te,ie}(W,ee):function(L,I){var Z=d.allocUnsafe(L),te=I.head,ie=1;for(te.data.copy(Z),L-=te.data.length;te=te.next;){var se=te.data,le=L>se.length?se.length:L;if(se.copy(Z,Z.length-L,0,le),(L-=le)===0){le===se.length?(++ie,te.next?I.head=te.next:I.head=I.tail=null):(I.head=te,te.data=se.slice(le));break}++ie}return I.length-=ie,Z}(W,ee),Q}(F,$.buffer,$.decoder),V);var V}function k(F){var $=F._readableState;if($.length>0)throw new Error('"endReadable()" called on non-empty stream');$.endEmitted||($.ended=!0,c.nextTick(T,$,F))}function T(F,$){F.endEmitted||F.length!==0||(F.endEmitted=!0,$.readable=!1,$.emit("end"))}function M(F,$){for(var V=0,W=F.length;V<W;V++)if(F[V]===$)return V;return-1}D.prototype.read=function(F){m("read",F),F=parseInt(F,10);var $=this._readableState,V=F;if(F!==0&&($.emittedReadable=!1),F===0&&$.needReadable&&($.length>=$.highWaterMark||$.ended))return m("read: emitReadable",$.length,$.ended),$.length===0&&$.ended?k(this):K(this),null;if((F=z(F,$))===0&&$.ended)return $.length===0&&k(this),null;var W,ee=$.needReadable;return m("need readable",ee),($.length===0||$.length-F<$.highWaterMark)&&m("length less than watermark",ee=!0),$.ended||$.reading?m("reading or ended",ee=!1):ee&&(m("do read"),$.reading=!0,$.sync=!0,$.length===0&&($.needReadable=!0),this._read($.highWaterMark),$.sync=!1,$.reading||(F=z(V,$))),(W=F>0?j(F,$):null)===null?($.needReadable=!0,F=0):$.length-=F,$.length===0&&($.ended||($.needReadable=!0),V!==F&&$.ended&&k(this)),W!==null&&this.emit("data",W),W},D.prototype._read=function(F){this.emit("error",new Error("_read() is not implemented"))},D.prototype.pipe=function(F,$){var V=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=F;break;case 1:W.pipes=[W.pipes,F];break;default:W.pipes.push(F)}W.pipesCount+=1,m("pipe count=%d opts=%j",W.pipesCount,$);var ee=(!$||$.end!==!1)&&F!==f.stdout&&F!==f.stderr?Q:me;function U(ae,re){m("onunpipe"),ae===V&&re&&re.hasUnpiped===!1&&(re.hasUnpiped=!0,m("cleanup"),F.removeListener("close",se),F.removeListener("finish",le),F.removeListener("drain",L),F.removeListener("error",ie),F.removeListener("unpipe",U),V.removeListener("end",Q),V.removeListener("end",me),V.removeListener("data",te),I=!0,!W.awaitDrain||F._writableState&&!F._writableState.needDrain||L())}function Q(){m("onend"),F.end()}W.endEmitted?c.nextTick(ee):V.once("end",ee),F.on("unpipe",U);var L=function(ae){return function(){var re=ae._readableState;m("pipeOnDrain",re.awaitDrain),re.awaitDrain&&re.awaitDrain--,re.awaitDrain===0&&i(ae,"data")&&(re.flowing=!0,_(ae))}}(V);F.on("drain",L);var I=!1,Z=!1;function te(ae){m("ondata"),Z=!1,F.write(ae)!==!1||Z||((W.pipesCount===1&&W.pipes===F||W.pipesCount>1&&M(W.pipes,F)!==-1)&&!I&&(m("false write response, pause",W.awaitDrain),W.awaitDrain++,Z=!0),V.pause())}function ie(ae){m("onerror",ae),me(),F.removeListener("error",ie),i(F,"error")===0&&F.emit("error",ae)}function se(){F.removeListener("finish",le),me()}function le(){m("onfinish"),F.removeListener("close",se),me()}function me(){m("unpipe"),V.unpipe(F)}return V.on("data",te),function(ae,re,oe){if(typeof ae.prependListener=="function")return ae.prependListener(re,oe);ae._events&&ae._events[re]?r(ae._events[re])?ae._events[re].unshift(oe):ae._events[re]=[oe,ae._events[re]]:ae.on(re,oe)}(F,"error",ie),F.once("close",se),F.once("finish",le),F.emit("pipe",V),W.flowing||(m("pipe resume"),V.resume()),F},D.prototype.unpipe=function(F){var $=this._readableState,V={hasUnpiped:!1};if($.pipesCount===0)return this;if($.pipesCount===1)return F&&F!==$.pipes||(F||(F=$.pipes),$.pipes=null,$.pipesCount=0,$.flowing=!1,F&&F.emit("unpipe",this,V)),this;if(!F){var W=$.pipes,ee=$.pipesCount;$.pipes=null,$.pipesCount=0,$.flowing=!1;for(var U=0;U<ee;U++)W[U].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=M($.pipes,F);return Q===-1||($.pipes.splice(Q,1),$.pipesCount-=1,$.pipesCount===1&&($.pipes=$.pipes[0]),F.emit("unpipe",this,V)),this},D.prototype.on=function(F,$){var V=b.prototype.on.call(this,F,$);if(F==="data")this._readableState.flowing!==!1&&this.resume();else if(F==="readable"){var W=this._readableState;W.endEmitted||W.readableListening||(W.readableListening=W.needReadable=!0,W.emittedReadable=!1,W.reading?W.length&&K(this):c.nextTick(P,this))}return V},D.prototype.addListener=D.prototype.on,D.prototype.resume=function(){var F=this._readableState;return F.flowing||(m("resume"),F.flowing=!0,function($,V){V.resumeScheduled||(V.resumeScheduled=!0,c.nextTick(N,$,V))}(this,F)),this},D.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},D.prototype.wrap=function(F){var $=this,V=this._readableState,W=!1;for(var ee in F.on("end",function(){if(m("wrapped end"),V.decoder&&!V.ended){var Q=V.decoder.end();Q&&Q.length&&$.push(Q)}$.push(null)}),F.on("data",function(Q){m("wrapped data"),V.decoder&&(Q=V.decoder.write(Q)),V.objectMode&&Q==null||(V.objectMode||Q&&Q.length)&&($.push(Q)||(W=!0,F.pause()))}),F)this[ee]===void 0&&typeof F[ee]=="function"&&(this[ee]=function(Q){return function(){return F[Q].apply(F,arguments)}}(ee));for(var U=0;U<E.length;U++)F.on(E[U],this.emit.bind(this,E[U]));return this._read=function(Q){m("wrapped _read",Q),W&&(W=!1,F.resume())},this},Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),D._fromList=j}).call(this)}).call(this,e("_process"),typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,a,l){a.exports=s;var f=e("./_stream_duplex"),o=Object.create(e("core-util-is"));function c(b,d){var u=this._transformState;u.transforming=!1;var v=u.writecb;if(!v)return this.emit("error",new Error("write callback called multiple times"));u.writechunk=null,u.writecb=null,d!=null&&this.push(d),v(b);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function s(b){if(!(this instanceof s))return new s(b);f.call(this,b),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",r)}function r(){var b=this;typeof this._flush=="function"?this._flush(function(d,u){i(b,d,u)}):i(this,null,null)}function i(b,d,u){if(d)return b.emit("error",d);if(u!=null&&b.push(u),b._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(b._transformState.transforming)throw new Error("Calling transform done when still transforming");return b.push(null)}o.inherits=e("inherits"),o.inherits(s,f),s.prototype.push=function(b,d){return this._transformState.needTransform=!1,f.prototype.push.call(this,b,d)},s.prototype._transform=function(b,d,u){throw new Error("_transform() is not implemented")},s.prototype._write=function(b,d,u){var v=this._transformState;if(v.writecb=u,v.writechunk=b,v.writeencoding=d,!v.transforming){var x=this._readableState;(v.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},s.prototype._read=function(b){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},s.prototype._destroy=function(b,d){var u=this;f.prototype._destroy.call(this,b,function(v){d(v),u.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,a,l){(function(f,o,c){(function(){var s=e("process-nextick-args");function r(X){var O=this;this.next=null,this.entry=null,this.finish=function(){(function(P,N,_){var j=P.entry;for(P.entry=null;j;){var k=j.callback;N.pendingcb--,k(_),j=j.next}N.corkedRequestsFree.next=P})(O,X)}}a.exports=A;var i,b=!f.browser&&["v0.10","v0.9."].indexOf(f.version.slice(0,5))>-1?c:s.nextTick;A.WritableState=E;var d=Object.create(e("core-util-is"));d.inherits=e("inherits");var u={deprecate:e("util-deprecate")},v=e("./internal/streams/stream"),x=e("safe-buffer").Buffer,m=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g,y=e("./internal/streams/destroy");function C(){}function E(X,O){i=i||e("./_stream_duplex"),X=X||{};var P=O instanceof i;this.objectMode=!!X.objectMode,P&&(this.objectMode=this.objectMode||!!X.writableObjectMode);var N=X.highWaterMark,_=X.writableHighWaterMark,j=this.objectMode?16:16384;this.highWaterMark=N||N===0?N:P&&(_||_===0)?_:j,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var k=X.decodeStrings===!1;this.decodeStrings=!k,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(T){(function(M,F){var $=M._writableState,V=$.sync,W=$.writecb;if(function(U){U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0}($),F)(function(U,Q,L,I,Z){--Q.pendingcb,L?(s.nextTick(Z,I),s.nextTick(Y,U,Q),U._writableState.errorEmitted=!0,U.emit("error",I)):(Z(I),U._writableState.errorEmitted=!0,U.emit("error",I),Y(U,Q))})(M,$,V,F,W);else{var ee=z($);ee||$.corked||$.bufferProcessing||!$.bufferedRequest||B(M,$),V?b(q,M,$,ee,W):q(M,$,ee,W)}})(O,T)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function A(X){if(i=i||e("./_stream_duplex"),!(g.call(A,this)||this instanceof i))return new A(X);this._writableState=new E(X,this),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),v.call(this)}function D(X,O,P,N,_,j,k){O.writelen=N,O.writecb=k,O.writing=!0,O.sync=!0,P?X._writev(_,O.onwrite):X._write(_,j,O.onwrite),O.sync=!1}function q(X,O,P,N){P||function(_,j){j.length===0&&j.needDrain&&(j.needDrain=!1,_.emit("drain"))}(X,O),O.pendingcb--,N(),Y(X,O)}function B(X,O){O.bufferProcessing=!0;var P=O.bufferedRequest;if(X._writev&&P&&P.next){var N=O.bufferedRequestCount,_=new Array(N),j=O.corkedRequestsFree;j.entry=P;for(var k=0,T=!0;P;)_[k]=P,P.isBuf||(T=!1),P=P.next,k+=1;_.allBuffers=T,D(X,O,!0,O.length,_,"",j.finish),O.pendingcb++,O.lastBufferedRequest=null,j.next?(O.corkedRequestsFree=j.next,j.next=null):O.corkedRequestsFree=new r(O),O.bufferedRequestCount=0}else{for(;P;){var M=P.chunk,F=P.encoding,$=P.callback;if(D(X,O,!1,O.objectMode?1:M.length,M,F,$),P=P.next,O.bufferedRequestCount--,O.writing)break}P===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=P,O.bufferProcessing=!1}function z(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function K(X,O){X._final(function(P){O.pendingcb--,P&&X.emit("error",P),O.prefinished=!0,X.emit("prefinish"),Y(X,O)})}function Y(X,O){var P=z(O);return P&&(function(N,_){_.prefinished||_.finalCalled||(typeof N._final=="function"?(_.pendingcb++,_.finalCalled=!0,s.nextTick(K,N,_)):(_.prefinished=!0,N.emit("prefinish")))}(X,O),O.pendingcb===0&&(O.finished=!0,X.emit("finish"))),P}d.inherits(A,v),E.prototype.getBuffer=function(){for(var X=this.bufferedRequest,O=[];X;)O.push(X),X=X.next;return O},function(){try{Object.defineProperty(E.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(X){return!!g.call(this,X)||this===A&&X&&X._writableState instanceof E}})):g=function(X){return X instanceof this},A.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},A.prototype.write=function(X,O,P){var N,_=this._writableState,j=!1,k=!_.objectMode&&(N=X,x.isBuffer(N)||N instanceof m);return k&&!x.isBuffer(X)&&(X=function(T){return x.from(T)}(X)),typeof O=="function"&&(P=O,O=null),k?O="buffer":O||(O=_.defaultEncoding),typeof P!="function"&&(P=C),_.ended?function(T,M){var F=new Error("write after end");T.emit("error",F),s.nextTick(M,F)}(this,P):(k||function(T,M,F,$){var V=!0,W=!1;return F===null?W=new TypeError("May not write null values to stream"):typeof F=="string"||F===void 0||M.objectMode||(W=new TypeError("Invalid non-string/buffer chunk")),W&&(T.emit("error",W),s.nextTick($,W),V=!1),V}(this,_,X,P))&&(_.pendingcb++,j=function(T,M,F,$,V,W){if(!F){var ee=function(I,Z,te){return I.objectMode||I.decodeStrings===!1||typeof Z!="string"||(Z=x.from(Z,te)),Z}(M,$,V);$!==ee&&(F=!0,V="buffer",$=ee)}var U=M.objectMode?1:$.length;M.length+=U;var Q=M.length<M.highWaterMark;if(Q||(M.needDrain=!0),M.writing||M.corked){var L=M.lastBufferedRequest;M.lastBufferedRequest={chunk:$,encoding:V,isBuf:F,callback:W,next:null},L?L.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else D(T,M,!1,U,$,V,W);return Q}(this,_,k,X,O,P)),j},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,X.writing||X.corked||X.bufferProcessing||!X.bufferedRequest||B(this,X))},A.prototype.setDefaultEncoding=function(X){if(typeof X=="string"&&(X=X.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((X+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+X);return this._writableState.defaultEncoding=X,this},Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(X,O,P){P(new Error("_write() is not implemented"))},A.prototype._writev=null,A.prototype.end=function(X,O,P){var N=this._writableState;typeof X=="function"?(P=X,X=null,O=null):typeof O=="function"&&(P=O,O=null),X!=null&&this.write(X,O),N.corked&&(N.corked=1,this.uncork()),N.ending||function(_,j,k){j.ending=!0,Y(_,j),k&&(j.finished?s.nextTick(k):_.once("finish",k)),j.ended=!0,_.writable=!1}(this,N,P)},Object.defineProperty(A.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(X){this._writableState&&(this._writableState.destroyed=X)}}),A.prototype.destroy=y.destroy,A.prototype._undestroy=y.undestroy,A.prototype._destroy=function(X,O){this.end(),O(X)}}).call(this)}).call(this,e("_process"),typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,a,l){var f=e("safe-buffer").Buffer,o=e("util");a.exports=function(){function c(){(function(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(s){var r={data:s,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length},c.prototype.unshift=function(s){var r={data:s,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length},c.prototype.shift=function(){if(this.length!==0){var s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(s){if(this.length===0)return"";for(var r=this.head,i=""+r.data;r=r.next;)i+=s+r.data;return i},c.prototype.concat=function(s){if(this.length===0)return f.alloc(0);for(var r,i,b,d=f.allocUnsafe(s>>>0),u=this.head,v=0;u;)r=u.data,i=d,b=v,r.copy(i,b),v+=u.data.length,u=u.next;return d},c}(),o&&o.inspect&&o.inspect.custom&&(a.exports.prototype[o.inspect.custom]=function(){var c=o.inspect({length:this.length});return this.constructor.name+" "+c})},{"safe-buffer":520,util:188}],514:[function(e,a,l){var f=e("process-nextick-args");function o(c,s){c.emit("error",s)}a.exports={destroy:function(c,s){var r=this,i=this._readableState&&this._readableState.destroyed,b=this._writableState&&this._writableState.destroyed;return i||b?(s?s(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,f.nextTick(o,this,c)):f.nextTick(o,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(d){!s&&d?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,f.nextTick(o,r,d)):f.nextTick(o,r,d):s&&s(d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,a,l){arguments[4][490][0].apply(l,arguments)},{dup:490,events:422}],516:[function(e,a,l){a.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,a,l){(l=a.exports=e("./lib/_stream_readable.js")).Stream=l,l.Readable=l,l.Writable=e("./lib/_stream_writable.js"),l.Duplex=e("./lib/_stream_duplex.js"),l.Transform=e("./lib/_stream_transform.js"),l.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,a,l){a.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,a,l){a.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,a,l){arguments[4][217][0].apply(l,arguments)},{buffer:220,dup:217}],521:[function(e,a,l){arguments[4][218][0].apply(l,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,a,l){arguments[4][218][0].apply(l,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,a,l){(function(f,o){(function(){var c=e("process/browser.js").nextTick,s=Function.prototype.apply,r=Array.prototype.slice,i={},b=0;function d(u,v){this._id=u,this._clearFn=v}l.setTimeout=function(){return new d(s.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new d(s.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(u){u.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(u,v){clearTimeout(u._idleTimeoutId),u._idleTimeout=v},l.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},l._unrefActive=l.active=function(u){clearTimeout(u._idleTimeoutId);var v=u._idleTimeout;v>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},v))},l.setImmediate=typeof f=="function"?f:function(u){var v=b++,x=!(arguments.length<2)&&r.call(arguments,1);return i[v]=!0,c(function(){i[v]&&(x?u.apply(null,x):u.call(null),l.clearImmediate(v))}),v},l.clearImmediate=typeof o=="function"?o:function(u){delete i[u]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,a,l){(function(f){(function(){function o(c){try{if(!f.localStorage)return!1}catch{return!1}var s=f.localStorage[c];return s!=null&&String(s).toLowerCase()==="true"}a.exports=function(c,s){if(o("noDeprecation"))return c;var r=!1;return function(){if(!r){if(o("throwDeprecation"))throw new Error(s);o("traceDeprecation")?console.trace(s):console.warn(s),r=!0}return c.apply(this,arguments)}}}).call(this)}).call(this,typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,a,l){typeof Object.create=="function"?a.exports=function(f,o){f.super_=o,f.prototype=Object.create(o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:a.exports=function(f,o){f.super_=o;var c=function(){};c.prototype=o.prototype,f.prototype=new c,f.prototype.constructor=f}},{}],526:[function(e,a,l){a.exports=function(f){return f&&typeof f=="object"&&typeof f.copy=="function"&&typeof f.fill=="function"&&typeof f.readUInt8=="function"}},{}],527:[function(e,a,l){(function(f,o){(function(){var c=/%[sdj%]/g;l.format=function(_){if(!E(_)){for(var j=[],k=0;k<arguments.length;k++)j.push(i(arguments[k]));return j.join(" ")}k=1;for(var T=arguments,M=T.length,F=String(_).replace(c,function(V){if(V==="%%")return"%";if(k>=M)return V;switch(V){case"%s":return String(T[k++]);case"%d":return Number(T[k++]);case"%j":try{return JSON.stringify(T[k++])}catch{return"[Circular]"}default:return V}}),$=T[k];k<M;$=T[++k])y($)||!q($)?F+=" "+$:F+=" "+i($);return F},l.deprecate=function(_,j){if(A(o.process))return function(){return l.deprecate(_,j).apply(this,arguments)};if(f.noDeprecation===!0)return _;var k=!1;return function(){if(!k){if(f.throwDeprecation)throw new Error(j);f.traceDeprecation?console.trace(j):console.error(j),k=!0}return _.apply(this,arguments)}};var s,r={};function i(_,j){var k={seen:[],stylize:d};return arguments.length>=3&&(k.depth=arguments[2]),arguments.length>=4&&(k.colors=arguments[3]),g(j)?k.showHidden=j:j&&l._extend(k,j),A(k.showHidden)&&(k.showHidden=!1),A(k.depth)&&(k.depth=2),A(k.colors)&&(k.colors=!1),A(k.customInspect)&&(k.customInspect=!0),k.colors&&(k.stylize=b),u(k,_,k.depth)}function b(_,j){var k=i.styles[j];return k?"\x1B["+i.colors[k][0]+"m"+_+"\x1B["+i.colors[k][1]+"m":_}function d(_,j){return _}function u(_,j,k){if(_.customInspect&&j&&K(j.inspect)&&j.inspect!==l.inspect&&(!j.constructor||j.constructor.prototype!==j)){var T=j.inspect(k,_);return E(T)||(T=u(_,T,k)),T}var M=function(L,I){if(A(I))return L.stylize("undefined","undefined");if(E(I)){var Z="'"+JSON.stringify(I).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return L.stylize(Z,"string")}if(C(I))return L.stylize(""+I,"number");if(g(I))return L.stylize(""+I,"boolean");if(y(I))return L.stylize("null","null")}(_,j);if(M)return M;var F=Object.keys(j),$=function(L){var I={};return L.forEach(function(Z,te){I[Z]=!0}),I}(F);if(_.showHidden&&(F=Object.getOwnPropertyNames(j)),z(j)&&(F.indexOf("message")>=0||F.indexOf("description")>=0))return v(j);if(F.length===0){if(K(j)){var V=j.name?": "+j.name:"";return _.stylize("[Function"+V+"]","special")}if(D(j))return _.stylize(RegExp.prototype.toString.call(j),"regexp");if(B(j))return _.stylize(Date.prototype.toString.call(j),"date");if(z(j))return v(j)}var W,ee="",U=!1,Q=["{","}"];return m(j)&&(U=!0,Q=["[","]"]),K(j)&&(ee=" [Function"+(j.name?": "+j.name:"")+"]"),D(j)&&(ee=" "+RegExp.prototype.toString.call(j)),B(j)&&(ee=" "+Date.prototype.toUTCString.call(j)),z(j)&&(ee=" "+v(j)),F.length!==0||U&&j.length!=0?k<0?D(j)?_.stylize(RegExp.prototype.toString.call(j),"regexp"):_.stylize("[Object]","special"):(_.seen.push(j),W=U?function(L,I,Z,te,ie){for(var se=[],le=0,me=I.length;le<me;++le)N(I,String(le))?se.push(x(L,I,Z,te,String(le),!0)):se.push("");return ie.forEach(function(ae){ae.match(/^\d+$/)||se.push(x(L,I,Z,te,ae,!0))}),se}(_,j,k,$,F):F.map(function(L){return x(_,j,k,$,L,U)}),_.seen.pop(),function(L,I,Z){return L.reduce(function(te,ie){return ie.indexOf(`
`)>=0,te+ie.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Z[0]+(I===""?"":I+`
 `)+" "+L.join(`,
  `)+" "+Z[1]:Z[0]+I+" "+L.join(", ")+" "+Z[1]}(W,ee,Q)):Q[0]+ee+Q[1]}function v(_){return"["+Error.prototype.toString.call(_)+"]"}function x(_,j,k,T,M,F){var $,V,W;if((W=Object.getOwnPropertyDescriptor(j,M)||{value:j[M]}).get?V=W.set?_.stylize("[Getter/Setter]","special"):_.stylize("[Getter]","special"):W.set&&(V=_.stylize("[Setter]","special")),N(T,M)||($="["+M+"]"),V||(_.seen.indexOf(W.value)<0?(V=y(k)?u(_,W.value,null):u(_,W.value,k-1)).indexOf(`
`)>-1&&(V=F?V.split(`
`).map(function(ee){return"  "+ee}).join(`
`).substr(2):`
`+V.split(`
`).map(function(ee){return"   "+ee}).join(`
`)):V=_.stylize("[Circular]","special")),A($)){if(F&&M.match(/^\d+$/))return V;($=JSON.stringify(""+M)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?($=$.substr(1,$.length-2),$=_.stylize($,"name")):($=$.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),$=_.stylize($,"string"))}return $+": "+V}function m(_){return Array.isArray(_)}function g(_){return typeof _=="boolean"}function y(_){return _===null}function C(_){return typeof _=="number"}function E(_){return typeof _=="string"}function A(_){return _===void 0}function D(_){return q(_)&&Y(_)==="[object RegExp]"}function q(_){return typeof _=="object"&&_!==null}function B(_){return q(_)&&Y(_)==="[object Date]"}function z(_){return q(_)&&(Y(_)==="[object Error]"||_ instanceof Error)}function K(_){return typeof _=="function"}function Y(_){return Object.prototype.toString.call(_)}function X(_){return _<10?"0"+_.toString(10):_.toString(10)}l.debuglog=function(_){if(A(s)&&(s=f.env.NODE_DEBUG||""),_=_.toUpperCase(),!r[_])if(new RegExp("\\b"+_+"\\b","i").test(s)){var j=f.pid;r[_]=function(){var k=l.format.apply(l,arguments);console.error("%s %d: %s",_,j,k)}}else r[_]=function(){};return r[_]},l.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},l.isArray=m,l.isBoolean=g,l.isNull=y,l.isNullOrUndefined=function(_){return _==null},l.isNumber=C,l.isString=E,l.isSymbol=function(_){return typeof _=="symbol"},l.isUndefined=A,l.isRegExp=D,l.isObject=q,l.isDate=B,l.isError=z,l.isFunction=K,l.isPrimitive=function(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||_===void 0},l.isBuffer=e("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var _=new Date,j=[X(_.getHours()),X(_.getMinutes()),X(_.getSeconds())].join(":");return[_.getDate(),O[_.getMonth()],j].join(" ")}function N(_,j){return Object.prototype.hasOwnProperty.call(_,j)}l.log=function(){console.log("%s - %s",P(),l.format.apply(l,arguments))},l.inherits=e("inherits"),l._extend=function(_,j){if(!j||!q(j))return _;for(var k=Object.keys(j),T=k.length;T--;)_[k[T]]=j[k[T]];return _}}).call(this)}).call(this,e("_process"),typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"v1",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(l,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(l,"v4",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(l,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(l,"NIL",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(l,"version",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(l,"validate",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(l,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(l,"parse",{enumerable:!0,get:function(){return u.default}});var f=v(e("./v1.js")),o=v(e("./v3.js")),c=v(e("./v4.js")),s=v(e("./v5.js")),r=v(e("./nil.js")),i=v(e("./version.js")),b=v(e("./validate.js")),d=v(e("./stringify.js")),u=v(e("./parse.js"));function v(x){return x&&x.__esModule?x:{default:x}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,a,l){function f(u){return 14+(u+64>>>9<<4)+1}function o(u,v){const x=(65535&u)+(65535&v);return(u>>16)+(v>>16)+(x>>16)<<16|65535&x}function c(u,v,x,m,g,y){return o((C=o(o(v,u),o(m,y)))<<(E=g)|C>>>32-E,x);var C,E}function s(u,v,x,m,g,y,C){return c(v&x|~v&m,u,v,g,y,C)}function r(u,v,x,m,g,y,C){return c(v&m|x&~m,u,v,g,y,C)}function i(u,v,x,m,g,y,C){return c(v^x^m,u,v,g,y,C)}function b(u,v,x,m,g,y,C){return c(x^(v|~m),u,v,g,y,C)}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var d=function(u){if(typeof u=="string"){const v=unescape(encodeURIComponent(u));u=new Uint8Array(v.length);for(let x=0;x<v.length;++x)u[x]=v.charCodeAt(x)}return function(v){const x=[],m=32*v.length;for(let g=0;g<m;g+=8){const y=v[g>>5]>>>g%32&255,C=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);x.push(C)}return x}(function(v,x){v[x>>5]|=128<<x%32,v[f(x)-1]=x;let m=1732584193,g=-271733879,y=-1732584194,C=271733878;for(let E=0;E<v.length;E+=16){const A=m,D=g,q=y,B=C;m=s(m,g,y,C,v[E],7,-680876936),C=s(C,m,g,y,v[E+1],12,-389564586),y=s(y,C,m,g,v[E+2],17,606105819),g=s(g,y,C,m,v[E+3],22,-1044525330),m=s(m,g,y,C,v[E+4],7,-176418897),C=s(C,m,g,y,v[E+5],12,1200080426),y=s(y,C,m,g,v[E+6],17,-1473231341),g=s(g,y,C,m,v[E+7],22,-45705983),m=s(m,g,y,C,v[E+8],7,1770035416),C=s(C,m,g,y,v[E+9],12,-1958414417),y=s(y,C,m,g,v[E+10],17,-42063),g=s(g,y,C,m,v[E+11],22,-1990404162),m=s(m,g,y,C,v[E+12],7,1804603682),C=s(C,m,g,y,v[E+13],12,-40341101),y=s(y,C,m,g,v[E+14],17,-1502002290),g=s(g,y,C,m,v[E+15],22,1236535329),m=r(m,g,y,C,v[E+1],5,-165796510),C=r(C,m,g,y,v[E+6],9,-1069501632),y=r(y,C,m,g,v[E+11],14,643717713),g=r(g,y,C,m,v[E],20,-373897302),m=r(m,g,y,C,v[E+5],5,-701558691),C=r(C,m,g,y,v[E+10],9,38016083),y=r(y,C,m,g,v[E+15],14,-660478335),g=r(g,y,C,m,v[E+4],20,-405537848),m=r(m,g,y,C,v[E+9],5,568446438),C=r(C,m,g,y,v[E+14],9,-1019803690),y=r(y,C,m,g,v[E+3],14,-187363961),g=r(g,y,C,m,v[E+8],20,1163531501),m=r(m,g,y,C,v[E+13],5,-1444681467),C=r(C,m,g,y,v[E+2],9,-51403784),y=r(y,C,m,g,v[E+7],14,1735328473),g=r(g,y,C,m,v[E+12],20,-1926607734),m=i(m,g,y,C,v[E+5],4,-378558),C=i(C,m,g,y,v[E+8],11,-2022574463),y=i(y,C,m,g,v[E+11],16,1839030562),g=i(g,y,C,m,v[E+14],23,-35309556),m=i(m,g,y,C,v[E+1],4,-1530992060),C=i(C,m,g,y,v[E+4],11,1272893353),y=i(y,C,m,g,v[E+7],16,-155497632),g=i(g,y,C,m,v[E+10],23,-1094730640),m=i(m,g,y,C,v[E+13],4,681279174),C=i(C,m,g,y,v[E],11,-358537222),y=i(y,C,m,g,v[E+3],16,-722521979),g=i(g,y,C,m,v[E+6],23,76029189),m=i(m,g,y,C,v[E+9],4,-640364487),C=i(C,m,g,y,v[E+12],11,-421815835),y=i(y,C,m,g,v[E+15],16,530742520),g=i(g,y,C,m,v[E+2],23,-995338651),m=b(m,g,y,C,v[E],6,-198630844),C=b(C,m,g,y,v[E+7],10,1126891415),y=b(y,C,m,g,v[E+14],15,-1416354905),g=b(g,y,C,m,v[E+5],21,-57434055),m=b(m,g,y,C,v[E+12],6,1700485571),C=b(C,m,g,y,v[E+3],10,-1894986606),y=b(y,C,m,g,v[E+10],15,-1051523),g=b(g,y,C,m,v[E+1],21,-2054922799),m=b(m,g,y,C,v[E+8],6,1873313359),C=b(C,m,g,y,v[E+15],10,-30611744),y=b(y,C,m,g,v[E+6],15,-1560198380),g=b(g,y,C,m,v[E+13],21,1309151649),m=b(m,g,y,C,v[E+4],6,-145523070),C=b(C,m,g,y,v[E+11],10,-1120210379),y=b(y,C,m,g,v[E+2],15,718787259),g=b(g,y,C,m,v[E+9],21,-343485551),m=o(m,A),g=o(g,D),y=o(y,q),C=o(C,B)}return[m,g,y,C]}(function(v){if(v.length===0)return[];const x=8*v.length,m=new Uint32Array(f(x));for(let g=0;g<x;g+=8)m[g>>5]|=(255&v[g/8])<<g%32;return m}(u),8*u.length))};l.default=d},{}],530:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var f,o=(f=e("./validate.js"))&&f.__esModule?f:{default:f},c=function(s){if(!(0,o.default)(s))throw TypeError("Invalid UUID");let r;const i=new Uint8Array(16);return i[0]=(r=parseInt(s.slice(0,8),16))>>>24,i[1]=r>>>16&255,i[2]=r>>>8&255,i[3]=255&r,i[4]=(r=parseInt(s.slice(9,13),16))>>>8,i[5]=255&r,i[6]=(r=parseInt(s.slice(14,18),16))>>>8,i[7]=255&r,i[8]=(r=parseInt(s.slice(19,23),16))>>>8,i[9]=255&r,i[10]=(r=parseInt(s.slice(24,36),16))/1099511627776&255,i[11]=r/4294967296&255,i[12]=r>>>24&255,i[13]=r>>>16&255,i[14]=r>>>8&255,i[15]=255&r,i};l.default=c},{"./validate.js":541}],532:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,a,l){let f;Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(){if(!f&&(f=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!f))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f(o)};const o=new Uint8Array(16)},{}],534:[function(e,a,l){function f(s,r,i,b){switch(s){case 0:return r&i^~r&b;case 1:return r^i^b;case 2:return r&i^r&b^i&b;case 3:return r^i^b}}function o(s,r){return s<<r|s>>>32-r}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var c=function(s){const r=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){const v=unescape(encodeURIComponent(s));s=[];for(let x=0;x<v.length;++x)s.push(v.charCodeAt(x))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);const b=s.length/4+2,d=Math.ceil(b/16),u=new Array(d);for(let v=0;v<d;++v){const x=new Uint32Array(16);for(let m=0;m<16;++m)x[m]=s[64*v+4*m]<<24|s[64*v+4*m+1]<<16|s[64*v+4*m+2]<<8|s[64*v+4*m+3];u[v]=x}u[d-1][14]=8*(s.length-1)/Math.pow(2,32),u[d-1][14]=Math.floor(u[d-1][14]),u[d-1][15]=8*(s.length-1)&4294967295;for(let v=0;v<d;++v){const x=new Uint32Array(80);for(let A=0;A<16;++A)x[A]=u[v][A];for(let A=16;A<80;++A)x[A]=o(x[A-3]^x[A-8]^x[A-14]^x[A-16],1);let m=i[0],g=i[1],y=i[2],C=i[3],E=i[4];for(let A=0;A<80;++A){const D=Math.floor(A/20),q=o(m,5)+f(D,g,y,C)+E+r[D]+x[A]>>>0;E=C,C=y,y=o(g,30)>>>0,g=m,m=q}i[0]=i[0]+m>>>0,i[1]=i[1]+g>>>0,i[2]=i[2]+y>>>0,i[3]=i[3]+C>>>0,i[4]=i[4]+E>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};l.default=c},{}],535:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var f,o=(f=e("./validate.js"))&&f.__esModule?f:{default:f};const c=[];for(let r=0;r<256;++r)c.push((r+256).toString(16).substr(1));var s=function(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const b=(c[r[i+0]]+c[r[i+1]]+c[r[i+2]]+c[r[i+3]]+"-"+c[r[i+4]]+c[r[i+5]]+"-"+c[r[i+6]]+c[r[i+7]]+"-"+c[r[i+8]]+c[r[i+9]]+"-"+c[r[i+10]]+c[r[i+11]]+c[r[i+12]]+c[r[i+13]]+c[r[i+14]]+c[r[i+15]]).toLowerCase();if(!(0,o.default)(b))throw TypeError("Stringified UUID is invalid");return b};l.default=s},{"./validate.js":541}],536:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var f=c(e("./rng.js")),o=c(e("./stringify.js"));function c(u){return u&&u.__esModule?u:{default:u}}let s,r,i=0,b=0;var d=function(u,v,x){let m=v&&x||0;const g=v||new Array(16);let y=(u=u||{}).node||s,C=u.clockseq!==void 0?u.clockseq:r;if(y==null||C==null){const z=u.random||(u.rng||f.default)();y==null&&(y=s=[1|z[0],z[1],z[2],z[3],z[4],z[5]]),C==null&&(C=r=16383&(z[6]<<8|z[7]))}let E=u.msecs!==void 0?u.msecs:Date.now(),A=u.nsecs!==void 0?u.nsecs:b+1;const D=E-i+(A-b)/1e4;if(D<0&&u.clockseq===void 0&&(C=C+1&16383),(D<0||E>i)&&u.nsecs===void 0&&(A=0),A>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=E,b=A,r=C,E+=122192928e5;const q=(1e4*(268435455&E)+A)%4294967296;g[m++]=q>>>24&255,g[m++]=q>>>16&255,g[m++]=q>>>8&255,g[m++]=255&q;const B=E/4294967296*1e4&268435455;g[m++]=B>>>8&255,g[m++]=255&B,g[m++]=B>>>24&15|16,g[m++]=B>>>16&255,g[m++]=C>>>8|128,g[m++]=255&C;for(let z=0;z<6;++z)g[m+z]=y[z];return v||(0,o.default)(g)};l.default=d},{"./rng.js":533,"./stringify.js":535}],537:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var f=c(e("./v35.js")),o=c(e("./md5.js"));function c(r){return r&&r.__esModule?r:{default:r}}var s=(0,f.default)("v3",48,o.default);l.default=s},{"./md5.js":529,"./v35.js":538}],538:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(i,b,d){function u(v,x,m,g){if(typeof v=="string"&&(v=function(C){C=unescape(encodeURIComponent(C));const E=[];for(let A=0;A<C.length;++A)E.push(C.charCodeAt(A));return E}(v)),typeof x=="string"&&(x=(0,o.default)(x)),x.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+v.length);if(y.set(x),y.set(v,x.length),y=d(y),y[6]=15&y[6]|b,y[8]=63&y[8]|128,m){g=g||0;for(let C=0;C<16;++C)m[g+C]=y[C];return m}return(0,f.default)(y)}try{u.name=i}catch{}return u.DNS=s,u.URL=r,u},l.URL=l.DNS=void 0;var f=c(e("./stringify.js")),o=c(e("./parse.js"));function c(i){return i&&i.__esModule?i:{default:i}}const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";l.DNS=s;const r="6ba7b811-9dad-11d1-80b4-00c04fd430c8";l.URL=r},{"./parse.js":531,"./stringify.js":535}],539:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var f=c(e("./rng.js")),o=c(e("./stringify.js"));function c(r){return r&&r.__esModule?r:{default:r}}var s=function(r,i,b){const d=(r=r||{}).random||(r.rng||f.default)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,i){b=b||0;for(let u=0;u<16;++u)i[b+u]=d[u];return i}return(0,o.default)(d)};l.default=s},{"./rng.js":533,"./stringify.js":535}],540:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var f=c(e("./v35.js")),o=c(e("./sha1.js"));function c(r){return r&&r.__esModule?r:{default:r}}var s=(0,f.default)("v5",80,o.default);l.default=s},{"./sha1.js":534,"./v35.js":538}],541:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var f,o=(f=e("./regex.js"))&&f.__esModule?f:{default:f},c=function(s){return typeof s=="string"&&o.default.test(s)};l.default=c},{"./regex.js":532}],542:[function(e,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var f,o=(f=e("./validate.js"))&&f.__esModule?f:{default:f},c=function(s){if(!(0,o.default)(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)};l.default=c},{"./validate.js":541}],543:[function(e,a,l){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(l,"__esModule",{value:!0}),l.CHAR=`	
\r ---`,l.S=` 	\r
`,l.NAME_START_CHAR=":A-Z_a-z-----------",l.NAME_CHAR="-"+l.NAME_START_CHAR+".0-9--",l.CHAR_RE=new RegExp("^["+l.CHAR+"]$","u"),l.S_RE=new RegExp("^["+l.S+"]+$","u"),l.NAME_START_CHAR_RE=new RegExp("^["+l.NAME_START_CHAR+"]$","u"),l.NAME_CHAR_RE=new RegExp("^["+l.NAME_CHAR+"]$","u"),l.NAME_RE=new RegExp("^["+l.NAME_START_CHAR+"]["+l.NAME_CHAR+"]*$","u"),l.NMTOKEN_RE=new RegExp("^["+l.NAME_CHAR+"]+$","u");function f(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}l.S_LIST=[32,10,13,9],l.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},l.isS=function(o){return o===32||o===10||o===13||o===9},l.isNameStartChar=f,l.isNameChar=function(o){return f(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(e,a,l){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(l,"__esModule",{value:!0}),l.CHAR="---",l.RESTRICTED_CHAR="-\b\v\f---",l.S=` 	\r
`,l.NAME_START_CHAR=":A-Z_a-z-----------",l.NAME_CHAR="-"+l.NAME_START_CHAR+".0-9--",l.CHAR_RE=new RegExp("^["+l.CHAR+"]$","u"),l.RESTRICTED_CHAR_RE=new RegExp("^["+l.RESTRICTED_CHAR+"]$","u"),l.S_RE=new RegExp("^["+l.S+"]+$","u"),l.NAME_START_CHAR_RE=new RegExp("^["+l.NAME_START_CHAR+"]$","u"),l.NAME_CHAR_RE=new RegExp("^["+l.NAME_CHAR+"]$","u"),l.NAME_RE=new RegExp("^["+l.NAME_START_CHAR+"]["+l.NAME_CHAR+"]*$","u"),l.NMTOKEN_RE=new RegExp("^["+l.NAME_CHAR+"]+$","u");function f(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}l.S_LIST=[32,10,13,9],l.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},l.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},l.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},l.isS=function(o){return o===32||o===10||o===13||o===9},l.isNameStartChar=f,l.isNameChar=function(o){return f(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(e,a,l){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function f(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(l,"__esModule",{value:!0}),l.NC_NAME_START_CHAR="A-Z_a-z------------",l.NC_NAME_CHAR="-"+l.NC_NAME_START_CHAR+".0-9--",l.NC_NAME_START_CHAR_RE=new RegExp("^["+l.NC_NAME_START_CHAR+"]$","u"),l.NC_NAME_CHAR_RE=new RegExp("^["+l.NC_NAME_CHAR+"]$","u"),l.NC_NAME_RE=new RegExp("^["+l.NC_NAME_START_CHAR+"]["+l.NC_NAME_CHAR+"]*$","u"),l.isNCNameStartChar=f,l.isNCNameChar=function(o){return f(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})}(Rh)),Rh.exports}var uj=cj();const Fs=xp(uj);var du={exports:{}},dj=du.exports,Wy;function fj(){return Wy||(Wy=1,function(t,h){(function(e,a){a()})(dj,function(){function e(r,i){return typeof i>"u"?i={autoBom:!1}:typeof i!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}function a(r,i,b){var d=new XMLHttpRequest;d.open("GET",r),d.responseType="blob",d.onload=function(){s(d.response,i,b)},d.onerror=function(){console.error("could not download file")},d.send()}function l(r){var i=new XMLHttpRequest;i.open("HEAD",r,!1);try{i.send()}catch{}return 200<=i.status&&299>=i.status}function f(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(i)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof $t=="object"&&$t.global===$t?$t:void 0,c=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(r,i,b){var d=o.URL||o.webkitURL,u=document.createElement("a");i=i||r.name||"download",u.download=i,u.rel="noopener",typeof r=="string"?(u.href=r,u.origin===location.origin?f(u):l(u.href)?a(r,i,b):f(u,u.target="_blank")):(u.href=d.createObjectURL(r),setTimeout(function(){d.revokeObjectURL(u.href)},4e4),setTimeout(function(){f(u)},0))}:"msSaveOrOpenBlob"in navigator?function(r,i,b){if(i=i||r.name||"download",typeof r!="string")navigator.msSaveOrOpenBlob(e(r,b),i);else if(l(r))a(r,i,b);else{var d=document.createElement("a");d.href=r,d.target="_blank",setTimeout(function(){f(d)})}}:function(r,i,b,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof r=="string")return a(r,i,b);var u=r.type==="application/octet-stream",v=/constructor/i.test(o.HTMLElement)||o.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||u&&v||c)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var C=m.result;C=x?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=C:location=C,d=null},m.readAsDataURL(r)}else{var g=o.URL||o.webkitURL,y=g.createObjectURL(r);d?d.location=y:location.href=y,d=null,setTimeout(function(){g.revokeObjectURL(y)},4e4)}});o.saveAs=s.saveAs=s,t.exports=s})}(du)),du.exports}var $s=fj();const la=({filterMode:t="datetime",onFilterApply:h,initialFilters:e={created_at_start:"",created_at_end:"",updated_at_start:"",updated_at_end:""}})=>{const[a,l]=J.useState(t),[f,o]=J.useState(!1),[c,s]=J.useState({...e}),[r,i]=J.useState({...e}),[b,d]=J.useState([]),u=J.useRef(null),[v,x]=J.useState({}),[m,g]=J.useState(!1);J.useEffect(()=>{if(f&&u.current){const X=u.current.getBoundingClientRect(),O=window.scrollY,P=420,N=window.innerWidth;let _=X.right-P;N<480&&(_=Math.max(16,Math.min(_,N-P-16)));const j=X.bottom+O+8;x({top:j,left:_,width:Math.min(P,N-32),maxHeight:"calc(100vh - 100px)",overflowY:"auto"}),g(!0)}},[f]);const y=()=>{const X=[],O=k=>k?new Date(k).getTime():null,P=O(c.created_at_start),N=O(c.created_at_end),_=O(c.updated_at_start),j=O(c.updated_at_end);return P&&N&&P>=N&&X.push("Created start date must be before end date"),_&&j&&_>=j&&X.push("Updated start date must be before end date"),d(X),X.length===0},C=()=>{if(!y())return;const X={...c};console.log("[Apply Filter]",X),i({...c}),o(!1),h({...c})},E=()=>{const X={created_at_start:"",created_at_end:"",updated_at_start:"",updated_at_end:""};console.log("[Reset Filter]",X),s(X),i(X),d([]),o(!1),g(!1),h(X)},A=()=>{s({...r}),d([]),o(!1),g(!1)},D=()=>{switch(a){case"date":return"date";case"time":return"time";case"datetime":return"datetime-local";default:return"datetime-local"}},q=X=>{switch(X){case"date":return w.jsx(Su,{className:"w-3.5 h-3.5"});case"time":return w.jsx(Bv,{className:"w-3.5 h-3.5"});case"datetime":return w.jsx(Rv,{className:"w-3.5 h-3.5"});default:return w.jsx(Su,{className:"w-3.5 h-3.5"})}},B=()=>Object.values(r).some(X=>X!==""),z=()=>JSON.stringify(c)!==JSON.stringify(r),K=()=>Object.values(r).filter(X=>X!=="").length;J.useEffect(()=>{const X=O=>{if(f&&u.current&&!u.current.contains(O.target)){const P=document.querySelector('[data-dropdown="datetime-filter"]');P&&!P.contains(O.target)&&A()}};if(f)return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[f]);const Y=w.jsxs("div",{"data-dropdown":"datetime-filter",className:"fixed z-[9999] bg-white border border-gray-200 rounded-2xl shadow-2xl backdrop-blur-sm animate-in fade-in-0 zoom-in-95 duration-200",style:v,children:[w.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white rounded-t-2xl",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:w.jsx(Cu,{className:"w-4 h-4 text-blue-600"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-gray-900",children:"Date & Time Filters"}),w.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Configure your filter criteria"})]})]}),w.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:w.jsx(oa,{className:"w-4 h-4 text-gray-500"})})]}),w.jsxs("div",{className:"px-6 py-5 border-b border-gray-100",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Filter Type"}),w.jsx("div",{className:"grid grid-cols-3 gap-2",children:["datetime","date"].map(X=>w.jsxs("button",{onClick:()=>l(X),className:`flex items-center justify-center space-x-2 px-4 py-3 text-sm rounded-xl border transition-all duration-200 ${a===X?"bg-blue-50 text-blue-700 border-blue-200 shadow-sm":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:[q(X),w.jsx("span",{className:"capitalize font-medium",children:X})]},X))})]}),w.jsx("div",{className:"px-6 py-6 space-y-8",children:["created","updated"].map((X,O)=>w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:`w-3 h-3 rounded-full ${X==="created"?"bg-blue-500":"bg-emerald-500"}`}),w.jsxs("h4",{className:"font-semibold text-gray-900",children:[X.charAt(0).toUpperCase()+X.slice(1)," Date Range"]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsxs("label",{className:"block text-sm font-medium text-gray-600",children:["Start ",a==="datetime"?"Date & Time":"Date"]}),w.jsx("div",{className:"relative",children:w.jsx("input",{type:D(),value:c[`${X}_at_start`],onChange:P=>s(N=>({...N,[`${X}_at_start`]:P.target.value})),className:"w-full px-4 py-3 text-sm border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",placeholder:"Select start..."})})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("label",{className:"block text-sm font-medium text-gray-600",children:["End ",a==="datetime"?"Date & Time":"Date"]}),w.jsx("div",{className:"relative",children:w.jsx("input",{type:D(),value:c[`${X}_at_end`],onChange:P=>s(N=>({...N,[`${X}_at_end`]:P.target.value})),className:"w-full px-4 py-3 text-sm border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",placeholder:"Select end..."})})]})]})]},X))}),b.length>0&&w.jsx("div",{className:"px-6 py-4 border-t border-red-100 bg-red-50",children:w.jsx("div",{className:"space-y-2",children:b.map((X,O)=>w.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[w.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mr-2"}),X]},O))})}),w.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[w.jsxs("button",{onClick:E,disabled:!B()&&!Object.values(c).some(X=>X!==""),className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[w.jsx(Pv,{className:"w-4 h-4"}),w.jsx("span",{children:"Reset"})]}),w.jsxs("div",{className:"flex space-x-3",children:[w.jsx("button",{onClick:A,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"}),w.jsxs("button",{onClick:C,disabled:!z()||b.length>0,className:"flex items-center space-x-2 px-5 py-2.5 text-sm font-medium text-white bg-blue-600 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-sm",children:[w.jsx(Av,{className:"w-4 h-4"}),w.jsx("span",{children:"Apply Filters"})]})]})]})]});return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"relative",children:[w.jsxs("button",{ref:u,onClick:()=>o(!f),className:`inline-flex items-center px-4 py-2.5 text-sm font-medium rounded-xl border transition-all duration-200 focus:ring-2 focus:ring-offset-2 ${B()?"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100 focus:ring-blue-500 shadow-sm":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400 focus:ring-gray-500"}`,children:[w.jsx(Cu,{className:"w-4 h-4 mr-2"}),w.jsx("span",{className:"hidden sm:inline",children:"Date & Time Filters"}),w.jsx("span",{className:"sm:hidden",children:"Filters"}),B()&&w.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs font-semibold bg-blue-100 text-blue-800 rounded-full",children:K()}),w.jsx(Ov,{className:`w-4 h-4 ml-2 transition-transform duration-200 ${f?"rotate-180":""}`})]}),f&&m&&w.jsx("div",{className:"fixed inset-0 z-[9998]",children:Y})]}),w.jsx("div",{className:"fixed top-4 right-4 z-[10000] space-y-2",children:b.map((X,O)=>w.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-xl shadow-lg animate-in slide-in-from-right-5 duration-300",children:w.jsx("p",{className:"text-sm font-medium",children:X})},O))})]})},Io=zr(Se),hj=()=>{const[t,h]=J.useState([]),[e,a]=J.useState([]),[l,f]=J.useState({}),[o,c]=J.useState(""),[s,r]=J.useState(!1),[i,b]=J.useState({pageIndex:0,pageSize:15}),d=J.useRef(null),[u,v]=J.useState({}),[x,m]=J.useState({}),[g,y]=J.useState({}),[C,E]=J.useState(!1),[A,D]=J.useState(null),[q,B]=J.useState(!1),[z,K]=J.useState(!1),[Y,X]=J.useState(!1),[O,P]=J.useState(null),N=J.useRef(null),[_,j]=J.useState(null),[k,T]=J.useState(null),[M,F]=J.useState(!1),[$,V]=J.useState([]),[W,ee]=J.useState([]),[U,Q]=J.useState([]),[L,I]=J.useState([]),[Z,te]=J.useState([]),[ie,se]=J.useState([]),[le,me]=J.useState([]),[ae,re]=J.useState(0),[oe,ue]=J.useState({created_at_start:"",created_at_end:"",updated_at_start:"",updated_at_end:""}),[fe,be]=J.useState(null);J.useEffect(()=>{const de=localStorage.getItem("token");if(de)try{const we=de.split(".")[1],he=atob(we),ye=JSON.parse(he);be(ye.role??null)}catch(we){console.error("Invalid token format",we)}},[]),J.useEffect(()=>{if(s&&N.current){const de=N.current.getBoundingClientRect();j({top:de.bottom+window.scrollY+8,left:de.right+window.scrollX-256})}},[s]),J.useEffect(()=>{const de=new URLSearchParams;Object.entries(g).forEach(([we,he])=>{he.forEach(ye=>de.append(we,ye))}),Object.entries(oe).forEach(([we,he])=>{he&&de.append(we,he)}),fetch(`/api/ResolvedToolSpecsRaw/raw?${de.toString()}`).then(we=>we.json()).then(we=>{h(we);const he=Object.keys(we[0]||{}),ye={};he.forEach(Te=>{ye[Te]=Array.from(new Set(we.map(Be=>String(Be[Te]??"")))).sort()}),m(ye)}).catch(we=>console.error("Error fetching data:",we))},[g,oe,ae]);const Ce=J.useRef(!1);J.useEffect(()=>{Ce.current||(Ce.current=!0,Promise.all([fetch("/api/TypeModels").then(de=>de.json()),fetch("/api/Tools").then(de=>de.json()),fetch("/api/PositionTypes").then(de=>de.json()),fetch("/api/SizeRefs").then(de=>de.json()),fetch("/api/AxleTypes").then(de=>de.json())]).then(([de,we,he,ye,Te])=>{const Be=(Ye,at,ot)=>Ye.map(Ue=>({value:Ue[ot],label:Ue[at]??"(Blanks)"}));V(Be(de,"type_name","type_id")),I(Be(de,"type_name","type_id")),ee(Be(we,"tool_name","tool_id")),te(Be(we,"tool_name","tool_id")),Q(Be(he,"position_type","position_type_id")),se(Be(ye,"size_ref","size_ref_id")),me(Be(Te,"axle_type","axle_type_id"))}))},[]);const Ae=async de=>{console.log(" Deleting DDC spec row:",de);const we=Ye=>(Ye??"-").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(!(await Io.fire({title:"Are you sure?",html:`
      <table style="text-align:left; font-size:18px; line-height:1.6;">
        <tr><td><b>Tool Type:</b></td><td>${we(de.tool_type)}</td></tr>
        <tr><td><b>Tool Name:</b></td><td>${we(de.tool_name)}</td></tr>
        <tr><td><b>Position Type:</b></td><td>${we(de.position_type)}</td></tr>
        <tr><td><b>Type Ref:</b></td><td>${we(de.type_ref)}</td></tr>
        <tr><td><b>Tool Ref:</b></td><td>${we(de.tool_ref)}</td></tr>
        <tr><td><b>Size Ref:</b></td><td>${we(de.size_ref)}</td></tr>
        <tr><td><b>Axle Type:</b></td><td>${we(de.axle_type)}</td></tr>
      </table>
    `,icon:"warning",showCancelButton:!0,confirmButtonText:"Submit Delete Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed){console.log(" User cancelled deletion.");return}const{tool_spec_id:ye,tool_key_id:Te}=de;if(!ye||!Te){await Io.fire({icon:"error",title:"Missing ID",text:"tool_spec_id or tool_key_id is missing.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",popup:"text-sm"}});return}const Be=localStorage.getItem("token");try{const Ye=[{url:`/api/ToolSpecs/check-toolmachinemap-ref?tool_key_id=${Te}`,label:"ToolMachineMap"},{url:`/api/ToolSpecs/check-toolpadmap-ref?tool_key_id=${Te}`,label:"ToolPadMap"}],at=await Promise.all(Ye.map($e=>fetch($e.url,{headers:Be?{Authorization:`Bearer ${Be}`}:void 0}).then(Re=>Re.json().then(De=>({...De,label:$e.label})))));console.log(" Usage check responses:",at);const ot=at.filter($e=>$e.used).map($e=>`- Used in ${$e.label}`);if(ot.length>0){await Io.fire({title:"Cannot Delete",html:`
          <p>This DDC Spec cannot be deleted because:</p>
          <pre style="text-align:left; background:#f3f3f3; padding:10px; border-radius:5px;">${ot.join(`
`)}</pre>
        `,icon:"warning",confirmButtonText:"OK",customClass:{confirmButton:"bg-yellow-500 hover:bg-yellow-600 text-black font-bold px-4 py-2 rounded",popup:"text-sm"}});return}const Ue="/api/Requests",ze={request_type:"DELETE",target_table:"DdcSpec",target_pk_id:ye,old_data:de,new_data:null,note:"Deleted from frontend"};console.log(" Submitting DELETE request payload:",ze);const je=await fetch(Ue,{method:"POST",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}},body:JSON.stringify(ze)}),Je=await je.text();let nt=null;try{nt=JSON.parse(Je)}catch{console.error(" Response not JSON:",Je)}if(!je.ok){const $e=(nt==null?void 0:nt.message)||Je||"Failed to submit delete request.";console.error(" Delete request failed:",$e),await Io.fire({icon:"error",title:"Delete Failed",text:$e,confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",popup:"text-sm"}});return}console.log(" Delete request submitted:",nt),await Io.fire({icon:"info",title:"Request Submitted",html:`Your delete request has been submitted.<br>Request ID: <b>${nt.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",popup:"text-sm"}}),re($e=>$e+1)}catch(Ye){console.error(" Exception during delete request:",Ye);let at="An unexpected error occurred while submitting delete request.";Ye&&typeof Ye=="object"&&"message"in Ye&&(at=Ye.message),await Io.fire({icon:"error",title:"Error",text:at,confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",popup:"text-sm"}})}},Pe=de=>{P(de),X(!0)},Fe=de=>de?new Date(de).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",pe=J.useMemo(()=>[{header:"Tool Info",columns:[{id:"Tool Type",accessorKey:"tool_type",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Tool Type",Me("tool_type")]})},{id:"Tool Name",accessorKey:"tool_name",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Tool Name",Me("tool_name")]})},{id:"Position Type",accessorKey:"position_type",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Position Type",Me("position_type")]})},{id:"Type Ref",accessorKey:"type_ref",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Type Ref",Me("type_ref")]})},{id:"Tool Ref",accessorKey:"tool_ref",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Tool Ref",Me("tool_ref")]})},{id:"Size Ref",accessorKey:"size_ref",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Size Ref",Me("size_ref")]})},{id:"Axle Type",accessorKey:"axle_type",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Axle Type",Me("axle_type")]})}]},{header:"Wheel: Over All Dimension (mm)",columns:[{id:"A",accessorKey:"overall_a",header:()=>w.jsxs("div",{className:"flex items-center justify-center gap-1",children:[w.jsx("span",{children:"A"}),ve("overall_a","Ov."),ve("tolerance_a","Tol.")]}),cell:({row:de})=>`${de.original.overall_a}  ${de.original.tolerance_a}`},{id:"B",accessorKey:"overall_b",header:()=>w.jsxs("div",{className:"flex items-center justify-center gap-1",children:[w.jsx("span",{children:"B"}),ve("overall_b","Ov."),ve("tolerance_b","Tol.")]}),cell:({row:de})=>`${de.original.overall_b}  ${de.original.tolerance_b}`},{id:"C",accessorKey:"overall_c",header:()=>w.jsxs("div",{className:"flex items-center justify-center gap-1",children:[w.jsx("span",{children:"C"}),ve("overall_c","Ov."),ve("tolerance_c","Tol.")]}),cell:({row:de})=>`${de.original.overall_c}  ${de.original.tolerance_c}`}]},{header:"Wheel: F-Shank (Inch)",columns:[{id:"F-Shank min",accessorKey:"f_shank_min",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Min",Me("f_shank_min")]})},{id:"F-Shank max",accessorKey:"f_shank_max",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Max",Me("f_shank_max")]})}]},{header:"Bump to Bump (Inch)",columns:[{id:"B2B min",accessorKey:"b2b_min",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Min",Me("b2b_min")]})},{id:"B2B max",accessorKey:"b2b_max",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Max",Me("b2b_max")]})}]},{header:"Head to Head (Inch)",columns:[{id:"H2H min",accessorKey:"h2h_min",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Max",Me("h2h_min")]})},{id:"H2H max",accessorKey:"h2h_max",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Max",Me("h2h_max")]})}]},{header:"Chassis Span (Inch)",columns:[{id:"Chassis Span",accessorKey:"chassis_span",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Chassis Span",Me("chassis_span")]})}]},{header:"Pad",columns:[{id:"HST Pad",accessorKey:"hsT_pad",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["HST",Me("hsT_pad")]})},{id:"RIM Pad",accessorKey:"riM_pad",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["RIM",Me("riM_pad")]})},{id:"INNER Pad",accessorKey:"inneR_pad",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["INNER",Me("inneR_pad")]})},{id:"EXTRA RIM Pad",accessorKey:"extrA_RIM_pad",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["EXTRA RIM",Me("extrA_RIM_pad")]})}]},{header:"Brass",columns:[{id:"HST Brass",accessorKey:"hsT_brass",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["HST",Me("hsT_brass")]})},{id:"RIM Brass",accessorKey:"riM_brass",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["RIM",Me("riM_brass")]})},{id:"INNER Brass",accessorKey:"inneR_brass",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["INNER",Me("inneR_brass")]})},{id:"EXTRA RIM Brass",accessorKey:"extrA_RIM_brass",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["EXTRA RIM",Me("extrA_RIM_brass")]})}]},{header:"Pad Source",columns:[{id:"Pad Source Type",accessorKey:"pad_source",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Pad Source Type",Me("pad_source")]})},{id:"Pad Source Key",accessorKey:"pad_source_key",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Pad Source Key",Me("pad_source_key")]})}]},{header:"Machine",columns:[{id:"Machine No",accessorKey:"machine_no",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Machine No",Me("machine_no")]})},{id:"Machine Source Type",accessorKey:"machine_source",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Machine Source Type",Me("machine_source")]})},{id:"Machine Source Key",accessorKey:"machine_source_key",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Machine Source Key",Me("machine_source_key")]})}]},{header:"Specification Info",columns:[{id:"Knurling Type",accessorKey:"knurling_type",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Knurling Type",Me("knurling_type")]})}]},{header:"Create",columns:[{id:"Create By",accessorKey:"create_by",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Create By",Me("create_by")]})},{id:"Create At",accessorKey:"create_at",header:()=>w.jsx("div",{className:"flex items-center justify-center",children:"Create At"}),cell:({getValue:de})=>Fe(de())}]},{header:"Update",columns:[{id:"Update By",accessorKey:"update_by",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Update By",Me("update_by")]})},{id:"Update At",accessorKey:"update_at",header:()=>w.jsx("div",{className:"flex items-center justify-center",children:"Update At"}),cell:({getValue:de})=>Fe(de())}]},{header:"Pending",columns:[{id:"Request Type",accessorKey:"pending_request",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Request Type",Me("pending_request")]})}]},{header:"Note",columns:[{id:"Description",accessorKey:"description",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Description",Me("description")]})}]},{id:"Actions",header:"Actions",cell:({row:de})=>{const we=["admin","editor"].includes(fe||"");return w.jsxs("div",{className:"flex gap-2 justify-center",children:[w.jsx("button",{onClick:()=>Pe(de.original),className:"px-2 py-1 text-xs border rounded text-gray-600 border-gray-600 hover:bg-gray-100",children:"Detail"}),we&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>{D(de.original),B(!0)},className:"px-2 py-1 text-xs border rounded text-blue-600 border-blue-600 hover:bg-blue-50",children:"Edit"}),w.jsx("button",{onClick:()=>{var ye,Te,Be,Ye,at,ot,Ue;const he={type_id:((ye=$.find(ze=>ze.label===de.original.tool_type))==null?void 0:ye.value)??13,tool_id:((Te=W.find(ze=>ze.label===de.original.tool_name))==null?void 0:Te.value)??2,position_type_id:((Be=U.find(ze=>ze.label===de.original.position_type))==null?void 0:Be.value)??null,type_ref_id:((Ye=L.find(ze=>ze.label===de.original.type_ref))==null?void 0:Ye.value)??13,tool_ref_id:((at=Z.find(ze=>ze.label===de.original.tool_ref))==null?void 0:at.value)??2,size_ref_id:((ot=ie.find(ze=>ze.label===de.original.size_ref))==null?void 0:ot.value)??12,axle_type_id:((Ue=le.find(ze=>ze.label===de.original.axle_type))==null?void 0:Ue.value)??56,knurling_type:typeof de.original.knurling_type=="number"?de.original.knurling_type:typeof de.original.knurling_type=="string"&&Number(de.original.knurling_type)||0,chassis_span_override:de.original.chassis_span??""};console.log(" Clone converted:",he),T(he),E(!0),F(!0)},className:"px-2 py-1 text-xs border rounded text-green-600 border-green-600 hover:bg-green-50",children:"Clone"}),w.jsx("button",{onClick:()=>Ae(de.original),className:"px-2 py-1 text-xs border rounded text-red-600 border-red-600 hover:bg-red-50",children:"Delete"})]})]})}}],[x,g,u,t]),Ee=Xr({data:t,columns:pe,state:{columnFilters:e,columnVisibility:l,pagination:i},onPaginationChange:b,onColumnFiltersChange:a,onColumnVisibilityChange:f,getCoreRowModel:Vr(),getSortedRowModel:Ls(),getPaginationRowModel:Kr()}),He=async()=>{const de={overall_a:["tolerance_a"],overall_b:["tolerance_b"],overall_c:["tolerance_c"]},we=["Actions","Other"],he={},ye={},Te=(Re,De=null)=>{Re.forEach(Ve=>{Ve.columns?Te(Ve.columns,Ve.header):Ve.id&&Ve.accessorKey&&(he[Ve.id]=De??"Other",ye[Ve.id]=Ve.accessorKey)})};Te(Ee.getAllColumns().map(Re=>Re.columnDef));let Be=Ee.getVisibleLeafColumns().map(Re=>Re.id).filter(Re=>!we.includes(Re));Object.entries(de).forEach(([Re,De])=>{var Qe;const Ve=(Qe=Object.entries(ye).find(([lt,ct])=>ct===Re))==null?void 0:Qe[0];Ve&&Be.includes(Ve)&&De.forEach(lt=>{var pt;const ct=(pt=Object.entries(ye).find(([_e,Ne])=>Ne===lt))==null?void 0:pt[0];ct&&!Be.includes(ct)&&Be.push(ct)})});const Ye=t.map(Re=>{const De={};return Be.forEach(Ve=>{var lt;let Qe="";if(["A","B","C"].includes(Ve)){const ct=ye[Ve],pt=(lt=de[ct])==null?void 0:lt[0],_e=Re[ct],Ne=Re[pt];_e!==void 0&&Ne!==void 0?Qe=`${_e}  ${Ne}`:Qe=_e??""}else{const ct=ye[Ve];Qe=Re[ct]}Qe==null&&(Qe=""),typeof Qe=="boolean"&&(Qe=Qe?"":"-"),De[Ve]=String(Qe)}),De}),at=new Fs.Workbook,ot=at.addWorksheet("SummaryDdc"),Ue=[],ze=[];let je="";Be.forEach(Re=>{const De=he[Re]??"Other";Ue.push(De===je?"":De),ze.push(Re),je=De}),Ue.forEach((Re,De)=>{const Ve=ot.getCell(1,De+1);Ve.value=Re||null,Ve.font={name:"Arial",size:10,bold:!0},Ve.alignment={vertical:"middle",horizontal:"center"},Ve.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),ze.forEach((Re,De)=>{const Ve=ot.getCell(2,De+1);Ve.value=Re,Ve.font={name:"Arial",size:10,bold:!0},Ve.alignment={vertical:"middle",horizontal:"center"},Ve.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});let Je=0;for(;Je<Ue.length;){let Re=Je;for(;Re+1<Ue.length&&Ue[Re+1]==="";)Re++;Re>Je&&Ue[Je]&&ot.mergeCells(1,Je+1,1,Re+1),Je=Re+1}Ye.forEach((Re,De)=>{var pt;const Ve=De+3,Qe=(pt=t[De])==null?void 0:pt.pending_request;let lt,ct;Qe==="UPDATE"?(lt="FEFCE8",ct="854D0E"):Qe==="DELETE"&&(lt="FEF2F2",ct="991B1B"),Be.forEach((_e,Ne)=>{const We=ot.getCell(Ve,Ne+1);We.value=Re[_e],We.font={name:"Arial",size:10,color:ct?{argb:ct}:void 0},We.alignment={vertical:"middle",horizontal:"center"},We.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},lt&&(We.fill={type:"pattern",pattern:"solid",fgColor:{argb:lt}})})}),ot.columns.forEach(Re=>{Re.width=15});const nt=await at.xlsx.writeBuffer(),$e=new Blob([nt],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});$s.saveAs($e,"SummaryDdc.xlsx")},Me=de=>{var Je,nt,$e;const[we,he]=J.useState(""),ye=J.useRef(null),Te=J.useRef(null),[Be,Ye]=J.useState(null),[at,ot]=J.useState({}),Ue=(g[de]??[]).length>0;J.useEffect(()=>{g[de]&&ot(Re=>({...Re,[de]:[...g[de]]}))},[u[de]]),J.useEffect(()=>{const Re=De=>{var Ve;Te.current&&!Te.current.contains(De.target)&&!((Ve=ye.current)!=null&&Ve.contains(De.target))&&v(Qe=>({...Qe,[de]:!1}))};return document.addEventListener("mousedown",Re),()=>document.removeEventListener("mousedown",Re)},[de]),J.useEffect(()=>{if(u[de]&&ye.current){const Re=ye.current.getBoundingClientRect(),De=window.scrollX||document.documentElement.scrollLeft,Ve=window.scrollY||document.documentElement.scrollTop;Ye({top:Re.bottom+Ve+4,left:Re.left+De,width:Re.width})}},[u[de]]);const ze=()=>{v(Re=>({...Re,[de]:!Re[de]}))},je=Re=>{const De=Re??"null";ot(Ve=>{const Qe=new Set(Ve[de]||[]);return Qe.has(De)?Qe.delete(De):Qe.add(De),{...Ve,[de]:Array.from(Qe)}})};return w.jsxs(w.Fragment,{children:[w.jsx("button",{ref:ye,onClick:ze,className:`ml-1 px-2 py-0.5 border text-xs rounded shadow transition-colors duration-150 ${Ue?"bg-blue-600 border-blue-700 text-white hover:bg-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:""}),u[de]&&w.jsxs("div",{ref:Te,className:"fixed z-[9999] rounded-md border bg-white shadow-lg p-2",style:Be?{top:Be.top,left:Be.left,minWidth:Be.width,visibility:"visible"}:{visibility:"hidden"},children:[w.jsx("input",{type:"text",value:we,placeholder:"Search...",className:"w-full mb-2 px-2 py-1 border rounded text-sm",onChange:Re=>he(Re.target.value.toLowerCase())}),w.jsxs("label",{className:"block text-xs font-medium px-1 py-0.5 text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:((Je=at[de])==null?void 0:Je.length)===(((nt=x[de])==null?void 0:nt.map(Re=>Re??"null").length)||0),onChange:()=>{var Ve;const Re=((Ve=x[de])==null?void 0:Ve.map(Qe=>Qe??"null"))||[],De=at[de]||[];ot(Qe=>({...Qe,[de]:De.length===Re.length?[]:Re}))}}),"(Select All)"]}),w.jsx("div",{className:"max-h-48 overflow-y-auto mt-1",children:($e=x[de])==null?void 0:$e.filter(Re=>(Re??"(Blanks)").toLowerCase().includes(we)).map(Re=>{var Ve;const De=Re??"null";return w.jsxs("label",{className:"block px-1 py-0.5 text-sm text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:(Ve=at[de])==null?void 0:Ve.includes(De),onChange:()=>je(Re)}),Re||"(Blanks)"]},De)})}),w.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t",children:[w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-gray-100",onClick:()=>v(Re=>({...Re,[de]:!1})),children:"Cancel"}),w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-blue-600 text-white",onClick:()=>{y(Re=>({...Re,[de]:at[de]||[]})),v(Re=>({...Re,[de]:!1}))},children:"OK"})]})]})]})},ve=(de,we)=>{const[he,ye]=J.useState(""),Te=J.useRef(null),Be=J.useRef(null),[Ye,at]=J.useState(null),[ot,Ue]=J.useState([]),ze=x[de]||[],je=(g[de]??[]).length>0;J.useEffect(()=>{g[de]&&Ue([...g[de]])},[u[de]]),J.useEffect(()=>{const De=Ve=>{var Qe;Be.current&&!Be.current.contains(Ve.target)&&!((Qe=Te.current)!=null&&Qe.contains(Ve.target))&&v(lt=>({...lt,[de]:!1}))};return document.addEventListener("mousedown",De),()=>{document.removeEventListener("mousedown",De)}},[de]),J.useEffect(()=>{if(u[de]&&Te.current){const De=Te.current.getBoundingClientRect(),Ve=window.scrollX||document.documentElement.scrollLeft,Qe=window.scrollY||document.documentElement.scrollTop;at({top:De.bottom+Qe+4,left:De.left+Ve,width:De.width})}},[u[de]]);const Je=()=>{v(De=>({...De,[de]:!De[de]}))},nt=De=>{const Ve=De??"null";Ue(Qe=>{const lt=new Set(Qe);return lt.has(Ve)?lt.delete(Ve):lt.add(Ve),Array.from(lt)})},$e=()=>{ot.length===ze.length?Ue([]):Ue([...ze.map(De=>De??"null")])},Re=()=>{y(De=>({...De,[de]:ot})),v(De=>({...De,[de]:!1}))};return w.jsxs(w.Fragment,{children:[w.jsxs("button",{ref:Te,onClick:Je,className:`ml-1 px-2 py-0.5 border text-xs rounded shadow flex items-center gap-1 transition-colors duration-150 ${je?"bg-blue-600 border-blue-700 text-white hover:bg-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:[we&&w.jsx("span",{children:we}),""]}),u[de]&&w.jsxs("div",{ref:Be,className:"fixed z-[9999] rounded-md border bg-white shadow-lg p-2",style:Ye?{top:Ye.top,left:Ye.left,minWidth:Ye.width,visibility:"visible"}:{visibility:"hidden"},children:[w.jsx("input",{type:"text",value:he,placeholder:"Search...",className:"w-full mb-2 px-2 py-1 border rounded text-sm",onChange:De=>ye(De.target.value.toLowerCase())}),w.jsxs("label",{className:"block text-xs font-medium px-1 py-0.5 text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:ot.length===ze.length,onChange:$e}),"(Select All)"]}),w.jsx("div",{className:"max-h-48 overflow-y-auto mt-1",children:ze==null?void 0:ze.filter(De=>(De??"(Blanks)").toLowerCase().includes(he)).map(De=>{const Ve=De??"null";return w.jsxs("label",{className:"block px-1 py-0.5 text-sm text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:ot.includes(Ve),onChange:()=>nt(De)}),De]},Ve)})}),w.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t",children:[w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-gray-100",onClick:()=>v(De=>({...De,[de]:!1})),children:"Cancel"}),w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:Re,children:"OK"})]})]})]})};return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:w.jsx(io,{className:"w-6 h-6 text-yellow-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending UPDATE"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(de=>{var we;return((we=de.pending_request)==null?void 0:we.toUpperCase())==="UPDATE"}).length})]})]})}),w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:w.jsx(oo,{className:"w-6 h-6 text-red-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending DELETE"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(de=>{var we;return((we=de.pending_request)==null?void 0:we.toUpperCase())==="DELETE"}).length})]})]})})]}),w.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:w.jsxs("div",{className:"flex flex-wrap gap-3 items-center justify-between",children:[w.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:He,children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export XLSX"]}),w.jsx("button",{onClick:()=>K(!0),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",children:"Show Definitions"}),w.jsxs("div",{ref:d,className:"relative",children:[w.jsxs("button",{ref:N,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:()=>r(de=>!de),children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16M4 6v12M12 6v12M20 6v12"})}),"Columns",w.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform duration-200 ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),s&&Jr.createPortal(w.jsxs("div",{className:"fixed z-[9999] w-64 bg-white border border-gray-200 rounded-lg shadow-lg max-h-80 overflow-hidden transition-opacity duration-200",style:{top:(_==null?void 0:_.top)??0,left:(_==null?void 0:_.left)??0,opacity:_?1:0,visibility:_?"visible":"hidden"},children:[w.jsx("div",{className:"p-3 border-b border-gray-200",children:w.jsx("input",{type:"text",value:o,onChange:de=>c(de.target.value),placeholder:"Search columns...",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),w.jsx("div",{className:"max-h-60 overflow-y-auto",children:Ee.getAllLeafColumns().filter(de=>{var we;return(we=de.id)==null?void 0:we.toLowerCase().includes(o.toLowerCase())}).map(de=>w.jsxs("label",{className:"flex items-center px-3 py-2 text-sm hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:[w.jsx("input",{type:"checkbox",checked:de.getIsVisible(),onChange:()=>de.toggleVisibility(),className:"mr-3 w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),w.jsx("span",{className:"text-gray-700",children:de.id})]},de.id))})]}),document.body)]}),w.jsx(la,{filterMode:"datetime",onFilterApply:ue,initialFilters:oe})]}),["admin","editor"].includes(fe||"")&&w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg shadow-sm hover:bg-blue-700 hover:shadow-md active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:()=>E(!0),children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add New Tool"]})]})}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-center",children:[w.jsx("thead",{className:"bg-gray-100 border-b sticky top-0 z-10",children:Ee.getHeaderGroups().map(de=>w.jsx("tr",{children:de.headers.map(we=>w.jsx("th",{colSpan:we.colSpan,className:"px-2 py-2 border text-center font-semibold text-xs text-gray-700 whitespace-nowrap",children:Yt(we.column.columnDef.header,we.getContext())},we.id))},de.id))}),w.jsx("tbody",{children:Ee.getRowModel().rows.map(de=>w.jsx("tr",{className:`transition-colors duration-100 ${de.original.pending_request==="UPDATE"?"bg-yellow-50 text-yellow-900 border-l-4 border-yellow-400":de.original.pending_request==="DELETE"?"bg-red-50 text-red-800 border-l-4 border-red-500":"even:bg-gray-50"} hover:bg-blue-50`,children:de.getVisibleCells().map(we=>w.jsx("td",{className:"px-2 py-2 border text-sm text-gray-800 whitespace-nowrap",children:Yt(we.column.columnDef.cell,we.getContext())},we.id))},de.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 mt-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:Ee.getState().pagination.pageSize,onChange:de=>Ee.setPageSize(Number(de.target.value)),className:"border rounded px-2 py-1 text-sm",children:[10,15,25,50,100].map(de=>w.jsx("option",{value:de,children:de},de))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:de,pageSize:we}=Ee.getState().pagination,he=t.length,ye=de*we+1,Te=Math.min(ye+we-1,he);return`${ye}  ${Te} of ${he}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>Ee.setPageIndex(0),disabled:!Ee.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>Ee.previousPage(),disabled:!Ee.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>Ee.nextPage(),disabled:!Ee.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>Ee.setPageIndex(Ee.getPageCount()-1),disabled:!Ee.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]}),C&&w.jsx(ij,{initialData:k,fromClone:M,onClose:()=>{E(!1),T(null),F(!1)},onSubmitSuccess:()=>{E(!1),T(null),F(!1),y({}),re(de=>de+1)}}),q&&A&&w.jsx(oj,{tool_spec_id:A.tool_spec_id,ref_key_id:A.ref_key_id,initialChassisSpanOverride:A.chassis_span??0,initialDescription:A.description,displayInfo:{tool_type:A.tool_type||"(Blanks)",tool_name:A.tool_name||"(Blanks)",position_type:A.position_type||"(Blanks)",type_ref:A.type_ref||"(Blanks)",tool_ref:A.tool_ref||"(Blanks)",size_ref:A.size_ref||"(Blanks)",axle_type:A.axle_type||"(Blanks)"},onClose:()=>B(!1),onSubmitSuccess:()=>{B(!1),a([...e]),re(de=>de+1)}}),w.jsx(lj,{showDetailModal:Y,setShowDetailModal:X,detailData:O,definitions1:dp,definitions2:fp}),w.jsx(aj,{showDefModal:z,setShowDefModal:K})]})},zo=zr(Se),pj=({onClose:t,onSubmitSuccess:h,initialData:e,fromClone:a=!1})=>{const[l,f]=J.useState([]),[o,c]=J.useState([]),[s,r]=J.useState([]),[i,b]=J.useState([]),d=(C,E,A,D)=>{let q=E;return E==null&&A&&(q=D),C.find(B=>B.value===q)||null},[u,v]=J.useState(()=>({type_id:(e==null?void 0:e.type_id)??null,tool_id:(e==null?void 0:e.tool_id)??null,size_ref_id:(e==null?void 0:e.size_ref_id)??null,axle_type_id:(e==null?void 0:e.axle_type_id)??null,knurling_type:(e==null?void 0:e.knurling_type)??null,is_original_spec:(e==null?void 0:e.is_original_spec)??null,overall_a:(e==null?void 0:e.overall_a)??"",overall_b:(e==null?void 0:e.overall_b)??"",overall_c:(e==null?void 0:e.overall_c)??"",tolerance_a:(e==null?void 0:e.tolerance_a)??"",tolerance_b:(e==null?void 0:e.tolerance_b)??"",tolerance_c:(e==null?void 0:e.tolerance_c)??"",f_shank_min:(e==null?void 0:e.f_shank_min)??"",f_shank_max:(e==null?void 0:e.f_shank_max)??"",b2b_min:(e==null?void 0:e.b2b_min)??"",b2b_max:(e==null?void 0:e.b2b_max)??"",h2h_min:(e==null?void 0:e.h2h_min)??"",h2h_max:(e==null?void 0:e.h2h_max)??"",chassis_span1:(e==null?void 0:e.chassis_span1)??"",chassis_span2:(e==null?void 0:e.chassis_span2)??"",source:(e==null?void 0:e.source)??"",description:(e==null?void 0:e.description)??""}));J.useEffect(()=>{Promise.all([mt.get("/api/TypeModels"),mt.get("/api/Tools"),mt.get("/api/SizeRefs"),mt.get("/api/AxleTypes")]).then(([C,E,A,D])=>{f(C.data.map(q=>({value:q.type_id??null,label:q.type_name??"(Blanks)"}))),c(E.data.map(q=>({value:q.tool_id??null,label:q.tool_name??"(Blanks)"}))),r(A.data.map(q=>({value:q.size_ref_id??null,label:q.size_ref??"(Blanks)"}))),b(D.data.map(q=>({value:q.axle_type_id??null,label:q.axle_type??"(Blanks)"})))})},[]);const x=(C,E)=>{var A;return((A=C.find(D=>D.value===E))==null?void 0:A.label)||null},m=async()=>{var D,q,B;if([u.type_id,u.tool_id,u.size_ref_id,u.axle_type_id,u.knurling_type,u.is_original_spec].some(z=>z==null)){await zo.fire({icon:"warning",title:"Missing Fields",text:"Please fill in all required fields marked with *.",confirmButtonText:"OK",customClass:{confirmButton:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded"}});return}const E=localStorage.getItem("token");if(console.log("TOKEN:",E),E){const z=E.split(".")[1],K=atob(z),Y=JSON.parse(K);console.log("Decoded Payload:",Y),console.log("ROLE FROM TOKEN:",Y.role)}if(u.is_original_spec===1&&u.knurling_type!==0){await zo.fire({icon:"warning",title:"Invalid Knurling Type",text:"Original Spec must have Knurling Type = 0.",confirmButtonText:"OK",customClass:{confirmButton:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded"}});return}if(u.is_original_spec===0&&u.knurling_type===0){await zo.fire({icon:"warning",title:"Invalid Knurling Type",text:"A original spec cannot have Knurling Type = 0. Only original specs are allowed to use knurling type 0.",confirmButtonText:"OK",customClass:{confirmButton:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded"}});return}if((await zo.fire({title:"Confirm submission?",text:"Do you want to submit this request for adding new tool spec?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Submit",cancelButtonText:"Cancel",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded",popup:"text-sm"}})).isConfirmed)try{const z={tool_id:u.tool_id,type_id:u.type_id,size_ref_id:u.size_ref_id,axle_type_id:u.axle_type_id,tool_type:x(l,u.type_id),tool_name:x(o,u.tool_id),size_ref:x(s,u.size_ref_id),axle_type:x(i,u.axle_type_id),overall_a:g(u.overall_a),overall_b:g(u.overall_b),overall_c:g(u.overall_c),tolerance_a:g(u.tolerance_a),tolerance_b:g(u.tolerance_b),tolerance_c:g(u.tolerance_c),f_shank_min:g(u.f_shank_min),f_shank_max:g(u.f_shank_max),chassis_span:u.chassis_span??null,chassis_span1:g(u.chassis_span1),chassis_span2:g(u.chassis_span2),b2b_min:g(u.b2b_min),b2b_max:g(u.b2b_max),h2h_min:g(u.h2h_min),h2h_max:g(u.h2h_max),source:u.source??"",description:u.description??"",is_original_spec:u.is_original_spec,knurling_type:u.knurling_type},K=await mt.post("/api/Requests",{request_type:"INSERT",target_table:"OriginalSpec",target_pk_id:null,old_data:null,new_data:z,note:u.note||null},{headers:E?{Authorization:`Bearer ${E}`}:void 0});console.log(" Request submitted:",K.data),await zo.fire({icon:"info",title:"Request Submitted",html:`Your request to add a new original tool has been submitted.<br>Request ID: <b>${K.data.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",popup:"text-sm"}}),h(),t()}catch(z){console.error("Request submission failed:",z);let K="Something went wrong while submitting the request.";mt.isAxiosError(z)?typeof((D=z.response)==null?void 0:D.data)=="string"?K=z.response.data:(B=(q=z.response)==null?void 0:q.data)!=null&&B.message&&(K=z.response.data.message):z!=null&&z.message&&(K=z.message),await zo.fire({icon:"error",title:"Submission Failed",text:K,confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",popup:"text-sm"}})}},g=C=>{if(C==null||C==="")return null;const E=parseFloat(C);return isNaN(E)?null:E},y=(C,E)=>w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("label",{className:"text-xs font-medium text-gray-600",children:E}),w.jsx("input",{type:"number",step:"any",min:"0",value:u[C],onChange:A=>{const D=A.target.value;v({...u,[C]:D})},className:"border px-3 py-1.5 rounded text-sm focus:outline-blue-500"})]});return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-[999] flex justify-center items-center",children:w.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-5xl max-h-[90vh] overflow-auto shadow-xl",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Add New Tool"}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Tool Info"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[w.jsxs("div",{children:[w.jsxs("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:["Tool Type ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsx(bn,{options:l,value:d(l,u.type_id,a||!1,2002),onChange:C=>v({...u,type_id:C==null?void 0:C.value})})]}),w.jsxs("div",{children:[w.jsxs("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:["Tool Name ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsx(bn,{options:o,value:d(o,u.tool_id,a||!1,1002),onChange:C=>v({...u,tool_id:C==null?void 0:C.value})})]}),w.jsxs("div",{children:[w.jsxs("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:["Size Ref ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsx(bn,{options:s,value:d(s,u.size_ref_id,a||!1,-1),onChange:C=>v({...u,size_ref_id:C==null?void 0:C.value})})]}),w.jsxs("div",{children:[w.jsxs("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:["Axle Type ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsx(bn,{options:i,value:d(i,u.axle_type_id,a||!1,-1),onChange:C=>v({...u,axle_type_id:C==null?void 0:C.value})})]})]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Specification Info"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[w.jsxs("div",{children:[w.jsxs("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:["Knurling Type ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsx(bn,{options:[{value:0,label:"No"},{value:1,label:"Yes"}],value:u.knurling_type!=null?{value:u.knurling_type,label:u.knurling_type===1?"Yes":"No"}:null,onChange:C=>v({...u,knurling_type:C==null?void 0:C.value})})]}),w.jsxs("div",{children:[w.jsxs("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:["Is Original Spec ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsx(bn,{options:[{value:0,label:"No"},{value:1,label:"Yes"}],value:u.is_original_spec!=null?{value:u.is_original_spec,label:u.is_original_spec===1?"Yes":"No"}:null,onChange:C=>v({...u,is_original_spec:C==null?void 0:C.value})})]})]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Wheel: Over All Dimension (mm)"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[y("overall_a","Overall A"),y("overall_b","Overall B"),y("overall_c","Overall C"),y("tolerance_a","Tolerance A"),y("tolerance_b","Tolerance B"),y("tolerance_c","Tolerance C")]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Wheel: F-Shank (Inch)"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[y("f_shank_min","F-Shank Min"),y("f_shank_max","F-Shank Max")]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Bump to Bump (Inch)"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[y("b2b_min","B2B Min"),y("b2b_max","B2B Max")]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Head to Head (Inch)"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[y("h2h_min","H2H Min"),y("h2h_max","H2H Max")]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Chassis Span"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[y("chassis_span1","Chassis Span 1"),y("chassis_span2","Chassis Span 2")]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Configuration"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[w.jsxs("div",{className:"md:col-span-1 col-span-2",children:[w.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Source"}),w.jsx("input",{value:u.source,onChange:C=>v({...u,source:C.target.value}),className:"w-full border px-3 py-1.5 rounded text-sm focus:outline-blue-500",placeholder:"Source"})]}),w.jsxs("div",{className:"md:col-span-2 col-span-2",children:[w.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Description"}),w.jsx("textarea",{value:u.description,onChange:C=>v({...u,description:C.target.value}),className:"w-full border px-3 py-1.5 rounded text-sm focus:outline-blue-500",placeholder:"Optional description",rows:2})]})]})]}),w.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[w.jsx("button",{onClick:t,className:"border border-gray-400 px-5 py-1.5 rounded text-sm hover:bg-gray-100",children:"Cancel"}),w.jsx("button",{onClick:m,className:"bg-blue-600 text-white px-5 py-1.5 rounded text-sm hover:bg-blue-700",children:"Submit"})]})]})})},Hc=zr(Se),mj=({initialData:t,onClose:h,onSubmitSuccess:e})=>{const[a,l]=J.useState({...t}),f=(s,r)=>w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("label",{className:"text-xs font-medium text-gray-600",children:r}),w.jsx("input",{type:"number",step:"any",min:"0",value:a[s]===null?"":a[s],onChange:i=>l({...a,[s]:i.target.value}),className:"border px-3 py-1.5 rounded text-sm focus:outline-blue-500"})]}),o=(s,r)=>w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:s}),w.jsx("input",{value:r??"(Blanks)",disabled:!0,className:"w-full border px-3 py-1.5 rounded text-sm bg-gray-100 text-gray-600"})]}),c=async()=>{var i,b,d;if(!(await Hc.fire({title:"Confirm Update?",text:"Do you want to submit this update request for approval?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Submit",cancelButtonText:"Cancel",customClass:{confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded",popup:"text-sm"}})).isConfirmed){console.log(" User cancelled update.");return}const r=localStorage.getItem("token");if(console.log("TOKEN:",r),r){const u=r.split(".")[1],v=atob(u),x=JSON.parse(v);console.log("Decoded Payload:",x),console.log("ROLE FROM TOKEN:",x.role)}try{const u=P=>{const N=parseFloat(P);return isNaN(N)?null:N},v=P=>P==null||P===""?"":typeof P!="string"?P.toString().trim():P.trim(),x=Object.fromEntries(Object.entries(a).map(([P,N])=>[P,N===""||N===void 0||N===null?null:isNaN(Number(N))?N:u(N)])),{tool_type:m,tool_name:g,size_ref:y,axle_type:C,is_original_spec:E,...A}=x,D=await fetch(`/api/ToolRefSpecs/${a.tool_ref_spec_id}`,{headers:r?{Authorization:`Bearer ${r}`}:void 0});let q={};if(D.ok?(q=await D.json(),console.log(" Old Data:",q)):console.error(" Could not fetch old data"),!Object.entries(A).some(([P,N])=>v(q[P])!==v(N))){await Hc.fire({icon:"info",title:"No Changes",text:"No data was changed. Nothing to submit.",confirmButtonText:"OK",customClass:{confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",popup:"text-sm"}});return}const z={...a,...A},K=["tool_type","tool_name","size_ref","axle_type"],Y=P=>P==null||P===""?"(Blanks)":P;K.forEach(P=>{const N=a[P],_=Y(N);q[P]==null&&(q[P]=_),z[P]==null&&(z[P]=_)});const X={request_type:"UPDATE",target_table:"OriginalSpec",target_pk_id:a.tool_ref_spec_id,old_data:q,new_data:z,note:a.note||null},O=await mt.post("/api/Requests",X,{headers:r?{Authorization:`Bearer ${r}`}:void 0});console.log(" Request submitted:",O.data),await Hc.fire({icon:"info",title:"Request Submitted",html:`Your update request to edit original tool has been submitted.<br>Request ID: <b>${O.data.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",popup:"text-sm"}}),e(),h()}catch(u){console.error(" Update request submission failed:",u);let v="Failed to submit the update request.";mt.isAxiosError(u)?typeof((i=u.response)==null?void 0:i.data)=="string"?v=u.response.data:(d=(b=u.response)==null?void 0:b.data)!=null&&d.message&&(v=u.response.data.message):u!=null&&u.message&&(v=u.message),await Hc.fire({icon:"error",title:"Request Failed",text:v,confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",popup:"text-sm"}})}};return Jr.createPortal(w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-[999] flex justify-center items-center",children:w.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-5xl max-h-[90vh] overflow-auto shadow-xl",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Edit Tool Spec"}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Tool Info"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o("Tool Type",a.tool_type),o("Tool Name",a.tool_name),o("Size Ref",a.size_ref),o("Axle Type",a.axle_type)]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Configuration"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[o("Is Original Spec",a.is_original_spec===1?"Yes":"No"),o("Knurling Type",a.knurling_type)]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Over All Dimension (mm)"}),w.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f("overall_a","Overall A"),f("overall_b","Overall B"),f("overall_c","Overall C"),f("tolerance_a","Tolerance A"),f("tolerance_b","Tolerance B"),f("tolerance_c","Tolerance C")]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" F-Shank (Inch)"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f("f_shank_min","F-Shank Min"),f("f_shank_max","F-Shank Max")]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Bump to Bump (Inch)"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f("b2b_min","B2B Min"),f("b2b_max","B2B Max")]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Head to Head (Inch)"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f("h2h_min","H2H Min"),f("h2h_max","H2H Max")]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:" Chassis Span"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f("chassis_span1","Chassis Span 1"),f("chassis_span2","Chassis Span 2")]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Source"}),w.jsx("input",{value:a.source,onChange:s=>l({...a,source:s.target.value}),className:"w-full border px-3 py-1.5 rounded text-sm focus:outline-blue-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"Description (optional)"}),w.jsx("textarea",{value:a.description??"",onChange:s=>l({...a,description:s.target.value}),className:"w-full border px-3 py-1.5 rounded text-sm focus:outline-blue-500",rows:3,placeholder:"Enter description or note..."})]}),w.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[w.jsx("button",{onClick:h,className:"border border-gray-400 px-5 py-1.5 rounded text-sm hover:bg-gray-100",children:"Cancel"}),w.jsx("button",{onClick:c,className:"bg-blue-600 text-white px-5 py-1.5 rounded text-sm hover:bg-blue-700",children:"Save"})]})]})}),document.body)},gj=({showDetailModal:t,setShowDetailModal:h,detailData:e,definitions1:a,definitions2:l})=>{const[f,o]=J.useState(null),c=async(d,u)=>{try{await navigator.clipboard.writeText(d),o(u),setTimeout(()=>o(null),2e3)}catch(v){console.error("Failed to copy: ",v)}},s=d=>{d.key==="Escape"&&h(!1)};if(J.useEffect(()=>{if(t)return document.addEventListener("keydown",s),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[t]),!t||!e)return null;const r=({label:d,value:u,unit:v="",icon:x})=>{const m=`${d}-${u}`,g=f===m;return w.jsxs("div",{className:"group relative",children:[w.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all duration-200",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[x&&w.jsx(x,{className:"h-4 w-4 text-gray-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:d}),w.jsxs("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:[u," ",v]})]})]}),w.jsx("button",{onClick:()=>c(`${u} ${v}`.trim(),m),className:"opacity-0 group-hover:opacity-100 p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-all duration-200",title:"Copy value",children:g?w.jsx(Wi,{className:"h-4 w-4 text-green-600"}):w.jsx(Xo,{className:"h-4 w-4"})})]}),g&&w.jsx("div",{className:"absolute -top-8 right-0 bg-green-600 text-white text-xs px-2 py-1 rounded shadow-lg",children:"Copied!"})]})},i=({label:d,min:u,max:v,unit:x="",icon:m})=>{const g=`${d}-${u}-${v}`,y=f===g;return w.jsxs("div",{className:"group relative",children:[w.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all duration-200",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[m&&w.jsx(m,{className:"h-4 w-4 text-gray-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:d}),w.jsxs("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:[u,x," - ",v,x]})]})]}),w.jsx("button",{onClick:()=>c(`${u}${x} - ${v}${x}`,g),className:"opacity-0 group-hover:opacity-100 p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-all duration-200",title:"Copy range",children:y?w.jsx(Wi,{className:"h-4 w-4 text-green-600"}):w.jsx(Xo,{className:"h-4 w-4"})})]}),y&&w.jsx("div",{className:"absolute -top-8 right-0 bg-green-600 text-white text-xs px-2 py-1 rounded shadow-lg",children:"Copied!"})]})},b=({label:d,value:u,tolerance:v,unit:x="mm",icon:m})=>{const g=`${d}-${u}-${v}`,y=f===g;return w.jsxs("div",{className:"group relative",children:[w.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all duration-200",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[m&&w.jsx(m,{className:"h-4 w-4 text-gray-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:d}),w.jsxs("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:[u,"  ",v," ",x]})]})]}),w.jsx("button",{onClick:()=>c(`${u}  ${v} ${x}`,g),className:"opacity-0 group-hover:opacity-100 p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-all duration-200",title:"Copy tolerance",children:y?w.jsx(Wi,{className:"h-4 w-4 text-green-600"}):w.jsx(Xo,{className:"h-4 w-4"})})]}),y&&w.jsx("div",{className:"absolute -top-8 right-0 bg-green-600 text-white text-xs px-2 py-1 rounded shadow-lg",children:"Copied!"})]})};return Jr.createPortal(w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:w.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] mx-4 overflow-hidden",children:[w.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 px-6 py-4",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:w.jsx(As,{className:"h-5 w-5 text-blue-600"})}),w.jsx("div",{children:w.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Tool Detail View"})})]}),w.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:"Close (Esc)",children:w.jsx(oa,{className:"h-5 w-5"})})]})}),w.jsxs("div",{className:"overflow-y-auto px-6 py-6",style:{maxHeight:"calc(95vh - 80px)"},children:[w.jsxs("div",{className:"mb-8",children:[w.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[w.jsx(Os,{className:"h-5 w-5 text-blue-600"}),w.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tool Information"})]}),w.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:[w.jsx(r,{label:"Tool Type",value:e.tool_type,icon:As}),w.jsx(r,{label:"Tool Name",value:e.tool_name,icon:Os}),w.jsx(r,{label:"Size Reference",value:e.size_ref,icon:Ur}),w.jsx(r,{label:"Axle Type",value:e.axle_type,icon:As}),w.jsx(r,{label:"Source",value:e.source,icon:Os}),w.jsx("div",{className:"group relative",children:w.jsx("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200",children:w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:`p-1 rounded-full ${e.is_original_spec?"bg-green-100":"bg-gray-100"}`,children:e.is_original_spec?w.jsx(Wi,{className:"h-3 w-3 text-green-600"}):w.jsx(Z5,{className:"h-3 w-3 text-gray-400"})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Original Spec"}),w.jsx("p",{className:`text-sm font-semibold mt-1 ${e.is_original_spec?"text-green-700":"text-gray-500"}`,children:e.is_original_spec?"Verified":"Not Verified"})]})]})})})]})]}),w.jsxs("div",{className:"mb-8",children:[w.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[w.jsx(Ur,{className:"h-5 w-5 text-blue-600"}),w.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Technical Diagrams"})]}),w.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[w.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[w.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Chassis Span & F-Shank Specifications"}),w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:a,alt:"Diagram 1",className:"w-full h-auto rounded-lg border shadow-sm"}),w.jsx("div",{className:"absolute top-[12%] left-[50%] transform -translate-x-1/2",children:w.jsxs("div",{className:"bg-white/80 text-gray-800 text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:[e.chassis_span1,'" , ',e.chassis_span2,'"']})}),w.jsx("div",{className:"absolute top-[80%] left-[51%] transform -translate-x-1/2",children:w.jsxs("div",{className:"bg-white/80 text-gray-800 text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:[e.b2b_min,'" - ',e.b2b_max,'"']})}),w.jsx("div",{className:"absolute top-[93%] left-[51%] transform -translate-x-1/2",children:w.jsxs("div",{className:"bg-white/80 text-gray-800 text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:[e.h2h_min,'" - ',e.h2h_max,'"']})}),w.jsx("div",{className:"absolute top-[70%] left-[79.5%] transform -translate-x-1/2",children:w.jsxs("div",{className:"bg-white/80 text-gray-800 text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:[e.f_shank_min,'" - ',e.f_shank_max,'"']})})]})]}),w.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[w.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Overall Dimensions"}),w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:l,alt:"Diagram 2",className:"w-full h-auto rounded-lg border shadow-sm"}),w.jsx("div",{className:"absolute top-[45%] left-[57%]",children:w.jsxs("div",{className:"bg-white/80 text-gray-800 text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:[e.overall_a,"  ",e.tolerance_a," mm"]})}),w.jsx("div",{className:"absolute top-[72%] left-[25%]",children:w.jsxs("div",{className:"bg-white/80 text-gray-800 text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:[e.overall_b,"  ",e.tolerance_b," mm"]})}),w.jsx("div",{className:"absolute top-[20%] left-[28%] transform -translate-x-1/2",children:w.jsxs("div",{className:"bg-white/80 text-gray-800 text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:[e.overall_c,"  ",e.tolerance_c," mm"]})})]})]})]})]}),w.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Chassis Specifications"}),w.jsxs("div",{className:"space-y-3",children:[w.jsx(i,{label:"Chassis Span",min:e.chassis_span1,max:e.chassis_span2,unit:'"',icon:Ur}),w.jsx(i,{label:"B2B Range",min:e.b2b_min,max:e.b2b_max,unit:'"',icon:Ur}),w.jsx(i,{label:"H2H Range",min:e.h2h_min,max:e.h2h_max,unit:'"',icon:Ur}),w.jsx(i,{label:"F Shank Range",min:e.f_shank_min,max:e.f_shank_max,unit:'"',icon:Ur})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Overall Dimensions"}),w.jsxs("div",{className:"space-y-3",children:[w.jsx(b,{label:"Overall A",value:e.overall_a,tolerance:e.tolerance_a,icon:Ur}),w.jsx(b,{label:"Overall B",value:e.overall_b,tolerance:e.tolerance_b,icon:Ur}),w.jsx(b,{label:"Overall C",value:e.overall_c,tolerance:e.tolerance_c,icon:Ur})]})]})]})]})]})}),document.body)},bj=({showDefModal:t,setShowDefModal:h,definitions1:e,definitions2:a})=>{const[l,f]=J.useState("field");if(!t)return null;const o=[["Tool Type","Series or model of the tool (e.g. HW, MB, Pixar)"],["Tool Name","Specific name of the tool or part."],["Size Ref","Reference size code for the tool."],["Axle Type","Type of axle used in the barbell assembly."],["A","Wheel Diameter (mm)."],["B","Wheel Thickness (mm)."],["C","Wheel Thickness (included wheel bump) (mm)."],["Tolerance A","Allowed deviation for A."],["Tolerance B","Allowed deviation for B."],["Tolerance C","Allowed deviation for C."],["F-shank Min","Minimum length from wheel hole bottom to bump."],["F-shank Max","Maximum length from wheel hole bottom to bump."],["B2B Min","Minimum span wheel bump to bump."],["B2B Max","Maximum span wheel bump to bump."],["H2H Min","Minimum span axle head to axle head."],["H2H Max","Maximum span axle head to axle head."],["Chassis Span 1","Lower chassis span (inches)."],["Chassis Span 2","Upper chassis span (inches)."],["Pad","Pad type used (e.g. HST, RIM)."],["Brass","Brass no. or description."],["Pad Source Key","Reference key for pad spec."],["Machine No","Machine ID used for manufacturing."],["Machine Source Key","Reference key for machine details."],["Source","Data source of the spec."],["Original Spec","Whether spec is original or derived."]],c=[["SA","Short Axle"],["MA","Medium Axle"],["IA","Intermediate Axle"],["RA","Racing Axle"],["SRA","Step Racing Axle"],["LA","Long Axle"],["TSA","Top Speed Axle"],["CA","Camaro Axle"],["SCA","Step Camaro Axle"],["XLA","Extra Long Axle"],["S2","(no definition)"],["DA","Direct Axle"],["S3","(no definition)"],["PSA","Pixar Short Axle"],["PMA","Pixar Medium Axle"],["PIA","Pixar Intermediate Axle"]];return Jr.createPortal(w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:w.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] mx-4 overflow-hidden",children:[w.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 px-6 py-4",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:w.jsx(Os,{className:"h-5 w-5 text-blue-600"})}),w.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Field & Axle Type Definitions"})]}),w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[w.jsx("button",{onClick:()=>f("field"),className:`px-3 py-1.5 text-sm font-medium rounded-md ${l==="field"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Field"}),w.jsx("button",{onClick:()=>f("axle"),className:`px-3 py-1.5 text-sm font-medium rounded-md ${l==="axle"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Axle Type"})]}),w.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:"Close",children:w.jsx(oa,{className:"h-5 w-5"})})]})]})}),w.jsx("div",{className:"overflow-y-auto px-6 py-6",style:{maxHeight:"calc(95vh - 80px)"},children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"space-y-6",children:[w.jsx("img",{src:a,alt:"Definitions Diagram 2",className:"max-w-[350px] w-full h-auto mx-auto rounded-lg border border-gray-300 shadow-sm object-contain"}),w.jsx("img",{src:e,alt:"Definitions Diagram 1",className:"max-w-[350px] w-full h-auto mx-auto rounded-lg border border-gray-300 shadow-sm object-contain"})]}),w.jsxs("div",{children:[l==="field"&&w.jsxs("div",{className:"mb-8",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Field Definitions"}),w.jsxs("table",{className:"min-w-full border border-gray-300 text-sm",children:[w.jsx("thead",{className:"bg-gray-100",children:w.jsxs("tr",{children:[w.jsx("th",{className:"py-2 px-4 text-left text-gray-700 font-semibold w-48",children:"Field"}),w.jsx("th",{className:"py-2 px-4 text-left text-gray-700 font-semibold",children:"Description"})]})}),w.jsx("tbody",{children:o.map(([s,r],i)=>w.jsxs("tr",{className:i%2===0?"bg-white":"bg-gray-50",children:[w.jsx("td",{className:"py-2 px-4 font-semibold text-gray-800",children:s}),w.jsx("td",{className:"py-2 px-4 text-gray-600",children:r})]},s))})]})]}),l==="axle"&&w.jsxs("div",{className:"mb-8",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Axle Type Definitions"}),w.jsxs("table",{className:"min-w-full border border-gray-300 text-sm",children:[w.jsx("thead",{className:"bg-gray-100",children:w.jsxs("tr",{children:[w.jsx("th",{className:"py-2 px-4 text-left text-gray-700 font-semibold w-32",children:"Axle Type"}),w.jsx("th",{className:"py-2 px-4 text-left text-gray-700 font-semibold",children:"Description"})]})}),w.jsx("tbody",{children:c.map(([s,r],i)=>w.jsxs("tr",{className:i%2===0?"bg-white":"bg-gray-50",children:[w.jsx("td",{className:"py-2 px-4 font-semibold text-gray-800",children:s}),w.jsx("td",{className:"py-2 px-4 text-gray-600",children:r})]},s))})]})]})]})]})})]})}),document.body)},Hi=zr(Se.mixin({customClass:{container:"z-[20000]"}})),Gy=(t,h)=>({upload:`/api/ToolKeyAlls/${t}/${h}`,remove:`/api/ToolKeyAlls/${t}/${h}`}),Vc=t=>t<1024?`${t} B`:t<1024**2?`${(t/1024).toFixed(1)} KB`:t<1024**3?`${(t/1024**2).toFixed(1)} MB`:`${(t/1024**3).toFixed(1)} GB`,Zy=new Set(["image/jpeg","image/png","image/webp","image/gif"]),Ah=8*1024*1024,Kc=.5,Xc=5,Fo=.2,yj=({src:t,alt:h,className:e="",onLoad:a,onError:l})=>{const[f,o]=J.useState(1),[c,s]=J.useState({x:0,y:0}),[r,i]=J.useState(!1),[b,d]=J.useState({x:0,y:0}),[u,v]=J.useState(!1),x=J.useRef(null),m=J.useCallback(()=>{o(1),s({x:0,y:0})},[]),g=J.useCallback(q=>{q.preventDefault();const B=q.deltaY>0?-Fo:Fo;o(z=>Math.max(Kc,Math.min(Xc,z+B)))},[]),y=J.useCallback(q=>{f<=1||(q.preventDefault(),i(!0),d({x:q.clientX-c.x,y:q.clientY-c.y}))},[f,c]),C=J.useCallback(q=>{!r||f<=1||(q.preventDefault(),s({x:q.clientX-b.x,y:q.clientY-b.y}))},[r,b,f]),E=J.useCallback(()=>i(!1),[]),A=J.useCallback(()=>{v(!0),a==null||a()},[a]),D=J.useCallback(()=>l==null?void 0:l(),[l]);return J.useEffect(()=>{const q=B=>{var z;if((z=x.current)!=null&&z.contains(document.activeElement))switch(B.key){case"+":case"=":B.preventDefault(),o(K=>Math.min(Xc,K+Fo));break;case"-":B.preventDefault(),o(K=>Math.max(Kc,K-Fo));break;case"0":B.preventDefault(),m();break}};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[m]),w.jsxs("div",{ref:x,className:`relative overflow-hidden bg-gray-900 ${e}`,tabIndex:0,role:"img","aria-label":`${h} - Use mouse wheel to zoom, drag to pan when zoomed`,onWheel:g,onMouseDown:y,onMouseMove:C,onMouseUp:E,onMouseLeave:E,children:[w.jsx("img",{src:t,alt:h,className:`transition-transform duration-200 ${r?"cursor-grabbing":f>1?"cursor-grab":"cursor-pointer"}`,style:{transform:`scale(${f}) translate(${c.x/f}px, ${c.y/f}px)`,transformOrigin:"center center"},onLoad:A,onError:D,draggable:!1}),u&&w.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1 bg-black/70 rounded-lg p-1",children:[w.jsx("button",{onClick:()=>o(q=>Math.min(Xc,q+Fo)),className:"w-8 h-8 flex items-center justify-center text-white hover:bg-white/20 rounded transition-colors",title:"Zoom in (+)",disabled:f>=Xc,children:"+"}),w.jsx("button",{onClick:()=>o(q=>Math.max(Kc,q-Fo)),className:"w-8 h-8 flex items-center justify-center text-white hover:bg-white/20 rounded transition-colors",title:"Zoom out (-)",disabled:f<=Kc,children:""}),w.jsx("button",{onClick:m,className:"w-8 h-8 flex items-center justify-center text-white hover:bg-white/20 rounded transition-colors text-xs",title:"Reset zoom (0)",children:"1:1"})]}),!u&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:w.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full"})})]})},Jy=({src:t,alt:h,size:e="small",onClick:a})=>{const[l,f]=J.useState(!1),[o,c]=J.useState(!1),s=e==="small"?"w-24 h-24":"w-full h-64";return o?w.jsx("div",{className:`${s} rounded-md bg-gray-100 border flex items-center justify-center`,children:w.jsx("div",{className:"text-xs text-gray-400",children:"Failed to load"})}):w.jsxs("div",{className:`${s} rounded-md overflow-hidden border bg-gray-50 flex items-center justify-center relative ${a?"cursor-pointer":""}`,onClick:a,children:[!l&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full"})}),w.jsx("img",{src:t,alt:h,className:`w-full h-full object-cover transition-opacity ${l?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>c(!0),loading:"lazy"})]})},vj=({originalKeyId:t,phase:h,currentUrl:e,currentName:a,onClose:l,onSuccess:f})=>{const[o,c]=J.useState(null),[s,r]=J.useState(null),[i,b]=J.useState(!1),[d,u]=J.useState(!1),[v,x]=J.useState(!1),[m,g]=J.useState(0),y=J.useRef(null),C=J.useRef(null);J.useEffect(()=>()=>{s&&URL.revokeObjectURL(s)},[s]),J.useEffect(()=>{const P=N=>{N.key==="Escape"&&(v?x(!1):l())};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[l,v]);const E=J.useCallback(P=>Zy.has(P.type)?P.size>Ah?`File size must be under ${Vc(Ah)}. Your file is ${Vc(P.size)}.`:null:"Please upload JPG, PNG, WEBP, or GIF files only.",[]),A=J.useCallback(P=>{const N=E(P);if(N){Hi.fire({icon:"warning",title:"Invalid File",text:N,confirmButtonColor:"#3b82f6"});return}s&&URL.revokeObjectURL(s),c(P),r(URL.createObjectURL(P))},[s,E]),D=J.useCallback(P=>{P.preventDefault(),P.stopPropagation(),u(!0)},[]),q=J.useCallback(P=>{P.preventDefault(),P.stopPropagation(),u(!1)},[]),B=J.useCallback(P=>{P.preventDefault(),P.stopPropagation(),u(!1);const N=Array.from(P.dataTransfer.files),_=N.find(j=>Zy.has(j.type));_?A(_):N.length>0&&Hi.fire({icon:"warning",title:"Unsupported File",text:"Please drop an image file (JPG, PNG, WEBP, or GIF).",confirmButtonColor:"#3b82f6"})},[A]),z=J.useCallback(async()=>{if(o)try{b(!0),g(0),C.current=new AbortController;const P=localStorage.getItem("token"),N=new FormData;N.append("file",o);const _=new XMLHttpRequest;_.upload.onprogress=k=>{k.lengthComputable&&g(k.loaded/k.total*100)};const j=new Promise((k,T)=>{_.onreadystatechange=()=>{_.readyState===XMLHttpRequest.DONE&&(_.status>=200&&_.status<300?k():T(new Error(_.responseText||`Upload failed (${_.status})`)))},_.onerror=()=>T(new Error("Network error occurred")),_.onabort=()=>T(new Error("Upload cancelled")),_.open("POST",Gy(t,h).upload),P&&_.setRequestHeader("Authorization",`Bearer ${P}`),_.send(N)});C.current.signal.addEventListener("abort",()=>_.abort()),await j,await Hi.fire({icon:"success",title:"Upload Successful",text:"The image has been saved successfully.",confirmButtonText:"Great!",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-green-500",popup:"rounded-xl shadow-2xl border border-gray-200",container:"z-[20000]"}}),f(),l()}catch(P){(P==null?void 0:P.message)!=="Upload cancelled"&&await Hi.fire({icon:"error",title:"Upload Failed",text:(P==null?void 0:P.message)||"An unexpected error occurred during upload.",confirmButtonColor:"#ef4444"})}finally{b(!1),g(0),C.current=null}},[o,t,h,f,l]),K=J.useCallback(()=>{var P;(P=C.current)==null||P.abort()},[]),Y=J.useCallback(async()=>{if((await Hi.fire({icon:"warning",title:"Delete Photo",text:"Are you sure you want to permanently delete this image? This action cannot be undone.",showCancelButton:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel",confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold",cancelButton:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg font-medium",popup:"rounded-xl shadow-2xl border border-gray-200",container:"z-[20000]"}})).isConfirmed)try{b(!0);const N=localStorage.getItem("token"),_=await fetch(Gy(t,h).remove,{method:"DELETE",headers:N?{Authorization:`Bearer ${N}`}:{}});if(!_.ok)throw new Error(await _.text()||`Delete failed (${_.status})`);await Hi.fire({icon:"success",title:"Deleted",text:"The image has been successfully removed.",confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-green-500",popup:"rounded-xl shadow-2xl border border-gray-200",container:"z-[20000]"}}),f(),l()}catch(N){await Hi.fire({icon:"error",title:"Delete Failed",text:(N==null?void 0:N.message)||"Failed to delete the image. Please try again.",confirmButtonColor:"#ef4444"})}finally{b(!1)}},[t,h,f,l]),X=J.useCallback(()=>{c(null),s&&(URL.revokeObjectURL(s),r(null)),y.current&&(y.current.value="")},[s]),O=J.useMemo(()=>`border-2 border-dashed rounded-xl p-6 text-center transition-all duration-200 ${d?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50 hover:bg-gray-100"}`,[d]);return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:P=>{P.target===P.currentTarget&&l()},children:w.jsxs("div",{className:"w-full max-w-2xl mx-4 rounded-2xl bg-white shadow-2xl border border-gray-200 max-h-[90vh] overflow-hidden",children:[w.jsxs("div",{className:"px-6 py-4 border-b bg-gray-50/50 flex items-center justify-between",children:[w.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Original Photo Manager (",h,")"]}),w.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close modal",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),w.jsxs("div",{className:"p-6 space-y-6 max-h-[calc(90vh-8rem)] overflow-y-auto",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Current Image"}),w.jsxs("div",{className:"flex items-center gap-4",children:[e?w.jsx(Jy,{src:e,alt:a??"Current image",onClick:()=>x(!0)}):w.jsx("div",{className:"w-24 h-24 rounded-md border-2 border-dashed border-gray-200 bg-gray-50 flex items-center justify-center",children:w.jsx("div",{className:"text-xs text-gray-400",children:"No image"})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("div",{className:"text-sm text-gray-600 truncate",children:a||"No image uploaded"}),e&&w.jsxs("div",{className:"flex gap-2 mt-2",children:[w.jsx("button",{onClick:()=>x(!0),className:"text-blue-600 text-xs underline hover:text-blue-700",children:"View full size"}),w.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-xs underline hover:text-blue-700",children:"Open in new tab"})]})]})]})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Upload New Image"}),w.jsxs("div",{onDragOver:D,onDragLeave:q,onDrop:B,className:O,children:[w.jsx("input",{ref:y,id:"original-photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:P=>{var _;const N=(_=P.target.files)==null?void 0:_[0];N&&A(N)}}),s?w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsx(Jy,{src:s,alt:"Preview",onClick:()=>x(!0)}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-sm font-medium text-gray-700",children:o==null?void 0:o.name}),w.jsx("div",{className:"text-xs text-gray-500",children:o&&Vc(o.size)})]}),w.jsx("button",{onClick:X,className:"text-sm px-4 py-2 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 transition-colors",children:"Remove"})]}):w.jsx("label",{htmlFor:"original-photo-upload",className:"cursor-pointer block",children:w.jsxs("div",{className:"flex flex-col items-center gap-3",children:[w.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-base font-medium text-gray-700",children:d?"Drop your image here":"Click to upload or drag & drop"}),w.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["JPG, PNG, WEBP, GIF  up to ",Vc(Ah)]})]})]})})]})]}),i&&m>0&&w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex justify-between text-sm",children:[w.jsx("span",{children:"Uploading..."}),w.jsxs("span",{children:[Math.round(m),"%"]})]}),w.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:w.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m}%`}})})]})]}),w.jsxs("div",{className:"px-6 py-4 border-t bg-gray-50/50 flex items-center justify-between",children:[w.jsx("button",{onClick:Y,disabled:!e||i,className:`px-4 py-2 text-sm rounded-lg font-medium transition-colors ${e&&!i?"border border-red-300 text-red-700 hover:bg-red-50":"border border-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Delete Current"}),w.jsxs("div",{className:"flex items-center gap-3",children:[i&&w.jsx("button",{onClick:K,className:"px-4 py-2 text-sm rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),w.jsx("button",{onClick:l,disabled:i,className:"px-4 py-2 text-sm rounded-lg border border-gray-300 bg-white hover:bg-gray-50 disabled:opacity-50 transition-colors",children:"Close"}),w.jsx("button",{onClick:z,disabled:!o||i,className:`px-6 py-2 text-sm rounded-lg font-medium transition-colors ${o&&!i?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:i?"Saving...":"Save Image"})]})]})]})}),v&&(e||s)&&w.jsxs("div",{className:"fixed inset-0 z-[11000] bg-black/95 flex items-center justify-center",onClick:P=>{P.target===P.currentTarget&&x(!1)},children:[w.jsx("button",{onClick:()=>x(!1),className:"absolute top-4 right-4 z-10 text-white/80 hover:text-white p-2 rounded-full hover:bg-white/20 transition-colors","aria-label":"Close fullscreen view",children:w.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),w.jsx("div",{className:"w-full h-full max-w-7xl max-h-full p-4",children:w.jsx(yj,{src:s||e,alt:(o==null?void 0:o.name)||a||"Image",className:"w-full h-full rounded-lg"})}),w.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/70 text-white text-sm px-4 py-2 rounded-full",children:"Use mouse wheel to zoom  Drag to pan  Press ESC to close"})]})]})},$o=zr(Se),xj=({url:t,fileName:h,title:e,onOpen:a})=>{const[l,f]=Wt.useState(!1),o=`data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="96" height="96">
      <rect width="100%" height="100%" fill="#f3f4f6"/>
      <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle"
        font-family="Arial" font-size="12" fill="#9ca3af">No photo</text>
    </svg>`)}`,c=!l&&t?t:o,s=()=>{a?a():t&&!l&&window.open(t,"_blank","noopener,noreferrer")},r=i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),s())};return w.jsxs("div",{className:"group relative w-24 h-24 mx-auto rounded-md overflow-hidden border bg-gray-50 flex items-center justify-center",role:"button",tabIndex:0,onClick:s,onKeyDown:r,title:e??h??"",children:[w.jsx("img",{src:c,alt:h??"before-hst",loading:"lazy",onError:()=>f(!0),className:"w-full h-full object-cover"}),w.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors"}),w.jsx("div",{className:"absolute bottom-1 left-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:w.jsx("div",{className:"text-[10px] leading-tight text-white bg-black/60 rounded px-1 py-0.5 text-center",children:"Photo"})})]})},wj=()=>{const[t,h]=J.useState([]),[e,a]=J.useState([]),[l,f]=J.useState({tolerance_a:!1,tolerance_b:!1,tolerance_c:!1}),[o,c]=J.useState({pageIndex:0,pageSize:15}),[s,r]=J.useState(""),[i,b]=J.useState(!1),d=J.useRef(null),[u,v]=J.useState({}),[x,m]=J.useState({}),[g,y]=J.useState({}),[C,E]=J.useState(!1),[A,D]=J.useState(null),[q,B]=J.useState(!1),[z,K]=J.useState(!1),[Y,X]=J.useState(!1),[O,P]=J.useState(null),[N,_]=J.useState(null),[j,k]=J.useState(!1),[T,M]=J.useState([]),[F,$]=J.useState([]),[V,W]=J.useState([]),[ee,U]=J.useState([]),[Q,L]=J.useState(0),[I,Z]=J.useState({created_at_start:"",created_at_end:"",updated_at_start:"",updated_at_end:""}),[te,ie]=J.useState(null),[se,le]=J.useState(!1),[me,ae]=J.useState(()=>({open:!1,originalKeyId:null,url:null,fileName:null}));J.useEffect(()=>{const pe=localStorage.getItem("token");if(pe)try{const Ee=pe.split(".")[1],He=atob(Ee),Me=JSON.parse(He);ie(Me.role??null)}catch(Ee){console.error("Invalid token format",Ee)}},[]),J.useEffect(()=>{const pe=new URLSearchParams;Object.entries(g).forEach(([He,Me])=>{Me.forEach(ve=>pe.append(He,ve))}),Object.entries(I).forEach(([He,Me])=>{Me&&pe.append(He,Me)});const Ee=pe.toString();console.log(" filterValues object:",g),console.log(" Query string sent to API:",Ee),fetch(`/api/ResolvedOriginals/spec?${Ee}`).then(He=>He.json()).then(He=>{h(He);const Me=Object.keys(He[0]||{}),ve={};Me.forEach(de=>{ve[de]=Array.from(new Set(He.map(we=>String(we[de]??"")))).sort()}),m(ve)}).catch(He=>console.error("Error fetching data:",He))},[g,I,Q]);const re=J.useRef(!1);J.useEffect(()=>{re.current||(re.current=!0,Promise.all([fetch("/api/TypeModels").then(pe=>pe.json()),fetch("/api/Tools").then(pe=>pe.json()),fetch("/api/SizeRefs").then(pe=>pe.json()),fetch("/api/AxleTypes").then(pe=>pe.json())]).then(([pe,Ee,He,Me])=>{M(pe.map(ve=>({value:ve.type_id??null,label:ve.type_name??"(Blanks)"}))),$(Ee.map(ve=>({value:ve.tool_id??null,label:ve.tool_name??"(Blanks)"}))),W(He.map(ve=>({value:ve.size_ref_id??null,label:ve.size_ref??"(Blanks)"}))),U(Me.map(ve=>({value:ve.axle_type_id??null,label:ve.axle_type??"(Blanks)"})))}))},[]);const oe=async pe=>{console.log(" Deleting original spec row:",pe),console.log(" Deleting tool_key_id:",pe.tool_key_id);const Ee=we=>(we??"-").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(!(await $o.fire({title:"Are you sure?",html:`
      <table style="text-align:left; font-size:18px; line-height:1.6;">
        <tr><td><b>Tool Type:</b></td><td>${Ee(pe.tool_type)}</td></tr>
        <tr><td><b>Tool Name:</b></td><td>${Ee(pe.tool_name)}</td></tr>
        <tr><td><b>Size Ref:</b></td><td>${Ee(pe.size_ref)}</td></tr>
        <tr><td><b>Axle Type:</b></td><td>${Ee(pe.axle_type)}</td></tr>
        <tr><td><b>Original Spec:</b></td><td>${pe.is_original_spec?"":"-"}</td></tr>
        <tr><td><b>Source:</b></td><td>${Ee(pe.source)}</td></tr>
      </table>
    `,icon:"warning",showCancelButton:!0,confirmButtonText:"Submit Delete Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed){console.log(" User cancelled deletion.");return}const{tool_ref_spec_id:Me,tool_key_id:ve}=pe;if(!Me||!ve||ve<=0){await $o.fire({icon:"error",title:"Missing ID",text:"tool_ref_spec_id or tool_key_id is missing or invalid.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",popup:"text-sm"}});return}const de=localStorage.getItem("token");try{const we=[{url:`/api/ToolRefSpecs/check-toolspec?tool_ref_spec_id=${Me}`,label:"ToolSpecs"},{url:`/api/ToolRefSpecs/check-toolmachinemap?original_tool_key_id=${ve}`,label:"ToolMachineMap"},{url:`/api/ToolRefSpecs/check-toolpadmap?original_tool_key_id=${ve}`,label:"ToolPadMap"}],he=await Promise.all(we.map(Ue=>fetch(Ue.url,{headers:de?{Authorization:`Bearer ${de}`}:void 0}).then(ze=>ze.json().then(je=>({...je,label:Ue.label})))));console.log("USAGE CHECK RESPONSES:",he);const ye=he.filter(Ue=>Ue.used).map(Ue=>`- Used in ${Ue.label}`);if(ye.length>0){await $o.fire({title:"Cannot Delete",html:`
          <p>This OriginalSpec cannot be deleted because:</p>
          <pre style="text-align:left; background:#f3f3f3; padding:10px; border-radius:5px;">${ye.join(`
`)}</pre>
        `,icon:"warning",confirmButtonText:"OK",customClass:{confirmButton:"bg-yellow-500 hover:bg-yellow-600 text-black font-bold px-4 py-2 rounded",popup:"text-sm"}});return}const Te="/api/Requests",Be={request_type:"DELETE",target_table:"OriginalSpec",target_pk_id:Me,old_data:pe,new_data:null,note:"Deleted from frontend"},Ye=new Request(Te,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de}`},body:JSON.stringify(Be)}),at=await fetch(Ye);if(!at.ok){const Ue=await at.json();console.error("Error:",Ue),await $o.fire({icon:"error",title:"Error",text:Ue.message||"Failed to submit delete request for OriginalSpec.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",popup:"text-sm"}});return}const ot=await at.json();await $o.fire({icon:"info",title:"Request Submitted",html:`Your delete request has been submitted.<br>Request ID: <b>${ot.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",popup:"text-sm"}}),L(Ue=>Ue+1)}catch(we){console.error(" Exception during deletion:",we);let he="An unexpected error occurred while submitting delete request.";we&&typeof we=="object"&&"message"in we&&(he=we.message),await $o.fire({icon:"error",title:"Error",text:he,confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",popup:"text-sm"}})}},ue=async()=>{const pe={overall_a:["tolerance_a"],overall_b:["tolerance_b"],overall_c:["tolerance_c"]},Ee={},He={},Me=(je,Je=null)=>{je.forEach(nt=>{nt.columns?Me(nt.columns,nt.header):nt.id&&nt.accessorKey&&(Ee[nt.id]=Je??"Other",He[nt.id]=nt.accessorKey)})};Me(Fe.getAllColumns().map(je=>je.columnDef));const ve=["Other","Actions"];let de=Fe.getVisibleLeafColumns().map(je=>je.id).filter(je=>!ve.includes(je));Object.entries(pe).forEach(([je,Je])=>{var $e;const nt=($e=Object.entries(He).find(([Re,De])=>De===je))==null?void 0:$e[0];nt&&de.includes(nt)&&Je.forEach(Re=>{var Ve;const De=(Ve=Object.entries(He).find(([Qe,lt])=>lt===Re))==null?void 0:Ve[0];De&&!de.includes(De)&&de.push(De)})});const we=Fe.getFilteredRowModel().rows,he=we.map(je=>{const Je={};return de.forEach(nt=>{var Re;let $e="";if(["A","B","C"].includes(nt)){const De=He[nt],Ve=(Re=pe[De])==null?void 0:Re[0],Qe=je.original[De],lt=je.original[Ve];Qe!==void 0&&lt!==void 0?$e=`${Qe}  ${lt}`:$e=Qe??""}else{const De=He[nt];$e=je.original[De]}$e==null&&($e=""),typeof $e=="boolean"&&($e=$e?"":"-"),Je[nt]=String($e)}),Je}),ye=new Fs.Workbook,Te=ye.addWorksheet("OriginalSpec"),Be=[],Ye=[];let at="";de.forEach(je=>{const Je=Ee[je]??"Other";Be.push(Je===at?"":Je),Ye.push(je),at=Je}),Be.forEach((je,Je)=>{const nt=Te.getCell(1,Je+1);nt.value=je||null,nt.font={name:"Arial",size:10,bold:!0},nt.alignment={vertical:"middle",horizontal:"center"},nt.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),Ye.forEach((je,Je)=>{const nt=Te.getCell(2,Je+1);nt.value=je,nt.font={name:"Arial",size:10,bold:!0},nt.alignment={vertical:"middle",horizontal:"center"},nt.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});let ot=0;for(;ot<Be.length;){let je=ot;for(;je+1<Be.length&&Be[je+1]==="";)je++;je>ot&&Be[ot]&&Te.mergeCells(1,ot+1,1,je+1),ot=je+1}he.forEach((je,Je)=>{var Ve,Qe;const nt=Je+3,$e=(Qe=(Ve=we[Je])==null?void 0:Ve.original)==null?void 0:Qe.pending_request;let Re,De;$e==="UPDATE"?(Re="FEFCE8",De="854D0E"):$e==="DELETE"&&(Re="FEF2F2",De="991B1B"),de.forEach((lt,ct)=>{const pt=Te.getCell(nt,ct+1);pt.value=je[lt],pt.font={name:"Arial",size:10,color:De?{argb:De}:void 0},pt.alignment={vertical:"middle",horizontal:"center"},pt.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},Re&&(pt.fill={type:"pattern",pattern:"solid",fgColor:{argb:Re}})})}),Te.columns.forEach(je=>{je.width=15});const Ue=await ye.xlsx.writeBuffer(),ze=new Blob([Ue],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});$s.saveAs(ze,"OriginalSpec.xlsx")},fe=pe=>{var at,ot,Ue;const[Ee,He]=J.useState(""),Me=J.useRef(null),ve=J.useRef(null),[de,we]=J.useState(null),[he,ye]=J.useState({}),Te=(g[pe]??[]).length>0;J.useEffect(()=>{g[pe]&&ye(ze=>({...ze,[pe]:[...g[pe]]}))},[u[pe]]),J.useEffect(()=>{const ze=je=>{var Je;ve.current&&!ve.current.contains(je.target)&&!((Je=Me.current)!=null&&Je.contains(je.target))&&v(nt=>({...nt,[pe]:!1}))};return document.addEventListener("mousedown",ze),()=>document.removeEventListener("mousedown",ze)},[pe]),J.useEffect(()=>{if(u[pe]&&Me.current){const ze=Me.current.getBoundingClientRect(),je=window.scrollX||document.documentElement.scrollLeft,Je=window.scrollY||document.documentElement.scrollTop;we({top:ze.bottom+Je+4,left:ze.left+je,width:ze.width})}},[u[pe]]);const Be=()=>{v(ze=>({...ze,[pe]:!ze[pe]}))},Ye=ze=>{const je=ze??"null";ye(Je=>{const nt=new Set(Je[pe]||[]);return nt.has(je)?nt.delete(je):nt.add(je),{...Je,[pe]:Array.from(nt)}})};return w.jsxs(w.Fragment,{children:[w.jsx("button",{ref:Me,onClick:Be,className:`ml-1 px-2 py-0.5 border text-xs rounded shadow transition-colors duration-150 ${Te?"bg-blue-600 border-blue-700 text-white hover:bg-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:""}),u[pe]&&w.jsxs("div",{ref:ve,className:"fixed z-[9999] rounded-md border bg-white shadow-lg p-2",style:de?{top:de.top,left:de.left,minWidth:de.width,visibility:"visible"}:{visibility:"hidden"},children:[w.jsx("input",{type:"text",value:Ee,placeholder:"Search...",className:"w-full mb-2 px-2 py-1 border rounded text-sm",onChange:ze=>He(ze.target.value.toLowerCase())}),w.jsxs("label",{className:"block text-xs font-medium px-1 py-0.5 text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:((at=he[pe])==null?void 0:at.length)===(((ot=x[pe])==null?void 0:ot.map(ze=>ze??"null").length)||0),onChange:()=>{var Je;const ze=((Je=x[pe])==null?void 0:Je.map(nt=>nt??"null"))||[],je=he[pe]||[];ye(nt=>({...nt,[pe]:je.length===ze.length?[]:ze}))}}),"(Select All)"]}),w.jsx("div",{className:"max-h-48 overflow-y-auto mt-1",children:(Ue=x[pe])==null?void 0:Ue.filter(ze=>(ze??"(Blanks)").toLowerCase().includes(Ee)).map(ze=>{var Je;const je=ze??"null";return w.jsxs("label",{className:"block px-1 py-0.5 text-sm text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:(Je=he[pe])==null?void 0:Je.includes(je),onChange:()=>Ye(ze)}),ze||"(Blanks)"]},je)})}),w.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t",children:[w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-gray-100",onClick:()=>v(ze=>({...ze,[pe]:!1})),children:"Cancel"}),w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-blue-600 text-white",onClick:()=>{y(ze=>({...ze,[pe]:he[pe]||[]})),v(ze=>({...ze,[pe]:!1}))},children:"OK"})]})]})]})},be=(pe,Ee)=>{const[He,Me]=J.useState(""),ve=J.useRef(null),de=J.useRef(null),[we,he]=J.useState(null),[ye,Te]=J.useState([]),Be=x[pe]||[],Ye=(g[pe]??[]).length>0;J.useEffect(()=>{g[pe]&&Te([...g[pe]])},[u[pe]]),J.useEffect(()=>{const je=Je=>{var nt;de.current&&!de.current.contains(Je.target)&&!((nt=ve.current)!=null&&nt.contains(Je.target))&&v($e=>({...$e,[pe]:!1}))};return document.addEventListener("mousedown",je),()=>{document.removeEventListener("mousedown",je)}},[pe]),J.useEffect(()=>{if(u[pe]&&ve.current){const je=ve.current.getBoundingClientRect(),Je=window.scrollX||document.documentElement.scrollLeft,nt=window.scrollY||document.documentElement.scrollTop;he({top:je.bottom+nt+4,left:je.left+Je,width:je.width})}},[u[pe]]);const at=()=>{v(je=>({...je,[pe]:!je[pe]}))},ot=je=>{const Je=je??"null";Te(nt=>{const $e=new Set(nt);return $e.has(Je)?$e.delete(Je):$e.add(Je),Array.from($e)})},Ue=()=>{ye.length===Be.length?Te([]):Te([...Be.map(je=>je??"null")])},ze=()=>{y(je=>({...je,[pe]:ye})),v(je=>({...je,[pe]:!1}))};return w.jsxs(w.Fragment,{children:[w.jsxs("button",{ref:ve,onClick:at,className:`ml-1 px-2 py-0.5 border text-xs rounded shadow flex items-center gap-1 transition-colors duration-150 ${Ye?"bg-blue-600 border-blue-700 text-white hover:bg-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:[Ee&&w.jsx("span",{children:Ee}),""]}),u[pe]&&w.jsxs("div",{ref:de,className:"fixed z-[9999] rounded-md border bg-white shadow-lg p-2",style:we?{top:we.top,left:we.left,minWidth:we.width,visibility:"visible"}:{visibility:"hidden"},children:[w.jsx("input",{type:"text",value:He,placeholder:"Search...",className:"w-full mb-2 px-2 py-1 border rounded text-sm",onChange:je=>Me(je.target.value.toLowerCase())}),w.jsxs("label",{className:"block text-xs font-medium px-1 py-0.5 text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:ye.length===Be.length,onChange:Ue}),"(Select All)"]}),w.jsx("div",{className:"max-h-48 overflow-y-auto mt-1",children:Be==null?void 0:Be.filter(je=>(je??"(Blanks)").toLowerCase().includes(He)).map(je=>{const Je=je??"null";return w.jsxs("label",{className:"block px-1 py-0.5 text-sm text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:ye.includes(Je),onChange:()=>ot(je)}),je]},Je)})}),w.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t",children:[w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-gray-100",onClick:()=>v(je=>({...je,[pe]:!1})),children:"Cancel"}),w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:ze,children:"OK"})]})]})]})},Ce=pe=>{P(pe),X(!0)},Ae=pe=>pe?new Date(pe).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",Pe=J.useMemo(()=>[{header:"Tool Info",columns:[{id:"Tool Type",accessorKey:"tool_type",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Tool Type",fe("tool_type")]})},{id:"Tool Name",accessorKey:"tool_name",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Tool Name",fe("tool_name")]})},{id:"Size Ref",accessorKey:"size_ref",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Size Ref",fe("size_ref")]})},{id:"Axle Type",accessorKey:"axle_type",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Axle Type",fe("axle_type")]})}]},{header:"Wheel: Over All Dimension (mm)",columns:[{id:"A",accessorKey:"overall_a",header:()=>w.jsxs("div",{className:"flex items-center justify-center gap-1",children:[w.jsx("span",{children:"A"}),be("overall_a","Ov."),be("tolerance_a","Tol.")]}),cell:({row:pe})=>`${pe.original.overall_a}  ${pe.original.tolerance_a}`},{accessorKey:"tolerance_a",header:"Tol. A",enableSorting:!1,enableColumnFilter:!1,meta:{hidden:!1},visible:!1},{id:"B",accessorKey:"overall_b",header:()=>w.jsxs("div",{className:"flex items-center justify-center gap-1",children:[w.jsx("span",{children:"B"}),be("overall_b","Ov."),be("tolerance_b","Tol.")]}),cell:({row:pe})=>`${pe.original.overall_b}  ${pe.original.tolerance_b}`},{accessorKey:"tolerance_b",header:"Tol. B",enableSorting:!1,enableColumnFilter:!1,meta:{hidden:!0}},{id:"C",accessorKey:"overall_c",header:()=>w.jsxs("div",{className:"flex items-center justify-center gap-1",children:[w.jsx("span",{children:"C"}),be("overall_c","Ov."),be("tolerance_c","Tol.")]}),cell:({row:pe})=>`${pe.original.overall_c}  ${pe.original.tolerance_c}`},{accessorKey:"tolerance_c",header:"Tol. C",enableSorting:!1,enableColumnFilter:!1,meta:{hidden:!0}}]},{header:"Wheel: F-Shank (Inch)",columns:[{id:"F-Shank min",accessorKey:"f_shank_min",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Min",fe("f_shank_min")]})},{id:"F-Shank max",accessorKey:"f_shank_max",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Max",fe("f_shank_max")]})}]},{header:"Bump to Bump (Inch)",columns:[{id:"B2B min",accessorKey:"b2b_min",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Min",fe("b2b_min")]})},{id:"B2B max",accessorKey:"b2b_max",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Max",fe("b2b_max")]})}]},{header:"Head to Head (Inch)",columns:[{id:"H2H min",accessorKey:"h2h_min",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Max",fe("h2h_min")]})},{id:"H2H max",accessorKey:"h2h_max",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Max",fe("h2h_max")]})}]},{header:"Chassis Span (Inch)",columns:[{id:"Chassis Span1",accessorKey:"chassis_span1",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Chassis Span1",fe("chassis_span1")]})},{id:"Chassis Span2",accessorKey:"chassis_span2",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Chassis Span2",fe("chassis_span2")]})}]},{header:"Pad",columns:[{id:"HST Pad",accessorKey:"hsT_pad",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["HST",fe("hsT_pad")]})},{id:"RIM Pad",accessorKey:"riM_pad",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["RIM",fe("riM_pad")]})},{id:"INNER Pad",accessorKey:"inneR_pad",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["INNER",fe("inneR_pad")]})},{id:"EXTRA RIM Pad",accessorKey:"extrA_RIM_pad",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["EXTRA RIM",fe("extrA_RIM_pad")]})}]},{header:"Brass",columns:[{id:"HST Brass",accessorKey:"hsT_brass",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["HST",fe("hsT_brass")]})},{id:"RIM Brass",accessorKey:"riM_brass",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["RIM",fe("riM_brass")]})},{id:"INNER Brass",accessorKey:"inneR_brass",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["INNER",fe("inneR_brass")]})},{id:"EXTRA RIM Brass",accessorKey:"extrA_RIM_brass",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["EXTRA RIM",fe("extrA_RIM_brass")]})}]},{header:"Pad Source",columns:[{id:"Pad Source Key",accessorKey:"pad_source_key",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Pad Source Key",fe("pad_source_key")]})}]},{header:"Machine",columns:[{id:"Machine No",accessorKey:"machine_no",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Machine No",fe("machine_no")]})},{id:"Machine Source Key",accessorKey:"machine_source_key",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Machine Source Key",fe("machine_source_key")]})}]},{header:"Specification Info",columns:[{id:"Original Spec",accessorKey:"is_original_spec",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Original Spec",fe("is_original_spec")]})},{id:"Knurling Type",accessorKey:"knurling_type",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Knurling Type",fe("knurling_type")]})}]},{header:"Wheel Picture",columns:[{id:"Wheel Before HST",accessorKey:"image_url",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Wheel Before HST",fe("image_url")]}),cell:({row:pe})=>{const Ee=pe.original,He=Ee.image_url??null,Me=Ee.pic_before_hst_file_name??null,ve=Ee.tool_key_id;return w.jsx(xj,{url:He,fileName:Me??void 0,title:`${Ee.tool_name} ${Ee.size_ref}`,onOpen:()=>{ve&&ae({open:!0,originalKeyId:ve,url:He,fileName:Me??null})}})}}]},{header:"Create",columns:[{id:"Create By",accessorKey:"create_by",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Create By",fe("create_by")]})},{id:"Create At",accessorKey:"create_at",header:()=>w.jsx("div",{className:"flex items-center justify-center",children:"Create At"}),cell:({getValue:pe})=>Ae(pe())}]},{header:"Update",columns:[{id:"Update By",accessorKey:"update_by",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Update By",fe("update_by")]})},{id:"Update At",accessorKey:"update_at",header:()=>w.jsx("div",{className:"flex items-center justify-center",children:"Update At"}),cell:({getValue:pe})=>Ae(pe())}]},{header:"Pending",columns:[{id:"Request Type",accessorKey:"pending_request",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Request Type",fe("pending_request")]})}]},{header:"Note",columns:[{id:"Source",accessorKey:"source",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Source",fe("source")]})},{id:"Description",accessorKey:"description",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Description",fe("description")]})}]},{id:"Actions",header:"Actions",cell:({row:pe})=>{const Ee=["admin","editor"].includes(te||"");return w.jsxs("div",{className:"flex gap-2 justify-center",children:[w.jsx("button",{onClick:()=>Ce(pe.original),className:"px-2 py-1 text-xs border rounded text-gray-600 border-gray-600 hover:bg-gray-100",children:"Detail"}),Ee&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>{D(pe.original),B(!0)},className:"px-2 py-1 text-xs border rounded text-blue-600 border-blue-600 hover:bg-blue-50",children:"Edit"}),w.jsx("button",{onClick:()=>{var Me,ve,de,we;const He={type_id:((Me=T.find(he=>he.label===pe.original.tool_type))==null?void 0:Me.value)??13,tool_id:((ve=F.find(he=>he.label===pe.original.tool_name))==null?void 0:ve.value)??2,size_ref_id:((de=V.find(he=>he.label===pe.original.size_ref))==null?void 0:de.value)??12,axle_type_id:((we=ee.find(he=>he.label===pe.original.axle_type))==null?void 0:we.value)??56,knurling_type:pe.original.knurling_type===!0?1:pe.original.knurling_type===!1?0:typeof pe.original.knurling_type=="string"?Number(pe.original.knurling_type)||0:typeof pe.original.knurling_type=="number"?pe.original.knurling_type:0,is_original_spec:pe.original.is_original_spec?1:0,overall_a:pe.original.overall_a??"",overall_b:pe.original.overall_b??"",overall_c:pe.original.overall_c??"",tolerance_a:pe.original.tolerance_a??"",tolerance_b:pe.original.tolerance_b??"",tolerance_c:pe.original.tolerance_c??"",f_shank_min:pe.original.f_shank_min??"",f_shank_max:pe.original.f_shank_max??"",b2b_min:pe.original.b2b_min??"",b2b_max:pe.original.b2b_max??"",h2h_min:pe.original.h2h_min??"",h2h_max:pe.original.h2h_max??"",chassis_span1:pe.original.chassis_span1??"",chassis_span2:pe.original.chassis_span2??"",source:pe.original.source??"",description:pe.original.description??""};console.log(" Clone converted:",He),_(He),E(!0),k(!0)},className:"px-2 py-1 text-xs border rounded text-green-600 border-green-600 hover:bg-green-50",children:"Clone"}),w.jsx("button",{onClick:()=>oe(pe.original),className:"px-2 py-1 text-xs border rounded text-red-600 border-red-600 hover:bg-red-50",children:"Delete"})]})]})}}],[x,g,u,t]),Fe=Xr({data:t,columns:Pe,state:{columnFilters:e,columnVisibility:l,pagination:o},onColumnFiltersChange:a,onColumnVisibilityChange:f,onPaginationChange:c,getCoreRowModel:Vr(),getSortedRowModel:Ls(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:w.jsx(io,{className:"w-6 h-6 text-yellow-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending UPDATE"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(pe=>{var Ee;return((Ee=pe.pending_request)==null?void 0:Ee.toUpperCase())==="UPDATE"}).length})]})]})}),w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:w.jsx(oo,{className:"w-6 h-6 text-red-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending DELETE"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(pe=>{var Ee;return((Ee=pe.pending_request)==null?void 0:Ee.toUpperCase())==="DELETE"}).length})]})]})})]}),w.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:w.jsxs("div",{className:"flex flex-wrap gap-3 items-center justify-between",children:[w.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:ue,children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export XLSX"]}),w.jsx("button",{onClick:()=>K(!0),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",children:"Show Definitions"}),w.jsxs("div",{ref:d,className:"relative",children:[w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:()=>b(pe=>!pe),children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16M4 6v12M12 6v12M20 6v12"})}),"Columns",w.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform duration-200 ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),i&&w.jsxs("div",{className:"absolute top-full mt-2 right-0 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50 animate-in fade-in-0 zoom-in-95 duration-200 max-h-80 overflow-hidden",children:[w.jsx("div",{className:"p-3 border-b border-gray-200",children:w.jsx("input",{type:"text",value:s,onChange:pe=>r(pe.target.value),placeholder:"Search columns...",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),w.jsx("div",{className:"max-h-60 overflow-y-auto",children:Fe.getAllLeafColumns().filter(pe=>{var Ee;return(Ee=pe.id)==null?void 0:Ee.toLowerCase().includes(s.toLowerCase())}).map(pe=>w.jsxs("label",{className:"flex items-center px-3 py-2 text-sm hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:[w.jsx("input",{type:"checkbox",checked:pe.getIsVisible(),onChange:()=>pe.toggleVisibility(),className:"mr-3 w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),w.jsx("span",{className:"text-gray-700",children:pe.id})]},pe.id))})]})]}),w.jsx(la,{filterMode:"datetime",onFilterApply:Z,initialFilters:I})]}),["admin","editor"].includes(te||"")&&w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg shadow-sm hover:bg-blue-700 hover:shadow-md active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:()=>{_(null),k(!1),E(!0)},children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add New Tool"]})]})}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-center",children:[w.jsx("thead",{className:"bg-gray-100 border-b sticky top-0 z-10",children:Fe.getHeaderGroups().map(pe=>w.jsx("tr",{children:pe.headers.map(Ee=>w.jsx("th",{colSpan:Ee.colSpan,className:"px-2 py-2 border text-center font-semibold text-xs text-gray-700 whitespace-nowrap",children:Yt(Ee.column.columnDef.header,Ee.getContext())},Ee.id))},pe.id))}),w.jsx("tbody",{children:Fe.getRowModel().rows.map(pe=>w.jsx("tr",{className:`transition-colors duration-100 ${pe.original.pending_request==="UPDATE"?"bg-yellow-50 text-yellow-900 border-l-4 border-yellow-400":pe.original.pending_request==="DELETE"?"bg-red-50 text-red-800 border-l-4 border-red-500":"even:bg-gray-50"} hover:bg-blue-50`,children:pe.getVisibleCells().map(Ee=>w.jsx("td",{className:"px-2 py-2 border text-sm text-gray-800 whitespace-nowrap",children:Yt(Ee.column.columnDef.cell,Ee.getContext())},Ee.id))},pe.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 mt-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:Fe.getState().pagination.pageSize,onChange:pe=>Fe.setPageSize(Number(pe.target.value)),className:"border rounded px-2 py-1 text-sm",children:[10,15,25,50,100].map(pe=>w.jsx("option",{value:pe,children:pe},pe))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:pe,pageSize:Ee}=Fe.getState().pagination,He=t.length,Me=pe*Ee+1,ve=Math.min(Me+Ee-1,He);return`${Me}  ${ve} of ${He}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>Fe.setPageIndex(0),disabled:!Fe.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>Fe.previousPage(),disabled:!Fe.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>Fe.nextPage(),disabled:!Fe.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>Fe.setPageIndex(Fe.getPageCount()-1),disabled:!Fe.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]}),C&&w.jsx(pj,{initialData:N,fromClone:j,onClose:()=>{E(!1),_(null),k(!1)},onSubmitSuccess:()=>{E(!1),_(null),k(!1),y({}),L(pe=>pe+1)}}),q&&A&&w.jsx(mj,{initialData:{tool_ref_spec_id:A.tool_ref_spec_id,overall_a:A.overall_a??"",overall_b:A.overall_b??"",overall_c:A.overall_c??"",tolerance_a:A.tolerance_a??"",tolerance_b:A.tolerance_b??"",tolerance_c:A.tolerance_c??"",f_shank_min:A.f_shank_min??"",f_shank_max:A.f_shank_max??"",b2b_min:A.b2b_min??"",b2b_max:A.b2b_max??"",h2h_min:A.h2h_min??"",h2h_max:A.h2h_max??"",chassis_span1:A.chassis_span1??"",chassis_span2:A.chassis_span2??"",source:A.source??"",description:A.description??"",tool_type:A.tool_type||"(Blanks)",tool_name:A.tool_name||"(Blanks)",size_ref:A.size_ref||"(Blanks)",axle_type:A.axle_type||"(Blanks)",is_original_spec:A.is_original_spec?1:0,knurling_type:A.knurling_type?1:0},onClose:()=>B(!1),onSubmitSuccess:()=>{B(!1),y({...g}),L(pe=>pe+1)}}),w.jsx(gj,{showDetailModal:Y,setShowDetailModal:X,detailData:O,definitions1:dp,definitions2:fp}),w.jsx(bj,{showDefModal:z,setShowDefModal:K,definitions1:dp,definitions2:fp})]})};var O2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qy=Wt.createContext&&Wt.createContext(O2),_j=["attr","size","title"];function Sj(t,h){if(t==null)return{};var e=Cj(t,h),a,l;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(t);for(l=0;l<f.length;l++)a=f[l],!(h.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(e[a]=t[a])}return e}function Cj(t,h){if(t==null)return{};var e={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(h.indexOf(a)>=0)continue;e[a]=t[a]}return e}function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var h=1;h<arguments.length;h++){var e=arguments[h];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Ou.apply(this,arguments)}function e1(t,h){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);h&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),e.push.apply(e,a)}return e}function Bu(t){for(var h=1;h<arguments.length;h++){var e=arguments[h]!=null?arguments[h]:{};h%2?e1(Object(e),!0).forEach(function(a){jj(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):e1(Object(e)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}function jj(t,h,e){return h=kj(h),h in t?Object.defineProperty(t,h,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[h]=e,t}function kj(t){var h=Ej(t,"string");return typeof h=="symbol"?h:h+""}function Ej(t,h){if(typeof t!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var a=e.call(t,h);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(t)}function B2(t){return t&&t.map((h,e)=>Wt.createElement(h.tag,Bu({key:e},h.attr),B2(h.child)))}function Qr(t){return h=>Wt.createElement(Tj,Ou({attr:Bu({},t.attr)},h),B2(t.child))}function Tj(t){var h=e=>{var{attr:a,size:l,title:f}=t,o=Sj(t,_j),c=l||e.size||"1em",s;return e.className&&(s=e.className),t.className&&(s=(s?s+" ":"")+t.className),Wt.createElement("svg",Ou({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,a,o,{className:s,style:Bu(Bu({color:t.color||e.color},e.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),f&&Wt.createElement("title",null,f),t.children)};return Qy!==void 0?Wt.createElement(Qy.Consumer,null,e=>h(e)):h(O2)}function Nj(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function Mj(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(t)}function Rj(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function qs(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function Aj(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function Oj(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"12",x2:"2",y2:"12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]},{tag:"line",attr:{x1:"6",y1:"16",x2:"6.01",y2:"16"},child:[]},{tag:"line",attr:{x1:"10",y1:"16",x2:"10.01",y2:"16"},child:[]}]})(t)}function Bj(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(t)}function Pj(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Yc(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function Dj(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function Lj(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function t1(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function r1(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function qo(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function Us(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function Ij(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function zj(t){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Fj=()=>{const[t,h]=J.useState([]),[e,a]=J.useState({pageIndex:0,pageSize:15}),[l,f]=J.useState(""),o=J.useRef(null),[c,s]=J.useState(null);J.useEffect(()=>{const m=localStorage.getItem("token");if(m)try{const g=m.split(".")[1],y=atob(g),C=JSON.parse(y);console.log(" ROLE IN PAYLOAD:",C.role),s(C.role??null)}catch(g){console.error("Invalid token format",g)}},[]);const r=()=>{const m=new URLSearchParams;l.trim()&&m.append("search",l.trim()),fetch(`/api/TypeModels?${m.toString()}`).then(g=>g.json()).then(h).catch(g=>console.error("Error fetching types:",g))};J.useEffect(()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{r()},300)},[l]);const i=async m=>{if(!m.trim())return;const g=localStorage.getItem("token");if(console.log("TOKEN:",g),g){const y=g.split(".")[1],C=atob(y),E=JSON.parse(C);console.log("Decoded Payload:",E),console.log("ROLE FROM TOKEN:",E.role)}try{const y="/api/Requests",C={request_type:"INSERT",target_table:"typeModels",target_pk_id:null,old_data:null,new_data:{type_name:m.trim()},note:"Created via frontend"},E=new Request(y,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify(C)}),A=await fetch(E);if(!A.ok){const q=await A.json();console.error("Error:",q),Se.fire({icon:"error",title:"Error",text:q.message||"Failed to submit type request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const D=await A.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your request to add a new Type has been submitted.<br>Request ID: <b>${D.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),f(""),r()}catch(y){console.error(y),Se.fire({icon:"error",title:"Error",text:"Failed to submit type request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},b=async m=>{const{value:g}=await Se.fire({title:"Edit Type",input:"text",inputValue:m.type_name,inputLabel:"Type",showCancelButton:!0,confirmButtonText:"Submit Update Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded focus:ring focus:ring-blue-300 focus:outline-none",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async y=>{const C=y.trim();if(!C)return Se.showValidationMessage("Type name cannot be empty"),!1;if(C.toLowerCase()===m.type_name.toLowerCase())return!1;try{const E=await mt.get(`/api/TypeModels?search=${encodeURIComponent(C)}`);if(Array.isArray(E.data)&&E.data.some(A=>A.type_name.toLowerCase()===C.toLowerCase()&&A.type_id!==m.type_id))return Se.showValidationMessage("This type already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return C}});if(g&&g.trim()!==m.type_name){const y=localStorage.getItem("token");if(console.log("TOKEN:",y),y){const C=y.split(".")[1],E=atob(C),A=JSON.parse(E);console.log("Decoded Payload:",A),console.log("ROLE FROM TOKEN:",A.role)}try{const C="/api/Requests",E={request_type:"UPDATE",target_table:"typeModels",target_pk_id:m.type_id,old_data:{type_id:m.type_id,type_name:m.type_name},new_data:{type_id:m.type_id,type_name:g.trim()},note:"Edited type from frontend"},A=new Request(C,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify(E)}),D=await fetch(A);if(!D.ok){const B=await D.json();console.error("Error:",B),Se.fire({icon:"error",title:"Error",text:B.message||"Failed to submit type update request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const q=await D.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your update request has been submitted.<br>Request ID: <b>${q.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),r()}catch(C){console.error(C),Se.fire({icon:"error",title:"Error",text:"Failed to submit type update request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}}},d=async m=>{if(!m||!(await Se.fire({title:"Are you sure?",text:"Do you really want to delete this type?",icon:"warning",showCancelButton:!0,confirmButtonText:"Submit Delete Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed)return;const y=localStorage.getItem("token");if(console.log("TOKEN:",y),y){const C=y.split(".")[1],E=atob(C),A=JSON.parse(E);console.log("Decoded Payload:",A),console.log("ROLE FROM TOKEN:",A.role)}try{const C=await fetch(`/api/TypeModels/${m}`,{method:"GET",headers:{Authorization:`Bearer ${y}`}});if(!C.ok){Se.fire({icon:"error",title:"Error",text:"Cannot load type data for delete request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const E=await C.json(),A={request_type:"DELETE",target_table:"typeModels",target_pk_id:m,old_data:E,new_data:null,note:"Deleted from frontend"},D="/api/Requests",q=new Request(D,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify(A)}),B=await fetch(q);if(!B.ok){const K=await B.json();console.error("Error:",K),Se.fire({icon:"error",title:"Error",text:K.message||"Failed to submit delete request for type.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const z=await B.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your delete request has been submitted.<br>Request ID: <b>${z.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),r()}catch(C){console.error(C),Se.fire({icon:"error",title:"Error",text:"Failed to submit delete request for type.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},u=()=>{const m=Is.unparse(t),g=new Blob([m],{type:"text/csv;charset=utf-8;"}),y=URL.createObjectURL(g),C=document.createElement("a");C.href=y,C.setAttribute("download","types.csv"),document.body.appendChild(C),C.click(),document.body.removeChild(C)},v=J.useMemo(()=>[{header:"#",cell:({row:m})=>m.index+1},{accessorKey:"type_name",header:"Type Name"},{header:"Actions",cell:({row:m})=>["admin","editor"].includes(c||"")?w.jsxs("div",{className:"flex justify-center space-x-2",children:[w.jsx("button",{onClick:()=>b(m.original),className:"text-blue-500 hover:text-blue-700",children:w.jsx(qs,{})}),w.jsx("button",{onClick:()=>d(m.original.type_id),className:"text-red-500 hover:text-red-700",children:w.jsx(Us,{})})]}):null}],[c]),x=Xr({data:t,columns:v,state:{pagination:e},onPaginationChange:a,getCoreRowModel:Vr(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"flex justify-between px-4 items-center",children:[w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-1 rounded shadow",onClick:()=>{Se.fire({title:"Add New Type",input:"text",inputLabel:"Type Name",showCancelButton:!0,confirmButtonText:"Add",color:"#333",background:"#fff",confirmButtonColor:"#2563eb",cancelButtonColor:"#d1d5db",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded focus:ring focus:ring-blue-300 focus:outline-none",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"text-black px-4 py-2 rounded"},preConfirm:async m=>{const g=m.trim();if(!g)return Se.showValidationMessage("Type name cannot be empty"),!1;try{const y=await mt.get(`/api/TypeModels?search=${encodeURIComponent(g)}`);if(Array.isArray(y.data)&&y.data.some(C=>C.type_name.toLowerCase()===g.toLowerCase()))return Se.showValidationMessage("This type name already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return g}}).then(m=>{m.isConfirmed&&m.value&&i(m.value)})},children:"+ Add Type"}),w.jsx("button",{className:"border border-blue-600 text-blue-600 text-sm px-4 py-1 rounded shadow hover:bg-blue-50",onClick:u,children:"Export CSV"})]}),w.jsx("input",{type:"text",placeholder:"Search type...",value:l,onChange:m=>f(m.target.value),className:"border rounded px-3 py-1 text-sm shadow"})]}),w.jsx("div",{className:"overflow-auto border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-left",children:[w.jsx("thead",{className:"bg-gray-100 border-b",children:x.getHeaderGroups().map(m=>w.jsx("tr",{children:m.headers.map(g=>w.jsx("th",{className:"px-2 py-2 border text-xs font-semibold text-gray-700 whitespace-nowrap text-center",children:Yt(g.column.columnDef.header,g.getContext())},g.id))},m.id))}),w.jsx("tbody",{children:x.getRowModel().rows.map(m=>w.jsx("tr",{className:"hover:bg-blue-50 transition-colors duration-100 even:bg-gray-50",children:m.getVisibleCells().map(g=>w.jsx("td",{className:"px-2 py-2 border text-sm text-gray-800 whitespace-nowrap text-left",children:Yt(g.column.columnDef.cell,g.getContext())},g.id))},m.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:x.getState().pagination.pageSize,onChange:m=>x.setPageSize(Number(m.target.value)),className:"border rounded px-2 py-1 text-sm",children:[5,10,15,25,50,100].map(m=>w.jsx("option",{value:m,children:m},m))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:m,pageSize:g}=x.getState().pagination,y=t.length,C=m*g+1,E=Math.min(C+g-1,y);return`${C}  ${E} of ${y}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>x.setPageIndex(0),disabled:!x.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>x.previousPage(),disabled:!x.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>x.nextPage(),disabled:!x.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>x.setPageIndex(x.getPageCount()-1),disabled:!x.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]})]})},$j=()=>{const[t,h]=J.useState([]),[e,a]=J.useState({pageIndex:0,pageSize:15}),[l,f]=J.useState(""),o=J.useRef(null),c=()=>{const m=new URLSearchParams;l.trim()&&m.append("search",l.trim()),fetch(`/api/Tools?${m.toString()}`).then(g=>g.json()).then(h).catch(g=>console.error("Error fetching tools:",g))};J.useEffect(()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{c()},300)},[l]);const[s,r]=J.useState(null);J.useEffect(()=>{const m=localStorage.getItem("token");if(m)try{const g=m.split(".")[1],y=atob(g),C=JSON.parse(y);console.log(" ROLE IN PAYLOAD:",C.role),r(C.role??null)}catch(g){console.error("Invalid token format",g)}},[]);const i=async m=>{if(!m.trim())return;const g=localStorage.getItem("token");if(console.log("TOKEN:",g),g){const y=g.split(".")[1],C=atob(y),E=JSON.parse(C);console.log("Decoded Payload:",E),console.log("ROLE FROM TOKEN:",E.role)}try{const y="/api/Requests",C={request_type:"INSERT",target_table:"tools",target_pk_id:null,old_data:null,new_data:{tool_name:m},note:"Created via frontend"},E=new Request(y,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify(C)}),A=await fetch(E);if(!A.ok){const q=await A.json();console.error("Error:",q),Se.fire("Error",q.message||"Failed to submit request.","error");return}const D=await A.json();Se.fire({icon:"success",title:"Request Submitted",text:"Your request to add a tool has been submitted. It will be effective after admin approval.",confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),f(""),c()}catch(y){console.error(y),Se.fire("Error","Failed to submit request.","error")}},b=async m=>{const{value:g}=await Se.fire({title:"Edit Tool Name",input:"text",inputValue:m.tool_name,inputLabel:"Tool Name",showCancelButton:!0,confirmButtonText:"Update",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded focus:ring focus:ring-blue-300 focus:outline-none",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async y=>{const C=y.trim();if(!C)return Se.showValidationMessage("Tool name cannot be empty"),!1;if(C.toLowerCase()===m.tool_name.toLowerCase())return!1;try{const E=await mt.get(`/api/Tools?search=${encodeURIComponent(C)}`);if(Array.isArray(E.data)&&E.data.some(A=>A.tool_name.toLowerCase()===C.toLowerCase()&&A.tool_id!==m.tool_id))return Se.showValidationMessage("This tool name already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return C}});if(g&&g.trim()!==m.tool_name)try{const y=localStorage.getItem("token"),C={request_type:"UPDATE",target_table:"tools",target_pk_id:m.tool_id,old_data:{tool_id:m.tool_id,tool_name:m.tool_name},new_data:{tool_id:m.tool_id,tool_name:g.trim()},note:"Edited from frontend"},E="/api/Requests",A=new Request(E,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify(C)}),D=await fetch(A);if(!D.ok){const B=await D.json();console.error("Error:",B),Se.fire("Error",B.message||"Failed to submit update request.","error");return}const q=await D.json();Se.fire({icon:"success",title:"Request Submitted",text:"Update request submitted successfully.",confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(y){console.error(y),Se.fire("Error","Failed to submit update request.","error")}},d=async m=>{if(!(!m||!(await Se.fire({title:"Are you sure?",text:"Do you really want to delete this tool?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed))try{const y=localStorage.getItem("token"),C=await fetch(`/api/Tools/${m}`,{method:"GET",headers:{Authorization:`Bearer ${y}`}});if(!C.ok){Se.fire("Error","Cannot load tool data for delete request.","error");return}const E=await C.json(),A={request_type:"DELETE",target_table:"tools",target_pk_id:m,old_data:E,new_data:null,note:"Deleted from frontend"},D="/api/Requests",q=new Request(D,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify(A)}),B=await fetch(q);if(!B.ok){const K=await B.json();console.error("Error:",K),Se.fire("Error",K.message||"Failed to submit delete request.","error");return}const z=await B.json();Se.fire({icon:"success",title:"Request Submitted",text:`Delete request submitted successfully. Request ID: ${z.request_id}`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(y){console.error(y),Se.fire("Error","Failed to submit delete request.","error")}},u=()=>{const m=Is.unparse(t),g=new Blob([m],{type:"text/csv;charset=utf-8;"}),y=URL.createObjectURL(g),C=document.createElement("a");C.href=y,C.setAttribute("download","tools.csv"),document.body.appendChild(C),C.click(),document.body.removeChild(C)},v=J.useMemo(()=>[{header:"#",cell:({row:m})=>m.index+1},{accessorKey:"tool_name",header:"Tool Name"},{header:"Actions",cell:({row:m})=>["admin","editor"].includes(s||"")?w.jsxs("div",{className:"flex justify-center space-x-2",children:[w.jsx("button",{onClick:()=>b(m.original),className:"text-blue-500 hover:text-blue-700",children:w.jsx(qs,{})}),w.jsx("button",{onClick:()=>d(m.original.tool_id),className:"text-red-500 hover:text-red-700",children:w.jsx(Us,{})})]}):null}],[s]),x=Xr({data:t,columns:v,state:{pagination:e},onPaginationChange:a,getCoreRowModel:Vr(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"bg-yellow-100 border border-yellow-300 text-yellow-800 text-sm p-2 rounded mb-2 mx-4",children:[w.jsx("strong",{children:"Note:"})," Changes to tools will be pending until approved by an admin."]}),w.jsxs("div",{className:"flex justify-between px-4 items-center",children:[w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-1 rounded shadow",onClick:()=>{Se.fire({title:"Add New Tool",input:"text",inputLabel:"Tool Name",showCancelButton:!0,confirmButtonText:"Add",confirmButtonColor:"#2563eb",cancelButtonColor:"#d1d5db",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded focus:ring focus:ring-blue-300 focus:outline-none",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"text-black px-4 py-2 rounded"},preConfirm:async m=>{const g=m.trim();if(!g)return Se.showValidationMessage("Tool name cannot be empty"),!1;try{const y=await mt.get(`/api/Tools?search=${encodeURIComponent(g)}`);if(Array.isArray(y.data)&&y.data.some(C=>C.tool_name.toLowerCase()===g.toLowerCase()))return Se.showValidationMessage("This tool name already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return g}}).then(m=>{m.isConfirmed&&m.value&&i(m.value)})},children:"+ Add Tool"}),w.jsx("button",{className:"border border-blue-600 text-blue-600 text-sm px-4 py-1 rounded shadow hover:bg-blue-50",onClick:u,children:"Export CSV"})]}),w.jsx("input",{type:"text",placeholder:"Search tool...",value:l,onChange:m=>f(m.target.value),className:"border rounded px-3 py-1 text-sm shadow"})]}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-left",children:[w.jsx("thead",{className:"bg-gray-100 border-b",children:x.getHeaderGroups().map(m=>w.jsx("tr",{children:m.headers.map(g=>w.jsx("th",{className:"px-2 py-2 border text-xs font-semibold text-gray-700 whitespace-nowrap text-center",children:Yt(g.column.columnDef.header,g.getContext())},g.id))},m.id))}),w.jsx("tbody",{children:x.getRowModel().rows.map(m=>w.jsx("tr",{className:"hover:bg-blue-50 transition-colors duration-100 even:bg-gray-50",children:m.getVisibleCells().map(g=>w.jsx("td",{className:"px-2 py-2 border text-sm text-gray-800 whitespace-nowrap text-left",children:Yt(g.column.columnDef.cell,g.getContext())},g.id))},m.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:x.getState().pagination.pageSize,onChange:m=>x.setPageSize(Number(m.target.value)),className:"border rounded px-2 py-1 text-sm",children:[5,10,15,25,50,100].map(m=>w.jsx("option",{value:m,children:m},m))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:m,pageSize:g}=x.getState().pagination,y=t.length,C=m*g+1,E=Math.min(C+g-1,y);return`${C}  ${E} of ${y}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>x.setPageIndex(0),disabled:!x.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>x.previousPage(),disabled:!x.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>x.nextPage(),disabled:!x.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>x.setPageIndex(x.getPageCount()-1),disabled:!x.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]})]})},qj=()=>{const[t,h]=J.useState([]),[e,a]=J.useState({pageIndex:0,pageSize:15}),[l,f]=J.useState(""),o=J.useRef(null),c=()=>{const g=new URLSearchParams;l.trim()&&g.append("search",l.trim()),fetch(`/api/SizeRefs?${g.toString()}`).then(y=>y.json()).then(h).catch(y=>console.error("Error fetching size refs:",y))};J.useEffect(()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{c()},300)},[l]);const[s,r]=J.useState(null);J.useEffect(()=>{const g=localStorage.getItem("token");if(g)try{const y=g.split(".")[1],C=atob(y),E=JSON.parse(C);console.log(" ROLE IN PAYLOAD:",E.role),r(E.role??null)}catch(y){console.error("Invalid token format",y)}},[]);const i=async g=>{if(!g.trim())return;const y=localStorage.getItem("token");if(console.log("TOKEN:",y),y){const C=y.split(".")[1],E=atob(C),A=JSON.parse(E);console.log("Decoded Payload:",A),console.log("ROLE FROM TOKEN:",A.role)}try{const C="/api/Requests",E={request_type:"INSERT",target_table:"sizeRefs",target_pk_id:null,old_data:null,new_data:{size_ref:g},note:"Created via frontend"},A=new Request(C,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify(E)}),D=await fetch(A);if(!D.ok){const B=await D.json();console.error("Error:",B),Se.fire("Error",B.message||"Failed to submit request.","error");return}const q=await D.json();Se.fire({icon:"info",title:"Request Submitted",text:"Your request to add a size ref has been submitted. It will be effective after admin approval.",confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),f(""),c()}catch(C){console.error(C),Se.fire("Error","Failed to submit request.","error")}},b=async g=>{const{value:y}=await Se.fire({title:"Edit Size Ref",input:"text",inputValue:g.size_ref,inputLabel:"Size Ref",showCancelButton:!0,confirmButtonText:"Submit Update Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded focus:ring focus:ring-blue-300 focus:outline-none",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async C=>{const E=C.trim();if(!E)return Se.showValidationMessage("SizeRef cannot be empty"),!1;if(E.toLowerCase()===g.size_ref.toLowerCase())return!1;try{const A=await mt.get(`/api/SizeRefs?search=${encodeURIComponent(E)}`);if(Array.isArray(A.data)&&A.data.some(D=>D.size_ref.toLowerCase()===E.toLowerCase()&&D.size_ref_id!==g.size_ref_id))return Se.showValidationMessage("This size ref already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return E}});if(y&&y.trim()!==g.size_ref){const C=localStorage.getItem("token");if(console.log("TOKEN:",C),C){const E=C.split(".")[1],A=atob(E),D=JSON.parse(A);console.log("Decoded Payload:",D),console.log("ROLE FROM TOKEN:",D.role)}try{const E="/api/Requests",A={request_type:"UPDATE",target_table:"sizeRefs",target_pk_id:g.size_ref_id,old_data:{size_ref_id:g.size_ref_id,size_ref:g.size_ref},new_data:{size_ref_id:g.size_ref_id,size_ref:y.trim()},note:"Edited from frontend"},D=new Request(E,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(A)}),q=await fetch(D);if(!q.ok){const z=await q.json();console.error("Error:",z),Se.fire("Error",z.message||"Failed to submit update request.","error");return}const B=await q.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your update request has been submitted.<br>Request ID: <b>${B.request_id}</b>`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(E){console.error(E),Se.fire("Error","Failed to submit update request.","error")}}},d=async g=>{if(!g||!(await Se.fire({title:"Are you sure?",text:"Do you really want to delete this size ref?",icon:"warning",showCancelButton:!0,confirmButtonText:"Submit Delete Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed)return;const C=localStorage.getItem("token");if(console.log("TOKEN:",C),C){const E=C.split(".")[1],A=atob(E),D=JSON.parse(A);console.log("Decoded Payload:",D),console.log("ROLE FROM TOKEN:",D.role)}try{const E=await fetch(`/api/SizeRefs/${g}`,{method:"GET",headers:{Authorization:`Bearer ${C}`}});if(!E.ok){Se.fire("Error","Cannot load size ref data for delete request.","error");return}const A=await E.json(),D={request_type:"DELETE",target_table:"sizeRefs",target_pk_id:g,old_data:A,new_data:null,note:"Deleted from frontend"},q="/api/Requests",B=new Request(q,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(D)}),z=await fetch(B);if(!z.ok){const Y=await z.json();console.error("Error:",Y),Se.fire({icon:"error",title:"Error",text:Y.message||"Failed to submit delete request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const K=await z.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your delete request has been submitted.<br>Request ID: <b>${K.request_id}</b>`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(E){console.error(E),Se.fire("Error","Failed to submit delete request.","error")}},u=()=>{const g=Is.unparse(t),y=new Blob([g],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(y),E=document.createElement("a");E.href=C,E.setAttribute("download","size_refs.csv"),document.body.appendChild(E),E.click(),document.body.removeChild(E)},v=J.useMemo(()=>[{header:"#",cell:({row:g})=>g.index+1},{accessorKey:"size_ref",header:"Size Ref"},{header:"Actions",cell:({row:g})=>["admin","editor"].includes(s||"")?w.jsxs("div",{className:"flex justify-center space-x-2",children:[w.jsx("button",{onClick:()=>b(g.original),className:"text-blue-500 hover:text-blue-700",children:w.jsx(qs,{})}),w.jsx("button",{onClick:()=>d(g.original.size_ref_id),className:"text-red-500 hover:text-red-700",children:w.jsx(Us,{})})]}):null}],[s]),x=J.useMemo(()=>[...t].filter(g=>g.size_ref_id!==void 0&&g.size_ref_id!==null).sort((g,y)=>g.size_ref_id-y.size_ref_id),[t]),m=Xr({data:x,columns:v,state:{pagination:e},onPaginationChange:a,getCoreRowModel:Vr(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"bg-yellow-100 border border-yellow-300 text-yellow-800 text-sm p-2 rounded mb-2 mx-4",children:[w.jsx("strong",{children:"Note:"})," Changes to size ref will be pending until approved by an admin."]}),w.jsxs("div",{className:"flex justify-between px-4 items-center",children:[w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-1 rounded shadow",onClick:()=>{Se.fire({title:"Add New SizeRef",input:"text",inputLabel:"Size Ref",showCancelButton:!0,confirmButtonText:"Add",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async g=>{const y=g.trim();if(!y)return Se.showValidationMessage("SizeRef cannot be empty"),!1;try{const C=await mt.get(`/api/SizeRefs?search=${encodeURIComponent(y)}`);if(Array.isArray(C.data)&&C.data.some(E=>E.size_ref.toLowerCase()===y.toLowerCase()))return Se.showValidationMessage("This size ref already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return y}}).then(g=>{g.isConfirmed&&g.value&&i(g.value)})},children:"+ Add SizeRef"}),w.jsx("button",{className:"border border-blue-600 text-blue-600 text-sm px-4 py-1 rounded shadow hover:bg-blue-50",onClick:u,children:"Export CSV"})]}),w.jsx("input",{type:"text",placeholder:"Search size ref...",value:l,onChange:g=>f(g.target.value),className:"border rounded px-3 py-1 text-sm shadow"})]}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-left",children:[w.jsx("thead",{className:"bg-gray-100 border-b",children:m.getHeaderGroups().map(g=>w.jsx("tr",{children:g.headers.map(y=>w.jsx("th",{className:"px-2 py-2 border text-xs font-semibold text-gray-700 whitespace-nowrap text-center",children:Yt(y.column.columnDef.header,y.getContext())},y.id))},g.id))}),w.jsx("tbody",{children:m.getRowModel().rows.map(g=>w.jsx("tr",{className:"hover:bg-blue-50 transition-colors duration-100 even:bg-gray-50",children:g.getVisibleCells().map(y=>w.jsx("td",{className:"px-2 py-2 border text-sm text-gray-800 whitespace-nowrap text-left",children:Yt(y.column.columnDef.cell,y.getContext())},y.id))},g.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:m.getState().pagination.pageSize,onChange:g=>m.setPageSize(Number(g.target.value)),className:"border rounded px-2 py-1 text-sm",children:[5,10,15,25,50,100].map(g=>w.jsx("option",{value:g,children:g},g))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:g,pageSize:y}=m.getState().pagination,C=t.length,E=g*y+1,A=Math.min(E+y-1,C);return`${E}  ${A} of ${C}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>m.setPageIndex(0),disabled:!m.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.previousPage(),disabled:!m.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.nextPage(),disabled:!m.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.setPageIndex(m.getPageCount()-1),disabled:!m.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]})]})},Uj=()=>{const[t,h]=J.useState([]),[e,a]=J.useState({pageIndex:0,pageSize:15}),[l,f]=J.useState(""),o=J.useRef(null),c=()=>{const g=new URLSearchParams;l.trim()&&g.append("search",l.trim()),fetch(`/api/AxleTypes?${g.toString()}`).then(y=>y.json()).then(h).catch(y=>console.error("Error fetching axle types:",y))};J.useEffect(()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{c()},300)},[l]);const[s,r]=J.useState(null);J.useEffect(()=>{const g=localStorage.getItem("token");if(g)try{const y=g.split(".")[1],C=atob(y),E=JSON.parse(C);console.log(" ROLE IN PAYLOAD:",E.role),r(E.role??null)}catch(y){console.error("Invalid token format",y)}},[]);const i=async g=>{if(!g.trim())return;const y=localStorage.getItem("token");if(console.log("TOKEN:",y),y){const C=y.split(".")[1],E=atob(C),A=JSON.parse(E);console.log("Decoded Payload:",A),console.log("ROLE FROM TOKEN:",A.role)}try{const C="/api/Requests",E={request_type:"INSERT",target_table:"axleTypes",target_pk_id:null,old_data:null,new_data:{axle_type:g.trim()},note:"Created via frontend"},A=new Request(C,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify(E)}),D=await fetch(A);if(!D.ok){const B=await D.json();console.error("Error:",B),Se.fire({icon:"error",title:"Error",text:B.message||"Failed to submit axle type request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const q=await D.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your request to add axle type has been submitted.<br>Request ID: <b>${q.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),f(""),c()}catch(C){console.error(C),Se.fire({icon:"error",title:"Error",text:"Failed to submit axle type request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},b=async g=>{const{value:y}=await Se.fire({title:"Edit Axle Type",input:"text",inputValue:g.axle_type,inputLabel:"Axle Type",showCancelButton:!0,confirmButtonText:"Submit Update Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded focus:ring focus:ring-blue-300 focus:outline-none",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async C=>{const E=C.trim();if(!E)return Se.showValidationMessage("Axle Type cannot be empty"),!1;if(E.toLowerCase()===g.axle_type.toLowerCase())return!1;try{const A=await mt.get(`/api/AxleTypes?search=${encodeURIComponent(E)}`);if(Array.isArray(A.data)&&A.data.some(D=>D.axle_type.toLowerCase()===E.toLowerCase()&&D.axle_type_id!==g.axle_type_id))return Se.showValidationMessage("This axle type already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return E}});if(y&&y.trim()!==g.axle_type){const C=localStorage.getItem("token");if(console.log("TOKEN:",C),C){const E=C.split(".")[1],A=atob(E),D=JSON.parse(A);console.log("Decoded Payload:",D),console.log("ROLE FROM TOKEN:",D.role)}try{const E="/api/Requests",A={request_type:"UPDATE",target_table:"axleTypes",target_pk_id:g.axle_type_id,old_data:{axle_type_id:g.axle_type_id,axle_type:g.axle_type},new_data:{axle_type_id:g.axle_type_id,axle_type:y.trim()},note:"Edited from frontend"},D=new Request(E,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(A)}),q=await fetch(D);if(!q.ok){const z=await q.json();console.error("Error:",z),Se.fire({icon:"error",title:"Error",text:z.message||"Failed to submit axle type update request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const B=await q.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your update request has been submitted.<br>Request ID: <b>${B.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(E){console.error(E),Se.fire({icon:"error",title:"Error",text:"Failed to submit axle type update request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}}},d=async g=>{if(!g||!(await Se.fire({title:"Are you sure?",text:"Do you really want to delete this axle type?",icon:"warning",showCancelButton:!0,confirmButtonText:"Submit Delete Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed)return;const C=localStorage.getItem("token");if(console.log("TOKEN:",C),C){const E=C.split(".")[1],A=atob(E),D=JSON.parse(A);console.log("Decoded Payload:",D),console.log("ROLE FROM TOKEN:",D.role)}try{const E=await fetch(`/api/AxleTypes/${g}`,{method:"GET",headers:{Authorization:`Bearer ${C}`}});if(!E.ok){Se.fire({icon:"error",title:"Error",text:"Cannot load axle type data for delete request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const A=await E.json(),D={request_type:"DELETE",target_table:"axleTypes",target_pk_id:g,old_data:A,new_data:null,note:"Deleted from frontend"},q="/api/Requests",B=new Request(q,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(D)}),z=await fetch(B);if(!z.ok){const Y=await z.json();console.error("Error:",Y),Se.fire({icon:"error",title:"Error",text:Y.message||"Failed to submit axle type delete request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const K=await z.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your delete request has been submitted.<br>Request ID: <b>${K.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(E){console.error(E),Se.fire({icon:"error",title:"Error",text:"Failed to submit axle type delete request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},u=()=>{const g=Is.unparse(t),y=new Blob([g],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(y),E=document.createElement("a");E.href=C,E.setAttribute("download","axle_types.csv"),document.body.appendChild(E),E.click(),document.body.removeChild(E)},v=J.useMemo(()=>[{header:"#",cell:({row:g})=>g.index+1},{accessorKey:"axle_type",header:"Axle Type"},{header:"Actions",cell:({row:g})=>["admin","editor"].includes(s||"")?w.jsxs("div",{className:"flex justify-center space-x-2",children:[w.jsx("button",{onClick:()=>b(g.original),className:"text-blue-500 hover:text-blue-700",children:w.jsx(qs,{})}),w.jsx("button",{onClick:()=>d(g.original.axle_type_id),className:"text-red-500 hover:text-red-700",children:w.jsx(Us,{})})]}):null}],[s]),x=J.useMemo(()=>[...t].sort((g,y)=>g.axle_type_id-y.axle_type_id),[t]),m=Xr({data:x,columns:v,state:{pagination:e},onPaginationChange:a,getCoreRowModel:Vr(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"flex justify-between px-4 items-center",children:[w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-1 rounded shadow",onClick:()=>{Se.fire({title:"Add New Axle Type",input:"text",inputLabel:"Axle Type",showCancelButton:!0,confirmButtonText:"Add",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async g=>{const y=g.trim();if(!y)return Se.showValidationMessage("Axle Type cannot be empty"),!1;try{if((await mt.get(`/api/AxleTypes?search=${encodeURIComponent(y)}`)).data.some(E=>E.axle_type.toLowerCase()===y.toLowerCase()))return Se.showValidationMessage("This axle type already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return y}}).then(g=>{g.isConfirmed&&g.value&&i(g.value)})},children:"+ Add Axle Type"}),w.jsx("button",{className:"border border-blue-600 text-blue-600 text-sm px-4 py-1 rounded shadow hover:bg-blue-50",onClick:u,children:"Export CSV"})]}),w.jsx("input",{type:"text",placeholder:"Search axle type...",value:l,onChange:g=>f(g.target.value),className:"border rounded px-3 py-1 text-sm shadow"})]}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-left",children:[w.jsx("thead",{className:"bg-gray-100 border-b",children:m.getHeaderGroups().map(g=>w.jsx("tr",{children:g.headers.map(y=>w.jsx("th",{className:"px-2 py-2 border text-xs font-semibold text-gray-700 text-center",children:Yt(y.column.columnDef.header,y.getContext())},y.id))},g.id))}),w.jsx("tbody",{children:m.getRowModel().rows.map(g=>w.jsx("tr",{className:"hover:bg-blue-50 even:bg-gray-50",children:g.getVisibleCells().map(y=>w.jsx("td",{className:"px-2 py-2 border text-sm text-left text-gray-800",children:Yt(y.column.columnDef.cell,y.getContext())},y.id))},g.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:m.getState().pagination.pageSize,onChange:g=>m.setPageSize(Number(g.target.value)),className:"border rounded px-2 py-1 text-sm",children:[5,10,15,25,50,100].map(g=>w.jsx("option",{value:g,children:g},g))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:g,pageSize:y}=m.getState().pagination,C=t.length,E=g*y+1,A=Math.min(E+y-1,C);return`${E}  ${A} of ${C}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>m.setPageIndex(0),disabled:!m.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.previousPage(),disabled:!m.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.nextPage(),disabled:!m.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.setPageIndex(m.getPageCount()-1),disabled:!m.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]})]})},Hj=()=>{const[t,h]=J.useState([]),[e,a]=J.useState({pageIndex:0,pageSize:15}),[l,f]=J.useState(""),o=J.useRef(null),c=()=>{const g=new URLSearchParams;l.trim()&&g.append("search",l.trim()),fetch(`/api/PositionTypes?${g.toString()}`).then(y=>y.json()).then(h).catch(y=>console.error("Error fetching position types:",y))};J.useEffect(()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{c()},300)},[l]);const[s,r]=J.useState(null);J.useEffect(()=>{const g=localStorage.getItem("token");if(g)try{const y=g.split(".")[1],C=atob(y),E=JSON.parse(C);console.log(" ROLE IN PAYLOAD:",E.role),r(E.role??null)}catch(y){console.error("Invalid token format",y)}},[]);const i=async g=>{if(!g.trim())return;const y=localStorage.getItem("token");if(console.log("TOKEN:",y),y){const C=y.split(".")[1],E=atob(C),A=JSON.parse(E);console.log("Decoded Payload:",A),console.log("ROLE FROM TOKEN:",A.role)}try{const C="/api/Requests",E={request_type:"INSERT",target_table:"positionTypes",target_pk_id:null,old_data:null,new_data:{position_type:g.trim()},note:"Created via frontend"},A=new Request(C,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify(E)}),D=await fetch(A);if(!D.ok){const B=await D.json();console.error("Error:",B),Se.fire({icon:"error",title:"Error",text:B.message||"Failed to submit position type request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const q=await D.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your request to add a position type has been submitted.<br>Request ID: <b>${q.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),f(""),c()}catch(C){console.error(C),Se.fire({icon:"error",title:"Error",text:"Failed to submit position type request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},b=async g=>{const{value:y}=await Se.fire({title:"Edit Position Type",input:"text",inputValue:g.position_type,inputLabel:"Position Type",showCancelButton:!0,confirmButtonText:"Submit Update Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded focus:ring focus:ring-blue-300 focus:outline-none",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async C=>{const E=C.trim();if(!E)return Se.showValidationMessage("Position Type cannot be empty"),!1;if(E.toLowerCase()===g.position_type.toLowerCase())return!1;try{const A=await mt.get(`/api/PositionTypes?search=${encodeURIComponent(E)}`);if(Array.isArray(A.data)&&A.data.some(D=>D.position_type.toLowerCase()===E.toLowerCase()&&D.position_type_id!==g.position_type_id))return Se.showValidationMessage("This position type already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return E}});if(y&&y.trim()!==g.position_type){const C=localStorage.getItem("token");if(console.log("TOKEN:",C),C){const E=C.split(".")[1],A=atob(E),D=JSON.parse(A);console.log("Decoded Payload:",D),console.log("ROLE FROM TOKEN:",D.role)}try{const E="/api/Requests",A={request_type:"UPDATE",target_table:"positionTypes",target_pk_id:g.position_type_id,old_data:{position_type_id:g.position_type_id,position_type:g.position_type},new_data:{position_type_id:g.position_type_id,position_type:y.trim()},note:"Edited from frontend"},D=new Request(E,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(A)}),q=await fetch(D);if(!q.ok){const z=await q.json();console.error("Error:",z),Se.fire({icon:"error",title:"Error",text:z.message||"Failed to submit position type update request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const B=await q.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your update request has been submitted.<br>Request ID: <b>${B.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(E){console.error(E),Se.fire({icon:"error",title:"Error",text:"Failed to submit position type update request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}}},d=async g=>{if(!g||!(await Se.fire({title:"Are you sure?",text:"Do you really want to delete this position type?",icon:"warning",showCancelButton:!0,confirmButtonText:"Submit Delete Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed)return;const C=localStorage.getItem("token");if(console.log("TOKEN:",C),C){const E=C.split(".")[1],A=atob(E),D=JSON.parse(A);console.log("Decoded Payload:",D),console.log("ROLE FROM TOKEN:",D.role)}try{const E=await fetch(`/api/PositionTypes/${g}`,{method:"GET",headers:{Authorization:`Bearer ${C}`}});if(!E.ok){Se.fire({icon:"error",title:"Error",text:"Cannot load position type data for delete request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const A=await E.json(),D={request_type:"DELETE",target_table:"positionTypes",target_pk_id:g,old_data:A,new_data:null,note:"Deleted from frontend"},q="/api/Requests",B=new Request(q,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(D)}),z=await fetch(B);if(!z.ok){const Y=await z.json();console.error("Error:",Y),Se.fire({icon:"error",title:"Error",text:Y.message||"Failed to submit delete request for position type.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const K=await z.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your delete request has been submitted.<br>Request ID: <b>${K.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(E){console.error(E),Se.fire({icon:"error",title:"Error",text:"Failed to submit delete request for position type.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},u=()=>{const g=Is.unparse(t),y=new Blob([g],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(y),E=document.createElement("a");E.href=C,E.setAttribute("download","position_types.csv"),document.body.appendChild(E),E.click(),document.body.removeChild(E)},v=J.useMemo(()=>[{header:"#",cell:({row:g})=>g.index+1},{accessorKey:"position_type",header:"Position Type"},{header:"Actions",cell:({row:g})=>["admin","editor"].includes(s||"")?w.jsxs("div",{className:"flex justify-center space-x-2",children:[w.jsx("button",{onClick:()=>b(g.original),className:"text-blue-500 hover:text-blue-700",children:w.jsx(qs,{})}),w.jsx("button",{onClick:()=>d(g.original.position_type_id),className:"text-red-500 hover:text-red-700",children:w.jsx(Us,{})})]}):null}],[s]),x=J.useMemo(()=>[...t].filter(g=>g.position_type_id!==void 0&&g.position_type_id!==null).sort((g,y)=>g.position_type_id-y.position_type_id),[t]),m=Xr({data:x,columns:v,state:{pagination:e},onPaginationChange:a,getCoreRowModel:Vr(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"flex justify-between px-4 items-center",children:[w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-1 rounded shadow",onClick:()=>{Se.fire({title:"Add New Position Type",input:"text",inputLabel:"Position Type",showCancelButton:!0,confirmButtonText:"Add",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async g=>{const y=g.trim();if(!y)return Se.showValidationMessage("Position Type cannot be empty"),!1;try{if((await mt.get(`/api/PositionTypes?search=${encodeURIComponent(y)}`)).data.some(E=>E.position_type.toLowerCase()===y.toLowerCase()))return Se.showValidationMessage("This position type already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return y}}).then(g=>{g.isConfirmed&&g.value&&i(g.value)})},children:"+ Add Position Type"}),w.jsx("button",{className:"border border-blue-600 text-blue-600 text-sm px-4 py-1 rounded shadow hover:bg-blue-50",onClick:u,children:"Export CSV"})]}),w.jsx("input",{type:"text",placeholder:"Search position type...",value:l,onChange:g=>f(g.target.value),className:"border rounded px-3 py-1 text-sm shadow"})]}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-left",children:[w.jsx("thead",{className:"bg-gray-100 border-b",children:m.getHeaderGroups().map(g=>w.jsx("tr",{children:g.headers.map(y=>w.jsx("th",{className:"px-2 py-2 border text-xs font-semibold text-gray-700 whitespace-nowrap text-center",children:Yt(y.column.columnDef.header,y.getContext())},y.id))},g.id))}),w.jsx("tbody",{children:m.getRowModel().rows.map(g=>w.jsx("tr",{className:"hover:bg-blue-50 transition-colors duration-100 even:bg-gray-50",children:g.getVisibleCells().map(y=>w.jsx("td",{className:"px-2 py-2 border text-sm text-gray-800 whitespace-nowrap text-left",children:Yt(y.column.columnDef.cell,y.getContext())},y.id))},g.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:m.getState().pagination.pageSize,onChange:g=>m.setPageSize(Number(g.target.value)),className:"border rounded px-2 py-1 text-sm",children:[5,10,15,25,50,100].map(g=>w.jsx("option",{value:g,children:g},g))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:g,pageSize:y}=m.getState().pagination,C=t.length,E=g*y+1,A=Math.min(E+y-1,C);return`${E}  ${A} of ${C}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>m.setPageIndex(0),disabled:!m.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.previousPage(),disabled:!m.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.nextPage(),disabled:!m.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.setPageIndex(m.getPageCount()-1),disabled:!m.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]})]})},Vj=()=>{const[t,h]=J.useState([]),[e,a]=J.useState({pageIndex:0,pageSize:15}),[l,f]=J.useState(""),o=J.useRef(null),c=()=>{const g=new URLSearchParams;l.trim()&&g.append("search",l.trim()),fetch(`/api/Pads?${g.toString()}`).then(y=>y.json()).then(h).catch(y=>console.error("Error fetching pads:",y))};J.useEffect(()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{c()},300)},[l]);const[s,r]=J.useState(null);J.useEffect(()=>{const g=localStorage.getItem("token");if(g)try{const y=g.split(".")[1],C=atob(y),E=JSON.parse(C);console.log(" ROLE IN PAYLOAD:",E.role),r(E.role??null)}catch(y){console.error("Invalid token format",y)}},[]);const i=async g=>{if(!g.trim())return;const y=localStorage.getItem("token");if(console.log("TOKEN:",y),y){const C=y.split(".")[1],E=atob(C),A=JSON.parse(E);console.log("Decoded Payload:",A),console.log("ROLE FROM TOKEN:",A.role)}try{const C="/api/Requests",E={request_type:"INSERT",target_table:"pads",target_pk_id:null,old_data:null,new_data:{pad_name:g.trim()},note:"Created via frontend"},A=new Request(C,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify(E)}),D=await fetch(A);if(!D.ok){const B=await D.json();console.error("Error:",B),Se.fire({icon:"error",title:"Error",text:B.message||"Failed to submit pad request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const q=await D.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your request to add a pad has been submitted.<br>Request ID: <b>${q.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),f(""),c()}catch(C){console.error(C),Se.fire({icon:"error",title:"Error",text:"Failed to submit pad request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},b=async g=>{const{value:y}=await Se.fire({title:"Edit Pad",input:"text",inputValue:g.pad_name,inputLabel:"Pad",showCancelButton:!0,confirmButtonText:"Submit Update Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded focus:ring focus:ring-blue-300 focus:outline-none",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async C=>{const E=C.trim();if(!E)return Se.showValidationMessage("Pad name cannot be empty"),!1;if(E.toLowerCase()===g.pad_name.toLowerCase())return!1;try{const A=await mt.get(`/api/Pads?search=${encodeURIComponent(E)}`);if(Array.isArray(A.data)&&A.data.some(D=>D.pad_name.toLowerCase()===E.toLowerCase()&&D.pad_id!==g.pad_id))return Se.showValidationMessage("This pad already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return E}});if(y&&y.trim()!==g.pad_name){const C=localStorage.getItem("token");if(console.log("TOKEN:",C),C){const E=C.split(".")[1],A=atob(E),D=JSON.parse(A);console.log("Decoded Payload:",D),console.log("ROLE FROM TOKEN:",D.role)}try{const E="/api/Requests",A={request_type:"UPDATE",target_table:"pads",target_pk_id:g.pad_id,old_data:{pad_id:g.pad_id,pad_name:g.pad_name},new_data:{pad_id:g.pad_id,pad_name:y.trim()},note:"Edited from frontend"},D=new Request(E,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(A)}),q=await fetch(D);if(!q.ok){const z=await q.json();console.error("Error:",z),Se.fire({icon:"error",title:"Error",text:z.message||"Failed to submit pad update request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const B=await q.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your update request has been submitted.<br>Request ID: <b>${B.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(E){console.error(E),Se.fire({icon:"error",title:"Error",text:"Failed to submit pad update request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}}},d=async g=>{if(!g||!(await Se.fire({title:"Are you sure?",text:"Do you really want to delete this pad?",icon:"warning",showCancelButton:!0,confirmButtonText:"Submit Delete Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed)return;const C=localStorage.getItem("token");if(console.log("TOKEN:",C),C){const E=C.split(".")[1],A=atob(E),D=JSON.parse(A);console.log("Decoded Payload:",D),console.log("ROLE FROM TOKEN:",D.role)}try{const E=await fetch(`/api/Pads/${g}`,{method:"GET",headers:{Authorization:`Bearer ${C}`}});if(!E.ok){Se.fire({icon:"error",title:"Error",text:"Cannot load pad data for delete request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const A=await E.json(),D={request_type:"DELETE",target_table:"pads",target_pk_id:g,old_data:A,new_data:null,note:"Deleted from frontend"},q="/api/Requests",B=new Request(q,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(D)}),z=await fetch(B);if(!z.ok){const Y=await z.json();console.error("Error:",Y),Se.fire({icon:"error",title:"Error",text:Y.message||"Failed to submit delete request for pad.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const K=await z.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your delete request has been submitted.<br>Request ID: <b>${K.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(E){console.error(E),Se.fire({icon:"error",title:"Error",text:"Failed to submit delete request for pad.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},u=()=>{const g=Is.unparse(t),y=new Blob([g],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(y),E=document.createElement("a");E.href=C,E.setAttribute("download","pads.csv"),document.body.appendChild(E),E.click(),document.body.removeChild(E)},v=J.useMemo(()=>[{header:"#",cell:({row:g})=>g.index+1},{accessorKey:"pad_name",header:"Pad Name"},{header:"Actions",cell:({row:g})=>["admin","editor"].includes(s||"")?w.jsxs("div",{className:"flex justify-center space-x-2",children:[w.jsx("button",{onClick:()=>b(g.original),className:"text-blue-500 hover:text-blue-700",children:w.jsx(qs,{})}),w.jsx("button",{onClick:()=>d(g.original.pad_id),className:"text-red-500 hover:text-red-700",children:w.jsx(Us,{})})]}):null}],[s]),x=J.useMemo(()=>[...t].sort((g,y)=>g.pad_id-y.pad_id),[t]),m=Xr({data:x,columns:v,state:{pagination:e},onPaginationChange:a,getCoreRowModel:Vr(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"flex justify-between px-4 items-center",children:[w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-1 rounded shadow",onClick:()=>{Se.fire({title:"Add New Pad",input:"text",inputLabel:"Pad",showCancelButton:!0,confirmButtonText:"Add",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async g=>{const y=g.trim();if(!y)return Se.showValidationMessage("Pad cannot be empty"),!1;try{const C=await mt.get(`/api/Pads?search=${encodeURIComponent(y)}`);if(Array.isArray(C.data)&&C.data.some(E=>E.pad_name.toLowerCase()===y.toLowerCase()))return Se.showValidationMessage("This pad already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return y}}).then(g=>{g.isConfirmed&&g.value&&i(g.value)})},children:"+ Add Pad"}),w.jsx("button",{className:"border border-blue-600 text-blue-600 text-sm px-4 py-1 rounded shadow hover:bg-blue-50",onClick:u,children:"Export CSV"})]}),w.jsx("input",{type:"text",placeholder:"Search pad name...",value:l,onChange:g=>f(g.target.value),className:"border rounded px-3 py-1 text-sm shadow"})]}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-left",children:[w.jsx("thead",{className:"bg-gray-100 border-b",children:m.getHeaderGroups().map(g=>w.jsx("tr",{children:g.headers.map(y=>w.jsx("th",{className:"px-2 py-2 border text-xs font-semibold text-gray-700 text-center",children:Yt(y.column.columnDef.header,y.getContext())},y.id))},g.id))}),w.jsx("tbody",{children:m.getRowModel().rows.map(g=>w.jsx("tr",{className:"hover:bg-blue-50 even:bg-gray-50",children:g.getVisibleCells().map(y=>w.jsx("td",{className:"px-2 py-2 border text-sm text-left text-gray-800",children:Yt(y.column.columnDef.cell,y.getContext())},y.id))},g.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:m.getState().pagination.pageSize,onChange:g=>m.setPageSize(Number(g.target.value)),className:"border rounded px-2 py-1 text-sm",children:[5,10,15,25,50,100].map(g=>w.jsx("option",{value:g,children:g},g))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:g,pageSize:y}=m.getState().pagination,C=t.length,E=g*y+1,A=Math.min(E+y-1,C);return`${E}  ${A} of ${C}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>m.setPageIndex(0),disabled:!m.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.previousPage(),disabled:!m.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.nextPage(),disabled:!m.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.setPageIndex(m.getPageCount()-1),disabled:!m.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]})]})},Kj=()=>{const[t,h]=J.useState([]),[e,a]=J.useState({pageIndex:0,pageSize:15}),[l,f]=J.useState(""),o=J.useRef(null),c=()=>{const g=new URLSearchParams;l.trim()&&g.append("search",l.trim()),fetch(`/api/Machines?${g.toString()}`).then(y=>y.json()).then(h).catch(y=>console.error("Error fetching machines:",y))};J.useEffect(()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{c()},300)},[l]);const[s,r]=J.useState(null);J.useEffect(()=>{const g=localStorage.getItem("token");if(g)try{const y=g.split(".")[1],C=atob(y),E=JSON.parse(C);console.log(" ROLE IN PAYLOAD:",E.role),r(E.role??null)}catch(y){console.error("Invalid token format",y)}},[]);const i=async g=>{if(!g.trim())return;const y=localStorage.getItem("token");if(console.log("TOKEN:",y),y){const C=y.split(".")[1],E=atob(C),A=JSON.parse(E);console.log("Decoded Payload:",A),console.log("ROLE FROM TOKEN:",A.role)}try{const C="/api/Requests",E={request_type:"INSERT",target_table:"machines",target_pk_id:null,old_data:null,new_data:{machine_no:g.trim()},note:"Created via frontend"},A=new Request(C,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify(E)}),D=await fetch(A);if(!D.ok){const B=await D.json();console.error("Error:",B),Se.fire({icon:"error",title:"Error",text:B.message||"Failed to submit machine request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const q=await D.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your request to add a machine has been submitted.<br>Request ID: <b>${q.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),f(""),c()}catch(C){console.error(C),Se.fire({icon:"error",title:"Error",text:"Failed to submit machine request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},b=async g=>{const{value:y}=await Se.fire({title:"Edit Machine",input:"text",inputValue:g.machine_no,inputLabel:"Machine",showCancelButton:!0,confirmButtonText:"Submit Update Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded focus:ring focus:ring-blue-300 focus:outline-none",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async C=>{const E=C.trim();if(!E)return Se.showValidationMessage("Machine number cannot be empty"),!1;if(E.toLowerCase()===g.machine_no.toLowerCase())return!1;try{const A=await mt.get(`/api/Machines?search=${encodeURIComponent(E)}`);if(Array.isArray(A.data)&&A.data.some(D=>D.machine_no.toLowerCase()===E.toLowerCase()&&D.machine_id!==g.machine_id))return Se.showValidationMessage("This machine number already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return E}});if(y&&y.trim()!==g.machine_no){const C=localStorage.getItem("token");if(console.log("TOKEN:",C),C){const E=C.split(".")[1],A=atob(E),D=JSON.parse(A);console.log("Decoded Payload:",D),console.log("ROLE FROM TOKEN:",D.role)}try{const E="/api/Requests",A={request_type:"UPDATE",target_table:"machines",target_pk_id:g.machine_id,old_data:{machine_id:g.machine_id,machine_no:g.machine_no},new_data:{machine_id:g.machine_id,machine_no:y.trim()},note:"Edited from frontend"},D=new Request(E,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(A)}),q=await fetch(D);if(!q.ok){const z=await q.json();console.error("Error:",z),Se.fire({icon:"error",title:"Error",text:z.message||"Failed to submit machine update request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const B=await q.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your update request has been submitted.<br>Request ID: <b>${B.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(E){console.error(E),Se.fire({icon:"error",title:"Error",text:"Failed to submit machine update request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}}},d=async g=>{if(!g||!(await Se.fire({title:"Are you sure?",text:"This will delete the machine.",icon:"warning",showCancelButton:!0,confirmButtonText:"Submit Delete Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed)return;const C=localStorage.getItem("token");if(console.log("TOKEN:",C),C){const E=C.split(".")[1],A=atob(E),D=JSON.parse(A);console.log("Decoded Payload:",D),console.log("ROLE FROM TOKEN:",D.role)}try{const E=await fetch(`/api/Machines/${g}`,{method:"GET",headers:{Authorization:`Bearer ${C}`}});if(!E.ok){Se.fire({icon:"error",title:"Error",text:"Cannot load machine data for delete request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const A=await E.json(),D={request_type:"DELETE",target_table:"machines",target_pk_id:g,old_data:A,new_data:null,note:"Deleted from frontend"},q="/api/Requests",B=new Request(q,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(D)}),z=await fetch(B);if(!z.ok){const Y=await z.json();console.error("Error:",Y),Se.fire({icon:"error",title:"Error",text:Y.message||"Failed to submit delete request for machine.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const K=await z.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your delete request has been submitted.<br>Request ID: <b>${K.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(E){console.error(E),Se.fire({icon:"error",title:"Error",text:"Failed to submit delete request for machine.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},u=()=>{const g=Is.unparse(t),y=new Blob([g],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(y),E=document.createElement("a");E.href=C,E.setAttribute("download","machines.csv"),document.body.appendChild(E),E.click(),document.body.removeChild(E)},v=J.useMemo(()=>[{header:"#",cell:({row:g})=>g.index+1},{accessorKey:"machine_no",header:"Machine No"},{header:"Actions",cell:({row:g})=>["admin","editor"].includes(s||"")?w.jsxs("div",{className:"flex justify-center space-x-2",children:[w.jsx("button",{onClick:()=>b(g.original),className:"text-blue-500 hover:text-blue-700",children:w.jsx(qs,{})}),w.jsx("button",{onClick:()=>d(g.original.machine_id),className:"text-red-500 hover:text-red-700",children:w.jsx(Us,{})})]}):null}],[s]),x=J.useMemo(()=>[...t].sort((g,y)=>g.machine_id-y.machine_id),[t]),m=Xr({data:x,columns:v,state:{pagination:e},onPaginationChange:a,getCoreRowModel:Vr(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"flex justify-between px-4 items-center",children:[w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-1 rounded shadow",onClick:()=>{Se.fire({title:"Add New Machine",input:"text",inputLabel:"Machine No",showCancelButton:!0,confirmButtonText:"Add",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async g=>{const y=g.trim();if(!y)return Se.showValidationMessage("Machine number cannot be empty"),!1;try{if((await mt.get(`/api/Machines?search=${encodeURIComponent(y)}`)).data.some(E=>E.machine_no.toLowerCase()===y.toLowerCase()))return Se.showValidationMessage("This machine already exists"),!1}catch{return Se.showValidationMessage("Error checking duplicates"),!1}return y}}).then(g=>{g.isConfirmed&&g.value&&i(g.value)})},children:"+ Add Machine"}),w.jsx("button",{className:"border border-blue-600 text-blue-600 text-sm px-4 py-1 rounded shadow hover:bg-blue-50",onClick:u,children:"Export CSV"})]}),w.jsx("input",{type:"text",placeholder:"Search machine no...",value:l,onChange:g=>f(g.target.value),className:"border rounded px-3 py-1 text-sm shadow"})]}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-left",children:[w.jsx("thead",{className:"bg-gray-100 border-b",children:m.getHeaderGroups().map(g=>w.jsx("tr",{children:g.headers.map(y=>w.jsx("th",{className:"px-2 py-2 border text-xs font-semibold text-gray-700 text-center",children:Yt(y.column.columnDef.header,y.getContext())},y.id))},g.id))}),w.jsx("tbody",{children:m.getRowModel().rows.map(g=>w.jsx("tr",{className:"hover:bg-blue-50 even:bg-gray-50",children:g.getVisibleCells().map(y=>w.jsx("td",{className:"px-2 py-2 border text-sm text-left text-gray-800",children:Yt(y.column.columnDef.cell,y.getContext())},y.id))},g.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:m.getState().pagination.pageSize,onChange:g=>m.setPageSize(Number(g.target.value)),className:"border rounded px-2 py-1 text-sm",children:[5,10,15,25,50,100].map(g=>w.jsx("option",{value:g,children:g},g))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:g,pageSize:y}=m.getState().pagination,C=t.length,E=g*y+1,A=Math.min(E+y-1,C);return`${E}  ${A} of ${C}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>m.setPageIndex(0),disabled:!m.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.previousPage(),disabled:!m.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.nextPage(),disabled:!m.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.setPageIndex(m.getPageCount()-1),disabled:!m.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]})]})},Xj=()=>{const[t,h]=J.useState([]),[e,a]=J.useState({pageIndex:0,pageSize:15}),[l,f]=J.useState(""),o=J.useRef(null),c=()=>{const g=new URLSearchParams;l.trim()&&g.append("search",l.trim()),fetch(`/api/HstTypes?${g.toString()}`).then(y=>y.json()).then(h).catch(y=>console.error("Error fetching hstTypes:",y))};J.useEffect(()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{c()},300)},[l]);const[s,r]=J.useState(null);J.useEffect(()=>{const g=localStorage.getItem("token");if(g)try{const y=g.split(".")[1],C=atob(y),E=JSON.parse(C);console.log(" ROLE IN PAYLOAD:",E.role),r(E.role??null)}catch(y){console.error("Invalid token format",y)}},[]);const i=async g=>{if(!g.trim())return;const y=localStorage.getItem("token");if(console.log("TOKEN:",y),y){const C=y.split(".")[1],E=atob(C),A=JSON.parse(E);console.log("Decoded Payload:",A),console.log("ROLE FROM TOKEN:",A.role)}try{const C="/api/Requests",E={request_type:"INSERT",target_table:"hstTypes",target_pk_id:null,old_data:null,new_data:{hst_type:g.trim()},note:"Created via frontend"},A=new Request(C,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify(E)}),D=await fetch(A);if(!D.ok){const B=await D.json();console.error("Error:",B),Se.fire({icon:"error",title:"Error",text:B.message||"Failed to submit Hst Type request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const q=await D.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your request to add Hst Type has been submitted.<br>Request ID: <b>${q.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),f(""),c()}catch(C){console.error(C),Se.fire({icon:"error",title:"Error",text:"Failed to submit Hst Type request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},b=async g=>{const{value:y}=await Se.fire({title:"Edit Hst Type",input:"text",inputValue:g.hst_type,inputLabel:"Hst Type",showCancelButton:!0,confirmButtonText:"Submit Update Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded focus:ring focus:ring-blue-300 focus:outline-none",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async C=>{const E=C.trim();if(!E)return Se.showValidationMessage("Hst Type name cannot be empty"),!1;if(E.toLowerCase()===g.hst_type.toLowerCase())return!1;try{const A=await mt.get(`/api/HstTypes?search=${encodeURIComponent(E)}`);if(Array.isArray(A.data)&&A.data.some(D=>D.hst_type.toLowerCase()===E.toLowerCase()&&D.hst_type_id!==g.hst_type_id))return Se.showValidationMessage("This hst type already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return E}});if(y&&y.trim()!==g.hst_type){const C=localStorage.getItem("token");if(console.log("TOKEN:",C),C){const E=C.split(".")[1],A=atob(E),D=JSON.parse(A);console.log("Decoded Payload:",D),console.log("ROLE FROM TOKEN:",D.role)}try{const E="/api/Requests",A={request_type:"UPDATE",target_table:"hstTypes",target_pk_id:g.hst_type_id,old_data:{hst_type_id:g.hst_type_id,hst_type:g.hst_type},new_data:{hst_type_id:g.hst_type_id,hst_type:y.trim()},note:"Edited from frontend"},D=new Request(E,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(A)}),q=await fetch(D);if(!q.ok){const z=await q.json();console.error("Error:",z),Se.fire({icon:"error",title:"Error",text:z.message||"Failed to submit hst type update request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const B=await q.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your update request has been submitted.<br>Request ID: <b>${B.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(E){console.error(E),Se.fire({icon:"error",title:"Error",text:"Failed to submit hst type update request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}}},d=async g=>{if(!g||!(await Se.fire({title:"Are you sure?",text:"Do you really want to delete this hst type?",icon:"warning",showCancelButton:!0,confirmButtonText:"Submit Delete Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed)return;const C=localStorage.getItem("token");if(console.log("TOKEN:",C),C){const E=C.split(".")[1],A=atob(E),D=JSON.parse(A);console.log("Decoded Payload:",D),console.log("ROLE FROM TOKEN:",D.role)}try{const E=await fetch(`/api/HstTypes/${g}`,{method:"GET",headers:{Authorization:`Bearer ${C}`}});if(!E.ok){Se.fire({icon:"error",title:"Error",text:"Cannot load hst type data for delete request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const A=await E.json(),D={request_type:"DELETE",target_table:"hstTypes",target_pk_id:g,old_data:A,new_data:null,note:"Deleted from frontend"},q="/api/Requests",B=new Request(q,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(D)}),z=await fetch(B);if(!z.ok){const Y=await z.json();console.error("Error:",Y),Se.fire({icon:"error",title:"Error",text:Y.message||"Failed to submit delete request for hst type.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const K=await z.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your delete request has been submitted.<br>Request ID: <b>${K.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(E){console.error(E),Se.fire({icon:"error",title:"Error",text:"Failed to submit delete request for hst type.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},u=()=>{const g=Is.unparse(t),y=new Blob([g],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(y),E=document.createElement("a");E.href=C,E.setAttribute("download","hst_types.csv"),document.body.appendChild(E),E.click(),document.body.removeChild(E)},v=J.useMemo(()=>[{header:"#",cell:({row:g})=>g.index+1},{accessorKey:"hst_type",header:"Hst Type"},{header:"Actions",cell:({row:g})=>["admin","editor"].includes(s||"")?w.jsxs("div",{className:"flex justify-center space-x-2",children:[w.jsx("button",{onClick:()=>b(g.original),className:"text-blue-500 hover:text-blue-700",children:w.jsx(qs,{})}),w.jsx("button",{onClick:()=>d(g.original.hst_type_id),className:"text-red-500 hover:text-red-700",children:w.jsx(Us,{})})]}):null}],[s]),x=J.useMemo(()=>[...t].sort((g,y)=>g.hst_type_id-y.hst_type_id),[t]),m=Xr({data:x,columns:v,state:{pagination:e},onPaginationChange:a,getCoreRowModel:Vr(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"flex justify-between px-4 items-center",children:[w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-1 rounded shadow",onClick:()=>{Se.fire({title:"Add New Hst Type",input:"text",inputLabel:"Hst Type",showCancelButton:!0,confirmButtonText:"Add",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async g=>{const y=g.trim();if(!y)return Se.showValidationMessage("Hst Type cannot be empty"),!1;try{const C=await mt.get(`/api/HstTypes?search=${encodeURIComponent(y)}`);if(Array.isArray(C.data)&&C.data.some(E=>E.hst_type.toLowerCase()===y.toLowerCase()))return Se.showValidationMessage("This hst type already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return y}}).then(g=>{g.isConfirmed&&g.value&&i(g.value)})},children:"+ Add Hst Type"}),w.jsx("button",{className:"border border-blue-600 text-blue-600 text-sm px-4 py-1 rounded shadow hover:bg-blue-50",onClick:u,children:"Export CSV"})]}),w.jsx("input",{type:"text",placeholder:"Search hst type name...",value:l,onChange:g=>f(g.target.value),className:"border rounded px-3 py-1 text-sm shadow"})]}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-left",children:[w.jsx("thead",{className:"bg-gray-100 border-b",children:m.getHeaderGroups().map(g=>w.jsx("tr",{children:g.headers.map(y=>w.jsx("th",{className:"px-2 py-2 border text-xs font-semibold text-gray-700 text-center",children:Yt(y.column.columnDef.header,y.getContext())},y.id))},g.id))}),w.jsx("tbody",{children:m.getRowModel().rows.map(g=>w.jsx("tr",{className:"hover:bg-blue-50 even:bg-gray-50",children:g.getVisibleCells().map(y=>w.jsx("td",{className:"px-2 py-2 border text-sm text-left text-gray-800",children:Yt(y.column.columnDef.cell,y.getContext())},y.id))},g.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:m.getState().pagination.pageSize,onChange:g=>m.setPageSize(Number(g.target.value)),className:"border rounded px-2 py-1 text-sm",children:[5,10,15,25,50,100].map(g=>w.jsx("option",{value:g,children:g},g))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:g,pageSize:y}=m.getState().pagination,C=t.length,E=g*y+1,A=Math.min(E+y-1,C);return`${E}  ${A} of ${C}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>m.setPageIndex(0),disabled:!m.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.previousPage(),disabled:!m.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.nextPage(),disabled:!m.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.setPageIndex(m.getPageCount()-1),disabled:!m.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]})]})},Yj=()=>{const[t,h]=J.useState([]),[e,a]=J.useState({pageIndex:0,pageSize:15}),[l,f]=J.useState(""),o=J.useRef(null),c=()=>{const g=new URLSearchParams;l.trim()&&g.append("search",l.trim()),fetch(`/api/Brass?${g.toString()}`).then(y=>y.json()).then(h).catch(y=>console.error("Error fetching brass:",y))};J.useEffect(()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{c()},300)},[l]);const[s,r]=J.useState(null);J.useEffect(()=>{const g=localStorage.getItem("token");if(g)try{const y=g.split(".")[1],C=atob(y),E=JSON.parse(C);console.log(" ROLE IN PAYLOAD:",E.role),r(E.role??null)}catch(y){console.error("Invalid token format",y)}},[]);const i=async g=>{if(!g.trim())return;const y=localStorage.getItem("token");if(console.log("TOKEN:",y),y){const C=y.split(".")[1],E=atob(C),A=JSON.parse(E);console.log("Decoded Payload:",A),console.log("ROLE FROM TOKEN:",A.role)}try{const C="/api/Requests",E={request_type:"INSERT",target_table:"brasses",target_pk_id:null,old_data:null,new_data:{brass_no:g.trim()},note:"Created via frontend"},A=new Request(C,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify(E)}),D=await fetch(A);if(!D.ok){const B=await D.json();console.error("Error:",B),Se.fire({icon:"error",title:"Error",text:B.message||"Failed to submit brass request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const q=await D.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your request to add brass has been submitted.<br>Request ID: <b>${q.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),f(""),c()}catch(C){console.error(C),Se.fire({icon:"error",title:"Error",text:"Failed to submit brass request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},b=async g=>{const{value:y}=await Se.fire({title:"Edit Brass No",input:"text",inputValue:g.brass_no,inputLabel:"Brass No",showCancelButton:!0,confirmButtonText:"Submit Update Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded focus:ring focus:ring-blue-300 focus:outline-none",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async C=>{const E=C.trim();if(!E)return Se.showValidationMessage("Brass No cannot be empty"),!1;if(E.toLowerCase()===g.brass_no.toLowerCase())return!1;try{const A=await mt.get(`/api/Brass?search=${encodeURIComponent(E)}`);if(Array.isArray(A.data)&&A.data.some(D=>D.brass_no.toLowerCase()===E.toLowerCase()&&D.brass_id!==g.brass_id))return Se.showValidationMessage("This brass no already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return E}});if(y&&y.trim()!==g.brass_no){const C=localStorage.getItem("token");if(console.log("TOKEN:",C),C){const E=C.split(".")[1],A=atob(E),D=JSON.parse(A);console.log("Decoded Payload:",D),console.log("ROLE FROM TOKEN:",D.role)}try{const E="/api/Requests",A={request_type:"UPDATE",target_table:"brasses",target_pk_id:g.brass_id,old_data:{brass_id:g.brass_id,brass_no:g.brass_no},new_data:{brass_id:g.brass_id,brass_no:y.trim()},note:"Edited from frontend"},D=new Request(E,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(A)}),q=await fetch(D);if(!q.ok){const z=await q.json();console.error("Error:",z),Se.fire({icon:"error",title:"Error",text:z.message||"Failed to submit brass update request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const B=await q.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your update request has been submitted.<br>Request ID: <b>${B.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(E){console.error(E),Se.fire({icon:"error",title:"Error",text:"Failed to submit brass update request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}}},d=async g=>{if(!g||!(await Se.fire({title:"Are you sure?",text:"Do you really want to delete this brass?",icon:"warning",showCancelButton:!0,confirmButtonText:"Submit Delete Request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed)return;const C=localStorage.getItem("token");if(console.log("TOKEN:",C),C){const E=C.split(".")[1],A=atob(E),D=JSON.parse(A);console.log("Decoded Payload:",D),console.log("ROLE FROM TOKEN:",D.role)}try{const E=await fetch(`/api/Brass/${g}`,{method:"GET",headers:{Authorization:`Bearer ${C}`}});if(!E.ok){Se.fire({icon:"error",title:"Error",text:"Cannot load brass data for delete request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const A=await E.json(),D={request_type:"DELETE",target_table:"brasses",target_pk_id:g,old_data:A,new_data:null,note:"Deleted from frontend"},q="/api/Requests",B=new Request(q,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(D)}),z=await fetch(B);if(!z.ok){const Y=await z.json();console.error("Error:",Y),Se.fire({icon:"error",title:"Error",text:Y.message||"Failed to submit delete request for brass.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const K=await z.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your delete request has been submitted.<br>Request ID: <b>${K.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),c()}catch(E){console.error(E),Se.fire({icon:"error",title:"Error",text:"Failed to submit delete request for brass.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},u=()=>{const g=Is.unparse(t),y=new Blob([g],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(y),E=document.createElement("a");E.href=C,E.setAttribute("download","brass.csv"),document.body.appendChild(E),E.click(),document.body.removeChild(E)},v=J.useMemo(()=>[{header:"#",cell:({row:g})=>g.index+1},{accessorKey:"brass_no",header:"Brass No"},{header:"Actions",cell:({row:g})=>["admin","editor"].includes(s||"")?w.jsxs("div",{className:"flex justify-center space-x-2",children:[w.jsx("button",{onClick:()=>b(g.original),className:"text-blue-500 hover:text-blue-700",children:w.jsx(qs,{})}),w.jsx("button",{onClick:()=>d(g.original.brass_id),className:"text-red-500 hover:text-red-700",children:w.jsx(Us,{})})]}):null}],[s]),x=J.useMemo(()=>[...t].sort((g,y)=>g.brass_id-y.brass_id),[t]),m=Xr({data:x,columns:v,state:{pagination:e},onPaginationChange:a,getCoreRowModel:Vr(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"flex justify-between px-4 items-center",children:[w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-1 rounded shadow",onClick:()=>{Se.fire({title:"Add New Brass No",input:"text",inputLabel:"Brass No",showCancelButton:!0,confirmButtonText:"Add",cancelButtonText:"Cancel",customClass:{popup:"text-sm",input:"text-sm px-3 py-2 border border-blue-300 rounded",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:async g=>{const y=g.trim();if(!y)return Se.showValidationMessage("Brass No cannot be empty"),!1;try{const C=await mt.get(`/api/Brass?search=${encodeURIComponent(y)}`);if(Array.isArray(C.data)&&C.data.some(E=>E.brass_no.toLowerCase()===y.toLowerCase()))return Se.showValidationMessage("This brass no already exists"),!1}catch{return Se.showValidationMessage("Error checking for duplicates"),!1}return y}}).then(g=>{g.isConfirmed&&g.value&&i(g.value)})},children:"+ Add Brass No"}),w.jsx("button",{className:"border border-blue-600 text-blue-600 text-sm px-4 py-1 rounded shadow hover:bg-blue-50",onClick:u,children:"Export CSV"})]}),w.jsx("input",{type:"text",placeholder:"Search brass no...",value:l,onChange:g=>f(g.target.value),className:"border rounded px-3 py-1 text-sm shadow"})]}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-left",children:[w.jsx("thead",{className:"bg-gray-100 border-b",children:m.getHeaderGroups().map(g=>w.jsx("tr",{children:g.headers.map(y=>w.jsx("th",{className:"px-2 py-2 border text-xs font-semibold text-gray-700 text-center",children:Yt(y.column.columnDef.header,y.getContext())},y.id))},g.id))}),w.jsx("tbody",{children:m.getRowModel().rows.map(g=>w.jsx("tr",{className:"hover:bg-blue-50 even:bg-gray-50",children:g.getVisibleCells().map(y=>w.jsx("td",{className:"px-2 py-2 border text-sm text-left text-gray-800",children:Yt(y.column.columnDef.cell,y.getContext())},y.id))},g.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:m.getState().pagination.pageSize,onChange:g=>m.setPageSize(Number(g.target.value)),className:"border rounded px-2 py-1 text-sm",children:[5,10,15,25,50,100].map(g=>w.jsx("option",{value:g,children:g},g))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:g,pageSize:y}=m.getState().pagination,C=t.length,E=g*y+1,A=Math.min(E+y-1,C);return`${E}  ${A} of ${C}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>m.setPageIndex(0),disabled:!m.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.previousPage(),disabled:!m.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.nextPage(),disabled:!m.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>m.setPageIndex(m.getPageCount()-1),disabled:!m.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]})]})},Zn=zr(Se),Wj=async(t,h)=>{var l,f;const e="swal-brass-search",a="swal-description-input";try{console.log(" Editing PadBrassMap"),console.log(" Selected pad_brass_id:",t.pad_brass_id);const o=Zn.fire({title:"Loading brasses...",allowOutsideClick:!1,didOpen:()=>{Zn.showLoading()}}),c=localStorage.getItem("token");if(console.log("TOKEN:",c),c){const D=c.split(".")[1],q=atob(D),B=JSON.parse(q);console.log("Decoded Payload:",B),console.log("ROLE FROM TOKEN:",B.role)}const r=await(await fetch("/api/Brass")).json();await Zn.close();const i=Array.isArray(r)?r.map(D=>({brass_id:D.brass_id,brass_no:D.brass_no})):[];if(!i.length){await Zn.fire("No Brass","No brass data available.","warning");return}const b=t.pad_name.replace(/</g,"&lt;").replace(/>/g,"&gt;"),{isConfirmed:d,value:u}=await Zn.fire({title:"Edit Pad-Brass Mapping",html:`
        <div style="font-size:15px;">
          <table style="width:100%; border-collapse:collapse;">
            <tr>
              <td style="padding:4px 8px; vertical-align:middle; white-space:nowrap;"><b>Pad Name:</b></td>
              <td style="padding:4px 8px;">${b}</td>
            </tr>
            <tr>
              <td style="padding:4px 8px; vertical-align:middle;"><b>Brass No:</b></td>
              <td style="padding:4px 8px;">
                <input
                  id="${e}"
                  list="brass-list"
                  value="${t.brass_no}"
                  placeholder="Search..."
                  class="swal2-input"
                  style="width:100%; margin:0;"
                />
                <datalist id="brass-list">
                  ${i.map(D=>`<option value="${D.brass_no}"></option>`).join("")}
                </datalist>
              </td>
            </tr>
            <tr>
          <td style="padding:4px 8px;"><b>Description:</b></td>
          <td style="padding:4px 8px;">
            <input
              id="${a}"
              value="${t.description??""}"
              placeholder="Enter description"
              class="swal2-input"
              style="width:100%; margin:0;"
            />
          </td>
        </tr>
          </table>
        </div>
      `,showCancelButton:!0,confirmButtonText:" Save",cancelButtonText:"Cancel",focusConfirm:!1,customClass:{popup:"swal2-rounded text-sm",confirmButton:"bg-[#2563eb] hover:bg-[#1d4ed8] text-white font-semibold px-5 py-2 rounded-md text-sm",cancelButton:"bg-[#f1f5f9] hover:bg-[#e2e8f0] text-black font-normal px-5 py-2 rounded-md text-sm ml-2"},buttonsStyling:!1,preConfirm:()=>{var B,z,K,Y;const D=(z=(B=document.getElementById(e))==null?void 0:B.value)==null?void 0:z.trim(),q=(Y=(K=document.getElementById(a))==null?void 0:K.value)==null?void 0:Y.trim();return D?{brass_no:D,description:q||null}:(Zn.showValidationMessage("Please select a brass"),null)}});if(!d||!u||u===t.brass_no){console.log(" Edit cancelled or brass not changed.");return}const v=u.brass_no.trim(),x=((l=u.description)==null?void 0:l.trim())??null;if(v===t.brass_no.trim()&&(x||"")===(((f=t.description)==null?void 0:f.trim())||"")){console.log(" No changes detected. Skipping request."),await Zn.fire({icon:"info",title:"No Changes",text:"You didn't change anything. No request submitted.",confirmButtonText:"OK",customClass:{confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded"}});return}const g=i.find(D=>D.brass_no===v);if(!g){await Zn.fire("Invalid Brass","Selected brass not found.","error");return}const y=g.brass_id;console.log(" Selected brass_id:",y);const C={request_type:"UPDATE",target_table:"PadBrassMap",target_pk_id:t.pad_brass_id,old_data:{pad_brass_id:t.pad_brass_id,pad_id:t.pad_id,pad_name:t.pad_name,brass_no:t.brass_no,description:t.description??null},new_data:{pad_brass_id:t.pad_brass_id,pad_id:t.pad_id,pad_name:t.pad_name,brass_id:y,brass_no:g.brass_no,description:x},note:"Updated via frontend"};console.log(" Sending update request DTO:",C);const E=await fetch("/api/Requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify(C)});if(!E.ok){const D=await E.json();console.error(" Update request error:",D),await Zn.fire({icon:"error",title:"Update Request Failed",text:D.message||"Server error",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const A=await E.json();console.log(" Update request submitted:",A),await Zn.fire({icon:"info",title:"Request Submitted",html:`Your request to update Pad-Brass mapping has been submitted.<br>Request ID: <b>${A.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),h()}catch(o){console.error(" Edit pad-brass map error:",o),await Zn.fire({icon:"error",title:"Error",text:(o==null?void 0:o.message)||"Unexpected error occurred",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},cl=zr(Se),Gj=()=>{const[t,h]=J.useState([]),[e,a]=J.useState([]),[l,f]=J.useState([]),[o,c]=J.useState([]),[s,r]=J.useState({pageIndex:0,pageSize:15}),[i,b]=J.useState({}),[d,u]=J.useState({}),[v,x]=J.useState({}),[m,g]=J.useState(!1),[y,C]=J.useState({created_at_start:"",created_at_end:"",updated_at_start:"",updated_at_end:""}),[E,A]=J.useState({}),[D,q]=J.useState(""),B=J.useRef(null),[z,K]=J.useState(null),[Y,X]=J.useState(!1);J.useEffect(()=>{const V=W=>{var U;const ee=document.getElementById("columns-dropdown-portal");ee&&!ee.contains(W.target)&&!((U=B.current)!=null&&U.contains(W.target))&&X(!1)};if(Y&&B.current){const W=requestAnimationFrame(()=>{const ee=B.current.getBoundingClientRect();K({top:ee.bottom+window.scrollY+8,left:ee.right+window.scrollX-256})});return document.addEventListener("mousedown",V),()=>{cancelAnimationFrame(W),document.removeEventListener("mousedown",V)}}},[Y]);const[O,P]=J.useState(null);J.useEffect(()=>{const V=localStorage.getItem("token");if(V)try{const W=V.split(".")[1],ee=atob(W),U=JSON.parse(ee);P(U.role??null)}catch(W){console.error("Invalid token format",W)}},[]);const N=async()=>{const V=new Fs.Workbook,W=V.addWorksheet("PadBrassMap"),ee=$.getVisibleLeafColumns().filter(Z=>Z.id!=="actions");ee.map(Z=>Z.id).forEach((Z,te)=>{const ie=W.getCell(1,te+1);ie.value=Z,ie.font={name:"Arial",size:10,bold:!0},ie.alignment={vertical:"middle",horizontal:"center"},ie.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),$.getFilteredRowModel().rows.forEach((Z,te)=>{const ie=te+2,se=Z.original.pending_request;let le,me;se==="UPDATE"?(le="FEFCE8",me="854D0E"):se==="DELETE"&&(le="FEF2F2",me="991B1B"),ee.forEach((ae,re)=>{const oe=ae.id,ue=Z.original[oe],fe=W.getCell(ie,re+1);let be="";typeof ue=="boolean"?be=ue?"":"-":ue!=null&&(be=String(ue)),fe.value=be,fe.font={name:"Arial",size:10,color:me?{argb:me}:void 0},fe.alignment={vertical:"middle",horizontal:"center"},fe.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},le&&(fe.fill={type:"pattern",pattern:"solid",fgColor:{argb:le}})})}),W.columns.forEach(Z=>{Z.width=15});const L=await V.xlsx.writeBuffer(),I=new Blob([L],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});$s.saveAs(I,"PadBrassMap.xlsx")},_=()=>{const V=new URLSearchParams;Object.entries(d).forEach(([ee,U])=>{U.forEach(Q=>V.append(ee,Q))}),Object.entries(y).forEach(([ee,U])=>{U&&V.append(ee,U)});const W=m?`/api/PadBrassMap/Pivot?${V.toString()}`:`/api/PadBrassMap?${V.toString()}`;console.log(" Sending filterValues:",d),console.log(" Final API URL:",W),fetch(W).then(ee=>ee.json()).then(ee=>{h(ee);const U=Object.keys(ee[0]||{}),Q={};U.forEach(L=>{Q[L]=Array.from(new Set(ee.map(I=>String(I[L]??"")))).sort()}),b(Q)}).catch(ee=>console.error("Error fetching data:",ee))},j=()=>{fetch("/api/Pads").then(V=>V.json()).then(a),fetch("/api/Brass").then(V=>V.json()).then(f)};J.useEffect(()=>{j()},[]),J.useEffect(()=>{_()},[d,y,m]);const k=async V=>{console.log(" Deleting row:",V),console.log(" pad_brass_id to delete:",V.pad_brass_id);const W=V.pad_name.replace(/</g,"&lt;").replace(/>/g,"&gt;"),ee=V.brass_no.replace(/</g,"&lt;").replace(/>/g,"&gt;");if(!(await cl.fire({title:"Are you sure?",html:`
      <table style="text-align:left; font-size:18px; line-height:1.6;">
        <tr><td><b>Pad Name:</b></td><td>${W}</td></tr>
        <tr><td><b>Brass No:</b></td><td>${ee}</td></tr>
      </table>
    `,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, request delete!",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed)return;const Q=localStorage.getItem("token");if(console.log("TOKEN:",Q),Q){const L=Q.split(".")[1],I=atob(L),Z=JSON.parse(I);console.log("Decoded Payload:",Z),console.log("ROLE FROM TOKEN:",Z.role)}try{const L="/api/Requests",I={request_type:"DELETE",target_table:"PadBrassMap",target_pk_id:V.pad_brass_id,old_data:{pad_brass_id:V.pad_brass_id,pad_id:V.pad_id,pad_name:V.pad_name,brass_no:V.brass_no,description:V.description??null},new_data:null,note:"Deleted via frontend"};console.log(" Sending delete request DTO:",I);const Z=new Request(L,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify(I)}),te=await fetch(Z);if(!te.ok){const se=await te.json();console.error(" Delete request error:",se),await cl.fire({icon:"error",title:"Delete Request Failed",text:se.message||"Server error",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const ie=await te.json();console.log(" Delete request submitted:",ie),await cl.fire({icon:"info",title:"Request Submitted",html:`Your request to delete Pad-Brass mapping has been submitted.<br>Request ID: <b>${ie.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),_()}catch(L){console.error(" Exception during deletion:",L),await cl.fire({icon:"error",title:"Error",text:(L==null?void 0:L.message)||"An unexpected error occurred while deleting.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},T=async()=>{let V=null,W=null;const ee=e.map(I=>({value:I.pad_id,label:I.pad_name})),U=l.map(I=>({value:I.brass_id,label:I.brass_no})),Q=document.createElement("div");Q.innerHTML=`
    <div style="margin-bottom: 1rem;">
      <label style="display:block; margin-bottom: 0.25rem;">Pad</label>
      <div id="pad-select" style="width:100%"></div>
    </div>
    <div style="margin-bottom: 1rem;">
      <label style="display:block; margin-bottom: 0.25rem;">Brass</label>
      <div id="brass-select" style="width:100%"></div>
    </div>
    <div style="margin-bottom: 1rem;">
      <label style="display:block; margin-bottom: 0.25rem;">Description</label>
      <input id="description-input" type="text" style="width:100%; padding: 6px; border: 1px solid #ccc; border-radius: 4px;" placeholder="Enter description (optional)" />
    </div>
  `;const{value:L}=await cl.fire({title:"Add Pad-Brass Mapping",html:Q,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Add",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:()=>{var te;if(!V||!W)return Se.showValidationMessage("Please select both Pad and Brass."),!1;const I=document.getElementById("description-input"),Z=(te=I==null?void 0:I.value)==null?void 0:te.trim();return{pad_id:V.value,pad_name:V.label,brass_id:W.value,brass_no:W.label,description:Z||null}},didOpen:()=>{const I=document.getElementById("pad-select"),Z=document.getElementById("brass-select");I&&Go.createRoot(I).render(w.jsx(bn,{options:ee,onChange:te=>V=te,placeholder:"Select pad...",isSearchable:!0,menuPortalTarget:document.body,styles:{menuPortal:te=>({...te,zIndex:9999})}})),Z&&Go.createRoot(Z).render(w.jsx(bn,{options:U,onChange:te=>W=te,placeholder:"Select brass...",isSearchable:!0,menuPortalTarget:document.body,styles:{menuPortal:te=>({...te,zIndex:9999})}}))}});if(L){const I=localStorage.getItem("token");if(console.log("TOKEN:",I),I){const Z=I.split(".")[1],te=atob(Z),ie=JSON.parse(te);console.log("Decoded Payload:",ie),console.log("ROLE FROM TOKEN:",ie.role)}try{const Z="/api/Requests",te={request_type:"INSERT",target_table:"PadBrassMap",target_pk_id:null,old_data:null,new_data:{pad_id:L.pad_id,pad_name:L.pad_name,brass_id:L.brass_id,brass_no:L.brass_no,description:L.description},note:"Created via frontend"};console.log(" Sending INSERT request to backend with body:",te);const ie=new Request(Z,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify(te)}),se=await fetch(ie);if(!se.ok){const me=await se.json();console.error("Error:",me),Se.fire({icon:"error",title:"Error",text:me.message||"Failed to submit pad-brass request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const le=await se.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your request to add a pad-brass mapping has been submitted.<br>Request ID: <b>${le.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),_()}catch(Z){console.error(Z),Se.fire({icon:"error",title:"Error",text:"Failed to submit pad-brass request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}}},M=V=>{var me,ae,re;const W=(d[V]??[]).length>0,[ee,U]=J.useState(""),Q=J.useRef(null),L=J.useRef(null),[I,Z]=J.useState(null),[te,ie]=J.useState({});J.useEffect(()=>{d[V]&&ie(oe=>({...oe,[V]:[...d[V]]}))},[v[V]]),J.useEffect(()=>{const oe=ue=>{var fe;L.current&&!L.current.contains(ue.target)&&!((fe=Q.current)!=null&&fe.contains(ue.target))&&x(be=>({...be,[V]:!1}))};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[V]),J.useEffect(()=>{if(v[V]&&Q.current){const oe=Q.current.getBoundingClientRect(),ue=window.scrollX||document.documentElement.scrollLeft,fe=window.scrollY||document.documentElement.scrollTop;Z({top:oe.bottom+fe+4,left:oe.left+ue,width:oe.width})}},[v[V]]);const se=()=>{x(oe=>({...oe,[V]:!oe[V]}))},le=oe=>{const ue=oe==null||oe===""?"null":oe;ie(fe=>{const be=new Set(fe[V]||[]);return be.has(ue)?be.delete(ue):be.add(ue),{...fe,[V]:Array.from(be)}})};return w.jsxs(w.Fragment,{children:[w.jsx("button",{ref:Q,onClick:se,className:`ml-1 px-2 py-0.5 border text-xs rounded shadow transition-colors duration-150 ${W?"bg-blue-600 border-blue-700 text-white hover:bg-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:""}),v[V]&&w.jsxs("div",{ref:L,className:"fixed z-[9999] rounded-md border bg-white shadow-lg p-2",style:I?{top:I.top,left:I.left,minWidth:I.width,visibility:"visible"}:{visibility:"hidden"},children:[w.jsx("input",{type:"text",value:ee,placeholder:"Search...",className:"w-full mb-2 px-2 py-1 border rounded text-sm",onChange:oe=>U(oe.target.value.toLowerCase())}),w.jsxs("label",{className:"block text-xs font-medium px-1 py-0.5 text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:((me=te[V])==null?void 0:me.length)===(((ae=i[V])==null?void 0:ae.map(oe=>oe??"null").length)||0),onChange:()=>{var fe;const oe=((fe=i[V])==null?void 0:fe.map(be=>be??"null"))||[],ue=te[V]||[];ie(be=>({...be,[V]:ue.length===oe.length?[]:oe}))}}),"(Select All)"]}),w.jsx("div",{className:"max-h-48 overflow-y-auto mt-1",children:(re=i[V])==null?void 0:re.filter(oe=>(oe??"(Blanks)").toLowerCase().includes(ee)).map(oe=>{var fe;const ue=oe==null||oe===""?"null":oe;return w.jsxs("label",{className:"block px-1 py-0.5 text-sm text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:(fe=te[V])==null?void 0:fe.includes(ue),onChange:()=>le(oe)}),oe||"(Blanks)"]},ue)})}),w.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t",children:[w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-gray-100",onClick:()=>x(oe=>({...oe,[V]:!1})),children:"Cancel"}),w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-blue-600 text-white",onClick:()=>{u(oe=>({...oe,[V]:(te[V]||[]).map(ue=>ue.trim())})),x(oe=>({...oe,[V]:!1}))},children:"OK"})]})]})]})},F=J.useMemo(()=>m?[{accessorKey:"pad_name",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Pad Name ",M("pad_name")]})},{accessorKey:"brass_no",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Brass No ",M("brass_no")]})}]:[{accessorKey:"pad_name",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Pad Name ",M("pad_name")]})},{accessorKey:"brass_no",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Brass No ",M("brass_no")]})},{accessorKey:"description",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Description ",M("description")]})},{accessorKey:"create_by",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Create By ",M("create_by")]})},{accessorKey:"create_at",header:"Create At",cell:({getValue:V})=>{const W=V();return W?new Date(W).toLocaleString():"-"}},{accessorKey:"update_by",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Update By ",M("update_by")]})},{accessorKey:"update_at",header:"Update At",cell:({getValue:V})=>{const W=V();return W?new Date(W).toLocaleString():"-"}},{accessorKey:"pending_request",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Pending ",M("pending_request")]})},{id:"actions",header:"Actions",cell:({row:V})=>["admin","editor"].includes(O||"")?w.jsxs("div",{className:"flex gap-2 justify-center",children:[w.jsx("button",{onClick:()=>Wj(V.original,_),className:"px-2 py-1 text-xs border rounded text-blue-600 border-blue-600 hover:bg-blue-50",children:"Edit"}),w.jsx("button",{onClick:()=>k(V.original),className:"px-2 py-1 text-xs border rounded text-red-600 border-red-600 hover:bg-red-50",children:"Delete"})]}):null}],[i,d,v,m]),$=Xr({data:t,columns:F,state:{columnFilters:o,columnVisibility:E,pagination:s},onColumnFiltersChange:c,onColumnVisibilityChange:A,onPaginationChange:r,getCoreRowModel:Vr(),getSortedRowModel:Ls(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:w.jsx(io,{className:"w-6 h-6 text-yellow-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending UPDATE"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(V=>{var W;return((W=V.pending_request)==null?void 0:W.toUpperCase())==="UPDATE"}).length})]})]})}),w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:w.jsx(oo,{className:"w-6 h-6 text-red-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending DELETE"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(V=>{var W;return((W=V.pending_request)==null?void 0:W.toUpperCase())==="DELETE"}).length})]})]})})]}),w.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:w.jsxs("div",{className:"flex justify-between items-center px-4",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:N,children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export XLSX"]}),w.jsxs("button",{className:`inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 ${m?"bg-blue-100 text-blue-800":"bg-white"}`,onClick:()=>g(V=>!V),children:["View: ",m?"Group By Pad Name":"Raw"]}),w.jsxs("div",{className:"relative",children:[w.jsxs("button",{ref:B,onClick:()=>X(V=>!V),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16M4 6v12M12 6v12M20 6v12"})}),"Columns",w.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform duration-200 ${Y?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),Y&&z&&Jr.createPortal(w.jsxs("div",{id:"columns-dropdown-portal",className:"fixed z-[9999] w-64 bg-white border border-gray-200 rounded-lg shadow-lg max-h-80 overflow-hidden animate-in fade-in-0 zoom-in-95 duration-200",style:{top:(z==null?void 0:z.top)??0,left:(z==null?void 0:z.left)??0},children:[w.jsx("div",{className:"p-3 border-b border-gray-200",children:w.jsx("input",{type:"text",value:D,onChange:V=>q(V.target.value),placeholder:"Search columns...",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),w.jsx("div",{className:"max-h-60 overflow-y-auto",children:$.getAllLeafColumns().filter(V=>{var W;return(W=V.id)==null?void 0:W.toLowerCase().includes(D.toLowerCase())}).map(V=>w.jsxs("label",{className:"flex items-center px-3 py-2 text-sm hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:[w.jsx("input",{type:"checkbox",checked:V.getIsVisible(),onChange:()=>V.toggleVisibility(),className:"mr-3 w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),w.jsx("span",{className:"text-gray-700",children:V.id})]},V.id))})]}),document.body)]}),w.jsx(la,{filterMode:"datetime",onFilterApply:C,initialFilters:y})]}),["admin","editor"].includes(O||"")&&w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg shadow-sm hover:bg-blue-700 hover:shadow-md active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:T,children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Mapping"]})]})}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-center",children:[w.jsx("thead",{className:"bg-gray-100 border-b sticky top-0 z-10",children:$.getHeaderGroups().map(V=>w.jsx("tr",{children:V.headers.map(W=>w.jsx("th",{colSpan:W.colSpan,className:"px-2 py-2 border text-center font-semibold text-xs text-gray-700 whitespace-nowrap",children:Yt(W.column.columnDef.header,W.getContext())},W.id))},V.id))}),w.jsx("tbody",{children:$.getRowModel().rows.map(V=>w.jsx("tr",{className:`transition-colors duration-100 ${V.original.pending_request==="UPDATE"?"bg-yellow-50 text-yellow-900 border-l-4 border-yellow-400":V.original.pending_request==="DELETE"?"bg-red-50 text-red-800 border-l-4 border-red-500":"even:bg-gray-50"} hover:bg-blue-50`,children:V.getVisibleCells().map(W=>w.jsx("td",{className:"px-2 py-2 border text-sm text-gray-800 whitespace-nowrap",children:Yt(W.column.columnDef.cell,W.getContext())},W.id))},V.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 mt-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:$.getState().pagination.pageSize,onChange:V=>$.setPageSize(Number(V.target.value)),className:"border rounded px-2 py-1 text-sm",children:[10,15,25,50,100].map(V=>w.jsx("option",{value:V,children:V},V))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:V,pageSize:W}=$.getState().pagination,ee=t.length,U=V*W+1,Q=Math.min(U+W-1,ee);return`${U}  ${Q} of ${ee}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>$.setPageIndex(0),disabled:!$.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>$.previousPage(),disabled:!$.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>$.nextPage(),disabled:!$.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>$.setPageIndex($.getPageCount()-1),disabled:!$.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]})]})},us=zr(Se),Zj=async(t,h)=>{var a;const e="swal-hst-type";try{console.log(" Editing PadHstMap"),console.log(" Selected pad_hst_id:",t.pad_hst_id);const l=us.fire({title:"Loading HST types...",allowOutsideClick:!1,didOpen:()=>{us.showLoading()}}),f=localStorage.getItem("token");if(console.log("TOKEN:",f),f){const q=f.split(".")[1],B=atob(q),z=JSON.parse(B);console.log("Decoded Payload:",z),console.log("ROLE FROM TOKEN:",z.role)}const c=await(await fetch("/api/HstTypes")).json();await us.close();const s=Array.isArray(c)?c.map(q=>({hst_type_id:q.hst_type_id,hst_type:q.hst_type})):[];if(!s.length){await us.fire("No HST Type","No HST types available.","warning");return}const r=t.pad_name.replace(/</g,"&lt;").replace(/>/g,"&gt;"),i="swal-description",b=(t.description??"").replace(/</g,"&lt;").replace(/>/g,"&gt;"),{isConfirmed:d,value:u}=await us.fire({title:"Edit Pad-HST Mapping",html:`
        <div style="font-size:15px;">
          <table style="width:100%; border-collapse:collapse;">
            <tr>
              <td style="padding:4px 8px; vertical-align:middle; white-space:nowrap;"><b>Pad Name:</b></td>
              <td style="padding:4px 8px;">${r}</td>
            </tr>
            <tr>
              <td style="padding:4px 8px;"><b>HST Type:</b></td>
              <td style="padding:4px 8px;">
                <input
                  id="${e}"
                  list="hst-type-list"
                  value="${t.hst_type}"
                  placeholder="Search..."
                  class="swal2-input"
                  style="width:100%; margin:0;"
                />
                <datalist id="hst-type-list">
                  ${s.map(q=>`<option value="${q.hst_type}"></option>`).join("")}
                </datalist>
              </td>
            </tr>
            <tr>
              <td style="padding:4px 8px;"><b>Description:</b></td>
              <td style="padding:4px 8px;">
                <input
                  id="${i}"  //  FIXED: 
                  class="swal2-input"
                  placeholder="Optional description"
                  value="${b}"
                  style="width:100%; margin:0;"
                />
              </td>
            </tr>
          </table>
        </div>
      `,showCancelButton:!0,confirmButtonText:" Save",cancelButtonText:"Cancel",focusConfirm:!1,customClass:{popup:"swal2-rounded text-sm",confirmButton:"bg-[#2563eb] hover:bg-[#1d4ed8] text-white font-semibold px-5 py-2 rounded-md text-sm",cancelButton:"bg-[#f1f5f9] hover:bg-[#e2e8f0] text-black font-normal px-5 py-2 rounded-md text-sm ml-2"},buttonsStyling:!1,preConfirm:()=>{var z,K,Y,X;const q=(K=(z=document.getElementById(e))==null?void 0:z.value)==null?void 0:K.trim(),B=(X=(Y=document.getElementById(i))==null?void 0:Y.value)==null?void 0:X.trim();return q?{hstVal:q,description:B||null}:(us.showValidationMessage("Please select a HST type"),null)}});if(!d||!u){console.log(" Edit cancelled or modal closed.");return}const v=u.hstVal.trim(),x=((a=u.description)==null?void 0:a.trim())||null,m=v===t.hst_type,g=(x??"")===(t.description??"");if(!d||m&&g){console.log(" Edit cancelled or nothing changed.");return}const y=s.find(q=>q.hst_type===v.trim());if(!y){await us.fire({icon:"error",title:"Invalid HST Type",text:"Selected HST type not found.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const C=y.hst_type_id;console.log(" Selected hst_type_id:",C);const E={request_type:"UPDATE",target_table:"PadHstMap",target_pk_id:t.pad_hst_id,old_data:{pad_hst_id:t.pad_hst_id,pad_id:t.pad_id,pad_name:t.pad_name,hst_type_id:t.hst_type_id,hst_type:t.hst_type,description:t.description??null},new_data:{pad_hst_id:t.pad_hst_id,pad_id:t.pad_id,pad_name:t.pad_name,hst_type_id:y.hst_type_id,hst_type:y.hst_type,description:x??null},note:"Updated via frontend"};console.log(" Sending update request DTO:",E);const A=await fetch("/api/Requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify(E)});if(!A.ok){const q=await A.json();console.error(" Update request error:",q),await us.fire({icon:"error",title:"Update Request Failed",text:q.message||"Server error",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const D=await A.json();console.log(" Update request submitted:",D),await us.fire({icon:"info",title:"Request Submitted",html:`Your request to update Pad-HST mapping has been submitted.<br>Request ID: <b>${D.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),h()}catch(l){console.error(" Edit pad-hst map error:",l),await us.fire({icon:"error",title:"Error",text:(l==null?void 0:l.message)||"Unexpected error occurred",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},Vi=zr(Se),Jj=()=>{const[t,h]=J.useState([]),[e,a]=J.useState([]),[l,f]=J.useState([]),[o,c]=J.useState({}),[s,r]=J.useState({}),[i,b]=J.useState([]),[d,u]=J.useState({pageIndex:0,pageSize:15}),[v,x]=J.useState({}),[m,g]=J.useState(!1),[y,C]=J.useState({created_at_start:"",created_at_end:"",updated_at_start:"",updated_at_end:""}),[E,A]=J.useState({}),[D,q]=J.useState(""),B=J.useRef(null),[z,K]=J.useState(null),[Y,X]=J.useState(!1);J.useEffect(()=>{const V=W=>{var U;const ee=document.getElementById("columns-dropdown-portal");ee&&!ee.contains(W.target)&&!((U=B.current)!=null&&U.contains(W.target))&&X(!1)};if(Y&&B.current){const W=requestAnimationFrame(()=>{const ee=B.current.getBoundingClientRect();K({top:ee.bottom+window.scrollY+8,left:ee.right+window.scrollX-256})});return document.addEventListener("mousedown",V),()=>{cancelAnimationFrame(W),document.removeEventListener("mousedown",V)}}},[Y]);const[O,P]=J.useState(null);J.useEffect(()=>{const V=localStorage.getItem("token");if(V)try{const W=V.split(".")[1],ee=atob(W),U=JSON.parse(ee);P(U.role??null)}catch(W){console.error("Invalid token format",W)}},[]);const N=async()=>{const V=new Fs.Workbook,W=V.addWorksheet("PadHstMap"),ee=$.getVisibleLeafColumns().filter(Z=>Z.id!=="actions");ee.map(Z=>Z.id).forEach((Z,te)=>{const ie=W.getCell(1,te+1);ie.value=Z,ie.font={name:"Arial",size:10,bold:!0},ie.alignment={vertical:"middle",horizontal:"center"},ie.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),$.getFilteredRowModel().rows.forEach((Z,te)=>{const ie=te+2,se=Z.original.pending_request;let le,me;se==="UPDATE"?(le="FEFCE8",me="854D0E"):se==="DELETE"&&(le="FEF2F2",me="991B1B"),ee.forEach((ae,re)=>{const oe=ae.id,ue=Z.original[oe],fe=W.getCell(ie,re+1);let be="";typeof ue=="boolean"?be=ue?"":"-":ue!=null&&(be=String(ue)),fe.value=be,fe.font={name:"Arial",size:10,color:me?{argb:me}:void 0},fe.alignment={vertical:"middle",horizontal:"center"},fe.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},le&&(fe.fill={type:"pattern",pattern:"solid",fgColor:{argb:le}})})}),W.columns.forEach(Z=>{Z.width=15});const L=await V.xlsx.writeBuffer(),I=new Blob([L],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});$s.saveAs(I,"PadHstMap.xlsx")},_=()=>{const V=new URLSearchParams;Object.entries(s).forEach(([ee,U])=>{U.forEach(Q=>V.append(ee,Q))}),Object.entries(y).forEach(([ee,U])=>{U&&V.append(ee,U)});const W=m?`/api/PadHstMap/Pivot?${V.toString()}`:`/api/PadHstMap?${V.toString()}`;console.log(" Sending filterValues:",s),console.log(" Final API URL:",W),fetch(W).then(ee=>ee.json()).then(ee=>{h(ee);const U=Object.keys(ee[0]||{}),Q={};U.forEach(L=>{Q[L]=Array.from(new Set(ee.map(I=>String(I[L]??"")))).sort()}),c(Q)}).catch(ee=>console.error("Error fetching PadHstMap:",ee))},j=()=>{fetch("/api/Pads").then(V=>V.json()).then(a),fetch("/api/HstTypes").then(V=>V.json()).then(f)};J.useEffect(()=>{_(),j()},[]),J.useEffect(()=>{_()},[s,y,m]);const k=async V=>{console.log(" Deleting row:",V),console.log(" pad_hst_id to delete:",V.pad_hst_id);const W=V.pad_name.replace(/</g,"&lt;").replace(/>/g,"&gt;"),ee=V.hst_type.replace(/</g,"&lt;").replace(/>/g,"&gt;");if(!(await Vi.fire({title:"Are you sure?",html:`
      <table style="text-align:left; font-size:18px; line-height:1.6;">
        <tr><td><b>Pad Name:</b></td><td>${W}</td></tr>
        <tr><td><b>HST Type:</b></td><td>${ee}</td></tr>
      </table>
    `,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, request delete!",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed)return;const Q=localStorage.getItem("token");if(console.log("TOKEN:",Q),Q){const L=Q.split(".")[1],I=atob(L),Z=JSON.parse(I);console.log("Decoded Payload:",Z),console.log("ROLE FROM TOKEN:",Z.role)}try{const L=`/api/PadHstMap/can-delete/${V.pad_hst_id}`,I=await fetch(L,{headers:{Authorization:`Bearer ${Q}`}});if(!I.ok){const ae=await I.json();console.error(" Can-delete check failed:",ae),await Vi.fire({icon:"error",title:"Error",text:ae.message||"Cannot check delete availability.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const Z=await I.json();if(console.log(" Can-delete check result:",Z),!Z.canDelete){await Vi.fire({icon:"error",title:"Cannot Delete",text:Z.reason||"This Pad-HST mapping is still used by tools and cannot be deleted.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const te="/api/Requests",ie={request_type:"DELETE",target_table:"PadHstMap",target_pk_id:V.pad_hst_id,old_data:{pad_hst_id:V.pad_hst_id,pad_id:V.pad_id,pad_name:V.pad_name,hst_type_id:V.hst_type_id,hst_type:V.hst_type,description:V.description??""},new_data:null,note:"Deleted via frontend"};console.log(" Sending delete request DTO:",ie);const se=new Request(te,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify(ie)}),le=await fetch(se);if(!le.ok){const ae=await le.json();console.error(" Delete request error:",ae),await Vi.fire({icon:"error",title:"Delete Request Failed",text:ae.message||"Server error",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const me=await le.json();console.log(" Delete request submitted:",me),await Vi.fire({icon:"info",title:"Request Submitted",html:`Your request to delete Pad-HST mapping has been submitted.<br>Request ID: <b>${me.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),_()}catch(L){console.error(" Exception during deletion:",L),await Vi.fire({icon:"error",title:"Error",text:(L==null?void 0:L.message)||"An unexpected error occurred while deleting.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}};J.useEffect(()=>{const V=Object.keys(t[0]||{}),W={};V.forEach(ee=>{W[ee]=Array.from(new Set(t.map(U=>String(U[ee]??"")))).sort()}),c(W)},[t]);const T=async()=>{let V=null,W=null;const ee=e.map(I=>({value:I.pad_id,label:I.pad_name})),U=l.map(I=>({value:I.hst_type_id,label:I.hst_type})),Q=document.createElement("div");Q.innerHTML=`
    <div style="margin-bottom: 1rem;">
      <label style="display:block; margin-bottom: 0.25rem;">Pad</label>
      <div id="pad-select" style="width:100%"></div>
    </div>
    <div style="margin-bottom: 1rem;">
      <label style="display:block; margin-bottom: 0.25rem;">HST Type</label>
      <div id="hst-select" style="width:100%"></div>
    </div>
    <div style="margin-bottom: 1rem;">
      <label style="display:block; margin-bottom: 0.25rem;">Description</label>
      <input type="text" id="description-input"  style="width:100%; padding: 6px; border: 1px solid #ccc; border-radius: 4px;" placeholder="Enter description (optional)" />
    </div>
  `;const{value:L}=await Vi.fire({title:"Add Pad-HST Mapping",html:Q,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Add",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"},preConfirm:()=>{var Z;const I=((Z=document.getElementById("description-input"))==null?void 0:Z.value)??"";return!V||!W?(Se.showValidationMessage("Please select both Pad and HST Type."),!1):{pad_id:V.value,pad_name:V.label,hst_type_id:W.value,hst_type:W.label,description:I}},didOpen:()=>{const I=document.getElementById("pad-select"),Z=document.getElementById("hst-select");I&&Go.createRoot(I).render(w.jsx(bn,{options:ee,onChange:te=>V=te,placeholder:"Select pad...",isSearchable:!0,menuPortalTarget:document.body,styles:{menuPortal:te=>({...te,zIndex:9999})}})),Z&&Go.createRoot(Z).render(w.jsx(bn,{options:U,onChange:te=>W=te,placeholder:"Select HST Type...",isSearchable:!0,menuPortalTarget:document.body,styles:{menuPortal:te=>({...te,zIndex:9999})}}))}});if(L){const I=localStorage.getItem("token");if(console.log("TOKEN:",I),I){const Z=I.split(".")[1],te=atob(Z),ie=JSON.parse(te);console.log("Decoded Payload:",ie),console.log("ROLE FROM TOKEN:",ie.role)}try{const Z="/api/Requests",te={request_type:"INSERT",target_table:"PadHstMap",target_pk_id:null,old_data:null,new_data:{pad_id:L.pad_id,pad_name:L.pad_name,hst_type_id:L.hst_type_id,hst_type:L.hst_type,description:L.description??""},note:"Created via frontend"};console.log(" Sending insert request DTO:",te);const ie=new Request(Z,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify(te)}),se=await fetch(ie);if(!se.ok){const me=await se.json();console.error("Error:",me),Se.fire({icon:"error",title:"Error",text:me.message||"Failed to submit pad-hst request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const le=await se.json();Se.fire({icon:"info",title:"Request Submitted",html:`Your request to add a pad-hst mapping has been submitted.<br>Request ID: <b>${le.request_id}</b><br>It will be effective after admin approval.`,confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),_()}catch(Z){console.error(Z),Se.fire({icon:"error",title:"Error",text:"Failed to submit pad-hst request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}}},M=J.useMemo(()=>m?[{accessorKey:"paD_NAME",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Pad Name ",F("paD_NAME")]})},{accessorKey:"hst",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["HST ",F("hst")]})},{accessorKey:"rim",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["RIM ",F("rim")]})},{accessorKey:"inner",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["INNER ",F("inner")]})},{accessorKey:"extrA_RIM",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["EXTRA RIM ",F("extrA_RIM")]})}]:[{accessorKey:"pad_name",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Pad Name ",F("pad_name")]})},{accessorKey:"hst_type",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["HST Type ",F("hst_type")]})},{accessorKey:"description",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Description ",F("description")]})},{accessorKey:"create_by",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Create By ",F("create_by")]})},{accessorKey:"create_at",header:"Create At",cell:({getValue:V})=>{const W=V();return W?new Date(W).toLocaleString():"-"}},{accessorKey:"update_by",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Update By ",F("update_by")]})},{accessorKey:"update_at",header:"Update At",cell:({getValue:V})=>{const W=V();return W?new Date(W).toLocaleString():"-"}},{accessorKey:"pending_request",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Pending ",F("pending_request")]})},{id:"actions",header:"Actions",cell:({row:V})=>["admin","editor"].includes(O||"")?w.jsxs("div",{className:"flex gap-2 justify-center",children:[w.jsx("button",{onClick:()=>Zj(V.original,_),className:"px-2 py-1 text-xs border rounded text-blue-600 border-blue-600 hover:bg-blue-50",children:"Edit"}),w.jsx("button",{onClick:()=>k(V.original),className:"px-2 py-1 text-xs border rounded text-red-600 border-red-600 hover:bg-red-50",children:"Delete"})]}):null}],[o,s,v,m]),F=V=>{var me,ae,re;const W=(s[V]??[]).length>0,[ee,U]=J.useState(""),Q=J.useRef(null),L=J.useRef(null),[I,Z]=J.useState(null),[te,ie]=J.useState({});J.useEffect(()=>{s[V]&&ie(oe=>({...oe,[V]:[...s[V]]}))},[v[V]]),J.useEffect(()=>{const oe=ue=>{var fe;L.current&&!L.current.contains(ue.target)&&!((fe=Q.current)!=null&&fe.contains(ue.target))&&x(be=>({...be,[V]:!1}))};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[V]),J.useEffect(()=>{if(v[V]&&Q.current){const oe=Q.current.getBoundingClientRect(),ue=window.scrollX||document.documentElement.scrollLeft,fe=window.scrollY||document.documentElement.scrollTop;Z({top:oe.bottom+fe+4,left:oe.left+ue,width:oe.width})}},[v[V]]);const se=()=>{x(oe=>({...oe,[V]:!oe[V]}))},le=oe=>{const ue=oe==null||oe===""?"null":oe;ie(fe=>{const be=new Set(fe[V]||[]);return be.has(ue)?be.delete(ue):be.add(ue),{...fe,[V]:Array.from(be)}})};return w.jsxs(w.Fragment,{children:[w.jsx("button",{ref:Q,onClick:se,className:`ml-1 px-2 py-0.5 border text-xs rounded shadow transition-colors duration-150 ${W?"bg-blue-600 border-blue-700 text-white hover:bg-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:""}),v[V]&&w.jsxs("div",{ref:L,className:"fixed z-[9999] rounded-md border bg-white shadow-lg p-2",style:I?{top:I.top,left:I.left,minWidth:I.width,visibility:"visible"}:{visibility:"hidden"},children:[w.jsx("input",{type:"text",value:ee,placeholder:"Search...",className:"w-full mb-2 px-2 py-1 border rounded text-sm",onChange:oe=>U(oe.target.value.toLowerCase())}),w.jsxs("label",{className:"block text-xs font-medium px-1 py-0.5 text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:((me=te[V])==null?void 0:me.length)===(((ae=o[V])==null?void 0:ae.map(oe=>oe??"null").length)||0),onChange:()=>{var fe;const oe=((fe=o[V])==null?void 0:fe.map(be=>be??"null"))||[],ue=te[V]||[];ie(be=>({...be,[V]:ue.length===oe.length?[]:oe}))}}),"(Select All)"]}),w.jsx("div",{className:"max-h-48 overflow-y-auto mt-1",children:(re=o[V])==null?void 0:re.filter(oe=>(oe??"(Blanks)").toLowerCase().includes(ee)).map(oe=>{var fe;const ue=oe==null||oe===""?"null":oe;return w.jsxs("label",{className:"block px-1 py-0.5 text-sm text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:(fe=te[V])==null?void 0:fe.includes(ue),onChange:()=>le(oe)}),oe||"(Blanks)"]},ue)})}),w.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t",children:[w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-gray-100",onClick:()=>x(oe=>({...oe,[V]:!1})),children:"Cancel"}),w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-blue-600 text-white",onClick:()=>{r(oe=>({...oe,[V]:(te[V]||[]).map(ue=>ue.trim())})),x(oe=>({...oe,[V]:!1}))},children:"OK"})]})]})]})},$=Xr({data:t,columns:M,state:{columnFilters:i,columnVisibility:E,pagination:d},onColumnFiltersChange:b,onColumnVisibilityChange:A,onPaginationChange:u,getCoreRowModel:Vr(),getSortedRowModel:Ls(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:w.jsx(io,{className:"w-6 h-6 text-yellow-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending UPDATE"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(V=>String(V.pending_request).toUpperCase()==="UPDATE").length})]})]})}),w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:w.jsx(oo,{className:"w-6 h-6 text-red-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending DELETE"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(V=>String(V.pending_request).toUpperCase()==="DELETE").length})]})]})})]}),w.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:w.jsxs("div",{className:"flex justify-between items-center px-4",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:N,children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export XLSX"]}),w.jsxs("button",{className:`inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 ${m?"bg-blue-100 text-blue-800":"bg-white"}`,onClick:()=>g(V=>!V),children:["View: ",m?"Group By Pad Name":"Raw"]}),w.jsxs("div",{className:"relative",children:[w.jsxs("button",{ref:B,onClick:()=>X(V=>!V),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16M4 6v12M12 6v12M20 6v12"})}),"Columns",w.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform duration-200 ${Y?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),Y&&z&&Jr.createPortal(w.jsxs("div",{id:"columns-dropdown-portal",className:"fixed z-[9999] w-64 bg-white border border-gray-200 rounded-lg shadow-lg max-h-80 overflow-hidden animate-in fade-in-0 zoom-in-95 duration-200",style:{top:(z==null?void 0:z.top)??0,left:(z==null?void 0:z.left)??0},children:[w.jsx("div",{className:"p-3 border-b border-gray-200",children:w.jsx("input",{type:"text",value:D,onChange:V=>q(V.target.value),placeholder:"Search columns...",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),w.jsx("div",{className:"max-h-60 overflow-y-auto",children:$.getAllLeafColumns().filter(V=>{var W;return(W=V.id)==null?void 0:W.toLowerCase().includes(D.toLowerCase())}).map(V=>w.jsxs("label",{className:"flex items-center px-3 py-2 text-sm hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:[w.jsx("input",{type:"checkbox",checked:V.getIsVisible(),onChange:()=>V.toggleVisibility(),className:"mr-3 w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),w.jsx("span",{className:"text-gray-700",children:V.id})]},V.id))})]}),document.body)]}),w.jsx(la,{filterMode:"datetime",onFilterApply:C,initialFilters:y})]}),["admin","editor"].includes(O||"")&&w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg shadow-sm hover:bg-blue-700 hover:shadow-md active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:T,children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Mapping"]})]})}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-center",children:[w.jsx("thead",{className:"bg-gray-100 border-b sticky top-0 z-10",children:$.getHeaderGroups().map(V=>w.jsx("tr",{children:V.headers.map(W=>w.jsx("th",{colSpan:W.colSpan,className:"px-2 py-2 border text-center font-semibold text-xs text-gray-700 whitespace-nowrap",children:Yt(W.column.columnDef.header,W.getContext())},W.id))},V.id))}),w.jsx("tbody",{children:$.getRowModel().rows.map(V=>w.jsx("tr",{className:`transition-colors duration-100 ${V.original.pending_request==="UPDATE"?"bg-yellow-50 text-yellow-900 border-l-4 border-yellow-400":V.original.pending_request==="DELETE"?"bg-red-50 text-red-800 border-l-4 border-red-500":"even:bg-gray-50"} hover:bg-blue-50`,children:V.getVisibleCells().map(W=>w.jsx("td",{className:"px-2 py-2 border text-sm text-gray-800 whitespace-nowrap",children:Yt(W.column.columnDef.cell,W.getContext())},W.id))},V.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 mt-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:$.getState().pagination.pageSize,onChange:V=>$.setPageSize(Number(V.target.value)),className:"border rounded px-2 py-1 text-sm",children:[10,15,25,50,100].map(V=>w.jsx("option",{value:V,children:V},V))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:V,pageSize:W}=$.getState().pagination,ee=t.length,U=V*W+1,Q=Math.min(U+W-1,ee);return`${U}  ${Q} of ${ee}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>$.setPageIndex(0),disabled:!$.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>$.previousPage(),disabled:!$.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>$.nextPage(),disabled:!$.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>$.setPageIndex($.getPageCount()-1),disabled:!$.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]})]})},Qj=({url:t,fileName:h,title:e,onOpen:a})=>{const[l,f]=Wt.useState(!1),o=`data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="96" height="96">
      <rect width="100%" height="100%" fill="#f3f4f6"/>
      <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle"
        font-family="Arial" font-size="12" fill="#9ca3af">No photo</text>
    </svg>`)}`,c=!l&&t?t:o,s=()=>{a?a():t&&!l&&window.open(t,"_blank","noopener,noreferrer")},r=i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),s())};return w.jsxs("div",{className:"group relative w-24 h-24 mx-auto rounded-md overflow-hidden border bg-gray-50 flex items-center justify-center",role:"button",tabIndex:0,onClick:s,onKeyDown:r,title:e??h??"",children:[w.jsx("img",{src:c,alt:h??"after-hst",loading:"lazy",onError:()=>f(!0),className:"w-full h-full object-cover"}),w.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors"}),w.jsx("div",{className:"absolute bottom-1 left-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:w.jsx("div",{className:"text-[10px] leading-tight text-white bg-black/60 rounded px-1 py-0.5 text-center",children:t&&!l?"Edit / Replace Photo":"Upload Photo"})})]})},ek=()=>{const[t,h]=J.useState([]),[e,a]=J.useState({}),[l,f]=J.useState({}),[o,c]=J.useState({pageIndex:0,pageSize:15}),[s,r]=J.useState({}),[i,b]=J.useState({}),[d,u]=J.useState(!1),[v,x]=J.useState(""),m=J.useRef(null),[g,y]=J.useState(!1),[C,E]=J.useState(null),A=async()=>{const Y=new Fs.Workbook,X=Y.addWorksheet("ToolKeyAlls"),O=K.getVisibleLeafColumns().filter(k=>k.id!=="actions");O.map(k=>k.id).forEach((k,T)=>{const M=X.getCell(1,T+1);M.value=k,M.font={name:"Arial",size:10,bold:!0},M.alignment={vertical:"middle",horizontal:"center"},M.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),K.getFilteredRowModel().rows.forEach((k,T)=>{const M=T+2;O.forEach((F,$)=>{const V=F.id,W=k.original[V],ee=X.getCell(M,$+1);let U="";typeof W=="boolean"?U=W?"":"-":W!=null&&(U=String(W)),ee.value=U,ee.font={name:"Arial",size:10},ee.alignment={vertical:"middle",horizontal:"center"},ee.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),X.columns.forEach(k=>{k.width=15});const _=await Y.xlsx.writeBuffer(),j=new Blob([_],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});$s.saveAs(j,"ToolKeyAlls.xlsx")},D=Wt.useCallback(()=>{fetch("/api/ToolKeyAlls").then(Y=>Y.json()).then(Y=>{h(Y);const X=Object.keys(Y[0]||{}),O={};X.forEach(P=>{O[P]=Array.from(new Set(Y.map(N=>String(N[P]??"")))).sort()}),a(O)})},[]);J.useEffect(()=>{D()},[D]);const q=J.useMemo(()=>t.filter(Y=>Object.entries(l).every(([X,O])=>{if(!O.length)return!0;const P=String(Y[X]??"");return O.includes(P)})),[t,l]),B=Y=>{var $,V,W;const[X,O]=J.useState(""),P=J.useRef(null),N=J.useRef(null),[_,j]=J.useState(null),[k,T]=J.useState({});J.useEffect(()=>{l[Y]&&T(ee=>({...ee,[Y]:[...l[Y]]}))},[s[Y]]),J.useEffect(()=>{const ee=U=>{var Q;N.current&&!N.current.contains(U.target)&&!((Q=P.current)!=null&&Q.contains(U.target))&&r(L=>({...L,[Y]:!1}))};return document.addEventListener("mousedown",ee),()=>document.removeEventListener("mousedown",ee)},[Y]),J.useEffect(()=>{if(s[Y]&&P.current){const ee=P.current.getBoundingClientRect(),U=window.scrollX||document.documentElement.scrollLeft,Q=window.scrollY||document.documentElement.scrollTop;j({top:ee.bottom+Q+4,left:ee.left+U,width:ee.width})}},[s[Y]]);const M=()=>{r(ee=>({...ee,[Y]:!ee[Y]}))},F=ee=>{const U=ee??"null";T(Q=>{const L=new Set(Q[Y]||[]);return L.has(U)?L.delete(U):L.add(U),{...Q,[Y]:Array.from(L)}})};return w.jsxs(w.Fragment,{children:[w.jsx("button",{ref:P,onClick:M,className:"ml-1 px-1 py-0.5 border text-xs bg-white rounded shadow",children:""}),s[Y]&&w.jsxs("div",{ref:N,className:"fixed z-[9999] rounded-md border bg-white shadow-lg p-2",style:_?{top:_.top,left:_.left,minWidth:_.width,visibility:"visible"}:{visibility:"hidden"},children:[w.jsx("input",{type:"text",placeholder:"Search...",className:"w-full mb-2 px-2 py-1 border rounded text-sm",onChange:ee=>O(ee.target.value.toLowerCase())}),w.jsxs("label",{className:"block text-xs font-medium px-1 py-0.5 text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:(($=k[Y])==null?void 0:$.length)===(((V=e[Y])==null?void 0:V.map(ee=>ee??"null").length)||0),onChange:()=>{var Q;const ee=((Q=e[Y])==null?void 0:Q.map(L=>L??"null"))||[],U=k[Y]||[];T(L=>({...L,[Y]:U.length===ee.length?[]:ee}))}}),"(Select All)"]}),w.jsx("div",{className:"max-h-48 overflow-y-auto mt-1",children:(W=e[Y])==null?void 0:W.filter(ee=>(ee??"(Blanks)").toLowerCase().includes(X)).map(ee=>{var Q;const U=ee??"null";return w.jsxs("label",{className:"block px-1 py-0.5 text-sm text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:(Q=k[Y])==null?void 0:Q.includes(U),onChange:()=>F(ee)}),ee||"(Blanks)"]},U)})}),w.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t",children:[w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-gray-100",onClick:()=>r(ee=>({...ee,[Y]:!1})),children:"Cancel"}),w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-blue-600 text-white",onClick:()=>{f(ee=>({...ee,[Y]:(k[Y]||[]).map(U=>U.trim())})),r(ee=>({...ee,[Y]:!1}))},children:"OK"})]})]})]})},z=J.useMemo(()=>{const Y=new Set(["pic_before_hst_file_name","tool_key_id"]);return Object.keys(t[0]||{}).filter(O=>!Y.has(O)).map(O=>{const P=O==="image_url",N={accessorKey:O,header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:[P?"Photo":O,!P&&B(O)]})};return P&&(N.cell=({row:_})=>w.jsx(Qj,{url:_.original.image_url,fileName:_.original.pic_before_hst_file_name,title:`${_.original.tool_name??""} ${_.original.size_ref??""}`,onOpen:()=>{(_.original.tool_key_id??_.original.tool_key_id)&&(E({tool_key_id:_.original.tool_key_id,url:_.original.image_url,name:_.original.pic_before_hst_file_name}),y(!0))}}),N.enableSorting=!1),N})},[t,e,l,s]),K=Xr({data:q,columns:z,state:{pagination:o,columnVisibility:i},onPaginationChange:c,onColumnVisibilityChange:b,getCoreRowModel:Vr(),getSortedRowModel:Ls(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:w.jsx("div",{className:"flex flex-wrap gap-3 items-center justify-between",children:w.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:A,children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export XLSX"]}),w.jsxs("div",{ref:m,className:"relative",children:[w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:()=>u(Y=>!Y),children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16M4 6v12M12 6v12M20 6v12"})}),"Columns",w.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform duration-200 ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),d&&w.jsxs("div",{className:"absolute top-full mt-2 right-0 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50 animate-in fade-in-0 zoom-in-95 duration-200 max-h-80 overflow-hidden",children:[w.jsx("div",{className:"p-3 border-b border-gray-200",children:w.jsx("input",{type:"text",value:v,onChange:Y=>x(Y.target.value),placeholder:"Search columns...",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),w.jsx("div",{className:"max-h-60 overflow-y-auto",children:K.getAllLeafColumns().filter(Y=>{var X;return(X=Y.id)==null?void 0:X.toLowerCase().includes(v.toLowerCase())}).map(Y=>w.jsxs("label",{className:"flex items-center px-3 py-2 text-sm hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:[w.jsx("input",{type:"checkbox",checked:Y.getIsVisible(),onChange:()=>Y.toggleVisibility(),className:"mr-3 w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),w.jsx("span",{className:"text-gray-700",children:Y.id})]},Y.id))})]})]})]})})}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-center",children:[w.jsx("thead",{className:"bg-gray-100 border-b sticky top-0 z-10",children:K.getHeaderGroups().map(Y=>w.jsx("tr",{children:Y.headers.map(X=>w.jsx("th",{colSpan:X.colSpan,className:"px-2 py-2 border text-center font-semibold text-xs text-gray-700 whitespace-nowrap",children:Yt(X.column.columnDef.header,X.getContext())},X.id))},Y.id))}),w.jsx("tbody",{children:K.getRowModel().rows.map(Y=>w.jsx("tr",{className:"hover:bg-blue-50 transition-colors duration-100 even:bg-gray-50",children:Y.getVisibleCells().map(X=>w.jsx("td",{className:"px-2 py-2 border text-sm text-gray-800 whitespace-nowrap",children:Yt(X.column.columnDef.cell,X.getContext())},X.id))},Y.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 mt-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:K.getState().pagination.pageSize,onChange:Y=>K.setPageSize(Number(Y.target.value)),className:"border rounded px-2 py-1 text-sm",children:[10,15,25,50,100].map(Y=>w.jsx("option",{value:Y,children:Y},Y))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:Y,pageSize:X}=K.getState().pagination,O=q.length,P=Y*X+1,N=Math.min(P+X-1,O);return`${P}  ${N} of ${O}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>K.setPageIndex(0),disabled:!K.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>K.previousPage(),disabled:!K.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>K.nextPage(),disabled:!K.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>K.setPageIndex(K.getPageCount()-1),disabled:!K.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]}),g&&C&&w.jsx(vj,{originalKeyId:C.tool_key_id,phase:"before-hst",currentUrl:C.url??void 0,currentName:C.name??void 0,onClose:()=>y(!1),onSuccess:()=>{y(!1),D()}})]})},Wc=zr(Se),tk=({onClose:t,onSubmitSuccess:h,initialData:e,fromClone:a})=>{const[l,f]=J.useState([]),[o,c]=J.useState([]),[s,r]=J.useState([]),[i,b]=J.useState([]),[d,u]=J.useState([]),[v,x]=J.useState([]),[m,g]=J.useState(!1),[y,C]=J.useState({type_id:(e==null?void 0:e.type_id)??null,tool_id:(e==null?void 0:e.tool_id)??null,type_ref_id:(e==null?void 0:e.type_ref_id)??null,tool_ref_id:(e==null?void 0:e.tool_ref_id)??null,size_ref_id:(e==null?void 0:e.size_ref_id)??null,machine_id:(e==null?void 0:e.machine_id)??null,description:(e==null?void 0:e.description)??""});J.useEffect(()=>{Promise.all([mt.get("/api/TypeModels"),mt.get("/api/Tools"),mt.get("/api/SizeRefs"),mt.get("/api/Machines")]).then(([q,B,z,K])=>{const Y=(X,O,P)=>X.map(N=>({value:N[P],label:N[O]??"(Blanks)"}));f(Y(q.data,"type_name","type_id")),r(Y(q.data,"type_name","type_id")),c(Y(B.data,"tool_name","tool_id")),b(Y(B.data,"tool_name","tool_id")),u(Y(z.data,"size_ref","size_ref_id")),x(Y(K.data,"machine_no","machine_id"))})},[]);const E=(q,B)=>{var z;return((z=q.find(K=>K.value===B))==null?void 0:z.label)??String(B)},A=async()=>{var N,_;const{type_id:q,tool_id:B,type_ref_id:z,tool_ref_id:K,size_ref_id:Y,machine_id:X}=y;if(!q||!B||!z||!K||!Y||!X){await Wc.fire({icon:"warning",title:"Missing Fields",text:"Please fill in all fields before submitting.",confirmButtonText:"OK",customClass:{confirmButton:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded"}});return}const O=localStorage.getItem("token");if((await Wc.fire({title:"Confirm submission?",text:"Do you want to submit this request to add Tool-Machine mapping?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Submit",cancelButtonText:"Cancel",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded",popup:"text-sm"}})).isConfirmed){g(!0);try{const{data:j}=await mt.get("/api/ToolKeyAlls/check",{params:{type_id:q,tool_id:B,type_ref_id:z,tool_ref_id:K,size_ref_id:Y},headers:O?{Authorization:`Bearer ${O}`}:void 0});if(!(j!=null&&j.tool_key_id))throw new Error("ToolKeyAlls not found with selected values.");console.log(" tool_key_id:",j.tool_key_id),await mt.post("/api/Requests",{request_type:"INSERT",target_table:"ToolMachineMap",target_pk_id:null,old_data:null,new_data:{tool_key_id:j.tool_key_id,tool_type:E(l,q),tool_name:E(o,B),type_ref:E(s,z),tool_ref:E(i,K),size_ref:E(d,Y),machine_id:X,machine_no:E(v,X),description:((N=y.description)==null?void 0:N.trim())||null},note:null},{headers:O?{Authorization:`Bearer ${O}`}:void 0}),await Wc.fire({icon:"success",title:"Submitted!",text:"Your request to add Tool-Machine mapping has been submitted.",confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",popup:"text-sm"}}),h(),t()}catch(j){console.error(j);let k="Something went wrong during submission.";mt.isAxiosError(j)&&((_=j.response)!=null&&_.data)?typeof j.response.data=="string"?k=j.response.data:j.response.data.message&&(k=j.response.data.message):j!=null&&j.message&&(k=j.message),await Wc.fire({icon:"error",title:"Submission Failed",text:k,confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}finally{g(!1)}}},D=(q,B,z)=>w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:B}),w.jsx(bn,{options:z,isClearable:!0,value:z.find(K=>K.value===y[q])||null,onChange:K=>C({...y,[q]:(K==null?void 0:K.value)||null}),menuPortalTarget:document.body,styles:{menuPortal:K=>({...K,zIndex:9999})}})]});return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-[999] flex justify-center items-center",children:w.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-auto shadow-xl",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Add Tool Machine Mapping (Request)"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[D("type_id","Tool Type",l),D("tool_id","Tool Name",o),D("type_ref_id","Type Ref",s),D("tool_ref_id","Tool Ref",i),D("size_ref_id","Size Ref",d),D("machine_id","Machine No",v)]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Description (optional)"}),w.jsx("textarea",{value:y.description,onChange:q=>C({...y,description:q.target.value}),rows:3,placeholder:"Enter description...",className:"w-full border rounded px-3 py-2 text-sm"})]}),w.jsxs("div",{className:"flex justify-end gap-3",children:[w.jsx("button",{onClick:t,disabled:m,className:"border px-5 py-1.5 rounded text-sm hover:bg-gray-100",children:"Cancel"}),w.jsx("button",{onClick:A,disabled:m,className:`${m?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white px-5 py-1.5 rounded text-sm`,children:m?"Submitting...":"Submit Request"})]})]})})},Nn=zr(Se),rk=async(t,h)=>{var l,f,o,c,s,r;const e="swal-machine-search",a=(i,b)=>{var d;return((d=i.find(u=>u.label===b))==null?void 0:d.value)??null};try{console.log(" Editing Machine Map"),console.log(" Selected map_id:",t.map_id),console.log(" Current machine_no:",t.machine_no);const i=Nn.fire({title:"Loading machines...",allowOutsideClick:!1,didOpen:()=>{Nn.showLoading()}}),b=localStorage.getItem("token"),u=await(await fetch("/api/Machines",{headers:{Authorization:`Bearer ${b}`}})).json();await Nn.close();const v=Array.isArray(u)?u.map(ee=>({machine_id:ee.machine_id,machine_no:ee.machine_no})):[];if(!v.length){await Nn.fire({icon:"warning",title:"No Machines",text:"No machine data available.",confirmButtonText:"OK",customClass:{confirmButton:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded"}});return}const x=ee=>(ee??"").replace(/</g,"&lt;").replace(/>/g,"&gt;"),m=(ee,U)=>`<tr><td style="padding:4px 8px; vertical-align:top;"><b>${ee}:</b></td><td>${x(U)}</td></tr>`,{isConfirmed:g,value:y}=await Nn.fire({title:"Edit Machine Mapping",html:`
        <div style="font-size:15px; text-align:left;">
          <table style="width:100%; margin-bottom:16px;">
            ${m("Tool Type",t.tool_type)}
            ${m("Tool Name",t.tool_name)}
            ${m("Type Ref",t.type_ref)}
            ${m("Tool Ref",t.tool_ref)}
            ${m("Size Ref",t.size_ref)}
          </table>

          <label style="font-weight:bold;">Machine No:</label><br/>
          <input id="${e}" list="machine-list" value="${x(t.machine_no)}" placeholder="Search..." class="swal2-input" style="margin-top:12px;" />
          <br/><label style="font-weight:bold; margin-top:12px;">Description:</label><br/>
            <input id="swal-description" value="${x(t.description??"")}" placeholder="Optional description"
              class="swal2-input" style="margin-top:6px;"/>
          <datalist id="machine-list">
            ${v.map(ee=>`<option value="${x(ee.machine_no)}"></option>`).join("")}
          </datalist>
        </div>
      `,showCancelButton:!0,confirmButtonText:" Submit Request",cancelButtonText:"Cancel",focusConfirm:!1,customClass:{popup:"swal2-rounded text-sm",confirmButton:"bg-[#2563eb] hover:bg-[#1d4ed8] text-white font-semibold px-5 py-2 rounded-md text-sm",cancelButton:"bg-[#f1f5f9] hover:bg-[#e2e8f0] text-black font-normal px-5 py-2 rounded-md text-sm ml-2"},buttonsStyling:!1,preConfirm:()=>{var Q,L,I,Z;const ee=(L=(Q=document.getElementById(e))==null?void 0:Q.value)==null?void 0:L.trim();if(!ee)return Nn.showValidationMessage("Please select a machine"),null;const U=(Z=(I=document.getElementById("swal-description"))==null?void 0:I.value)==null?void 0:Z.trim();return{machine_no:ee,description:U||null}}});if(!g||!y){console.log(" Edit cancelled or machine not changed.");return}const C=y.machine_no.trim(),E=y.description,A=v.find(ee=>ee.machine_no===C);if(C===t.machine_no.trim()&&(E||"")===(((l=t.description)==null?void 0:l.trim())||"")){await Nn.fire({icon:"info",title:"No Changes",text:"You didn't change anything. No request submitted.",confirmButtonText:"OK",customClass:{confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded"}});return}if(!A){await Nn.fire({icon:"error",title:"Invalid Machine",text:"Selected machine not found.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const q=A.machine_id;if(console.log(" Selected machine_id:",q),!(await Nn.fire({icon:"question",title:"Confirm Update?",text:`Submit a request to update machine to ${C}?`,showCancelButton:!0,confirmButtonText:"Yes, Submit",cancelButtonText:"Cancel",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed){console.log(" User cancelled confirmation.");return}const z={tool_type:t.tool_type,tool_name:t.tool_name,type_ref:t.type_ref,tool_ref:t.tool_ref,size_ref:t.size_ref,machine_no:t.machine_no,description:t.description??null},[K,Y,X,O,P]=await Promise.all([fetch("/api/TypeModels",{headers:{Authorization:`Bearer ${b}`}}).then(ee=>ee.json()),fetch("/api/Tools",{headers:{Authorization:`Bearer ${b}`}}).then(ee=>ee.json()),fetch("/api/TypeModels",{headers:{Authorization:`Bearer ${b}`}}).then(ee=>ee.json()),fetch("/api/Tools",{headers:{Authorization:`Bearer ${b}`}}).then(ee=>ee.json()),fetch("/api/SizeRefs",{headers:{Authorization:`Bearer ${b}`}}).then(ee=>ee.json())]),N=(ee,U,Q)=>ee.map(L=>({value:L[U],label:L[Q]})),_=N(K,"type_id","type_name"),j=N(Y,"tool_id","tool_name"),k=_,T=j,M=N(P,"size_ref_id","size_ref"),$=await(await fetch("/api/ToolKeyAlls/check?"+new URLSearchParams({type_id:((f=a(_,t.tool_type))==null?void 0:f.toString())??"",tool_id:((o=a(j,t.tool_name))==null?void 0:o.toString())??"",type_ref_id:((c=a(k,t.type_ref))==null?void 0:c.toString())??"",tool_ref_id:((s=a(T,t.tool_ref))==null?void 0:s.toString())??"",size_ref_id:((r=a(M,t.size_ref))==null?void 0:r.toString())??""}),{headers:{Authorization:`Bearer ${b}`}})).json();if(!($!=null&&$.tool_key_id)){await Nn.fire({icon:"error",title:"Cannot Resolve Tool",text:"Could not resolve tool_key_id for this mapping.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const V={tool_key_id:$.tool_key_id,tool_type:t.tool_type,tool_name:t.tool_name,type_ref:t.type_ref,tool_ref:t.tool_ref,size_ref:t.size_ref,machine_id:A.machine_id,machine_no:A.machine_no,description:E};console.log(" Payload for request:",V);const W=await fetch("/api/Requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({request_type:"UPDATE",target_table:"ToolMachineMap",target_pk_id:t.map_id,old_data:z,new_data:V,note:null})});if(!W.ok){const ee=await W.text();console.error(" Update request error:",ee),await Nn.fire({icon:"error",title:"Submission Failed",text:ee||"Server error",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}await Nn.fire({icon:"success",title:"Request Submitted",text:"Your update request has been submitted successfully.",confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),h()}catch(i){console.error(" Edit machine map error:",i),await Nn.fire({icon:"error",title:"Error",text:(i==null?void 0:i.message)||"Unexpected error occurred",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},Gc=zr(Se),nk=()=>{const[t,h]=J.useState([]),[e,a]=J.useState({}),[l,f]=J.useState({}),[o,c]=J.useState([]),[s,r]=J.useState({}),[i,b]=J.useState({pageIndex:0,pageSize:15}),[d,u]=J.useState({}),[v,x]=J.useState(!1),[m,g]=J.useState(!1),[y,C]=J.useState(null),[E,A]=J.useState(!1),[D,q]=J.useState([]),[B,z]=J.useState([]),[K,Y]=J.useState([]),[X,O]=J.useState([]),[P,N]=J.useState([]),[_,j]=J.useState([]),[k,T]=J.useState({created_at_start:"",created_at_end:"",updated_at_start:"",updated_at_end:""}),[M,F]=J.useState(""),$=J.useRef(null),[V,W]=J.useState(null),[ee,U]=J.useState(!1);J.useEffect(()=>{const ae=re=>{var ue;const oe=document.getElementById("columns-dropdown-portal");oe&&!oe.contains(re.target)&&!((ue=$.current)!=null&&ue.contains(re.target))&&U(!1)};if(ee&&$.current){const re=requestAnimationFrame(()=>{const oe=$.current.getBoundingClientRect();W({top:oe.bottom+window.scrollY+8,left:oe.right+window.scrollX-256})});return document.addEventListener("mousedown",ae),()=>{cancelAnimationFrame(re),document.removeEventListener("mousedown",ae)}}},[ee]);const Q=async()=>{const ae=new Fs.Workbook,re=ae.addWorksheet("ToolMachineMap"),oe=me.getVisibleLeafColumns().filter(Ae=>Ae.id!=="actions");oe.map(Ae=>Ae.id).forEach((Ae,Pe)=>{const Fe=re.getCell(1,Pe+1);Fe.value=Ae,Fe.font={name:"Arial",size:10,bold:!0},Fe.alignment={vertical:"middle",horizontal:"center"},Fe.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),me.getFilteredRowModel().rows.forEach((Ae,Pe)=>{const Fe=Pe+2,pe=Ae.original.pending_request;let Ee,He;pe==="UPDATE"?(Ee="FEFCE8",He="854D0E"):pe==="DELETE"&&(Ee="FEF2F2",He="991B1B"),oe.forEach((Me,ve)=>{const de=Me.id,we=Ae.original[de],he=re.getCell(Fe,ve+1);let ye="";typeof we=="boolean"?ye=we?"":"-":we!=null&&(ye=String(we)),he.value=ye,he.font={name:"Arial",size:10,color:He?{argb:He}:void 0},he.alignment={vertical:"middle",horizontal:"center"},he.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},Ee&&(he.fill={type:"pattern",pattern:"solid",fgColor:{argb:Ee}})})}),re.columns.forEach(Ae=>{Ae.width=15});const be=await ae.xlsx.writeBuffer(),Ce=new Blob([be],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});$s.saveAs(Ce,"ToolMachineMap.xlsx")},[L,I]=J.useState(null);J.useEffect(()=>{const ae=localStorage.getItem("token");if(ae)try{const re=ae.split(".")[1],oe=atob(re),ue=JSON.parse(oe);I(ue.role??null)}catch(re){console.error("Invalid token format",re)}},[]),J.useEffect(()=>{Promise.all([fetch("/api/TypeModels").then(ae=>ae.json()),fetch("/api/Tools").then(ae=>ae.json()),fetch("/api/TypeModels").then(ae=>ae.json()),fetch("/api/Tools").then(ae=>ae.json()),fetch("/api/SizeRefs").then(ae=>ae.json()),fetch("/api/Machines").then(ae=>ae.json())]).then(([ae,re,oe,ue,fe,be])=>{const Ce=(Ae,Pe,Fe)=>Ae.map(pe=>({value:pe[Fe],label:pe[Pe]??"(Blanks)"}));q(Ce(ae,"type_name","type_id")),z(Ce(re,"tool_name","tool_id")),Y(Ce(oe,"type_name","type_id")),O(Ce(ue,"tool_name","tool_id")),N(Ce(fe,"size_ref","size_ref_id")),j(Ce(be,"machine_no","machine_id"))})},[]);const Z=()=>{const ae=new URLSearchParams;Object.entries(l).forEach(([oe,ue])=>{ue.forEach(fe=>ae.append(oe,fe))}),Object.entries(k).forEach(([oe,ue])=>{ue&&ae.append(oe,ue)});const re=v?`/api/ToolMachineMap/pivot?${ae.toString()}`:`/api/ToolMachineMap?${ae.toString()}`;console.log(" Sending filterValues:",l),console.log(" Final API URL:",re),fetch(re).then(oe=>oe.json()).then(oe=>{h(oe);const ue=Object.keys(oe[0]||{}),fe={};ue.forEach(be=>{fe[be]=Array.from(new Set(oe.map(Ce=>Ce[be]==null?"(Blanks)":String(Ce[be])))).sort()}),a(fe)}).catch(oe=>console.error("Error fetching data:",oe))};J.useEffect(()=>{Z()},[l,k,v]);const te=async ae=>{console.log(" Deleting row:",ae),console.log(" map_id to delete:",ae.map_id);const re=fe=>(fe??"").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(!(await Gc.fire({title:"Are you sure?",html:`
      <table style="text-align:left; font-size:18px; line-height:1.6;">
        <tr><td><b>Tool Type:</b></td><td>${re(ae.tool_type)}</td></tr>
        <tr><td><b>Tool Name:</b></td><td>${re(ae.tool_name)}</td></tr>
        <tr><td><b>Type Ref:</b></td><td>${re(ae.type_ref)}</td></tr>
        <tr><td><b>Tool Ref:</b></td><td>${re(ae.tool_ref)}</td></tr>
        <tr><td><b>Size Ref:</b></td><td>${re(ae.size_ref)}</td></tr>
        <tr><td><b>Machine No:</b></td><td>${re(ae.machine_no)}</td></tr>
      </table>
    `,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, submit request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed)return;const ue=localStorage.getItem("token");console.log("TOKEN:",ue);try{const fe={map_id:ae.map_id,tool_key_id:ae.tool_key_id,tool_type:ae.tool_type,tool_name:ae.tool_name,type_ref:ae.type_ref,tool_ref:ae.tool_ref,size_ref:ae.size_ref,machine_no:ae.machine_no,description:ae.description??null},be=await fetch("/api/Requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ue}`},body:JSON.stringify({request_type:"DELETE",target_table:"ToolMachineMap",target_pk_id:ae.map_id,old_data:fe,new_data:null,note:null})});if(!be.ok){const Ce=await be.text();console.error(" Delete request failed:",Ce),await Gc.fire({icon:"error",title:"Submission Failed",text:Ce||"Server error",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}console.log(" Delete request submitted!"),await Gc.fire({icon:"success",title:"Request Submitted",text:"Your delete request has been submitted successfully.",confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),Z()}catch(fe){console.error(" Exception during deletion:",fe),await Gc.fire({icon:"error",title:"Error",text:(fe==null?void 0:fe.message)||"An unexpected error occurred while deleting.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},ie=ae=>{var He,Me,ve;const re=(l[ae]??[]).length>0,[oe,ue]=J.useState(""),fe=J.useRef(null),be=J.useRef(null),[Ce,Ae]=J.useState(null),[Pe,Fe]=J.useState({});J.useEffect(()=>{l[ae]&&Fe(de=>({...de,[ae]:[...l[ae]]}))},[d[ae]]),J.useEffect(()=>{const de=we=>{var he;be.current&&!be.current.contains(we.target)&&!((he=fe.current)!=null&&he.contains(we.target))&&u(ye=>({...ye,[ae]:!1}))};return document.addEventListener("mousedown",de),()=>document.removeEventListener("mousedown",de)},[ae]),J.useEffect(()=>{if(d[ae]&&fe.current){const de=fe.current.getBoundingClientRect(),we=window.scrollX||document.documentElement.scrollLeft,he=window.scrollY||document.documentElement.scrollTop;Ae({top:de.bottom+he+4,left:de.left+we,width:de.width})}},[d[ae]]);const pe=()=>{u(de=>({...de,[ae]:!de[ae]}))},Ee=de=>{const we=de==null||de===""?"null":de;Fe(he=>{const ye=new Set(he[ae]||[]);return ye.has(we)?ye.delete(we):ye.add(we),{...he,[ae]:Array.from(ye)}})};return w.jsxs(w.Fragment,{children:[w.jsx("button",{ref:fe,onClick:pe,className:`ml-1 px-2 py-0.5 border text-xs rounded shadow transition-colors duration-150 ${re?"bg-blue-600 border-blue-700 text-white hover:bg-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:""}),d[ae]&&w.jsxs("div",{ref:be,className:"fixed z-[9999] rounded-md border bg-white shadow-lg p-2",style:Ce?{top:Ce.top,left:Ce.left,minWidth:Ce.width,visibility:"visible"}:{visibility:"hidden"},children:[w.jsx("input",{type:"text",value:oe,placeholder:"Search...",className:"w-full mb-2 px-2 py-1 border rounded text-sm",onChange:de=>ue(de.target.value.toLowerCase())}),w.jsxs("label",{className:"block text-xs font-medium px-1 py-0.5 text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:((He=Pe[ae])==null?void 0:He.length)===(((Me=e[ae])==null?void 0:Me.map(de=>de??"null").length)||0),onChange:()=>{var he;const de=((he=e[ae])==null?void 0:he.map(ye=>ye??"null"))||[],we=Pe[ae]||[];Fe(ye=>({...ye,[ae]:we.length===de.length?[]:de}))}}),"(Select All)"]}),w.jsx("div",{className:"max-h-48 overflow-y-auto mt-1",children:(ve=e[ae])==null?void 0:ve.filter(de=>(de??"(Blanks)").toLowerCase().includes(oe)).map(de=>{var he;const we=de==null||de===""?"null":de;return w.jsxs("label",{className:"block px-1 py-0.5 text-sm text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:(he=Pe[ae])==null?void 0:he.includes(we),onChange:()=>Ee(de)}),de||"(Blanks)"]},we)})}),w.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t",children:[w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-gray-100",onClick:()=>u(de=>({...de,[ae]:!1})),children:"Cancel"}),w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-blue-600 text-white",onClick:()=>{f(de=>({...de,[ae]:(Pe[ae]||[]).map(we=>we.trim())})),u(de=>({...de,[ae]:!1}))},children:"OK"})]})]})]})},se=ae=>ae?new Date(ae).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",le=J.useMemo(()=>{const ae=fe=>fe.replace(/_/g," ").replace(/\b\w/g,be=>be.toUpperCase());if(v)return[{accessorKey:"tool_type",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Tool Type ",ie("tool_type")]})},{accessorKey:"tool_name",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Tool Name ",ie("tool_name")]})},{accessorKey:"type_ref",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Type Ref ",ie("type_ref")]})},{accessorKey:"tool_ref",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Tool Ref ",ie("tool_ref")]})},{accessorKey:"size_ref",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Size Ref ",ie("size_ref")]})},{accessorKey:"machine_no",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Machine No ",ie("machine_no")]})}];const re=Object.keys(t[0]||{}).filter(fe=>fe!=="map_id"),oe=["tool_type","tool_name","type_ref","tool_ref","size_ref","machine_no","description","create_by","create_at","update_by","update_at","pending_request"];return[...[...oe.filter(fe=>re.includes(fe)),...re.filter(fe=>!oe.includes(fe))].map(fe=>{const be=fe==="create_at"||fe==="update_at";return{accessorKey:fe,header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:[ae(fe)," ",!be&&ie(fe)]}),cell:({row:Ce})=>fe==="create_at"||fe==="update_at"?se(Ce.original[fe]):Ce.original[fe]??""}}),{id:"actions",header:"Actions",cell:({row:fe})=>["admin","editor"].includes(L||"")?w.jsxs("div",{className:"flex gap-2 justify-center",children:[w.jsx("button",{onClick:()=>rk(fe.original,Z),className:"px-2 py-1 text-xs border rounded text-blue-600 border-blue-600 hover:bg-blue-50",children:"Edit"}),w.jsx("button",{onClick:()=>{var Ae,Pe,Fe,pe,Ee,He;const Ce={type_id:((Ae=D.find(Me=>Me.label===fe.original.tool_type))==null?void 0:Ae.value)??13,tool_id:((Pe=B.find(Me=>Me.label===fe.original.tool_name))==null?void 0:Pe.value)??2,type_ref_id:((Fe=K.find(Me=>Me.label===fe.original.type_ref))==null?void 0:Fe.value)??13,tool_ref_id:((pe=X.find(Me=>Me.label===fe.original.tool_ref))==null?void 0:pe.value)??2,size_ref_id:((Ee=P.find(Me=>Me.label===fe.original.size_ref))==null?void 0:Ee.value)??12,machine_id:((He=_.find(Me=>Me.label===fe.original.machine_no))==null?void 0:He.value)??null,description:fe.original.description??""};C(Ce),g(!0),A(!0)},className:"px-2 py-1 text-xs border rounded text-green-600 border-green-600 hover:bg-green-50",children:"Clone"}),w.jsx("button",{onClick:()=>te(fe.original),className:"px-2 py-1 text-xs border rounded text-red-600 border-red-600 hover:bg-red-50",children:"Delete"})]}):null}]},[t,e,l,d,v]),me=Xr({data:t,columns:le,state:{columnFilters:o,columnVisibility:s,pagination:i},onColumnFiltersChange:c,onColumnVisibilityChange:r,onPaginationChange:b,getCoreRowModel:Vr(),getSortedRowModel:Ls(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:w.jsx(io,{className:"w-6 h-6 text-yellow-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending UPDATE"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(ae=>String(ae.pending_request).toUpperCase()==="UPDATE").length})]})]})}),w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:w.jsx(oo,{className:"w-6 h-6 text-red-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending DELETE"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(ae=>String(ae.pending_request).toUpperCase()==="DELETE").length})]})]})})]}),w.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:w.jsxs("div",{className:"flex justify-between items-center px-4",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:Q,children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export XLSX"]}),w.jsxs("button",{className:`inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 ${v?"bg-blue-100 text-blue-800":"bg-white"}`,onClick:()=>x(ae=>!ae),children:["View: ",v?"Group By Pad Name":"Raw"]}),w.jsxs("div",{className:"relative",children:[w.jsxs("button",{ref:$,onClick:()=>U(ae=>!ae),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16M4 6v12M12 6v12M20 6v12"})}),"Columns",w.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform duration-200 ${ee?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),ee&&V&&Jr.createPortal(w.jsxs("div",{id:"columns-dropdown-portal",className:"fixed z-[9999] w-64 bg-white border border-gray-200 rounded-lg shadow-lg max-h-80 overflow-hidden animate-in fade-in-0 zoom-in-95 duration-200",style:{top:(V==null?void 0:V.top)??0,left:(V==null?void 0:V.left)??0},children:[w.jsx("div",{className:"p-3 border-b border-gray-200",children:w.jsx("input",{type:"text",value:M,onChange:ae=>F(ae.target.value),placeholder:"Search columns...",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),w.jsx("div",{className:"max-h-60 overflow-y-auto",children:me.getAllLeafColumns().filter(ae=>{var re;return(re=ae.id)==null?void 0:re.toLowerCase().includes(M.toLowerCase())}).map(ae=>w.jsxs("label",{className:"flex items-center px-3 py-2 text-sm hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:[w.jsx("input",{type:"checkbox",checked:ae.getIsVisible(),onChange:()=>ae.toggleVisibility(),className:"mr-3 w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),w.jsx("span",{className:"text-gray-700",children:ae.id})]},ae.id))})]}),document.body)]}),w.jsx(la,{filterMode:"datetime",onFilterApply:T,initialFilters:k})]}),["admin","editor"].includes(L||"")&&w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg shadow-sm hover:bg-blue-700 hover:shadow-md active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:()=>g(!0),children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Mapping"]})]})}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-center",children:[w.jsx("thead",{className:"bg-gray-100 border-b sticky top-0 z-10",children:me.getHeaderGroups().map(ae=>w.jsx("tr",{children:ae.headers.map(re=>w.jsx("th",{colSpan:re.colSpan,className:"px-2 py-2 border text-center font-semibold text-xs text-gray-700 whitespace-nowrap",children:Yt(re.column.columnDef.header,re.getContext())},re.id))},ae.id))}),w.jsx("tbody",{children:me.getRowModel().rows.map(ae=>w.jsx("tr",{className:`transition-colors duration-100 ${ae.original.pending_request==="UPDATE"?"bg-yellow-50 text-yellow-900 border-l-4 border-yellow-400":ae.original.pending_request==="DELETE"?"bg-red-50 text-red-800 border-l-4 border-red-500":"even:bg-gray-50"} hover:bg-blue-50`,children:ae.getVisibleCells().map(re=>w.jsx("td",{className:"px-2 py-2 border text-sm text-gray-800 whitespace-nowrap",children:Yt(re.column.columnDef.cell,re.getContext())},re.id))},ae.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 mt-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:me.getState().pagination.pageSize,onChange:ae=>me.setPageSize(Number(ae.target.value)),className:"border rounded px-2 py-1 text-sm",children:[10,15,25,50,100].map(ae=>w.jsx("option",{value:ae,children:ae},ae))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:ae,pageSize:re}=me.getState().pagination,oe=t.length,ue=ae*re+1,fe=Math.min(ue+re-1,oe);return`${ue}  ${fe} of ${oe}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>me.setPageIndex(0),disabled:!me.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>me.previousPage(),disabled:!me.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>me.nextPage(),disabled:!me.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>me.setPageIndex(me.getPageCount()-1),disabled:!me.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]}),m&&w.jsx(tk,{initialData:y,fromClone:E,onClose:()=>{g(!1),C(null),A(!1)},onSubmitSuccess:()=>{g(!1),C(null),A(!1),Z()}})]})},Zc=zr(Se),sk=({onClose:t,onSubmitSuccess:h,initialData:e,fromClone:a})=>{const[l,f]=J.useState([]),[o,c]=J.useState([]),[s,r]=J.useState([]),[i,b]=J.useState([]),[d,u]=J.useState([]),[v,x]=J.useState([]),[m,g]=J.useState([]),[y,C]=J.useState(!1),[E,A]=J.useState({type_id:(e==null?void 0:e.type_id)??null,tool_id:(e==null?void 0:e.tool_id)??null,type_ref_id:(e==null?void 0:e.type_ref_id)??null,tool_ref_id:(e==null?void 0:e.tool_ref_id)??null,size_ref_id:(e==null?void 0:e.size_ref_id)??null,pad_id:(e==null?void 0:e.pad_id)??null,hst_type_id:(e==null?void 0:e.hst_type_id)??null,description:(e==null?void 0:e.description)??""});J.useEffect(()=>{Promise.all([mt.get("/api/TypeModels"),mt.get("/api/Tools"),mt.get("/api/SizeRefs"),mt.get("/api/HstTypes"),mt.get("/api/Pads")]).then(([z,K,Y,X,O])=>{const P=(N,_,j)=>N.map(k=>({value:k[j],label:k[_]??"(Blanks)"}));f(P(z.data,"type_name","type_id")),r(P(z.data,"type_name","type_id")),c(P(K.data,"tool_name","tool_id")),b(P(K.data,"tool_name","tool_id")),u(P(Y.data,"size_ref","size_ref_id")),x(P(X.data,"hst_type","hst_type_id")),g(P(O.data,"pad_name","pad_id"))})},[]);const D=(z,K)=>{var Y;return((Y=z.find(X=>X.value===K))==null?void 0:Y.label)??String(K)},q=async()=>{var k;const{type_id:z,tool_id:K,type_ref_id:Y,tool_ref_id:X,size_ref_id:O,hst_type_id:P,pad_id:N}=E;if(!z||!K||!Y||!X||!O||!P||!N){await Zc.fire({icon:"warning",title:"Missing Fields",text:"Please fill in all fields before submitting.",confirmButtonText:"OK",customClass:{confirmButton:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded"}});return}const _=localStorage.getItem("token");if((await Zc.fire({title:"Confirm submission?",text:"Do you want to submit this request to add Tool-Pad mapping?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Submit",cancelButtonText:"Cancel",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded",popup:"text-sm"}})).isConfirmed){C(!0);try{const{data:T}=await mt.get("/api/ToolKeyAlls/check",{params:{type_id:z,tool_id:K,type_ref_id:Y,tool_ref_id:X,size_ref_id:O},headers:_?{Authorization:`Bearer ${_}`}:void 0});if(!(T!=null&&T.tool_key_id))throw new Error("ToolKeyAlls not found with selected values.");console.log(" tool_key_id:",T.tool_key_id),await mt.post("/api/Requests",{request_type:"INSERT",target_table:"ToolPadMap",target_pk_id:null,old_data:null,new_data:{tool_key_id:T.tool_key_id,tool_type:D(l,z),tool_name:D(o,K),type_ref:D(s,Y),tool_ref:D(i,X),size_ref:D(d,O),pad_id:N,pad_name:D(m,N),hst_type_id:P,hst_type:D(v,P),description:E.description??""},note:null},{headers:_?{Authorization:`Bearer ${_}`}:void 0}),await Zc.fire({icon:"success",title:"Submitted!",text:"Your request to add Tool-Pad mapping has been submitted.",confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",popup:"text-sm"}}),h(),t()}catch(T){console.error(T);let M="Something went wrong during submission.";mt.isAxiosError(T)&&((k=T.response)!=null&&k.data)?typeof T.response.data=="string"?M=T.response.data:T.response.data.message&&(M=T.response.data.message):T!=null&&T.message&&(M=T.message),await Zc.fire({icon:"error",title:"Submission Failed",text:M,confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}finally{C(!1)}}},B=(z,K,Y)=>w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:K}),w.jsx(bn,{options:Y,isClearable:!0,value:Y.find(X=>X.value===E[z])||null,onChange:X=>A({...E,[z]:(X==null?void 0:X.value)||null}),menuPortalTarget:document.body,styles:{menuPortal:X=>({...X,zIndex:9999})}})]});return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-[999] flex justify-center items-center",children:w.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-auto shadow-xl",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Add Tool Pad Mapping (Request)"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[B("type_id","Tool Type",l),B("tool_id","Tool Name",o),B("type_ref_id","Type Ref",s),B("tool_ref_id","Tool Ref",i),B("size_ref_id","Size Ref",d),B("hst_type_id","HST Type",v),B("pad_id","Pad",m)]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Description (optional)"}),w.jsx("textarea",{value:E.description,onChange:z=>A({...E,description:z.target.value}),rows:3,placeholder:"Enter description...",className:"w-full border rounded px-3 py-2 text-sm"})]}),w.jsxs("div",{className:"flex justify-end gap-3",children:[w.jsx("button",{onClick:t,disabled:y,className:"border px-5 py-1.5 rounded text-sm hover:bg-gray-100",children:"Cancel"}),w.jsx("button",{onClick:q,disabled:y,className:`${y?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white px-5 py-1.5 rounded text-sm`,children:y?"Submitting...":"Submit Request"})]})]})})},Ms=zr(Se),ik=async(t,h)=>{var f,o,c,s,r,i,b;const e="swal-pad-search",a="swal-hst-search",l=(d,u)=>{var v;return((v=d.find(x=>x.label===u))==null?void 0:v.value)??null};try{console.log(" Editing Pad Map",t);const d=localStorage.getItem("token");if(console.log("TOKEN:",d),d){const L=d.split(".")[1],I=atob(L),Z=JSON.parse(I);console.log("Decoded Payload:",Z),console.log("ROLE FROM TOKEN:",Z.role)}const[u,v,x,m,g]=await Promise.all([fetch("/api/TypeModels",{headers:{Authorization:`Bearer ${d}`}}).then(L=>L.json()),fetch("/api/Tools",{headers:{Authorization:`Bearer ${d}`}}).then(L=>L.json()),fetch("/api/TypeModels",{headers:{Authorization:`Bearer ${d}`}}).then(L=>L.json()),fetch("/api/Tools",{headers:{Authorization:`Bearer ${d}`}}).then(L=>L.json()),fetch("/api/SizeRefs",{headers:{Authorization:`Bearer ${d}`}}).then(L=>L.json())]),y=u.map(L=>({value:L.type_id,label:L.type_name})),C=v.map(L=>({value:L.tool_id,label:L.tool_name})),E=y,A=C,D=g.map(L=>({value:L.size_ref_id,label:L.size_ref})),[q,B]=await Promise.all([fetch("/api/Pads",{headers:{Authorization:`Bearer ${d}`}}),fetch("/api/HstTypes",{headers:{Authorization:`Bearer ${d}`}})]),z=await q.json(),K=await B.json(),Y=z||[],X=K||[];if(!Y.length||!X.length){await Ms.fire({icon:"warning",title:"No Data",text:"Missing pad or HST type data.",confirmButtonText:"OK",customClass:{confirmButton:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded"}});return}const O=L=>(L??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),P=(L,I)=>`<tr><td style="padding:4px 8px; vertical-align:top;"><b>${L}:</b></td><td>${O(I)}</td></tr>`,{isConfirmed:N,value:_}=await Ms.fire({title:"Edit Pad Mapping",html:`
        <div style="font-size:15px; text-align:left;">
          <table style="width:100%; margin-bottom:16px;">
            ${P("Tool Type",t.tool_type)}
            ${P("Tool Name",t.tool_name)}
            ${P("Type Ref",t.type_ref)}
            ${P("Tool Ref",t.tool_ref)}
            ${P("Size Ref",t.size_ref)}
          </table>

          <div style="margin-bottom:14px;">
            <label style="font-weight:bold; display:block; margin-bottom:6px;">Pad Name:</label>
            <input id="${e}" list="pad-list" value="${O(t.pad_name)}" 
              class="swal2-input" style="max-width: 350px; width: 100%;" />
            <datalist id="pad-list">
              ${Y.map(L=>`<option value="${O(L.pad_name)}"></option>`).join("")}
            </datalist>
          </div>

          <div>
            <label style="font-weight:bold; display:block; margin-bottom:6px;">HST Type:</label>
            <input id="${a}" list="hst-list" value="${O(t.hst_type)}" 
              class="swal2-input" style="max-width: 350px; width: 100%;" />
            <datalist id="hst-list">
              ${X.map(L=>`<option value="${O(L.hst_type)}"></option>`).join("")}
            </datalist>
          </div>
          <div style="margin-top:16px;">
            <label style="font-weight:bold; margin-top:12px;">Description:</label><br/>
            <input id="swal-description" value="${O(t.description??"")}" placeholder="Optional description"
              class="swal2-input" style="max-width: 350px; width: 100%;"/>
          </div>

        </div>
      `,showCancelButton:!0,confirmButtonText:" Save",cancelButtonText:"Cancel",focusConfirm:!1,customClass:{popup:"swal2-rounded text-sm",confirmButton:"bg-[#2563eb] hover:bg-[#1d4ed8] text-white font-semibold px-5 py-2 rounded-md text-sm",cancelButton:"bg-[#f1f5f9] hover:bg-[#e2e8f0] text-black font-normal px-5 py-2 rounded-md text-sm ml-2"},buttonsStyling:!1,preConfirm:()=>{var te,ie,se,le;const L=(te=document.getElementById(e))==null?void 0:te.value.trim(),I=(ie=document.getElementById(a))==null?void 0:ie.value.trim();if(!L||!I)return Ms.showValidationMessage("Please select both Pad and HST Type"),null;const Z=(le=(se=document.getElementById("swal-description"))==null?void 0:se.value)==null?void 0:le.trim();return{pad_name:L,hst_type:I,description:Z??""}}});if(!N||!_)return;const j=Y.find(L=>L.pad_name.toLowerCase()===_.pad_name.toLowerCase()),k=X.find(L=>L.hst_type.toLowerCase()===_.hst_type.toLowerCase()),T=_.pad_name.trim(),M=_.hst_type.trim(),F=((f=_.description)==null?void 0:f.trim())??"";if(T===t.pad_name.trim()&&M===t.hst_type.trim()&&(F||"")===(((o=t.description)==null?void 0:o.trim())||"")){await Ms.fire({icon:"info",title:"No Changes",text:"You didn't change anything. No request submitted.",confirmButtonText:"OK",customClass:{confirmButton:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded"}});return}if(!j||!k){await Ms.fire({icon:"error",title:"Invalid Selection",text:"Pad or HST type not found.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const V={tool_type:t.tool_type,tool_name:t.tool_name,type_ref:t.type_ref,tool_ref:t.tool_ref,size_ref:t.size_ref,pad_name:t.pad_name,hst_type:t.hst_type,description:t.description??""},ee=await(await fetch("/api/ToolKeyAlls/check?"+new URLSearchParams({type_id:((c=l(y,t.tool_type))==null?void 0:c.toString())??"",tool_id:((s=l(C,t.tool_name))==null?void 0:s.toString())??"",type_ref_id:((r=l(E,t.type_ref))==null?void 0:r.toString())??"",tool_ref_id:((i=l(A,t.tool_ref))==null?void 0:i.toString())??"",size_ref_id:((b=l(D,t.size_ref))==null?void 0:b.toString())??""}),{headers:{Authorization:`Bearer ${d}`}})).json();if(!(ee!=null&&ee.tool_key_id)){await Ms.fire({icon:"error",title:"Cannot Resolve Tool",text:"Could not find matching tool_key_id for this tool + ref combination.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}const U={tool_key_id:ee.tool_key_id,tool_type:t.tool_type,tool_name:t.tool_name,type_ref:t.type_ref,tool_ref:t.tool_ref,size_ref:t.size_ref,pad_id:j.pad_id,pad_name:j.pad_name,hst_type_id:k.hst_type_id,hst_type:k.hst_type,description:_.description??""};console.log(" Payload for request:",U);const Q=await fetch("/api/Requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({request_type:"UPDATE",target_table:"ToolPadMap",target_pk_id:t.map_id,old_data:V,new_data:U,note:null})});if(!Q.ok){const L=await Q.text();console.error(" Request submission error:",L),await Ms.fire({icon:"error",title:"Submission Failed",text:L||"Request submission failed. Please contact your administrator.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}console.log(" Request submitted successfully!"),await Ms.fire({icon:"success",title:"Submitted!",text:"Your update request for Tool-Pad Map has been submitted for approval.",confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),h()}catch(d){console.error(" Edit pad map error:",d),await Ms.fire({icon:"error",title:"Error",text:(d==null?void 0:d.message)||"Unexpected error occurred",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},Ki=zr(Se.mixin({customClass:{container:"z-[20000]"}})),n1=t=>({uploadAfterHst:`/api/ToolPadMap/${t}/after-hst`,deleteAfterHst:`/api/ToolPadMap/${t}/after-hst`}),Jc=t=>t<1024?`${t} B`:t<1024**2?`${(t/1024).toFixed(1)} KB`:t<1024**3?`${(t/1024**2).toFixed(1)} MB`:`${(t/1024**3).toFixed(1)} GB`,s1=new Set(["image/jpeg","image/png","image/webp"]),Oh=8*1024*1024,Qc=.5,eu=5,Uo=.2,ok=({src:t,alt:h,className:e="",onLoad:a,onError:l})=>{const[f,o]=J.useState(1),[c,s]=J.useState({x:0,y:0}),[r,i]=J.useState(!1),[b,d]=J.useState({x:0,y:0}),[u,v]=J.useState(!1),x=J.useRef(null),m=J.useRef(null),g=J.useCallback(()=>{o(1),s({x:0,y:0})},[]),y=J.useCallback(B=>{B.preventDefault();const z=B.deltaY>0?-Uo:Uo;o(K=>Math.max(Qc,Math.min(eu,K+z)))},[]),C=J.useCallback(B=>{f<=1||(B.preventDefault(),i(!0),d({x:B.clientX-c.x,y:B.clientY-c.y}))},[f,c]),E=J.useCallback(B=>{!r||f<=1||(B.preventDefault(),s({x:B.clientX-b.x,y:B.clientY-b.y}))},[r,b,f]),A=J.useCallback(()=>{i(!1)},[]),D=J.useCallback(()=>{v(!0),a==null||a()},[a]),q=J.useCallback(()=>{l==null||l()},[l]);return J.useEffect(()=>{const B=z=>{var K;if((K=x.current)!=null&&K.contains(document.activeElement))switch(z.key){case"+":case"=":z.preventDefault(),o(Y=>Math.min(eu,Y+Uo));break;case"-":z.preventDefault(),o(Y=>Math.max(Qc,Y-Uo));break;case"0":z.preventDefault(),g();break}};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[g]),w.jsxs("div",{ref:x,className:`relative overflow-hidden bg-gray-900 ${e}`,tabIndex:0,role:"img","aria-label":`${h} - Use mouse wheel to zoom, drag to pan when zoomed`,onWheel:y,onMouseDown:C,onMouseMove:E,onMouseUp:A,onMouseLeave:A,children:[w.jsx("img",{ref:m,src:t,alt:h,className:`transition-transform duration-200 ${r?"cursor-grabbing":f>1?"cursor-grab":"cursor-pointer"}`,style:{transform:`scale(${f}) translate(${c.x/f}px, ${c.y/f}px)`,transformOrigin:"center center"},onLoad:D,onError:q,draggable:!1}),u&&w.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1 bg-black/70 rounded-lg p-1",children:[w.jsx("button",{onClick:()=>o(B=>Math.min(eu,B+Uo)),className:"w-8 h-8 flex items-center justify-center text-white hover:bg-white/20 rounded transition-colors",title:"Zoom in (+)",disabled:f>=eu,children:"+"}),w.jsx("button",{onClick:()=>o(B=>Math.max(Qc,B-Uo)),className:"w-8 h-8 flex items-center justify-center text-white hover:bg-white/20 rounded transition-colors",title:"Zoom out (-)",disabled:f<=Qc,children:""}),w.jsx("button",{onClick:g,className:"w-8 h-8 flex items-center justify-center text-white hover:bg-white/20 rounded transition-colors text-xs",title:"Reset zoom (0)",children:"1:1"})]}),!u&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:w.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full"})})]})},i1=({src:t,alt:h,size:e="small",onClick:a})=>{const[l,f]=J.useState(!1),[o,c]=J.useState(!1),s=e==="small"?"w-24 h-24":"w-full h-64";return o?w.jsx("div",{className:`${s} rounded-md bg-gray-100 border flex items-center justify-center`,children:w.jsx("div",{className:"text-xs text-gray-400",children:"Failed to load"})}):w.jsxs("div",{className:`${s} rounded-md overflow-hidden border bg-gray-50 flex items-center justify-center relative ${a?"cursor-pointer":""}`,onClick:a,children:[!l&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full"})}),w.jsx("img",{src:t,alt:h,className:`w-full h-full object-cover transition-opacity ${l?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>c(!0),loading:"lazy"})]})},ak=({mapId:t,currentUrl:h,currentName:e,onClose:a,onSuccess:l})=>{const[f,o]=J.useState(null),[c,s]=J.useState(null),[r,i]=J.useState(!1),[b,d]=J.useState(!1),[u,v]=J.useState(!1),[x,m]=J.useState(0),g=J.useRef(null),y=J.useRef(null);J.useEffect(()=>()=>{c&&URL.revokeObjectURL(c)},[c]),J.useEffect(()=>{const O=P=>{P.key==="Escape"&&(u?v(!1):a())};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[a,u]);const C=J.useCallback(O=>s1.has(O.type)?O.size>Oh?`File size must be under ${Jc(Oh)}. Your file is ${Jc(O.size)}.`:null:"Please upload JPG, PNG, WEBP, or GIF files only.",[]),E=J.useCallback(O=>{const P=C(O);if(P){Ki.fire({icon:"warning",title:"Invalid File",text:P,confirmButtonColor:"#3b82f6"});return}c&&URL.revokeObjectURL(c),o(O),s(URL.createObjectURL(O))},[c,C]),A=J.useCallback(O=>{O.preventDefault(),O.stopPropagation(),d(!0)},[]),D=J.useCallback(O=>{O.preventDefault(),O.stopPropagation(),d(!1)},[]),q=J.useCallback(O=>{O.preventDefault(),O.stopPropagation(),d(!1);const P=Array.from(O.dataTransfer.files),N=P.find(_=>s1.has(_.type));N?E(N):P.length>0&&Ki.fire({icon:"warning",title:"Unsupported File",text:"Please drop an image file (JPG, PNG, WEBP, or GIF).",confirmButtonColor:"#3b82f6"})},[E]),B=J.useCallback(async()=>{if(f)try{i(!0),m(0),y.current=new AbortController;const O=localStorage.getItem("token"),P=new FormData;P.append("file",f);const N=new XMLHttpRequest;N.upload.onprogress=j=>{j.lengthComputable&&m(j.loaded/j.total*100)};const _=new Promise((j,k)=>{N.onreadystatechange=()=>{N.readyState===XMLHttpRequest.DONE&&(N.status>=200&&N.status<300?j():k(new Error(N.responseText||`Upload failed (${N.status})`)))},N.onerror=()=>k(new Error("Network error occurred")),N.onabort=()=>k(new Error("Upload cancelled")),N.open("POST",n1(t).uploadAfterHst),O&&N.setRequestHeader("Authorization",`Bearer ${O}`),N.send(P)});y.current.signal.addEventListener("abort",()=>N.abort()),await _,await Ki.fire({icon:"success",title:"Upload Successful",text:"The image has been saved successfully.",confirmButtonText:"Great!",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-green-500",popup:"rounded-xl shadow-2xl border border-gray-200",container:"z-[20000]"}}),l(),a()}catch(O){O.message!=="Upload cancelled"&&await Ki.fire({icon:"error",title:"Upload Failed",text:(O==null?void 0:O.message)||"An unexpected error occurred during upload.",confirmButtonColor:"#ef4444"})}finally{i(!1),m(0),y.current=null}},[f,t,l,a]),z=J.useCallback(()=>{y.current&&y.current.abort()},[]),K=J.useCallback(async()=>{if((await Ki.fire({icon:"warning",title:"Delete Photo",text:"Are you sure you want to permanently delete this image? This action cannot be undone.",showCancelButton:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel",confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold",cancelButton:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg font-medium",popup:"rounded-xl shadow-2xl border border-gray-200",container:"z-[20000]"}})).isConfirmed)try{i(!0);const P=localStorage.getItem("token"),N=await fetch(n1(t).deleteAfterHst,{method:"DELETE",headers:P?{Authorization:`Bearer ${P}`}:{}});if(!N.ok){const _=await N.text();throw new Error(_||`Delete failed (${N.status})`)}await Ki.fire({icon:"success",title:"Deleted",text:"The image has been successfully removed.",confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-green-500",popup:"rounded-xl shadow-2xl border border-gray-200",container:"z-[20000]"}}),l(),a()}catch(P){await Ki.fire({icon:"error",title:"Delete Failed",text:(P==null?void 0:P.message)||"Failed to delete the image. Please try again.",confirmButtonColor:"#ef4444"})}finally{i(!1)}},[t,l,a]),Y=J.useCallback(()=>{o(null),c&&(URL.revokeObjectURL(c),s(null)),g.current&&(g.current.value="")},[c]),X=J.useMemo(()=>`border-2 border-dashed rounded-xl p-6 text-center transition-all duration-200 ${b?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50 hover:bg-gray-100"}`,[b]);return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:O=>{O.target===O.currentTarget&&a()},children:w.jsxs("div",{className:"w-full max-w-2xl mx-4 rounded-2xl bg-white shadow-2xl border border-gray-200 max-h-[90vh] overflow-hidden",children:[w.jsxs("div",{className:"px-6 py-4 border-b bg-gray-50/50 flex items-center justify-between",children:[w.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Photo Manager"}),w.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close modal",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),w.jsxs("div",{className:"p-6 space-y-6 max-h-[calc(90vh-8rem)] overflow-y-auto",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Current Image"}),w.jsxs("div",{className:"flex items-center gap-4",children:[h?w.jsx(i1,{src:h,alt:e??"Current image",onClick:()=>v(!0)}):w.jsx("div",{className:"w-24 h-24 rounded-md border-2 border-dashed border-gray-200 bg-gray-50 flex items-center justify-center",children:w.jsx("div",{className:"text-xs text-gray-400",children:"No image"})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("div",{className:"text-sm text-gray-600 truncate",children:e||"No image uploaded"}),h&&w.jsxs("div",{className:"flex gap-2 mt-2",children:[w.jsx("button",{onClick:()=>v(!0),className:"text-blue-600 text-xs underline hover:text-blue-700",children:"View full size"}),w.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-xs underline hover:text-blue-700",children:"Open in new tab"})]})]})]})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Upload New Image"}),w.jsxs("div",{onDragOver:A,onDragLeave:D,onDrop:q,className:X,children:[w.jsx("input",{ref:g,id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:O=>{var N;const P=(N=O.target.files)==null?void 0:N[0];P&&E(P)}}),c?w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsx(i1,{src:c,alt:"Preview",onClick:()=>v(!0)}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-sm font-medium text-gray-700",children:f==null?void 0:f.name}),w.jsx("div",{className:"text-xs text-gray-500",children:f&&Jc(f.size)})]}),w.jsx("button",{onClick:Y,className:"text-sm px-4 py-2 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 transition-colors",children:"Remove"})]}):w.jsx("label",{htmlFor:"photo-upload",className:"cursor-pointer block",children:w.jsxs("div",{className:"flex flex-col items-center gap-3",children:[w.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-base font-medium text-gray-700",children:b?"Drop your image here":"Click to upload or drag & drop"}),w.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["JPG, PNG, WEBP  up to ",Jc(Oh)]})]})]})})]})]}),r&&x>0&&w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex justify-between text-sm",children:[w.jsx("span",{children:"Uploading..."}),w.jsxs("span",{children:[Math.round(x),"%"]})]}),w.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:w.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x}%`}})})]})]}),w.jsxs("div",{className:"px-6 py-4 border-t bg-gray-50/50 flex items-center justify-between",children:[w.jsx("button",{onClick:K,disabled:!h||r,className:`px-4 py-2 text-sm rounded-lg font-medium transition-colors ${h&&!r?"border border-red-300 text-red-700 hover:bg-red-50":"border border-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Delete Current"}),w.jsxs("div",{className:"flex items-center gap-3",children:[r&&w.jsx("button",{onClick:z,className:"px-4 py-2 text-sm rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),w.jsx("button",{onClick:a,disabled:r,className:"px-4 py-2 text-sm rounded-lg border border-gray-300 bg-white hover:bg-gray-50 disabled:opacity-50 transition-colors",children:"Close"}),w.jsx("button",{onClick:B,disabled:!f||r,className:`px-6 py-2 text-sm rounded-lg font-medium transition-colors ${f&&!r?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:r?"Saving...":"Save Image"})]})]})]})}),u&&(h||c)&&w.jsxs("div",{className:"fixed inset-0 z-[11000] bg-black/95 flex items-center justify-center",onClick:O=>{O.target===O.currentTarget&&v(!1)},children:[w.jsx("button",{onClick:()=>v(!1),className:"absolute top-4 right-4 z-10 text-white/80 hover:text-white p-2 rounded-full hover:bg-white/20 transition-colors","aria-label":"Close fullscreen view",children:w.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),w.jsx("div",{className:"w-full h-full max-w-7xl max-h-full p-4",children:w.jsx(ok,{src:c||h,alt:(f==null?void 0:f.name)||e||"Image",className:"w-full h-full rounded-lg"})}),w.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/70 text-white text-sm px-4 py-2 rounded-full",children:"Use mouse wheel to zoom  Drag to pan  Press ESC to close"})]})]})},tu=zr(Se),o1=({url:t,fileName:h,title:e,onOpen:a})=>{const[l,f]=Wt.useState(!1),o=`data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="96" height="96">
      <rect width="100%" height="100%" fill="#f3f4f6"/>
      <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle"
        font-family="Arial" font-size="12" fill="#9ca3af">No photo</text>
    </svg>`)}`,c=!l&&t?t:o,s=()=>{a?a():t&&!l&&window.open(t,"_blank","noopener,noreferrer")},r=i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),s())};return w.jsxs("div",{className:"group relative w-24 h-24 mx-auto rounded-md overflow-hidden border bg-gray-50 flex items-center justify-center",role:"button",tabIndex:0,onClick:s,onKeyDown:r,title:e??h??"",children:[w.jsx("img",{src:c,alt:h??"after-hst",loading:"lazy",onError:()=>f(!0),className:"w-full h-full object-cover"}),w.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors"}),w.jsx("div",{className:"absolute bottom-1 left-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:w.jsx("div",{className:"text-[10px] leading-tight text-white bg-black/60 rounded px-1 py-0.5 text-center",children:t&&!l?"Edit / Replace Photo":"Upload Photo"})})]})},lk=()=>{const[t,h]=J.useState([]),[e,a]=J.useState({}),[l,f]=J.useState({}),[o,c]=J.useState([]),[s,r]=J.useState({}),[i,b]=J.useState({pageIndex:0,pageSize:15}),[d,u]=J.useState({}),[v,x]=J.useState(!1),[m,g]=J.useState(!1),[y,C]=J.useState(null),[E,A]=J.useState(!1),[D,q]=J.useState([]),[B,z]=J.useState([]),[K,Y]=J.useState([]),[X,O]=J.useState([]),[P,N]=J.useState([]),[_,j]=J.useState([]),[k,T]=J.useState([]),[M,F]=J.useState(""),$=J.useRef(null),[V,W]=J.useState(null),[ee,U]=J.useState(!1),[Q,L]=J.useState(!1),[I,Z]=J.useState(null),[te,ie]=J.useState(!1),se=({label:ve="Loading..."})=>w.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center bg-white/70 backdrop-blur-sm",children:[w.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-gray-300 border-t-gray-700"}),w.jsx("div",{className:"mt-2 text-sm text-gray-700",children:ve})]});J.useEffect(()=>{const ve=de=>{var he;const we=document.getElementById("columns-dropdown-portal");we&&!we.contains(de.target)&&!((he=$.current)!=null&&he.contains(de.target))&&U(!1)};if(ee&&$.current){const de=requestAnimationFrame(()=>{const we=$.current.getBoundingClientRect();W({top:we.bottom+window.scrollY+8,left:we.right+window.scrollX-256})});return document.addEventListener("mousedown",ve),()=>{cancelAnimationFrame(de),document.removeEventListener("mousedown",ve)}}},[ee]);const[le,me]=J.useState({created_at_start:"",created_at_end:"",updated_at_start:"",updated_at_end:""}),ae=async()=>{var nt;const ve=new Fs.Workbook,de=ve.addWorksheet("ToolPadMap"),we=Me.getVisibleLeafColumns().filter($e=>$e.id!=="actions");we.map($e=>$e.id).forEach(($e,Re)=>{const De=de.getCell(1,Re+1);De.value=$e,De.font={name:"Arial",size:10,bold:!0},De.alignment={vertical:"middle",horizontal:"center"},De.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});const ye=$e=>($e||"").replace(/[^a-z0-9]/gi,"").toLowerCase(),Te=($e,Re)=>$e.find(De=>ye(De)===ye(Re))||"",Be=$e=>{if($e==null)return"";if(typeof $e=="boolean")return $e?"":"-";if(typeof $e=="number")return $e;const Re=String($e).trim();if(!Re)return"";const De=Re.toLowerCase();return De==="null"||De==="undefined"||Re==="(Blanks)"?"":Re},Ye=((nt=Me.getFilteredRowModel().rows[0])==null?void 0:nt.original)??{},at=Object.keys(Ye||{}),ot=["hst_pad","rim_pad","inner_pad","extra_rim_pad"],Ue={};ot.forEach($e=>{const Re=Te(at,$e);Re&&(Ue[$e]=Re)}),Me.getFilteredRowModel().rows.forEach(($e,Re)=>{const De=Re+2,Ve=$e.original.pending_request;let Qe,lt;Ve==="UPDATE"?(Qe="FEFCE8",lt="854D0E"):Ve==="DELETE"&&(Qe="FEF2F2",lt="991B1B"),we.forEach((ct,pt)=>{const _e=ct.id,Ne=Ue[_e]||Te(at,_e)||_e,We=$e.original[Ne],dt=Be(We),vt=de.getCell(De,pt+1);vt.value=dt,vt.font={name:"Arial",size:10,color:lt?{argb:lt}:void 0},vt.alignment={vertical:"middle",horizontal:"center"},vt.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},Qe&&(vt.fill={type:"pattern",pattern:"solid",fgColor:{argb:Qe}})})}),de.columns.forEach($e=>{$e.width=15});const je=await ve.xlsx.writeBuffer(),Je=new Blob([je],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});$s.saveAs(Je,"ToolPadMap.xlsx")},[re,oe]=J.useState(null);J.useEffect(()=>{const ve=localStorage.getItem("token");if(ve)try{const de=ve.split(".")[1],we=atob(de),he=JSON.parse(we);oe(he.role??null)}catch(de){console.error("Invalid token format",de)}},[]),J.useEffect(()=>{Promise.all([fetch("/api/TypeModels").then(ve=>ve.json()),fetch("/api/Tools").then(ve=>ve.json()),fetch("/api/TypeModels").then(ve=>ve.json()),fetch("/api/Tools").then(ve=>ve.json()),fetch("/api/SizeRefs").then(ve=>ve.json()),fetch("/api/Pads").then(ve=>ve.json()),fetch("/api/HstTypes").then(ve=>ve.json())]).then(([ve,de,we,he,ye,Te,Be])=>{const Ye=(at,ot,Ue)=>at.map(ze=>({value:ze[Ue],label:ze[ot]??"(Blanks)"}));q(Ye(ve,"type_name","type_id")),z(Ye(de,"tool_name","tool_id")),Y(Ye(we,"type_name","type_id")),O(Ye(he,"tool_name","tool_id")),N(Ye(ye,"size_ref","size_ref_id")),j(Ye(Te,"pad_name","pad_id")),T(Ye(Be,"hst_type","hst_type_id"))})},[]);const ue=()=>{ie(!0);const ve=new URLSearchParams;Object.entries(l).forEach(([we,he])=>{he.forEach(ye=>ve.append(we,ye))}),Object.entries(le).forEach(([we,he])=>{he&&ve.append(we,he)});const de=v?`/api/ToolPadMap/pivot?${ve.toString()}`:`/api/ToolPadMap/raw?${ve.toString()}`;console.log(" Sending filterValues:",l),console.log(" Final API URL:",de),fetch(de).then(we=>we.json()).then(we=>{h(we);const he=Object.keys(we[0]||{}),ye={};he.forEach(Te=>{ye[Te]=Array.from(new Set(we.map(Be=>Be[Te]==null||Be[Te]===""?"(Blanks)":String(Be[Te])))).sort()}),a(ye)}).catch(we=>console.error("Error fetching ToolPadMap:",we)).finally(()=>ie(!1))};J.useEffect(()=>{ue()},[l,le,v]);const fe=async ve=>{console.log(" Deleting ToolPadMap row via Request:",ve);const de=ye=>(ye??"-").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");if(!(await tu.fire({title:"Are you sure?",html:`
      <table style="text-align:left; font-size:18px; line-height:1.6;">
        <tr><td><b>Tool Type:</b></td><td>${de(ve.tool_type)}</td></tr>
        <tr><td><b>Tool Name:</b></td><td>${de(ve.tool_name)}</td></tr>
        <tr><td><b>Type Ref:</b></td><td>${de(ve.type_ref)}</td></tr>
        <tr><td><b>Tool Ref:</b></td><td>${de(ve.tool_ref)}</td></tr>
        <tr><td><b>Size Ref:</b></td><td>${de(ve.size_ref)}</td></tr>
        <tr><td><b>Pad Name:</b></td><td>${de(ve.pad_name)}</td></tr>
        <tr><td><b>HST Type:</b></td><td>${de(ve.hst_type)}</td></tr>
      </table>
    `,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, submit delete request",cancelButtonText:"Cancel",customClass:{popup:"text-sm",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",cancelButton:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded"}})).isConfirmed)return;const he=localStorage.getItem("token");if(console.log("TOKEN:",he),he){const ye=he.split(".")[1],Te=atob(ye),Be=JSON.parse(Te);console.log("Decoded Payload:",Be),console.log("ROLE FROM TOKEN:",Be.role)}try{const ye=await fetch("/api/Requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({request_type:"DELETE",target_table:"ToolPadMap",target_pk_id:ve.map_id,old_data:{tool_type:ve.tool_type,tool_name:ve.tool_name,type_ref:ve.type_ref,tool_ref:ve.tool_ref,size_ref:ve.size_ref,pad_name:ve.pad_name,hst_type:ve.hst_type,description:ve.description??""},new_data:null,note:null})});if(!ye.ok){const Te=await ye.text();console.error(" Request submission failed:",Te),await tu.fire({icon:"error",title:"Submission Failed",text:Te||"Server error",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}});return}console.log(" Delete request submitted successfully!"),await tu.fire({icon:"success",title:"Submitted!",text:"Your delete request for Tool-Pad Map has been submitted.",confirmButtonText:"OK",customClass:{confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"}}),ue()}catch(ye){console.error(" Exception during request submission:",ye),await tu.fire({icon:"error",title:"Error",text:(ye==null?void 0:ye.message)||"An unexpected error occurred while submitting the delete request.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"}})}},be=ve=>{var je,Je,nt;const de=(l[ve]??[]).length>0,[we,he]=J.useState(""),ye=J.useRef(null),Te=J.useRef(null),[Be,Ye]=J.useState(null),[at,ot]=J.useState({});J.useEffect(()=>{l[ve]&&ot($e=>({...$e,[ve]:[...l[ve]]}))},[d[ve]]),J.useEffect(()=>{const $e=Re=>{var De;Te.current&&!Te.current.contains(Re.target)&&!((De=ye.current)!=null&&De.contains(Re.target))&&u(Ve=>({...Ve,[ve]:!1}))};return document.addEventListener("mousedown",$e),()=>document.removeEventListener("mousedown",$e)},[ve]),J.useEffect(()=>{if(d[ve]&&ye.current){const $e=ye.current.getBoundingClientRect(),Re=window.scrollX||document.documentElement.scrollLeft,De=window.scrollY||document.documentElement.scrollTop;Ye({top:$e.bottom+De+4,left:$e.left+Re,width:$e.width})}},[d[ve]]);const Ue=()=>{u($e=>({...$e,[ve]:!$e[ve]}))},ze=$e=>{const Re=$e??"null";ot(De=>{const Ve=new Set(De[ve]||[]);return Ve.has(Re)?Ve.delete(Re):Ve.add(Re),{...De,[ve]:Array.from(Ve)}})};return w.jsxs(w.Fragment,{children:[w.jsx("button",{ref:ye,onClick:Ue,className:`ml-1 px-2 py-0.5 border text-xs rounded shadow transition-colors duration-150 ${de?"bg-blue-600 border-blue-700 text-white hover:bg-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:""}),d[ve]&&w.jsxs("div",{ref:Te,className:"fixed z-[9999] rounded-md border bg-white shadow-lg p-2",style:Be?{top:Be.top,left:Be.left,minWidth:Be.width,visibility:"visible"}:{visibility:"hidden"},children:[w.jsx("input",{type:"text",value:we,placeholder:"Search...",className:"w-full mb-2 px-2 py-1 border rounded text-sm",onChange:$e=>he($e.target.value.toLowerCase())}),w.jsxs("label",{className:"block text-xs font-medium px-1 py-0.5 text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:((je=at[ve])==null?void 0:je.length)===(((Je=e[ve])==null?void 0:Je.map($e=>$e??"null").length)||0),onChange:()=>{var De;const $e=((De=e[ve])==null?void 0:De.map(Ve=>Ve??"null"))||[],Re=at[ve]||[];ot(Ve=>({...Ve,[ve]:Re.length===$e.length?[]:$e}))}}),"(Select All)"]}),w.jsx("div",{className:"max-h-48 overflow-y-auto mt-1",children:(nt=e[ve])==null?void 0:nt.filter($e=>($e??"(Blanks)").toLowerCase().includes(we)).map($e=>{var De;const Re=$e??"null";return w.jsxs("label",{className:"block px-1 py-0.5 text-sm text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:(De=at[ve])==null?void 0:De.includes(Re),onChange:()=>ze($e)}),$e||"(Blanks)"]},Re)})}),w.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t",children:[w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-gray-100",onClick:()=>u($e=>({...$e,[ve]:!1})),children:"Cancel"}),w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-blue-600 text-white",onClick:()=>{f($e=>({...$e,[ve]:(at[ve]||[]).map(Re=>Re.trim())})),u($e=>({...$e,[ve]:!1}))},children:"OK"})]})]})]})},Ce=ve=>ve?new Date(ve).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",Ae=ve=>ve==null||String(ve).trim().toLowerCase()==="null"?"":String(ve).trim(),Pe=ve=>ve.replace(/[^a-z0-9]/gi,"").toLowerCase(),Fe=(ve,de)=>ve.find(we=>Pe(we)===Pe(de))||"",pe=["hst_pad","rim_pad","inner_pad","extra_rim_pad"],Ee={hst_pad:{urlKey:"hst_after_image_url",fileKey:"hst_after_file_name"},rim_pad:{urlKey:"rim_after_image_url",fileKey:"rim_after_file_name"},inner_pad:{urlKey:"inner_after_image_url",fileKey:"inner_after_file_name"},extra_rim_pad:{urlKey:"extra_rim_after_image_url",fileKey:"extra_rim_after_file_name"}},He=J.useMemo(()=>{const ve=je=>je.replace(/_/g," ").replace(/\b\w/g,Je=>Je.toUpperCase()),de=Object.keys(t[0]||{}).filter(je=>je!=="map_id"&&je!=="pic_after_hst_file_name"),we=pe.map(je=>({canon:je,padKey:Fe(de,je),urlKey:Fe(de,Ee[je].urlKey),fileKey:Fe(de,Ee[je].fileKey)})),he=new Set(["image_url",...we.flatMap(je=>[je.urlKey,je.fileKey].filter(Boolean))]),ye=new Set(we.map(je=>je.padKey).filter(Boolean)),Te=v?de.filter(je=>!he.has(je)&&!ye.has(je)):de,Be=["tool_type","tool_name","type_ref","tool_ref","size_ref"],Ye=["create_by","create_at","update_by","update_at","pending_request"],at=v?[...Be.filter(je=>Te.includes(je)),...pe,...Ye.filter(je=>Te.includes(je)),...Te.filter(je=>![...Be,...Ye].includes(je))]:["tool_type","tool_name","type_ref","tool_ref","size_ref","pad_name","hst_type","image_url",...Ye,...Te.filter(je=>!["tool_type","tool_name","type_ref","tool_ref","size_ref","pad_name","hst_type","image_url",...Ye].includes(je))],ot=[];for(const je of at){const Je=je==="create_at"||je==="update_at",nt=je==="create_at"||je==="update_at",$e=je==="image_url";if(v&&pe.includes(je)){const De=we.find(Ve=>Ve.canon===je);if(!De.padKey)continue;ot.push({id:je,header:()=>w.jsx("div",{className:"flex items-center justify-center",children:ve(je)}),cell:({row:Ve})=>{const Qe=Ae(Ve.original[De.padKey]),lt=Ae(De.urlKey?Ve.original[De.urlKey]:null),ct=Ae(De.fileKey?Ve.original[De.fileKey]:null);return!Qe&&!lt?null:w.jsxs("div",{className:"flex flex-col items-center gap-2 py-2",children:[Qe?w.jsx("div",{className:"font-semibold text-center",children:Qe}):null,lt?w.jsx(o1,{url:lt,fileName:ct||null,title:Qe||"",onOpen:()=>{Z({map_id:Ve.original.map_id,url:lt,name:ct||null})}}):null]})}});continue}const Re={accessorKey:je,header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:[ve(je)," ",!Je&&be(je)]})};nt&&(Re.cell=({row:De})=>Ce(De.original[je])),!v&&$e&&(Re.cell=({row:De})=>w.jsx(o1,{url:De.original.image_url??null,fileName:De.original.pic_after_hst_file_name??null,title:De.original.pad_name,onOpen:()=>{Z({map_id:De.original.map_id,url:De.original.image_url,name:De.original.pic_after_hst_file_name}),L(!0)}})),ot.push(Re)}const Ue={id:"actions",header:()=>"Actions",cell:({row:je})=>w.jsxs("div",{className:"flex gap-2 justify-center",children:[w.jsx("button",{onClick:()=>ik(je.original,ue),className:"px-2 py-1 text-xs border rounded text-blue-600 border-blue-600 hover:bg-blue-50",children:"Edit"}),w.jsx("button",{onClick:()=>{var nt,$e,Re,De,Ve,Qe,lt;const Je={type_id:((nt=D.find(ct=>ct.label===je.original.tool_type))==null?void 0:nt.value)??13,tool_id:(($e=B.find(ct=>ct.label===je.original.tool_name))==null?void 0:$e.value)??2,type_ref_id:((Re=K.find(ct=>ct.label===je.original.type_ref))==null?void 0:Re.value)??13,tool_ref_id:((De=X.find(ct=>ct.label===je.original.tool_ref))==null?void 0:De.value)??2,size_ref_id:((Ve=P.find(ct=>ct.label===je.original.size_ref))==null?void 0:Ve.value)??12,pad_id:((Qe=_.find(ct=>ct.label===je.original.pad_name))==null?void 0:Qe.value)??null,hst_type_id:((lt=k.find(ct=>ct.label===je.original.hst_type))==null?void 0:lt.value)??null,description:je.original.description??""};C(Je),g(!0),A(!0)},className:"px-2 py-1 text-xs border rounded text-green-600 border-green-600 hover:bg-green-50",children:"Clone"}),w.jsx("button",{onClick:()=>fe(je.original),className:"px-2 py-1 text-xs border rounded text-red-600 border-red-600 hover:bg-red-50",children:"Delete"})]})},ze=()=>["admin","editor"].includes(re||"");return[...ot,...v||!ze()?[]:[Ue]]},[t,v,re,d,e,l]),Me=Xr({data:t,columns:He,state:{columnFilters:o,columnVisibility:s,pagination:i},onColumnFiltersChange:c,onColumnVisibilityChange:r,onPaginationChange:b,getCoreRowModel:Vr(),getSortedRowModel:Ls(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:w.jsx(io,{className:"w-6 h-6 text-yellow-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending UPDATE"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(ve=>String(ve.pending_request).toUpperCase()==="UPDATE").length})]})]})}),w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:w.jsx(oo,{className:"w-6 h-6 text-red-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending DELETE"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(ve=>String(ve.pending_request).toUpperCase()==="DELETE").length})]})]})})]}),w.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:w.jsxs("div",{className:"flex justify-between items-center px-4",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:ae,children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export XLSX"]}),w.jsxs("button",{className:`inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 ${v?"bg-blue-100 text-blue-800":"bg-white"}`,onClick:()=>{ie(!0),x(ve=>!ve)},disabled:te,children:["View: ",v?"Group By Pad Name":"Raw"]}),w.jsxs("div",{className:"relative",children:[w.jsxs("button",{ref:$,onClick:()=>U(ve=>!ve),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16M4 6v12M12 6v12M20 6v12"})}),"Columns",w.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform duration-200 ${ee?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),ee&&V&&Jr.createPortal(w.jsxs("div",{id:"columns-dropdown-portal",className:"fixed z-[9999] w-64 bg-white border border-gray-200 rounded-lg shadow-lg max-h-80 overflow-hidden animate-in fade-in-0 zoom-in-95 duration-200",style:{top:(V==null?void 0:V.top)??0,left:(V==null?void 0:V.left)??0},children:[w.jsx("div",{className:"p-3 border-b border-gray-200",children:w.jsx("input",{type:"text",value:M,onChange:ve=>F(ve.target.value),placeholder:"Search columns...",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),w.jsx("div",{className:"max-h-60 overflow-y-auto",children:Me.getAllLeafColumns().filter(ve=>{var de;return(de=ve.id)==null?void 0:de.toLowerCase().includes(M.toLowerCase())}).map(ve=>w.jsxs("label",{className:"flex items-center px-3 py-2 text-sm hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:[w.jsx("input",{type:"checkbox",checked:ve.getIsVisible(),onChange:()=>ve.toggleVisibility(),className:"mr-3 w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),w.jsx("span",{className:"text-gray-700",children:ve.id})]},ve.id))})]}),document.body)]}),w.jsx(la,{filterMode:"datetime",onFilterApply:me,initialFilters:le})]}),["admin","editor"].includes(re||"")&&w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg shadow-sm hover:bg-blue-700 hover:shadow-md active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:()=>g(!0),children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Mapping"]})]})}),w.jsxs("div",{className:"overflow-auto max-h-[70vh] border rounded-lg","aria-busy":te,children:[te&&w.jsx(se,{label:v?"Loading Pivot...":"Loading Raw..."}),w.jsxs("table",{className:`min-w-full text-sm text-center ${te?"opacity-50 pointer-events-none":""}`,children:[w.jsx("thead",{className:"bg-gray-100 border-b sticky top-0 z-10",children:Me.getHeaderGroups().map(ve=>w.jsx("tr",{children:ve.headers.map(de=>w.jsx("th",{colSpan:de.colSpan,className:"px-2 py-2 border text-center font-semibold text-xs text-gray-700 whitespace-nowrap",children:Yt(de.column.columnDef.header,de.getContext())},de.id))},ve.id))}),w.jsx("tbody",{children:Me.getRowModel().rows.map(ve=>w.jsx("tr",{className:`transition-colors duration-100 ${ve.original.pending_request==="UPDATE"?"bg-yellow-50 text-yellow-900 border-l-4 border-yellow-400":ve.original.pending_request==="DELETE"?"bg-red-50 text-red-800 border-l-4 border-red-500":"even:bg-gray-50"} hover:bg-blue-50`,children:ve.getVisibleCells().map(de=>w.jsx("td",{className:"px-2 py-2 border text-sm text-gray-800 whitespace-nowrap",children:Yt(de.column.columnDef.cell,de.getContext())},de.id))},ve.id))})]})]}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 mt-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:Me.getState().pagination.pageSize,onChange:ve=>Me.setPageSize(Number(ve.target.value)),className:"border rounded px-2 py-1 text-sm",children:[10,15,25,50,100].map(ve=>w.jsx("option",{value:ve,children:ve},ve))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:ve,pageSize:de}=Me.getState().pagination,we=t.length,he=ve*de+1,ye=Math.min(he+de-1,we);return`${he}  ${ye} of ${we}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>Me.setPageIndex(0),disabled:!Me.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>Me.previousPage(),disabled:!Me.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>Me.nextPage(),disabled:!Me.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>Me.setPageIndex(Me.getPageCount()-1),disabled:!Me.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]}),m&&w.jsx(sk,{initialData:y,fromClone:E,onClose:()=>{g(!1),C(null),A(!1)},onSubmitSuccess:()=>{g(!1),C(null),A(!1),ue()}}),Q&&I&&w.jsx(ak,{mapId:I.map_id,currentUrl:I.url,currentName:I.name,onClose:()=>{L(!1),Z(null)},onSuccess:()=>{L(!1),Z(null),ue()}})]})},ck=()=>{const[t,h]=J.useState([]),[e,a]=J.useState({}),[l,f]=J.useState({}),[o,c]=J.useState([]),[s,r]=J.useState({}),[i,b]=J.useState({pageIndex:0,pageSize:15}),[d,u]=J.useState({}),v=async()=>{const C=new Fs.Workbook,E=C.addWorksheet("ToolPadHstBrassMap"),A=y.getVisibleLeafColumns().filter(K=>K.id!=="actions");A.map(K=>K.id).forEach((K,Y)=>{const X=E.getCell(1,Y+1);X.value=K,X.font={name:"Arial",size:10,bold:!0},X.alignment={vertical:"middle",horizontal:"center"},X.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),y.getFilteredRowModel().rows.forEach((K,Y)=>{const X=Y+2;A.forEach((O,P)=>{const N=O.id,_=K.original[N],j=E.getCell(X,P+1);let k="";typeof _=="boolean"?k=_?"":"-":_!=null&&(k=String(_)),j.value=k,j.font={name:"Arial",size:10},j.alignment={vertical:"middle",horizontal:"center"},j.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),E.columns.forEach(K=>{K.width=15});const B=await C.xlsx.writeBuffer(),z=new Blob([B],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});$s.saveAs(z,"ToolPadHstBrassMap.xlsx")};J.useEffect(()=>{fetch("/api/ToolPadHstBrassMap/pivot").then(C=>C.json()).then(C=>{h(C);const E=Object.keys(C[0]||{}),A={};E.forEach(D=>{A[D]=Array.from(new Set(C.map(q=>String(q[D]??"")))).sort()}),a(A)})},[]);const x=J.useMemo(()=>t.filter(C=>Object.entries(l).every(([E,A])=>{if(!A.length)return!0;const D=String(C[E]??"");return A.includes(D)})),[t,l]),m=C=>{var P,N,_;const[E,A]=J.useState(""),D=J.useRef(null),q=J.useRef(null),[B,z]=J.useState(null),[K,Y]=J.useState({});J.useEffect(()=>{l[C]&&Y(j=>({...j,[C]:[...l[C]]}))},[d[C]]),J.useEffect(()=>{const j=k=>{var T;q.current&&!q.current.contains(k.target)&&!((T=D.current)!=null&&T.contains(k.target))&&u(M=>({...M,[C]:!1}))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[C]),J.useEffect(()=>{if(d[C]&&D.current){const j=D.current.getBoundingClientRect(),k=window.scrollX||document.documentElement.scrollLeft,T=window.scrollY||document.documentElement.scrollTop;z({top:j.bottom+T+4,left:j.left+k,width:j.width})}},[d[C]]);const X=()=>{u(j=>({...j,[C]:!j[C]}))},O=j=>{const k=j??"null";Y(T=>{const M=new Set(T[C]||[]);return M.has(k)?M.delete(k):M.add(k),{...T,[C]:Array.from(M)}})};return w.jsxs(w.Fragment,{children:[w.jsx("button",{ref:D,onClick:X,className:"ml-1 px-1 py-0.5 border text-xs bg-white rounded shadow",children:""}),d[C]&&w.jsxs("div",{ref:q,className:"fixed z-[9999] rounded-md border bg-white shadow-lg p-2",style:B?{top:B.top,left:B.left,minWidth:B.width,visibility:"visible"}:{visibility:"hidden"},children:[w.jsx("input",{type:"text",placeholder:"Search...",className:"w-full mb-2 px-2 py-1 border rounded text-sm",onChange:j=>A(j.target.value.toLowerCase())}),w.jsxs("label",{className:"block text-xs font-medium px-1 py-0.5 text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:((P=K[C])==null?void 0:P.length)===(((N=e[C])==null?void 0:N.map(j=>j??"null").length)||0),onChange:()=>{var T;const j=((T=e[C])==null?void 0:T.map(M=>M??"null"))||[],k=K[C]||[];Y(M=>({...M,[C]:k.length===j.length?[]:j}))}}),"(Select All)"]}),w.jsx("div",{className:"max-h-48 overflow-y-auto mt-1",children:(_=e[C])==null?void 0:_.filter(j=>(j??"(Blanks)").toLowerCase().includes(E)).map(j=>{var T;const k=j??"null";return w.jsxs("label",{className:"block px-1 py-0.5 text-sm text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:(T=K[C])==null?void 0:T.includes(k),onChange:()=>O(j)}),j||"(Blanks)"]},k)})}),w.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t",children:[w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-gray-100",onClick:()=>u(j=>({...j,[C]:!1})),children:"Cancel"}),w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-blue-600 text-white",onClick:()=>{f(j=>({...j,[C]:(K[C]||[]).map(k=>k.trim())})),u(j=>({...j,[C]:!1}))},children:"OK"})]})]})]})},g=J.useMemo(()=>Object.keys(t[0]||{}).map(E=>({accessorKey:E,header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:[E,m(E)]})})),[t,e,l,d]),y=Xr({data:x,columns:g,state:{columnFilters:o,columnVisibility:s,pagination:i},onColumnFiltersChange:c,onColumnVisibilityChange:r,onPaginationChange:b,getCoreRowModel:Vr(),getSortedRowModel:Ls(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4 relative",children:[w.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:w.jsx("div",{className:"flex flex-wrap gap-3 items-center justify-between",children:w.jsx("div",{className:"flex flex-wrap gap-2",children:w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:v,children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export XLSX"]})})})}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm text-center",children:[w.jsx("thead",{className:"bg-gray-100 border-b sticky top-0 z-10",children:y.getHeaderGroups().map(C=>w.jsx("tr",{children:C.headers.map(E=>w.jsx("th",{colSpan:E.colSpan,className:"px-2 py-2 border text-center font-semibold text-xs text-gray-700 whitespace-nowrap",children:Yt(E.column.columnDef.header,E.getContext())},E.id))},C.id))}),w.jsx("tbody",{children:y.getRowModel().rows.map(C=>w.jsx("tr",{className:"hover:bg-blue-50 transition-colors duration-100 even:bg-gray-50",children:C.getVisibleCells().map(E=>w.jsx("td",{className:"px-2 py-2 border text-sm text-gray-800 whitespace-nowrap",children:Yt(E.column.columnDef.cell,E.getContext())},E.id))},C.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center px-4 py-2 mt-2 border-t bg-white",children:[w.jsxs("div",{className:"flex items-center text-sm",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:y.getState().pagination.pageSize,onChange:C=>y.setPageSize(Number(C.target.value)),className:"border rounded px-2 py-1 text-sm",children:[10,15,25,50,100].map(C=>w.jsx("option",{value:C,children:C},C))})]}),w.jsx("div",{className:"text-sm",children:(()=>{const{pageIndex:C,pageSize:E}=y.getState().pagination,A=x.length,D=C*E+1,q=Math.min(D+E-1,A);return`${D}  ${q} of ${A}`})()}),w.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[w.jsx("button",{onClick:()=>y.setPageIndex(0),disabled:!y.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>y.previousPage(),disabled:!y.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>y.nextPage(),disabled:!y.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>y.setPageIndex(y.getPageCount()-1),disabled:!y.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]})]})]})},uk=()=>{const[t,h]=J.useState([]),[e,a]=J.useState(!0),[l,f]=J.useState(null),[o,c]=J.useState(1),s=10,[r,i]=J.useState(null);J.useEffect(()=>{(async()=>{try{const x=await mt.get("/api/Logs");h(x.data),a(!1)}catch(x){console.error(x),f("Failed to load logs."),a(!1)}})()},[]);const b=t.slice((o-1)*s,o*s),d=v=>{i(v)};if(e)return w.jsx("div",{className:"p-4",children:"Loading logs..."});if(l)return w.jsx("div",{className:"p-4 text-red-600",children:l});const u=(v,x,m)=>{let g={},y={};try{v&&(g=JSON.parse(v)),x&&(y=JSON.parse(x))}catch(E){return console.error("Invalid JSON:",E),[]}return Array.from(new Set([...Object.keys(g),...Object.keys(y)])).map(E=>{const A=g[E];let D;return y.hasOwnProperty(E)?D=y[E]:D=A,{key:E,oldVal:A,newVal:D,changed:A!==D}})};return w.jsxs("div",{className:"p-4 overflow-auto",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4",children:"System Logs"}),w.jsxs("table",{className:"min-w-full text-xs border-collapse border border-gray-300",children:[w.jsx("thead",{className:"bg-gray-100",children:w.jsxs("tr",{children:[w.jsx("th",{className:"border px-2 py-2",children:"#"}),w.jsx("th",{className:"border px-2 py-2",children:"Date"}),w.jsx("th",{className:"border px-2 py-2",children:"Time"}),w.jsx("th",{className:"border px-2 py-2",children:"User"}),w.jsx("th",{className:"border px-2 py-2",children:"Action"}),w.jsx("th",{className:"border px-2 py-2",children:"Table"}),w.jsx("th",{className:"border px-2 py-2",children:"Target ID"}),w.jsx("th",{className:"border px-2 py-2",children:"Details"})]})}),w.jsx("tbody",{children:b.map(v=>{const x=new Date(v.created_at),m=x.toLocaleDateString(),g=x.toLocaleTimeString("en-US",{hour12:!1});return w.jsxs("tr",{className:"hover:bg-gray-50",children:[w.jsx("td",{className:"border px-2 py-2 text-center",children:v.log_id}),w.jsx("td",{className:"border px-2 py-2 text-center",children:m}),w.jsx("td",{className:"border px-2 py-2 text-center",children:g}),w.jsx("td",{className:"border px-2 py-2",children:v.username_snapshot||"-"}),w.jsx("td",{className:"border px-2 py-2",children:v.action}),w.jsx("td",{className:"border px-2 py-2",children:v.target_table}),w.jsx("td",{className:"border px-2 py-2",children:v.target_id}),w.jsx("td",{className:"border px-2 py-2 text-center",children:w.jsxs("button",{onClick:()=>d(v),className:`\r
                      inline-flex items-center gap-1\r
                      border border-gray-300\r
                      text-gray-700\r
                      hover:bg-gray-100\r
                      px-2 py-1\r
                      rounded\r
                      text-xs\r
                      transition-colors\r
                    `,children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"View Details"]})})]},v.log_id)})})]}),w.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[w.jsxs("span",{className:"text-sm",children:["Showing ",(o-1)*s+1," -"," ",Math.min(o*s,t.length)," of ",t.length]}),w.jsxs("div",{className:"space-x-2",children:[w.jsx("button",{className:"px-3 py-1 border rounded text-sm",onClick:()=>c(v=>Math.max(1,v-1)),disabled:o===1,children:"Prev"}),w.jsx("button",{className:"px-3 py-1 border rounded text-sm",onClick:()=>c(v=>v*s<t.length?v+1:v),disabled:o*s>=t.length,children:"Next"})]})]}),r&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-white p-6 rounded max-w-3xl w-full overflow-auto max-h-[80vh]",children:[w.jsx("h3",{className:"text-xl font-bold mb-4",children:"Log Details"}),w.jsxs("table",{className:"min-w-full text-xs border-collapse border border-gray-300",children:[w.jsx("thead",{className:"bg-gray-100",children:w.jsxs("tr",{children:[w.jsx("th",{className:"border px-2 py-2",children:"Field"}),w.jsx("th",{className:"border px-2 py-2",children:"Old Value"}),w.jsx("th",{className:"border px-2 py-2",children:"New Value"})]})}),w.jsx("tbody",{children:u(r.old_data,r.new_data,r.action).map(v=>w.jsxs("tr",{className:v.changed?"bg-yellow-100":"",children:[w.jsx("td",{className:"border px-2 py-1 font-semibold",children:v.key}),w.jsx("td",{className:"border px-2 py-1",children:v.oldVal!==void 0?String(v.oldVal):"-"}),w.jsx("td",{className:"border px-2 py-1",children:v.newVal!==void 0?String(v.newVal):"-"})]},v.key))})]}),w.jsx("div",{className:"text-right mt-4",children:w.jsx("button",{className:"px-3 py-1 text-sm border rounded bg-gray-100 hover:bg-gray-200",onClick:()=>i(null),children:"Close"})})]})})]})},P2=typeof document<"u"?Wt.useLayoutEffect:()=>{};var Bh;const dk=(Bh=Wt.useInsertionEffect)!==null&&Bh!==void 0?Bh:P2;function fk(t){const h=J.useRef(null);return dk(()=>{h.current=t},[t]),J.useCallback((...e)=>{const a=h.current;return a==null?void 0:a(...e)},[])}const _i=t=>{var h;return(h=t==null?void 0:t.ownerDocument)!==null&&h!==void 0?h:document},Gi=t=>t&&"window"in t&&t.window===t?t:_i(t).defaultView||window;function hk(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function pk(t){return hk(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let mk=!1;function em(){return mk}function D2(t,h){if(!em())return h&&t?t.contains(h):!1;if(!t||!h)return!1;let e=h;for(;e!==null;){if(e===t)return!0;e.tagName==="SLOT"&&e.assignedSlot?e=e.assignedSlot.parentNode:pk(e)?e=e.host:e=e.parentNode}return!1}const hp=(t=document)=>{var h;if(!em())return t.activeElement;let e=t.activeElement;for(;e&&"shadowRoot"in e&&(!((h=e.shadowRoot)===null||h===void 0)&&h.activeElement);)e=e.shadowRoot.activeElement;return e};function L2(t){return em()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function gk(t){var h;if(typeof window>"u"||window.navigator==null)return!1;let e=(h=window.navigator.userAgentData)===null||h===void 0?void 0:h.brands;return Array.isArray(e)&&e.some(a=>t.test(a.brand))||t.test(window.navigator.userAgent)}function bk(t){var h;return typeof window<"u"&&window.navigator!=null?t.test(((h=window.navigator.userAgentData)===null||h===void 0?void 0:h.platform)||window.navigator.platform):!1}function I2(t){let h=null;return()=>(h==null&&(h=t()),h)}const yk=I2(function(){return bk(/^Mac/i)}),vk=I2(function(){return gk(/Android/i)});function z2(){let t=J.useRef(new Map),h=J.useCallback((l,f,o,c)=>{let s=c!=null&&c.once?(...r)=>{t.current.delete(o),o(...r)}:o;t.current.set(o,{type:f,eventTarget:l,fn:s,options:c}),l.addEventListener(f,s,c)},[]),e=J.useCallback((l,f,o,c)=>{var s;let r=((s=t.current.get(o))===null||s===void 0?void 0:s.fn)||o;l.removeEventListener(f,r,c),t.current.delete(o)},[]),a=J.useCallback(()=>{t.current.forEach((l,f)=>{e(l.eventTarget,l.type,f,l.options)})},[e]);return J.useEffect(()=>a,[a]),{addGlobalListener:h,removeGlobalListener:e,removeAllGlobalListeners:a}}function xk(t){return t.mozInputSource===0&&t.isTrusted?!0:vk()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function F2(t){let h=t;return h.nativeEvent=t,h.isDefaultPrevented=()=>h.defaultPrevented,h.isPropagationStopped=()=>h.cancelBubble,h.persist=()=>{},h}function wk(t,h){Object.defineProperty(t,"target",{value:h}),Object.defineProperty(t,"currentTarget",{value:h})}function $2(t){let h=J.useRef({isFocused:!1,observer:null});P2(()=>{const a=h.current;return()=>{a.observer&&(a.observer.disconnect(),a.observer=null)}},[]);let e=fk(a=>{t==null||t(a)});return J.useCallback(a=>{if(a.target instanceof HTMLButtonElement||a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLSelectElement){h.current.isFocused=!0;let l=a.target,f=o=>{if(h.current.isFocused=!1,l.disabled){let c=F2(o);e(c)}h.current.observer&&(h.current.observer.disconnect(),h.current.observer=null)};l.addEventListener("focusout",f,{once:!0}),h.current.observer=new MutationObserver(()=>{if(h.current.isFocused&&l.disabled){var o;(o=h.current.observer)===null||o===void 0||o.disconnect();let c=l===document.activeElement?null:document.activeElement;l.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),l.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),h.current.observer.observe(l,{attributes:!0,attributeFilter:["disabled"]})}},[e])}let _k=!1,kl=null,pp=new Set,fl=new Map,ro=!1,mp=!1;const Sk={Tab:!0,Escape:!0};function tm(t,h){for(let e of pp)e(t,h)}function Ck(t){return!(t.metaKey||!yk()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Pu(t){ro=!0,Ck(t)&&(kl="keyboard",tm("keyboard",t))}function Wo(t){kl="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(ro=!0,tm("pointer",t))}function q2(t){xk(t)&&(ro=!0,kl="virtual")}function U2(t){t.target===window||t.target===document||_k||!t.isTrusted||(!ro&&!mp&&(kl="virtual",tm("virtual",t)),ro=!1,mp=!1)}function H2(){ro=!1,mp=!0}function gp(t){if(typeof window>"u"||typeof document>"u"||fl.get(Gi(t)))return;const h=Gi(t),e=_i(t);let a=h.HTMLElement.prototype.focus;h.HTMLElement.prototype.focus=function(){ro=!0,a.apply(this,arguments)},e.addEventListener("keydown",Pu,!0),e.addEventListener("keyup",Pu,!0),e.addEventListener("click",q2,!0),h.addEventListener("focus",U2,!0),h.addEventListener("blur",H2,!1),typeof PointerEvent<"u"&&(e.addEventListener("pointerdown",Wo,!0),e.addEventListener("pointermove",Wo,!0),e.addEventListener("pointerup",Wo,!0)),h.addEventListener("beforeunload",()=>{V2(t)},{once:!0}),fl.set(h,{focus:a})}const V2=(t,h)=>{const e=Gi(t),a=_i(t);h&&a.removeEventListener("DOMContentLoaded",h),fl.has(e)&&(e.HTMLElement.prototype.focus=fl.get(e).focus,a.removeEventListener("keydown",Pu,!0),a.removeEventListener("keyup",Pu,!0),a.removeEventListener("click",q2,!0),e.removeEventListener("focus",U2,!0),e.removeEventListener("blur",H2,!1),typeof PointerEvent<"u"&&(a.removeEventListener("pointerdown",Wo,!0),a.removeEventListener("pointermove",Wo,!0),a.removeEventListener("pointerup",Wo,!0)),fl.delete(e))};function jk(t){const h=_i(t);let e;return h.readyState!=="loading"?gp(t):(e=()=>{gp(t)},h.addEventListener("DOMContentLoaded",e)),()=>V2(t,e)}typeof document<"u"&&jk();function K2(){return kl!=="pointer"}const kk=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ek(t,h,e){let a=_i(e==null?void 0:e.target);const l=typeof window<"u"?Gi(e==null?void 0:e.target).HTMLInputElement:HTMLInputElement,f=typeof window<"u"?Gi(e==null?void 0:e.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?Gi(e==null?void 0:e.target).HTMLElement:HTMLElement,c=typeof window<"u"?Gi(e==null?void 0:e.target).KeyboardEvent:KeyboardEvent;return t=t||a.activeElement instanceof l&&!kk.has(a.activeElement.type)||a.activeElement instanceof f||a.activeElement instanceof o&&a.activeElement.isContentEditable,!(t&&h==="keyboard"&&e instanceof c&&!Sk[e.key])}function Tk(t,h,e){gp(),J.useEffect(()=>{let a=(l,f)=>{Ek(!!(e!=null&&e.isTextInput),l,f)&&t(K2())};return pp.add(a),()=>{pp.delete(a)}},h)}function Nk(t){let{isDisabled:h,onFocus:e,onBlur:a,onFocusChange:l}=t;const f=J.useCallback(s=>{if(s.target===s.currentTarget)return a&&a(s),l&&l(!1),!0},[a,l]),o=$2(f),c=J.useCallback(s=>{const r=_i(s.target),i=r?hp(r):hp();s.target===s.currentTarget&&i===L2(s.nativeEvent)&&(e&&e(s),l&&l(!0),o(s))},[l,e,o]);return{focusProps:{onFocus:!h&&(e||l||a)?c:void 0,onBlur:!h&&(a||l)?f:void 0}}}function Mk(t){let{isDisabled:h,onBlurWithin:e,onFocusWithin:a,onFocusWithinChange:l}=t,f=J.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:c}=z2(),s=J.useCallback(b=>{b.currentTarget.contains(b.target)&&f.current.isFocusWithin&&!b.currentTarget.contains(b.relatedTarget)&&(f.current.isFocusWithin=!1,c(),e&&e(b),l&&l(!1))},[e,l,f,c]),r=$2(s),i=J.useCallback(b=>{if(!b.currentTarget.contains(b.target))return;const d=_i(b.target),u=hp(d);if(!f.current.isFocusWithin&&u===L2(b.nativeEvent)){a&&a(b),l&&l(!0),f.current.isFocusWithin=!0,r(b);let v=b.currentTarget;o(d,"focus",x=>{if(f.current.isFocusWithin&&!D2(v,x.target)){let m=new d.defaultView.FocusEvent("blur",{relatedTarget:x.target});wk(m,v);let g=F2(m);s(g)}},{capture:!0})}},[a,l,r,o,s]);return h?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:i,onBlur:s}}}let bp=!1,Ph=0;function Rk(){bp=!0,setTimeout(()=>{bp=!1},50)}function a1(t){t.pointerType==="touch"&&Rk()}function Ak(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",a1),Ph++,()=>{Ph--,!(Ph>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",a1)}}function Ok(t){let{onHoverStart:h,onHoverChange:e,onHoverEnd:a,isDisabled:l}=t,[f,o]=J.useState(!1),c=J.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;J.useEffect(Ak,[]);let{addGlobalListener:s,removeAllGlobalListeners:r}=z2(),{hoverProps:i,triggerHoverEnd:b}=J.useMemo(()=>{let d=(x,m)=>{if(c.pointerType=m,l||m==="touch"||c.isHovered||!x.currentTarget.contains(x.target))return;c.isHovered=!0;let g=x.currentTarget;c.target=g,s(_i(x.target),"pointerover",y=>{c.isHovered&&c.target&&!D2(c.target,y.target)&&u(y,y.pointerType)},{capture:!0}),h&&h({type:"hoverstart",target:g,pointerType:m}),e&&e(!0),o(!0)},u=(x,m)=>{let g=c.target;c.pointerType="",c.target=null,!(m==="touch"||!c.isHovered||!g)&&(c.isHovered=!1,r(),a&&a({type:"hoverend",target:g,pointerType:m}),e&&e(!1),o(!1))},v={};return typeof PointerEvent<"u"&&(v.onPointerEnter=x=>{bp&&x.pointerType==="mouse"||d(x,x.pointerType)},v.onPointerLeave=x=>{!l&&x.currentTarget.contains(x.target)&&u(x,x.pointerType)}),{hoverProps:v,triggerHoverEnd:u}},[h,e,a,l,c,s,r]);return J.useEffect(()=>{l&&b({currentTarget:c.target},c.pointerType)},[l]),{hoverProps:i,isHovered:f}}function Bk(t={}){let{autoFocus:h=!1,isTextInput:e,within:a}=t,l=J.useRef({isFocused:!1,isFocusVisible:h||K2()}),[f,o]=J.useState(!1),[c,s]=J.useState(()=>l.current.isFocused&&l.current.isFocusVisible),r=J.useCallback(()=>s(l.current.isFocused&&l.current.isFocusVisible),[]),i=J.useCallback(u=>{l.current.isFocused=u,o(u),r()},[r]);Tk(u=>{l.current.isFocusVisible=u,r()},[],{isTextInput:e});let{focusProps:b}=Nk({isDisabled:a,onFocusChange:i}),{focusWithinProps:d}=Mk({isDisabled:!a,onFocusWithinChange:i});return{isFocused:f,isFocusVisible:c,focusProps:a?d:b}}var Pk=Object.defineProperty,Dk=(t,h,e)=>h in t?Pk(t,h,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[h]=e,Dh=(t,h,e)=>(Dk(t,typeof h!="symbol"?h+"":h,e),e);let Lk=class{constructor(){Dh(this,"current",this.detect()),Dh(this,"handoffState","pending"),Dh(this,"currentId",0)}set(h){this.current!==h&&(this.handoffState="pending",this.currentId=0,this.current=h)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},X2=new Lk;function Ik(t){var h,e;return X2.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(e=(h=t.current)==null?void 0:h.ownerDocument)!=null?e:document:null:document}function zk(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(h=>setTimeout(()=>{throw h}))}function Y2(){let t=[],h={addEventListener(e,a,l,f){return e.addEventListener(a,l,f),h.add(()=>e.removeEventListener(a,l,f))},requestAnimationFrame(...e){let a=requestAnimationFrame(...e);return h.add(()=>cancelAnimationFrame(a))},nextFrame(...e){return h.requestAnimationFrame(()=>h.requestAnimationFrame(...e))},setTimeout(...e){let a=setTimeout(...e);return h.add(()=>clearTimeout(a))},microTask(...e){let a={current:!0};return zk(()=>{a.current&&e[0]()}),h.add(()=>{a.current=!1})},style(e,a,l){let f=e.style.getPropertyValue(a);return Object.assign(e.style,{[a]:l}),this.add(()=>{Object.assign(e.style,{[a]:f})})},group(e){let a=Y2();return e(a),this.add(()=>a.dispose())},add(e){return t.includes(e)||t.push(e),()=>{let a=t.indexOf(e);if(a>=0)for(let l of t.splice(a,1))l()}},dispose(){for(let e of t.splice(0))e()}};return h}function rm(){let[t]=J.useState(Y2);return J.useEffect(()=>()=>t.dispose(),[t]),t}let nm=(t,h)=>{X2.isServer?J.useEffect(t,h):J.useLayoutEffect(t,h)};function Fk(t){let h=J.useRef(t);return nm(()=>{h.current=t},[t]),h}let Jn=function(t){let h=Fk(t);return Wt.useCallback((...e)=>h.current(...e),[h])};function $k(t){let h=t.width/2,e=t.height/2;return{top:t.clientY-e,right:t.clientX+h,bottom:t.clientY+e,left:t.clientX-h}}function qk(t,h){return!(!t||!h||t.right<h.left||t.left>h.right||t.bottom<h.top||t.top>h.bottom)}function Uk({disabled:t=!1}={}){let h=J.useRef(null),[e,a]=J.useState(!1),l=rm(),f=Jn(()=>{h.current=null,a(!1),l.dispose()}),o=Jn(c=>{if(l.dispose(),h.current===null){h.current=c.currentTarget,a(!0);{let s=Ik(c.currentTarget);l.addEventListener(s,"pointerup",f,!1),l.addEventListener(s,"pointermove",r=>{if(h.current){let i=$k(r);a(qk(i,h.current.getBoundingClientRect()))}},!1),l.addEventListener(s,"pointercancel",f,!1)}}});return{pressed:e,pressProps:t?{}:{onPointerDown:o,onPointerUp:f,onClick:f}}}let Hk=J.createContext(void 0);function sm(){return J.useContext(Hk)}function l1(...t){return Array.from(new Set(t.flatMap(h=>typeof h=="string"?h.split(" "):[]))).filter(Boolean).join(" ")}function W2(t,h,...e){if(t in h){let l=h[t];return typeof l=="function"?l(...e):l}let a=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(h).map(l=>`"${l}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,W2),a}var Vk=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Vk||{}),Kk=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Kk||{});function El(){let t=Yk();return J.useCallback(h=>Xk({mergeRefs:t,...h}),[t])}function Xk({ourProps:t,theirProps:h,slot:e,defaultTag:a,features:l,visible:f=!0,name:o,mergeRefs:c}){c=c??Wk;let s=G2(h,t);if(f)return ru(s,e,a,o,c);let r=l??0;if(r&2){let{static:i=!1,...b}=s;if(i)return ru(b,e,a,o,c)}if(r&1){let{unmount:i=!0,...b}=s;return W2(i?0:1,{0(){return null},1(){return ru({...b,hidden:!0,style:{display:"none"}},e,a,o,c)}})}return ru(s,e,a,o,c)}function ru(t,h={},e,a,l){let{as:f=e,children:o,refName:c="ref",...s}=Lh(t,["unmount","static"]),r=t.ref!==void 0?{[c]:t.ref}:{},i=typeof o=="function"?o(h):o;"className"in s&&s.className&&typeof s.className=="function"&&(s.className=s.className(h)),s["aria-labelledby"]&&s["aria-labelledby"]===s.id&&(s["aria-labelledby"]=void 0);let b={};if(h){let d=!1,u=[];for(let[v,x]of Object.entries(h))typeof x=="boolean"&&(d=!0),x===!0&&u.push(v.replace(/([A-Z])/g,m=>`-${m.toLowerCase()}`));if(d){b["data-headlessui-state"]=u.join(" ");for(let v of u)b[`data-${v}`]=""}}if(f===J.Fragment&&(Object.keys(Xi(s)).length>0||Object.keys(Xi(b)).length>0))if(!J.isValidElement(i)||Array.isArray(i)&&i.length>1){if(Object.keys(Xi(s)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Xi(s)).concat(Object.keys(Xi(b))).map(d=>`  - ${d}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(d=>`  - ${d}`).join(`
`)].join(`
`))}else{let d=i.props,u=d==null?void 0:d.className,v=typeof u=="function"?(...g)=>l1(u(...g),s.className):l1(u,s.className),x=v?{className:v}:{},m=G2(i.props,Xi(Lh(s,["ref"])));for(let g in b)g in m&&delete b[g];return J.cloneElement(i,Object.assign({},m,b,r,{ref:l(Zk(i),r.ref)},x))}return J.createElement(f,Object.assign({},Lh(s,["ref"]),f!==J.Fragment&&r,f!==J.Fragment&&b),i)}function Yk(){let t=J.useRef([]),h=J.useCallback(e=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(e):a.current=e)},[]);return(...e)=>{if(!e.every(a=>a==null))return t.current=e,h}}function Wk(...t){return t.every(h=>h==null)?void 0:h=>{for(let e of t)e!=null&&(typeof e=="function"?e(h):e.current=h)}}function G2(...t){if(t.length===0)return{};if(t.length===1)return t[0];let h={},e={};for(let a of t)for(let l in a)l.startsWith("on")&&typeof a[l]=="function"?(e[l]!=null||(e[l]=[]),e[l].push(a[l])):h[l]=a[l];if(h.disabled||h["aria-disabled"])for(let a in e)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(a)&&(e[a]=[l=>{var f;return(f=l==null?void 0:l.preventDefault)==null?void 0:f.call(l)}]);for(let a in e)Object.assign(h,{[a](l,...f){let o=e[a];for(let c of o){if((l instanceof Event||(l==null?void 0:l.nativeEvent)instanceof Event)&&l.defaultPrevented)return;c(l,...f)}}});return h}function Gk(...t){if(t.length===0)return{};if(t.length===1)return t[0];let h={},e={};for(let a of t)for(let l in a)l.startsWith("on")&&typeof a[l]=="function"?(e[l]!=null||(e[l]=[]),e[l].push(a[l])):h[l]=a[l];for(let a in e)Object.assign(h,{[a](...l){let f=e[a];for(let o of f)o==null||o(...l)}});return h}function ed(t){var h;return Object.assign(J.forwardRef(t),{displayName:(h=t.displayName)!=null?h:t.name})}function Xi(t){let h=Object.assign({},t);for(let e in h)h[e]===void 0&&delete h[e];return h}function Lh(t,h=[]){let e=Object.assign({},t);for(let a of h)a in e&&delete e[a];return e}function Zk(t){return Wt.version.split(".")[0]>="19"?t.props.ref:t.ref}function Jk(t,h,e){let[a,l]=J.useState(e),f=t!==void 0,o=J.useRef(f),c=J.useRef(!1),s=J.useRef(!1);return f&&!o.current&&!c.current?(c.current=!0,o.current=f,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!f&&o.current&&!s.current&&(s.current=!0,o.current=f,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[f?t:a,Jn(r=>(f||l(r),h==null?void 0:h(r)))]}function Qk(t){let[h]=J.useState(t);return h}function Z2(t={},h=null,e=[]){for(let[a,l]of Object.entries(t))Q2(e,J2(h,a),l);return e}function J2(t,h){return t?t+"["+h+"]":h}function Q2(t,h,e){if(Array.isArray(e))for(let[a,l]of e.entries())Q2(t,J2(h,a.toString()),l);else e instanceof Date?t.push([h,e.toISOString()]):typeof e=="boolean"?t.push([h,e?"1":"0"]):typeof e=="string"?t.push([h,e]):typeof e=="number"?t.push([h,`${e}`]):e==null?t.push([h,""]):Z2(e,h,t)}function eE(t){var h,e;let a=(h=t==null?void 0:t.form)!=null?h:t.closest("form");if(a){for(let l of a.elements)if(l!==t&&(l.tagName==="INPUT"&&l.type==="submit"||l.tagName==="BUTTON"&&l.type==="submit"||l.nodeName==="INPUT"&&l.type==="image")){l.click();return}(e=a.requestSubmit)==null||e.call(a)}}let tE="span";var im=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(im||{});function rE(t,h){var e;let{features:a=1,...l}=t,f={ref:h,"aria-hidden":(a&2)===2?!0:(e=l["aria-hidden"])!=null?e:void 0,hidden:(a&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(a&4)===4&&(a&2)!==2&&{display:"none"}}};return El()({ourProps:f,theirProps:l,slot:{},defaultTag:tE,name:"Hidden"})}let ex=ed(rE),nE=J.createContext(null);function sE({children:t}){let h=J.useContext(nE);if(!h)return Wt.createElement(Wt.Fragment,null,t);let{target:e}=h;return e?Jr.createPortal(Wt.createElement(Wt.Fragment,null,t),e):null}function iE({data:t,form:h,disabled:e,onReset:a,overrides:l}){let[f,o]=J.useState(null),c=rm();return J.useEffect(()=>{if(a&&f)return c.addEventListener(f,"reset",a)},[f,h,a]),Wt.createElement(sE,null,Wt.createElement(oE,{setForm:o,formId:h}),Z2(t).map(([s,r])=>Wt.createElement(ex,{features:im.Hidden,...Xi({key:s,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:h,disabled:e,name:s,value:r,...l})})))}function oE({setForm:t,formId:h}){return J.useEffect(()=>{if(h){let e=document.getElementById(h);e&&t(e)}},[t,h]),h?null:Wt.createElement(ex,{features:im.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:e=>{if(!e)return;let a=e.closest("form");a&&t(a)}})}let aE=J.createContext(void 0);function tx(){return J.useContext(aE)}function lE(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function rx(t){return lE(t)&&"tagName"in t}function td(t){return rx(t)&&"accessKey"in t}function cE(t){return td(t)&&t.nodeName==="INPUT"}function yp(t){return td(t)&&t.nodeName==="LABEL"}function uE(t){return td(t)&&t.nodeName==="FIELDSET"}function nx(t){return td(t)&&t.nodeName==="LEGEND"}function dE(t){return rx(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function fE(t){let h=t.parentElement,e=null;for(;h&&!uE(h);)nx(h)&&(e=h),h=h.parentElement;let a=(h==null?void 0:h.getAttribute("disabled"))==="";return a&&hE(e)?!1:a}function hE(t){if(!t)return!1;let h=t.previousElementSibling;for(;h!==null;){if(nx(h))return!1;h=h.previousElementSibling}return!0}let pE=Symbol();function om(...t){let h=J.useRef(t);J.useEffect(()=>{h.current=t},[t]);let e=Jn(a=>{for(let l of h.current)l!=null&&(typeof l=="function"?l(a):l.current=a)});return t.every(a=>a==null||(a==null?void 0:a[pE]))?void 0:e}let rd=J.createContext(null);rd.displayName="DescriptionContext";function sx(){let t=J.useContext(rd);if(t===null){let h=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(h,sx),h}return t}function mE(){var t,h;return(h=(t=J.useContext(rd))==null?void 0:t.value)!=null?h:void 0}function gE(){let[t,h]=J.useState([]);return[t.length>0?t.join(" "):void 0,J.useMemo(()=>function(e){let a=Jn(f=>(h(o=>[...o,f]),()=>h(o=>{let c=o.slice(),s=c.indexOf(f);return s!==-1&&c.splice(s,1),c}))),l=J.useMemo(()=>({register:a,slot:e.slot,name:e.name,props:e.props,value:e.value}),[a,e.slot,e.name,e.props,e.value]);return Wt.createElement(rd.Provider,{value:l},e.children)},[h])]}let bE="p";function yE(t,h){let e=J.useId(),a=sm(),{id:l=`headlessui-description-${e}`,...f}=t,o=sx(),c=om(h);nm(()=>o.register(l),[l,o.register]);let s=a||!1,r=J.useMemo(()=>({...o.slot,disabled:s}),[o.slot,s]),i={ref:c,...o.props,id:l};return El()({ourProps:i,theirProps:f,slot:r,defaultTag:bE,name:o.name||"Description"})}let vE=ed(yE),xE=Object.assign(vE,{});var vp=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(vp||{});let nd=J.createContext(null);nd.displayName="LabelContext";function ix(){let t=J.useContext(nd);if(t===null){let h=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(h,ix),h}return t}function ox(t){var h,e,a;let l=(e=(h=J.useContext(nd))==null?void 0:h.value)!=null?e:void 0;return((a=void 0)!=null?a:0)>0?[l,...t].filter(Boolean).join(" "):l}function wE({inherit:t=!1}={}){let h=ox(),[e,a]=J.useState([]),l=t?[h,...e].filter(Boolean):e;return[l.length>0?l.join(" "):void 0,J.useMemo(()=>function(f){let o=Jn(s=>(a(r=>[...r,s]),()=>a(r=>{let i=r.slice(),b=i.indexOf(s);return b!==-1&&i.splice(b,1),i}))),c=J.useMemo(()=>({register:o,slot:f.slot,name:f.name,props:f.props,value:f.value}),[o,f.slot,f.name,f.props,f.value]);return Wt.createElement(nd.Provider,{value:c},f.children)},[a])]}let _E="label";function SE(t,h){var e;let a=J.useId(),l=ix(),f=tx(),o=sm(),{id:c=`headlessui-label-${a}`,htmlFor:s=f??((e=l.props)==null?void 0:e.htmlFor),passive:r=!1,...i}=t,b=om(h);nm(()=>l.register(c),[c,l.register]);let d=Jn(m=>{let g=m.currentTarget;if(!(m.target!==m.currentTarget&&dE(m.target))&&(yp(g)&&m.preventDefault(),l.props&&"onClick"in l.props&&typeof l.props.onClick=="function"&&l.props.onClick(m),yp(g))){let y=document.getElementById(g.htmlFor);if(y){let C=y.getAttribute("disabled");if(C==="true"||C==="")return;let E=y.getAttribute("aria-disabled");if(E==="true"||E==="")return;(cE(y)&&(y.type==="file"||y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),u=o||!1,v=J.useMemo(()=>({...l.slot,disabled:u}),[l.slot,u]),x={ref:b,...l.props,id:c,htmlFor:s,onClick:d};return r&&("onClick"in x&&(delete x.htmlFor,delete x.onClick),"onClick"in i&&delete i.onClick),El()({ourProps:x,theirProps:i,slot:v,defaultTag:s?_E:"div",name:l.name||"Label"})}let CE=ed(SE),jE=Object.assign(CE,{});function kE(t,h){return J.useMemo(()=>{var e;if(t.type)return t.type;let a=(e=t.as)!=null?e:"button";if(typeof a=="string"&&a.toLowerCase()==="button"||(h==null?void 0:h.tagName)==="BUTTON"&&!h.hasAttribute("type"))return"button"},[t.type,t.as,h])}let am=J.createContext(null);am.displayName="GroupContext";let EE=J.Fragment;function TE(t){var h;let[e,a]=J.useState(null),[l,f]=wE(),[o,c]=gE(),s=J.useMemo(()=>({switch:e,setSwitch:a}),[e,a]),r={},i=t,b=El();return Wt.createElement(c,{name:"Switch.Description",value:o},Wt.createElement(f,{name:"Switch.Label",value:l,props:{htmlFor:(h=s.switch)==null?void 0:h.id,onClick(d){e&&(yp(d.currentTarget)&&d.preventDefault(),e.click(),e.focus({preventScroll:!0}))}}},Wt.createElement(am.Provider,{value:s},b({ourProps:r,theirProps:i,slot:{},defaultTag:EE,name:"Switch.Group"}))))}let NE="button";function ME(t,h){var e;let a=J.useId(),l=tx(),f=sm(),{id:o=l||`headlessui-switch-${a}`,disabled:c=f||!1,checked:s,defaultChecked:r,onChange:i,name:b,value:d,form:u,autoFocus:v=!1,...x}=t,m=J.useContext(am),[g,y]=J.useState(null),C=J.useRef(null),E=om(C,h,m===null?null:m.setSwitch,y),A=Qk(r),[D,q]=Jk(s,i,A??!1),B=rm(),[z,K]=J.useState(!1),Y=Jn(()=>{K(!0),q==null||q(!D),B.nextFrame(()=>{K(!1)})}),X=Jn(Q=>{if(fE(Q.currentTarget))return Q.preventDefault();Q.preventDefault(),Y()}),O=Jn(Q=>{Q.key===vp.Space?(Q.preventDefault(),Y()):Q.key===vp.Enter&&eE(Q.currentTarget)}),P=Jn(Q=>Q.preventDefault()),N=ox(),_=mE(),{isFocusVisible:j,focusProps:k}=Bk({autoFocus:v}),{isHovered:T,hoverProps:M}=Ok({isDisabled:c}),{pressed:F,pressProps:$}=Uk({disabled:c}),V=J.useMemo(()=>({checked:D,disabled:c,hover:T,focus:j,active:F,autofocus:v,changing:z}),[D,T,j,F,c,z,v]),W=Gk({id:o,ref:E,role:"switch",type:kE(t,g),tabIndex:t.tabIndex===-1?0:(e=t.tabIndex)!=null?e:0,"aria-checked":D,"aria-labelledby":N,"aria-describedby":_,disabled:c||void 0,autoFocus:v,onClick:X,onKeyUp:O,onKeyPress:P},k,M,$),ee=J.useCallback(()=>{if(A!==void 0)return q==null?void 0:q(A)},[q,A]),U=El();return Wt.createElement(Wt.Fragment,null,b!=null&&Wt.createElement(iE,{disabled:c,data:{[b]:d||"on"},overrides:{type:"checkbox",checked:D},form:u,onReset:ee}),U({ourProps:W,theirProps:x,slot:V,defaultTag:NE,name:"Switch"}))}let RE=ed(ME),AE=TE,OE=jE,BE=xE,PE=Object.assign(RE,{Group:AE,Label:OE,Description:BE});const DE=()=>{const[t,h]=J.useState([]),[e,a]=J.useState([]),[l,f]=J.useState([]),[o,c]=J.useState([]),[s,r]=J.useState(!0),[i,b]=J.useState(null),[d,u]=J.useState(!1),[v,x]=J.useState(""),[m,g]=J.useState("all"),[y,C]=J.useState("all"),[E,A]=J.useState("name"),[D,q]=J.useState("asc"),B=LE(),z=B==="admin"||B==="editor";J.useEffect(()=>{K()},[]),J.useEffect(()=>{Y()},[t,v,m,y,E,D]);const K=async()=>{try{r(!0);const[j,k,T]=await Promise.all([mt.get("/api/Users"),mt.get("/api/UserStatuses"),mt.get("/api/Roles")]);h(j.data),f(k.data),c(T.data)}catch(j){console.error("Error loading data:",j),Se.fire({icon:"error",title:"Error Loading Data",text:"Failed to load user data. Please refresh the page.",customClass:{confirmButton:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",popup:"rounded-lg shadow-xl"},buttonsStyling:!1})}finally{r(!1)}},Y=()=>{let j=t.filter(k=>{var $,V,W,ee;const T=`${k.first_name} ${k.last_name}`.toLowerCase().includes(v.toLowerCase())||(($=k.email)==null?void 0:$.toLowerCase().includes(v.toLowerCase()))||((V=k.employee_id)==null?void 0:V.toLowerCase().includes(v.toLowerCase()))||((W=k.department_name)==null?void 0:W.toLowerCase().includes(v.toLowerCase())),M=m==="all"||m==="active"&&k.status_id===1||m==="inactive"&&k.status_id!==1,F=y==="all"||((ee=k.role_id)==null?void 0:ee.toString())===y;return T&&M&&F});j.sort((k,T)=>{let M,F;switch(E){case"name":M=`${k.first_name} ${k.last_name}`,F=`${T.first_name} ${T.last_name}`;break;case"role":M=k.role_name||"",F=T.role_name||"";break;case"department":M=k.department_name||"",F=T.department_name||"";break;case"status":M=k.status_name||"",F=T.status_name||"";break;default:M=`${k.first_name} ${k.last_name}`,F=`${T.first_name} ${T.last_name}`}const $=M.localeCompare(F);return D==="asc"?$:-$}),a(j)},X=j=>{E===j?q(D==="asc"?"desc":"asc"):(A(j),q("asc"))},O=async()=>{var k,T;if(!(!i||!(await Se.fire({title:"Confirm Role Update",text:`Update ${i.first_name} ${i.last_name}'s role?`,icon:"question",showCancelButton:!0,confirmButtonText:"Update Role",cancelButtonText:"Cancel",customClass:{confirmButton:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",cancelButton:"bg-gray-300 text-gray-800 px-6 py-2 rounded-lg hover:bg-gray-400 ml-3 transition-colors",popup:"rounded-xl shadow-2xl"},buttonsStyling:!1})).isConfirmed)){if(!i.role_id){await Se.fire({icon:"error",title:"Role Required",text:"Please select a role before saving.",customClass:{confirmButton:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",popup:"rounded-xl shadow-2xl"},buttonsStyling:!1});return}try{u(!0),await mt.patch(`/api/Users/${i.user_id}/Role`,{role_id:i.role_id},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),await Se.fire({icon:"success",title:"Role Updated!",text:"User role has been updated successfully.",timer:2e3,showConfirmButton:!1,customClass:{popup:"rounded-xl shadow-2xl"}}),b(null),await K()}catch(M){console.error("Error updating role:",M),await Se.fire({icon:"error",title:"Update Failed",text:((T=(k=M.response)==null?void 0:k.data)==null?void 0:T.message)||"Failed to update user role. Please try again.",customClass:{confirmButton:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",popup:"rounded-xl shadow-2xl"},buttonsStyling:!1})}finally{u(!1)}}},P=async j=>{try{const k=j.status_id===1?4:1,T=j.status_id===1?"Deactive":"Active";h(M=>M.map(F=>F.user_id===j.user_id?{...F,status_id:k,status_name:T}:F)),await mt.patch(`/api/Users/${j.user_id}/ToggleStatus`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),await K()}catch(k){console.error("Error toggling status:",k),await K(),Se.fire({icon:"error",title:"Status Update Failed",text:"Failed to update user status. Please try again.",customClass:{confirmButton:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",popup:"rounded-xl shadow-2xl"},buttonsStyling:!1})}},N=(j,k)=>`${(j==null?void 0:j.charAt(0))||""}${(k==null?void 0:k.charAt(0))||""}`.toUpperCase(),_=j=>{const k=["bg-blue-600","bg-green-600","bg-purple-600","bg-pink-600","bg-indigo-600","bg-red-600","bg-yellow-600","bg-teal-600"];return k[j%k.length]};return s?w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-600 text-lg",children:"Loading user data..."})]})}):w.jsx("div",{className:"min-h-screen ",children:w.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:w.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})}),w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:w.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(j=>j.status_id===1).length})]})]})})]}),w.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Users"}),w.jsxs("div",{className:"relative",children:[w.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),w.jsx("input",{type:"text",placeholder:"Search by Name, Email, , Employee ID or Department...",value:v,onChange:j=>x(j.target.value),className:"w-full pl-10 pr-4 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),w.jsxs("div",{className:"relative",children:[w.jsxs("select",{value:m,onChange:j=>g(j.target.value),className:"w-full appearance-none bg-white border border-gray-300 text-sm rounded-lg py-2.5 pl-3 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[w.jsx("option",{value:"all",children:"All Statuses"}),w.jsx("option",{value:"active",children:"Active Only"}),w.jsx("option",{value:"inactive",children:"Inactive Only"})]}),w.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400",children:w.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),w.jsxs("div",{className:"relative",children:[w.jsxs("select",{value:y,onChange:j=>C(j.target.value),className:"w-full appearance-none bg-white border border-gray-300 text-sm rounded-lg py-2.5 pl-3 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[w.jsx("option",{value:"all",children:"All Roles"}),o.map(j=>w.jsx("option",{value:j.role_id.toString(),children:j.role_name},j.role_id))]}),w.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400",children:w.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})]})]})}),w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[w.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Users (",e.length,")"]}),w.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",e.length," of ",t.length," users"]})]})}),w.jsxs("div",{className:"overflow-x-auto",children:[w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),w.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),w.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>X("department"),children:w.jsxs("div",{className:"flex items-center space-x-1",children:[w.jsx("span",{children:"Department"}),E==="department"&&w.jsx("svg",{className:`w-4 h-4 ${D==="asc"?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),w.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>X("role"),children:w.jsxs("div",{className:"flex items-center space-x-1",children:[w.jsx("span",{children:"Role"}),E==="role"&&w.jsx("svg",{className:`w-4 h-4 ${D==="asc"?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),w.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),w.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(j=>w.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:`flex-shrink-0 h-12 w-12 ${_(j.user_id)} rounded-full flex items-center justify-center text-white font-semibold text-sm shadow-md`,children:N(j.first_name,j.last_name)}),w.jsxs("div",{className:"ml-4",children:[w.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[j.first_name," ",j.last_name]}),w.jsxs("div",{className:"text-sm text-gray-500",children:["Employee ID: ",j.employee_id||"N/A"]})]})]})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"text-sm text-gray-900",children:j.email||"No email"})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"text-sm text-gray-900",children:j.department_name||"N/A"})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.role_name?w.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 text-xs rounded-full font-medium
                          ${j.role_name==="admin"?"bg-purple-100 text-purple-800":j.role_name==="editor"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[w.jsx(V5,{className:"w-3 h-3 mr-1"}),j.role_name]}):w.jsx("span",{className:"text-gray-400 text-sm",children:"No Role"})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:z?w.jsxs(PE,{checked:j.status_id===1,onChange:()=>P(j),className:`${j.status_id===1?"bg-green-600":"bg-gray-300"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2`,children:[w.jsx("span",{className:"sr-only",children:"Toggle user status"}),w.jsx("span",{className:`${j.status_id===1?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm`})]}):w.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${j.status_id===1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.status_id===1?"Active":"Inactive"})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:z?w.jsxs("button",{onClick:()=>b(j),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Role"]}):w.jsx("span",{className:"text-gray-400 text-sm",children:"No access"})})]},j.user_id))})]}),e.length===0&&w.jsxs("div",{className:"text-center py-12",children:[w.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),w.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No users found"}),w.jsx("p",{className:"mt-2 text-gray-500",children:"Try adjusting your search or filter criteria."})]})]})]}),i&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md relative",children:[d&&w.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 flex items-center justify-center rounded-xl",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-3"}),w.jsx("p",{className:"text-gray-600",children:"Updating role..."})]})}),w.jsxs("div",{className:"p-6",children:[w.jsxs("div",{className:"flex items-center mb-6",children:[w.jsx("div",{className:`flex-shrink-0 h-12 w-12 ${_(i.user_id)} rounded-full flex items-center justify-center text-white font-semibold text-sm`,children:N(i.first_name,i.last_name)}),w.jsxs("div",{className:"ml-4",children:[w.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Edit User Role"}),w.jsxs("p",{className:"text-gray-600",children:[i.first_name," ",i.last_name]})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Role"}),w.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:i.role_name||"No role assigned"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Role *"}),w.jsxs("select",{value:i.role_id??"",onChange:j=>b({...i,role_id:Number(j.target.value)}),className:"w-full py-3 px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",disabled:d,children:[w.jsx("option",{value:"",children:"Select a role..."}),o.map(j=>w.jsx("option",{value:j.role_id,children:j.role_name},j.role_id))]})]})]}),w.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t border-gray-200",children:[w.jsx("button",{onClick:()=>b(null),disabled:d,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors disabled:opacity-50",children:"Cancel"}),w.jsx("button",{onClick:O,disabled:d||!i.role_id,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Updating...":"Update Role"})]})]})]})})]})})};function LE(){try{const t=localStorage.getItem("token");if(!t)return;const h=t.split(".")[1],e=atob(h);return JSON.parse(e).role}catch{return}}const IE=({filterMode:t="datetime",onFilterApply:h,initialFilters:e={requested_at_start:"",requested_at_end:"",approved_at_start:"",approved_at_end:""}})=>{const[a,l]=J.useState(t),[f,o]=J.useState(!1),[c,s]=J.useState({...e}),[r,i]=J.useState({...e}),[b,d]=J.useState([]),u=J.useRef(null),[v,x]=J.useState({}),[m,g]=J.useState(!1);J.useEffect(()=>{if(f&&u.current){const X=u.current.getBoundingClientRect(),O=window.scrollY,P=420,N=window.innerWidth;let _=X.right-P;N<480&&(_=Math.max(16,Math.min(_,N-P-16)));const j=X.bottom+O+8;x({top:j,left:_,width:Math.min(P,N-32),maxHeight:"calc(100vh - 100px)",overflowY:"auto"}),g(!0)}},[f]);const y=()=>{const X=[],O=k=>k?new Date(k).getTime():null,P=O(c.requested_at_start),N=O(c.requested_at_end),_=O(c.approved_at_start),j=O(c.approved_at_end);return P&&N&&P>=N&&X.push("Requested start date must be before end date"),_&&j&&_>=j&&X.push("Approved start date must be before end date"),d(X),X.length===0},C=()=>{if(!y())return;const X={...c};console.log("[Apply Filter]",X),i({...c}),o(!1),h({...c})},E=()=>{const X={requested_at_start:"",requested_at_end:"",approved_at_start:"",approved_at_end:""};console.log("[Reset Filter]",X),s(X),i(X),d([]),o(!1),g(!1),h(X)},A=()=>{s({...r}),d([]),o(!1),g(!1)},D=()=>{switch(a){case"date":return"date";case"time":return"time";case"datetime":return"datetime-local";default:return"datetime-local"}},q=X=>{switch(X){case"date":return w.jsx(Su,{className:"w-3.5 h-3.5"});case"time":return w.jsx(Bv,{className:"w-3.5 h-3.5"});case"datetime":return w.jsx(Rv,{className:"w-3.5 h-3.5"});default:return w.jsx(Su,{className:"w-3.5 h-3.5"})}},B=()=>Object.values(r).some(X=>X!==""),z=()=>JSON.stringify(c)!==JSON.stringify(r),K=()=>Object.values(r).filter(X=>X!=="").length;J.useEffect(()=>{const X=O=>{if(f&&u.current&&!u.current.contains(O.target)){const P=document.querySelector('[data-dropdown="datetime-filter"]');P&&!P.contains(O.target)&&A()}};if(f)return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[f]);const Y=w.jsxs("div",{"data-dropdown":"datetime-filter",className:"fixed z-[9999] bg-white border border-gray-200 rounded-2xl shadow-2xl backdrop-blur-sm animate-in fade-in-0 zoom-in-95 duration-200",style:v,children:[w.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white rounded-t-2xl",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:w.jsx(Cu,{className:"w-4 h-4 text-blue-600"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-gray-900",children:"Date & Time Filters"}),w.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Configure your filter criteria"})]})]}),w.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:w.jsx(oa,{className:"w-4 h-4 text-gray-500"})})]}),w.jsxs("div",{className:"px-6 py-5 border-b border-gray-100",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Filter Type"}),w.jsx("div",{className:"grid grid-cols-3 gap-2",children:["datetime","date"].map(X=>w.jsxs("button",{onClick:()=>l(X),className:`flex items-center justify-center space-x-2 px-4 py-3 text-sm rounded-xl border transition-all duration-200 ${a===X?"bg-blue-50 text-blue-700 border-blue-200 shadow-sm":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:[q(X),w.jsx("span",{className:"capitalize font-medium",children:X})]},X))})]}),w.jsx("div",{className:"px-6 py-6 space-y-8",children:["requested","approved"].map((X,O)=>w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:`w-3 h-3 rounded-full ${X==="requested"?"bg-blue-500":"bg-emerald-500"}`}),w.jsxs("h4",{className:"font-semibold text-gray-900",children:[X.charAt(0).toUpperCase()+X.slice(1)," Date Range"]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsxs("label",{className:"block text-sm font-medium text-gray-600",children:["Start ",a==="datetime"?"Date & Time":"Date"]}),w.jsx("div",{className:"relative",children:w.jsx("input",{type:D(),value:c[`${X}_at_start`],onChange:P=>s(N=>({...N,[`${X}_at_start`]:P.target.value})),className:"w-full px-4 py-3 text-sm border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",placeholder:"Select start..."})})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("label",{className:"block text-sm font-medium text-gray-600",children:["End ",a==="datetime"?"Date & Time":"Date"]}),w.jsx("div",{className:"relative",children:w.jsx("input",{type:D(),value:c[`${X}_at_end`],onChange:P=>s(N=>({...N,[`${X}_at_end`]:P.target.value})),className:"w-full px-4 py-3 text-sm border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",placeholder:"Select end..."})})]})]})]},X))}),b.length>0&&w.jsx("div",{className:"px-6 py-4 border-t border-red-100 bg-red-50",children:w.jsx("div",{className:"space-y-2",children:b.map((X,O)=>w.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[w.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mr-2"}),X]},O))})}),w.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[w.jsxs("button",{onClick:E,disabled:!B()&&!Object.values(c).some(X=>X!==""),className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[w.jsx(Pv,{className:"w-4 h-4"}),w.jsx("span",{children:"Reset"})]}),w.jsxs("div",{className:"flex space-x-3",children:[w.jsx("button",{onClick:A,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"}),w.jsxs("button",{onClick:C,disabled:!z()||b.length>0,className:"flex items-center space-x-2 px-5 py-2.5 text-sm font-medium text-white bg-blue-600 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-sm",children:[w.jsx(Av,{className:"w-4 h-4"}),w.jsx("span",{children:"Apply Filters"})]})]})]})]});return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"relative",children:[w.jsxs("button",{ref:u,onClick:()=>o(!f),className:`inline-flex items-center px-4 py-2.5 text-sm font-medium rounded-xl border transition-all duration-200 focus:ring-2 focus:ring-offset-2 ${B()?"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100 focus:ring-blue-500 shadow-sm":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400 focus:ring-gray-500"}`,children:[w.jsx(Cu,{className:"w-4 h-4 mr-2"}),w.jsx("span",{className:"hidden sm:inline",children:"Date & Time Filters"}),w.jsx("span",{className:"sm:hidden",children:"Filters"}),B()&&w.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs font-semibold bg-blue-100 text-blue-800 rounded-full",children:K()}),w.jsx(Ov,{className:`w-4 h-4 ml-2 transition-transform duration-200 ${f?"rotate-180":""}`})]}),f&&m&&w.jsx("div",{className:"fixed inset-0 z-[9998]",children:Y})]}),w.jsx("div",{className:"fixed top-4 right-4 z-[10000] space-y-2",children:b.map((X,O)=>w.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-xl shadow-lg animate-in slide-in-from-right-5 duration-300",children:w.jsx("p",{className:"text-sm font-medium",children:X})},O))})]})},Ho=zr(Se),Ih={confirmButton:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-sm focus:outline-none",cancelButton:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded text-sm ml-2 focus:outline-none"},zE={toolMachineMap:["tool_key_id","type_id","tool_id","type_ref_id","tool_ref_id","size_ref_id","machine_id"],toolPadMap:["tool_key_id","type_id","tool_id","type_ref_id","tool_ref_id","size_ref_id","pad_id","hst_type_id"]},FE=()=>{const[t,h]=J.useState([]),[e,a]=J.useState([]),[l,f]=J.useState({}),[o,c]=J.useState(""),[s,r]=J.useState(!1),[i,b]=J.useState({pageIndex:0,pageSize:15}),[d,u]=J.useState(!1),[v,x]=J.useState(null),[m,g]=J.useState(null),[y,C]=J.useState(""),E=J.useRef(null),[A,D]=J.useState({}),[q,B]=J.useState({}),[z,K]=J.useState({}),[Y,X]=J.useState({}),[O,P]=J.useState({}),[N,_]=J.useState({}),[j,k]=J.useState({}),[T,M]=J.useState({}),[F,$]=J.useState({}),[V,W]=J.useState({}),ee=J.useRef(null),U=J.useRef(null),[Q,L]=J.useState(null);J.useEffect(()=>{if(s&&U.current){const he=U.current.getBoundingClientRect();L({top:he.bottom+window.scrollY+4,left:he.left+window.scrollX,width:he.width})}},[s]);const[I,Z]=J.useState({requested_at_start:"",requested_at_end:"",approved_at_start:"",approved_at_end:""}),[te,ie]=J.useState(!1);J.useRef(null);const[se,le]=J.useState(null),[me,ae]=J.useState(!1);J.useRef(null);const[re,oe]=J.useState("datetime"),[ue,fe]=J.useState({}),[be,Ce]=J.useState(""),Ae=async he=>{if(ue[he])return ue[he];const ye=localStorage.getItem("token"),Te=await fetch(`/api/ToolKeyAlls/${he}/ids`,{headers:{Authorization:`Bearer ${ye}`}});if(Te.ok){const Be=await Te.json();return fe(Ye=>({...Ye,[he]:Be})),Be}else return console.error("Cannot load ToolKeyAll IDs:",he),null};J.useEffect(()=>{Fe()},[z]);const Pe=async()=>{const he=new Fs.Workbook,ye=he.addWorksheet("Requests"),Te=we.getVisibleLeafColumns().filter(Ue=>Ue.id!=="actions");Te.map(Ue=>Ue.id).forEach((Ue,ze)=>{const je=ye.getCell(1,ze+1);je.value=Ue,je.font={name:"Arial",size:10,bold:!0},je.alignment={vertical:"middle",horizontal:"center"},je.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),we.getFilteredRowModel().rows.forEach((Ue,ze)=>{var Re;const je=ze+2,Je=(Re=Ue.original)==null?void 0:Re.request_status;let nt,$e;Je==="UPDATE"?(nt="FEFCE8",$e="854D0E"):Je==="DELETE"?(nt="FEF2F2",$e="991B1B"):Je==="INSERT"&&(nt="ECFDF5",$e="065F46"),Te.forEach((De,Ve)=>{const Qe=De.id,lt=Ue.original[Qe],ct=ye.getCell(je,Ve+1);let pt="";typeof lt=="boolean"?pt=lt?"":"-":lt!=null&&(pt=Qe.endsWith("_at")?ve(String(lt)):String(lt)),ct.value=pt,ct.font={name:"Arial",size:10,color:$e?{argb:$e}:void 0},ct.alignment={vertical:"middle",horizontal:"center"},ct.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},nt&&(ct.fill={type:"pattern",pattern:"solid",fgColor:{argb:nt}})})}),ye.columns.forEach(Ue=>{Ue.width=15});const at=await he.xlsx.writeBuffer(),ot=new Blob([at],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});$s.saveAs(ot,"Requests.xlsx")},Fe=()=>{const he=localStorage.getItem("token");if(!he){console.error("No token found, redirecting to login."),window.location.href="/login";return}const ye=new URLSearchParams;Object.entries(z).forEach(([Te,Be])=>{Be.length>0&&ye.append(Te,Be.join(","))}),fetch(`/api/requests?${ye.toString()}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`}}).then(Te=>{if(!Te.ok)throw Te.status===401&&(console.error("Unauthorized - redirecting to login."),window.location.href="/login"),new Error("Server error");return Te.json()}).then(Te=>{h(Te)}).catch(Te=>console.error("Error fetching requests:",Te))};J.useEffect(()=>{const he={};t.length>0&&Object.keys(t[0]).forEach(ye=>{const Te=Array.from(new Set(t.map(Be=>String(Be[ye]??"")))).sort();he[ye]=Te}),B(he)},[t]);const pe=he=>{var $e,Re,De;const[ye,Te]=J.useState(""),Be=J.useRef(null),Ye=J.useRef(null),[at,ot]=J.useState(null),[Ue,ze]=J.useState({}),je=(z[he]??[]).length>0;J.useEffect(()=>{z[he]&&ze(Ve=>({...Ve,[he]:[...z[he]]}))},[A[he]]),J.useEffect(()=>{const Ve=Qe=>{var lt;Ye.current&&!Ye.current.contains(Qe.target)&&!((lt=Be.current)!=null&&lt.contains(Qe.target))&&D(ct=>({...ct,[he]:!1}))};return document.addEventListener("mousedown",Ve),()=>document.removeEventListener("mousedown",Ve)},[he]),J.useEffect(()=>{if(A[he]&&Be.current){const Ve=Be.current.getBoundingClientRect(),Qe=window.scrollX||document.documentElement.scrollLeft,lt=window.scrollY||document.documentElement.scrollTop;ot({top:Ve.bottom+lt+4,left:Ve.left+Qe,width:Ve.width})}},[A[he]]);const Je=()=>{D(Ve=>({...Ve,[he]:!Ve[he]}))},nt=Ve=>{const Qe=Ve??"null";ze(lt=>{const ct=new Set(lt[he]||[]);return ct.has(Qe)?ct.delete(Qe):ct.add(Qe),{...lt,[he]:Array.from(ct)}})};return w.jsxs(w.Fragment,{children:[w.jsx("button",{ref:Be,onClick:Je,className:`ml-1 px-2 py-0.5 border text-xs rounded shadow transition-colors duration-150 ${je?"bg-blue-600 border-blue-700 text-white hover:bg-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:""}),A[he]&&Jr.createPortal(w.jsxs("div",{ref:Ye,className:"fixed z-[9999] rounded-md border bg-white shadow-lg p-2",style:at?{top:at.top,left:at.left,minWidth:at.width,visibility:"visible"}:{visibility:"hidden"},children:[w.jsx("input",{type:"text",placeholder:"Search...",className:"w-full mb-2 px-2 py-1 border rounded text-sm",onChange:Ve=>Te(Ve.target.value.toLowerCase())}),w.jsxs("label",{className:"block text-xs font-medium px-1 py-0.5 text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:(($e=Ue[he])==null?void 0:$e.length)===(((Re=q[he])==null?void 0:Re.map(Ve=>Ve??"null").length)||0),onChange:()=>{var lt;const Ve=((lt=q[he])==null?void 0:lt.map(ct=>ct??"null"))||[],Qe=Ue[he]||[];ze(ct=>({...ct,[he]:Qe.length===Ve.length?[]:Ve}))}}),"(Select All)"]}),w.jsx("div",{className:"max-h-48 overflow-y-auto mt-1",children:(De=q[he])==null?void 0:De.filter(Ve=>(Ve??"(Blanks)").toLowerCase().includes(ye)).map(Ve=>{var lt;const Qe=Ve??"null";return w.jsxs("label",{className:"block px-1 py-0.5 text-sm text-left",children:[w.jsx("input",{type:"checkbox",className:"mr-2",checked:(lt=Ue[he])==null?void 0:lt.includes(Qe),onChange:()=>nt(Ve)}),Ve||"(Blanks)"]},Qe)})}),w.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t",children:[w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-gray-100",onClick:()=>D(Ve=>({...Ve,[he]:!1})),children:"Cancel"}),w.jsx("button",{className:"text-xs border px-2 py-1 rounded bg-blue-600 text-white",onClick:()=>{const Ve={...z,[he]:Ue[he]||[]};console.log(" Sending filters to backend:",Ve),K(Ve),D(Qe=>({...Qe,[he]:!1}))},children:"OK"})]})]}),document.body)]})};J.useEffect(()=>{const he=localStorage.getItem("token");Promise.all([fetch("/api/tools",{headers:{Authorization:`Bearer ${he}`}}).then(ye=>ye.json()),fetch("/api/typeModels",{headers:{Authorization:`Bearer ${he}`}}).then(ye=>ye.json()),fetch("/api/sizeRefs",{headers:{Authorization:`Bearer ${he}`}}).then(ye=>ye.json()),fetch("/api/axleTypes",{headers:{Authorization:`Bearer ${he}`}}).then(ye=>ye.json()),fetch("/api/hstTypes",{headers:{Authorization:`Bearer ${he}`}}).then(ye=>ye.json()),fetch("/api/pads",{headers:{Authorization:`Bearer ${he}`}}).then(ye=>ye.json()),fetch("/api/machines",{headers:{Authorization:`Bearer ${he}`}}).then(ye=>ye.json())]).then(([ye,Te,Be,Ye,at,ot,Ue])=>{X(Object.fromEntries(ye.map(ze=>[ze.tool_id,ze.tool_name]))),P(Object.fromEntries(Te.map(ze=>[ze.type_id,ze.tool_type]))),_(Object.fromEntries(Be.map(ze=>[ze.size_ref_id,ze.size_ref]))),k(Object.fromEntries(Ye.map(ze=>[ze.axle_type_id,ze.axle_type]))),M(Object.fromEntries(at.map(ze=>[ze.hst_type_id,ze.hst_type]))),$(Object.fromEntries(ot.map(ze=>[ze.pad_id,ze.pad_name]))),W(Object.fromEntries(Ue.map(ze=>[ze.machine_id,ze.machine_no])))})},[]);const Ee=async he=>{if((await Ho.fire({title:"Approve Request",text:"Are you sure you want to approve this request?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Approve",cancelButtonText:"Cancel",customClass:Ih})).isConfirmed){const Te=localStorage.getItem("token");console.log("token before approve:",Te);const Be=await fetch(`/api/requests/approve/${he}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`}});if(Be.ok)Ho.fire({icon:"success",title:"Approved!",text:"Request approved successfully.",confirmButtonText:"OK",customClass:{confirmButton:Ih.confirmButton}}).then(()=>{Fe()});else{const Ye=await Be.text();console.error("Error approving:",Ye),Ho.fire({icon:"error",title:"Error",text:"Failed to approve request."})}}},He=async he=>{if((await Ho.fire({title:"Reject Request",text:"Are you sure you want to reject this request?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Reject",cancelButtonText:"Cancel",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm focus:outline-none",cancelButton:Ih.cancelButton}})).isConfirmed){const Te=localStorage.getItem("token");console.log("token before reject:",Te);const Be=await fetch(`/api/requests/reject/${he}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`}});if(Be.ok)Ho.fire({icon:"success",title:"Rejected!",text:"Request rejected successfully.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm focus:outline-none"}}).then(()=>{Fe()});else{const Ye=await Be.text();console.error("Error rejecting:",Ye),Ho.fire({icon:"error",title:"Error",text:"Failed to reject request."})}}},Me=(he,ye,Te)=>{let Be=null,Ye=null;try{Be=he?JSON.parse(he):null}catch(ot){console.error("Failed to parse old_data:",ot)}try{Ye=ye?JSON.parse(ye):null}catch(ot){console.error("Failed to parse new_data:",ot)}x(Be),g(Ye),u(!0),Ce(Te);const at=new Set;[Be,Ye].forEach(ot=>{ot!=null&&ot.tool_key_id&&at.add(Number(ot.tool_key_id))}),at.forEach(ot=>{Ae(ot)})},ve=he=>he?new Date(he).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",de=J.useMemo(()=>[{accessorKey:"request_id",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["ID",pe("request_id")]}),cell:({getValue:he})=>w.jsx("span",{className:"font-semibold",children:he()})},{accessorKey:"request_type",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Type",pe("request_type")]})},{accessorKey:"request_status",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Status",pe("request_status")]}),cell:({getValue:he})=>{const ye=he();let Te="px-2 py-0.5 rounded text-xs font-medium inline-flex items-center gap-1",Be="",Ye="";ye==="Pending"?(Be=`
            text-yellow-900 
            border border-yellow-300 
            bg-gradient-to-r from-yellow-100 to-yellow-200
            shadow-sm
          `,Ye="animate-pulse"):ye==="Completed"?Be="bg-green-100 text-green-700 border border-green-300":ye==="Rejected"?Be="bg-red-100 text-red-700 border border-red-300":Be="bg-gray-100 text-gray-700 border border-gray-300";const at=ye==="Pending"?"":ye==="Completed"?"":ye==="Rejected"?"":"";return w.jsxs("span",{className:`${Te} ${Be} ${Ye} transition-all duration-300`,children:[at&&w.jsx("span",{children:at}),ye]})}},{accessorKey:"target_table",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Target Table",pe("target_table")]})},{accessorKey:"requested_by",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Requested By",pe("requested_by")]})},{accessorKey:"requested_at",header:()=>w.jsx("div",{className:"flex items-center justify-center",children:"Requested At"}),cell:({getValue:he})=>ve(he())},{accessorKey:"approved_by",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Approved By",pe("approved_by")]})},{accessorKey:"approved_at",header:()=>w.jsx("div",{className:"flex items-center justify-center",children:"Approved At"}),cell:({getValue:he})=>ve(he())},{id:"details",header:"Details",cell:({row:he})=>w.jsxs("button",{onClick:()=>{C(he.original.request_type),Me(he.original.old_data,he.original.new_data,he.original.target_table)},className:"inline-flex items-center gap-1 border border-gray-300 text-gray-700 hover:bg-gray-100 px-2 py-1 rounded text-xs transition-colors",children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"View Details"]})},{accessorKey:"note",header:()=>w.jsxs("div",{className:"flex items-center justify-center",children:["Note",pe("note")]})},{id:"actions",header:"Actions",cell:({row:he})=>he.original.request_status==="Pending"?w.jsxs("div",{className:"flex gap-2 justify-center",children:[w.jsx("button",{onClick:()=>Ee(he.original.request_id),className:"text-xs bg-green-500 hover:bg-green-600 text-white rounded px-2 py-1",children:"Approve"}),w.jsx("button",{onClick:()=>He(he.original.request_id),className:"text-xs bg-red-500 hover:bg-red-600 text-white rounded px-2 py-1",children:"Reject"})]}):w.jsx("span",{className:"text-gray-500 text-xs",children:"-"})}],[pe]),we=Xr({data:t,columns:de,state:{columnFilters:e,columnVisibility:l,pagination:i},onColumnFiltersChange:a,onColumnVisibilityChange:f,onPaginationChange:b,getCoreRowModel:Vr(),getSortedRowModel:Ls(),getPaginationRowModel:Kr()});return w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:w.jsx(eS,{className:"w-6 h-6 text-blue-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending INSERT"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(he=>he.request_status==="Pending"&&he.request_type.toUpperCase()==="INSERT").length})]})]})}),w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:w.jsx(io,{className:"w-6 h-6 text-yellow-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending UPDATE"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(he=>he.request_status==="Pending"&&he.request_type.toUpperCase()==="UPDATE").length})]})]})}),w.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:w.jsx(oo,{className:"w-6 h-6 text-red-600"})}),w.jsxs("div",{className:"ml-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending DELETE"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(he=>he.request_status==="Pending"&&he.request_type.toUpperCase()==="DELETE").length})]})]})})]}),w.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:w.jsxs("div",{className:"flex flex-wrap gap-3 items-center justify-between",children:[w.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:Pe,children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export XLSX"]}),w.jsxs("div",{ref:E,className:"relative",children:[w.jsxs("button",{ref:U,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",onClick:()=>r(he=>!he),children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16M4 6v12M12 6v12M20 6v12"})}),"Columns",w.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform duration-200 ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),s&&Jr.createPortal(w.jsxs("div",{ref:ee,className:"fixed z-[9999] w-64 bg-white border border-gray-200 rounded-lg shadow-lg animate-in fade-in-0 zoom-in-95 duration-200 max-h-80 overflow-hidden",style:Q?{top:Q.top,left:Q.left,minWidth:Q.width}:{visibility:"hidden"},children:[w.jsx("div",{className:"p-3 border-b border-gray-200",children:w.jsx("input",{type:"text",value:o,onChange:he=>c(he.target.value),placeholder:"Search columns...",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),w.jsx("div",{className:"max-h-60 overflow-y-auto",children:we.getAllLeafColumns().filter(he=>{var ye;return(ye=he.id)==null?void 0:ye.toLowerCase().includes(o.toLowerCase())}).map(he=>w.jsxs("label",{className:"flex items-center px-3 py-2 text-sm hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:[w.jsx("input",{type:"checkbox",checked:he.getIsVisible(),onChange:()=>he.toggleVisibility(),className:"mr-3 w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),w.jsx("span",{className:"text-gray-700",children:he.id})]},he.id))})]}),document.body)]})]}),w.jsx(IE,{label:"Filter Requests",filterMode:"datetime",initialFilters:{requested_at_start:I.requested_at_start,requested_at_end:I.requested_at_end,approved_at_start:I.approved_at_start,approved_at_end:I.approved_at_end},onFilterApply:he=>{Z(he);const ye={...z,...he.requested_at_start?{requested_at_start:[he.requested_at_start]}:{requested_at_start:[]},...he.requested_at_end?{requested_at_end:[he.requested_at_end]}:{requested_at_end:[]},...he.approved_at_start?{approved_at_start:[he.approved_at_start]}:{approved_at_start:[]},...he.approved_at_end?{approved_at_end:[he.approved_at_end]}:{approved_at_end:[]}};K(ye)}})]})}),w.jsx("div",{className:"overflow-auto max-h-[70vh] border rounded",children:w.jsxs("table",{className:"min-w-full text-sm text-center",children:[w.jsx("thead",{className:"sticky top-0 bg-gray-100",children:we.getHeaderGroups().map(he=>w.jsx("tr",{children:he.headers.map(ye=>w.jsx("th",{colSpan:ye.colSpan,className:"px-2 py-2 border font-semibold text-xs text-gray-700 whitespace-nowrap",children:Yt(ye.column.columnDef.header,ye.getContext())},ye.id))},he.id))}),w.jsx("tbody",{children:we.getRowModel().rows.map(he=>w.jsx("tr",{className:"hover:bg-blue-50 even:bg-gray-50",children:he.getVisibleCells().map(ye=>w.jsx("td",{className:"px-2 py-2 border whitespace-nowrap",children:Yt(ye.column.columnDef.cell,ye.getContext())},ye.id))},he.id))})]})}),w.jsxs("div",{className:"flex justify-between items-center border-t pt-2 text-sm",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("span",{className:"mr-2",children:"Results per page:"}),w.jsx("select",{value:we.getState().pagination.pageSize,onChange:he=>we.setPageSize(Number(he.target.value)),className:"border rounded px-2 py-1 text-sm",children:[10,15,25,50,100].map(he=>w.jsx("option",{value:he,children:he},he))})]}),w.jsx("div",{children:(()=>{const{pageIndex:he,pageSize:ye}=we.getState().pagination,Te=t.length,Be=he*ye+1,Ye=Math.min(Be+ye-1,Te);return`${Be}${Ye} of ${Te}`})()}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("button",{onClick:()=>we.setPageIndex(0),disabled:!we.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>we.previousPage(),disabled:!we.getCanPreviousPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>we.nextPage(),disabled:!we.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""}),w.jsx("button",{onClick:()=>we.setPageIndex(we.getPageCount()-1),disabled:!we.getCanNextPage(),className:"px-2 py-1 border rounded disabled:opacity-40",children:""})]}),d&&w.jsx("div",{className:"fixed inset-0 z-[9999] bg-black bg-opacity-50 flex justify-center items-center p-4",children:w.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto p-6",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-lg font-bold",children:"Request Details"}),w.jsx("button",{onClick:()=>u(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),w.jsxs("table",{className:"w-full text-sm border",children:[w.jsx("thead",{className:"bg-gray-100",children:w.jsxs("tr",{children:[w.jsx("th",{className:"text-left p-2",children:"Field"}),w.jsx("th",{className:"text-left p-2",children:"Old Value"}),w.jsx("th",{className:"text-left p-2",children:"New Value"})]})}),w.jsx("tbody",{children:(()=>{const he=zE[be]||[],ye=new Set([...Object.keys(v||{}),...Object.keys(m||{})]),Te=new Set;[v,m].forEach(Ue=>{Ue!=null&&Ue.tool_key_id&&Te.add(Number(Ue.tool_key_id))}),Te.forEach(Ue=>{const ze=ue[Ue];ze&&Object.keys(ze).forEach(je=>{je!=="tool_key_id"&&ye.add(je)})});const Be=new Set(["create_by","create_at","update_by","update_at","createByUser","updateByUser","refKey","toolRefSpec","pending_request","axleType","positionType"]),Ye=[...he.filter(Ue=>ye.has(Ue)&&!Ue.toLowerCase().endsWith("id")&&!Be.has(Ue)),...Array.from(ye).filter(Ue=>!he.includes(Ue)&&!Ue.toLowerCase().endsWith("id")&&!Be.has(Ue))],at=(Ue,ze)=>String(Ue??"")!==String(ze??""),ot=(Ue,ze)=>{if(ze==null||ze==="")return"";switch(Ue){case"tool_id":return Y[Number(ze)]||ze;case"type_id":return O[Number(ze)]||ze;case"size_ref_id":return N[Number(ze)]||ze;case"axle_type_id":return j[Number(ze)]||ze;default:return String(ze)}};return Ye.map(Ue=>{let ze=(v==null?void 0:v[Ue])??"",je=m==null?void 0:m[Ue];if(Ue!=="tool_key_id"&&(v!=null&&v.tool_key_id)){const $e=ue[v.tool_key_id];$e&&$e.hasOwnProperty(Ue)&&(ze=$e[Ue])}if(Ue!=="tool_key_id"&&(m!=null&&m.tool_key_id)){const $e=ue[m.tool_key_id];$e&&$e.hasOwnProperty(Ue)&&(je=$e[Ue])}let Je=!1,nt=!1;return Je=at(ze,je),nt=(y==null?void 0:y.toUpperCase())==="UPDATE"&&Je,w.jsxs("tr",{className:nt?"bg-yellow-50 transition-colors duration-300":"",children:[w.jsx("td",{className:"p-2 font-medium text-gray-700 border-b",children:Ue}),w.jsx("td",{className:"p-2 text-gray-800 border-b",children:ot(Ue,ze)}),w.jsx("td",{className:`p-2 border-b ${nt?"text-yellow-700 font-semibold":"text-gray-800"}`,children:ot(Ue,je)})]},Ue)})})()})]}),w.jsx("div",{className:"mt-6 flex justify-end",children:w.jsx("button",{onClick:()=>u(!1),className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-2 rounded",children:"Close"})})]})})]})]})},$E=()=>w.jsx("iframe",{src:"https://copilotstudio.microsoft.com/environments/Default-5f40b94d-de92-4c81-a62a-4014455791e6/bots/cre46_mbkBarbellQA/webchat?__version__=2",frameBorder:0,style:{width:"100%",height:"80vh",border:"2px solid #1890ff",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0,0,0,0.3)"},title:"MBK Barbell Copilot Chatbot"}),qE=({onRegisterSuccess:t,onBackToLogin:h})=>{const[e,a]=J.useState([]),[l,f]=J.useState(""),[o,c]=J.useState(""),[s,r]=J.useState(""),[i,b]=J.useState(""),[d,u]=J.useState(""),[v,x]=J.useState(""),[m,g]=J.useState(""),[y,C]=J.useState(!1),[E,A]=J.useState(!1),[D,q]=J.useState(!1),[B,z]=J.useState(!1),[K,Y]=J.useState(!1),[X,O]=J.useState(!0);J.useEffect(()=>{mt.get("/api/Department").then(M=>{a(M.data),O(!1)}).catch(M=>{console.error(M),O(!1),Se.fire({title:"Error",text:"Error loading departments!",icon:"error",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"},buttonsStyling:!1})})},[]);const P=()=>{C(!y)},N=()=>{A(!E)},_=M=>{M.preventDefault();const F=/^\d+$/.test(i),$=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m);if(o!==s){Se.fire({title:"Password Mismatch",text:"Password and Confirm Password do not match.",icon:"warning",confirmButtonText:"OK",customClass:{confirmButton:"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600"},buttonsStyling:!1});return}if(o&&l&&i&&d&&v&&m&&F&&$){const V={password:o,first_name:d,last_name:v,department_id:Number(l),role_id:3,status_id:1,employee_id:i,email:m};console.log(" Submitting Register payload:",V),Y(!0),mt.post("/api/auth/signup",V).then(W=>{console.log(" API Response:",W.data),Se.fire({title:"Register Success!",text:"User has been registered successfully.",icon:"success",confirmButtonText:"OK",customClass:{confirmButton:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},buttonsStyling:!1}).then(()=>{t()})}).catch(W=>{var ee,U,Q;console.error(" API Error:",W),console.log(" err.response.data:",(ee=W.response)==null?void 0:ee.data),Se.fire({title:"Register Failed",text:((Q=(U=W.response)==null?void 0:U.data)==null?void 0:Q.message)||"Error occurred during registration.",icon:"error",confirmButtonText:"Try Again",customClass:{confirmButton:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"},buttonsStyling:!1})}).finally(()=>{Y(!1)})}else{let V="";i?F?m?$?V="Please fill in all fields!":V="Email format is invalid!":V="Email is required!":V="Employee ID must be numeric only!":V="Employee ID is required!",console.warn(" Missing or invalid fields",{password:o,departmentId:l,employeeId:i,firstName:d,lastName:v,email:m}),Se.fire({title:"Missing Fields",text:V,icon:"warning",confirmButtonText:"OK",customClass:{confirmButton:"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600"},buttonsStyling:!1})}},j=()=>{h?h():alert("Back to Login clicked!")},k=e.map(M=>({value:M.department_id,label:M.department_name})),T={control:(M,F)=>({...M,minHeight:"48px",borderColor:F.isFocused?"#2563eb":"#d1d5db",borderWidth:"1px",borderRadius:"0.375rem",boxShadow:F.isFocused?"0 0 0 2px rgba(37, 99, 235, 0.5)":"none","&:hover":{borderColor:F.isFocused?"#2563eb":"#9ca3af"}}),placeholder:M=>({...M,color:"#9ca3af"}),menuPortal:M=>({...M,zIndex:9999}),menu:M=>({...M,borderRadius:"0.375rem"})};return w.jsxs("form",{onSubmit:_,className:"p-8 bg-white shadow-lg rounded-lg w-full max-w-lg max-h-[85vh] overflow-y-auto",children:[w.jsx("img",{src:Nv,alt:"Logo",className:"mx-auto mb-6 w-40 h-auto"}),w.jsx("h2",{className:"text-2xl text-center font-semibold mb-6",children:"Register New User"}),w.jsx("div",{className:"relative mb-4",children:w.jsx(bn,{inputId:"department",value:k.find(M=>M.value===Number(l)),onChange:M=>f(String((M==null?void 0:M.value)||"")),options:k,placeholder:"Select Department",isLoading:X,isDisabled:X,menuPortalTarget:document.body,styles:T,className:""})}),w.jsxs("div",{className:"relative mb-4",children:[w.jsx(aS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),w.jsx("input",{type:"text",value:i,onChange:M=>b(M.target.value),placeholder:"Employee ID",required:!0,className:"w-full pl-10 p-3 border rounded focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),w.jsxs("div",{className:"flex gap-3 mb-4",children:[w.jsxs("div",{className:"relative flex-1",children:[w.jsx(Zh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),w.jsx("input",{type:"text",value:d,onChange:M=>u(M.target.value),placeholder:"First Name",required:!0,className:"w-full pl-10 p-3 border rounded focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),w.jsxs("div",{className:"relative flex-1",children:[w.jsx(Zh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),w.jsx("input",{type:"text",value:v,onChange:M=>x(M.target.value),placeholder:"Last Name",required:!0,className:"w-full pl-10 p-3 border rounded focus:outline-none focus:ring-2 focus:ring-blue-600"})]})]}),w.jsxs("div",{className:"relative mb-4",children:[w.jsx(dS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),w.jsx("input",{type:"email",value:m,onChange:M=>g(M.target.value),placeholder:"Email",required:!0,className:"w-full pl-10 p-3 border rounded focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),w.jsxs("div",{className:"relative mb-4",children:[w.jsx(Gh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),w.jsx("input",{type:y?"text":"password",value:o,onChange:M=>{c(M.target.value),M.target.value!==""?q(!0):q(!1)},onFocus:()=>q(!0),onBlur:()=>{o===""&&q(!1)},placeholder:"Password",required:!0,className:"w-full pl-10 pr-10 p-3 border rounded focus:outline-none focus:ring-2 focus:ring-blue-600"}),D&&w.jsx("button",{type:"button",onClick:P,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:y?w.jsx(Yh,{className:"w-5 h-5"}):w.jsx(Wh,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"relative mb-4",children:[w.jsx(Gh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),w.jsx("input",{type:E?"text":"password",value:s,onChange:M=>{r(M.target.value),M.target.value!==""?z(!0):z(!1)},onFocus:()=>z(!0),onBlur:()=>{s===""&&z(!1)},placeholder:"Confirm Password",required:!0,className:`w-full pl-10 pr-10 p-3 border rounded focus:outline-none focus:ring-2 ${s&&s!==o?"border-red-300 focus:ring-red-500":"focus:ring-blue-600"}`}),B&&w.jsx("button",{type:"button",onClick:N,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:E?w.jsx(Yh,{className:"w-5 h-5"}):w.jsx(Wh,{className:"w-5 h-5"})})]}),s&&s!==o&&w.jsx("p",{className:"text-sm text-red-600 mb-4 -mt-2",children:"Passwords do not match."}),w.jsx("button",{type:"submit",disabled:K||X,className:"w-full bg-blue-600 text-white py-3 rounded hover:bg-blue-700 transition",children:K?"Creating Account...":"Register"}),w.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?"," ",w.jsx("button",{type:"button",onClick:j,className:"font-semibold text-blue-600 hover:underline inline-flex items-center",children:"Back to Login"})]})]})},UE=({username:t,onLogout:h})=>{const[e,a]=J.useState(!1),l=J.useRef(null),f=J.useRef(null),[o,c]=J.useState(null);J.useEffect(()=>{if(e&&l.current){const r=l.current.getBoundingClientRect();c({top:r.bottom+window.scrollY+8,left:r.right+window.scrollX-192})}},[e]),J.useEffect(()=>{const r=i=>{var b,d;e&&!((b=l.current)!=null&&b.contains(i.target))&&!((d=f.current)!=null&&d.contains(i.target))&&a(!1)};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[e]);const s=w.jsx("div",{ref:f,className:"rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-[9999] w-48",style:{position:"fixed",top:(o==null?void 0:o.top)??0,left:(o==null?void 0:o.left)??0},children:w.jsxs("div",{className:"py-1",children:[w.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 flex items-center gap-2",children:[w.jsx(Ij,{className:"text-gray-500"})," ",t]}),w.jsxs("button",{onClick:h,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100 flex items-center gap-2",children:[w.jsx(Pj,{})," Logout"]})]})});return w.jsxs(w.Fragment,{children:[w.jsx("button",{ref:l,onClick:()=>a(r=>!r),className:"flex items-center justify-center w-10 h-10 rounded-full bg-blue-600 text-white hover:bg-blue-700 transition",children:w.jsx("span",{className:"text-sm font-bold",children:t.charAt(0).toUpperCase()})}),e&&Jr.createPortal(s,document.body)]})},HE=()=>{const t=Array.from({length:50});return w.jsx("div",{className:"login-background",children:t.map((h,e)=>{const a=Math.random()*100,l=Math.random()*20,f=15+Math.random()*10,o=4+Math.random()*8;return w.jsx("span",{className:"particle",style:{left:`${a}%`,animationDelay:`${l}s`,animationDuration:`${f}s`,width:`${o}px`,height:`${o}px`}},e)})})},VE="/assets/mattel_logo.CuAg_vzI.gif",KE=()=>{var A,D;const[t,h]=J.useState(!1),[e,a]=J.useState("summary_ddc"),[l,f]=J.useState(!0),[o,c]=J.useState(!1),[s,r]=J.useState("login"),[i,b]=J.useState(""),[d,u]=J.useState(""),[v,x]=J.useState(!0);J.useEffect(()=>{const q=localStorage.getItem("token");if(q)if(m(q)>0)try{const z=q.split(".")[1],K=atob(z),Y=JSON.parse(K);b(Y.employee_id),u(Y.role),h(!0)}catch(z){console.error(" Invalid token payload",z),localStorage.removeItem("token")}else localStorage.removeItem("token");x(!1)},[]),J.useEffect(()=>{const q=()=>{c(window.innerWidth<768),window.innerWidth<768&&f(!1)};return q(),window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]),J.useEffect(()=>{if(!t)return;const q=localStorage.getItem("token"),B=m(q);if(console.log(" Time left (seconds):",B),B<=0){g();return}const z=setTimeout(()=>{g()},B*1e3);return()=>clearTimeout(z)},[t]);const m=q=>{if(!q)return 0;try{const B=q.split(".")[1],z=atob(B),K=JSON.parse(z);if(!K.exp)return 0;const Y=Math.floor(Date.now()/1e3),X=K.exp-Y;return X>0?X:0}catch(B){return console.error("Invalid token:",B),0}},g=()=>{y_(()=>Promise.resolve().then(()=>I5),void 0).then(q=>{q.default.fire({icon:"warning",title:"Session Expired",text:"Your session has expired. Please login again.",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",popup:"text-sm"}}).then(()=>{h(!1),b(""),r("login"),localStorage.removeItem("token")})})},y=[{label:"Summary DDC",value:"summary_ddc",icon:w.jsx(Nj,{size:20}),category:"Tool Spec"},{label:"Original Spec",value:"original_spec",icon:w.jsx(Mj,{size:20}),category:"Tool Spec"},{label:"Type",value:"type",icon:w.jsx(t1,{size:20}),category:"Configuration"},{label:"Tool",value:"tool",icon:w.jsx(qo,{size:20}),category:"Configuration"},{label:"Size Ref",value:"size_ref",icon:w.jsx(Oj,{size:20}),category:"Configuration"},{label:"Axle Type",value:"axle_type",icon:w.jsx(Yc,{size:20}),category:"Configuration"},{label:"Position Type",value:"position_type",icon:w.jsx(Yc,{size:20}),category:"Configuration"},{label:"Pad",value:"pad",icon:w.jsx(t1,{size:20}),category:"Components"},{label:"HST Type",value:"hst_type",icon:w.jsx(Bj,{size:20}),category:"Components"},{label:"Brass",value:"brass",icon:w.jsx(qo,{size:20}),category:"Components"},{label:"Machine",value:"machine",icon:w.jsx(r1,{size:20}),category:"Components"},{label:"Pad Brass Map",value:"pad_brass_map",icon:w.jsx(Yc,{size:20}),category:"Mapping"},{label:"Pad HST Map",value:"pad_hst_map",icon:w.jsx(Yc,{size:20}),category:"Mapping"},{label:"ToolKey All",value:"tool_key_all",icon:w.jsx(qo,{size:20}),category:"Tools"},{label:"Tool-Machine Map",value:"tool_machine_map",icon:w.jsx(qo,{size:20}),category:"Mapping"},{label:"Tool-Pad Map",value:"tool_pad_map",icon:w.jsx(qo,{size:20}),category:"Mapping"},{label:"Tool-Pad-Hst-Brass Map",value:"tool_pad_hst_brass_map",icon:w.jsx(qo,{size:20}),category:"Mapping"},{label:"Log Table",value:"LogTable",icon:w.jsx(Aj,{size:20}),category:"System"},{label:"Access Control",value:"AccessControl",icon:w.jsx(r1,{size:20}),category:"System"},{label:"Request",value:"RequestTable",icon:w.jsx(Rj,{size:20}),category:"System"},{label:"ChatBot",value:"ChatbotIframe",icon:w.jsx(Lj,{size:20}),category:"Support"}],C=()=>{switch(e){case"summary_ddc":return w.jsx(hj,{});case"original_spec":return w.jsx(wj,{});case"type":return w.jsx(Fj,{});case"tool":return w.jsx($j,{});case"size_ref":return w.jsx(qj,{});case"axle_type":return w.jsx(Uj,{});case"position_type":return w.jsx(Hj,{});case"pad":return w.jsx(Vj,{});case"hst_type":return w.jsx(Xj,{});case"brass":return w.jsx(Yj,{});case"machine":return w.jsx(Kj,{});case"pad_brass_map":return w.jsx(Gj,{});case"pad_hst_map":return w.jsx(Jj,{});case"tool_key_all":return w.jsx(ek,{});case"tool_machine_map":return w.jsx(nk,{});case"tool_pad_map":return w.jsx(lk,{});case"tool_pad_hst_brass_map":return w.jsx(ck,{});case"LogTable":return w.jsx(uk,{});case"AccessControl":return w.jsx(DE,{});case"RequestTable":return w.jsx(FE,{});case"ChatbotIframe":return w.jsx($E,{});default:return null}},E=y.reduce((q,B)=>(q[B.category]||(q[B.category]=[]),q[B.category].push(B),q),{});return v?w.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 shadow-lg animate-pulse"}),w.jsx("div",{className:"absolute inset-0 w-16 h-16 mx-auto rounded-full border-4 border-blue-200 border-t-blue-500 animate-spin"})]}),w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 px-6 py-4",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Loading"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Checking authentication..."})]})]})}):t?w.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[o&&l&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity duration-300",onClick:()=>f(!1)}),w.jsx("aside",{className:`
          ${o?"fixed":"relative"} 
          left-0 top-0 h-full
          bg-white shadow-xl border-r border-gray-200
          transition-all duration-300 ease-out
          ${l?"w-72 translate-x-0":o?"w-72 -translate-x-full":"w-0"}
          ${o?"z-50":"z-10"}
          overflow-hidden
        `,children:w.jsxs("div",{className:`h-full flex flex-col ${l?"opacity-100":"opacity-0"} transition-opacity duration-300`,children:[w.jsxs("div",{className:"px-6 py-6 bg-gradient-to-r from-blue-600 to-blue-700 relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 opacity-90"}),w.jsx("div",{className:"relative z-10",children:w.jsxs("div",{className:"flex items-center justify-between mb-1",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"w-10 h-10 bg-white rounded-xl shadow-md flex items-center justify-center",children:w.jsx("img",{src:VE,alt:"Logo",className:"w-8 h-8 object-contain"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-lg font-bold text-white",children:"MBK Barbell"}),w.jsx("p",{className:"text-blue-100 text-xs opacity-90",children:"Process Engineer"})]})]}),w.jsx("button",{onClick:()=>f(!1),className:"p-1.5 rounded-lg bg-white bg-opacity-20 hover:bg-opacity-30 text-white transition-all duration-200",children:w.jsx(zj,{size:16})})]})})]}),w.jsx("nav",{className:"flex-1 px-4 py-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:w.jsx("div",{className:"space-y-8",children:Object.entries(E).map(([q,B])=>q==="System"&&d!=="admin"?null:w.jsxs("div",{children:[w.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4 px-3",children:q}),w.jsx("div",{className:"space-y-1",children:B.map(({label:z,value:K,icon:Y})=>w.jsxs("button",{onClick:()=>{a(K),o&&f(!1)},className:`
                            w-full flex items-center space-x-3 px-3 py-3 rounded-xl text-sm font-medium
                            transition-all duration-200 group relative overflow-hidden
                            ${e===K?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25 transform scale-[1.02]":"text-gray-700 hover:bg-gray-50 hover:text-blue-600"}
                          `,children:[e===K&&w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-blue-500 opacity-20 animate-pulse"}),w.jsx("span",{className:`
                              transition-all duration-200 relative z-10
                              ${e===K?"text-white transform scale-110":"text-gray-500 group-hover:text-blue-600 group-hover:scale-110"}
                            `,children:Y}),w.jsx("span",{className:"truncate relative z-10",children:z})]},K))})]},q))})}),w.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:w.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[" ",new Date().getFullYear()," MBK Corp. All rights reserved."]})})]})}),w.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[w.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 relative z-20",children:w.jsx("div",{className:"px-6 py-4",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("button",{onClick:()=>f(!0),className:`
                    p-2.5 rounded-xl bg-blue-600 text-white shadow-md hover:shadow-lg
                    hover:bg-blue-700 transition-all duration-200 transform hover:scale-105
                    ${l&&!o?"opacity-0 pointer-events-none scale-95":"opacity-100"}
                  `,children:w.jsx(Dj,{size:18})}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("div",{className:"w-px h-8 bg-gray-200"}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:(A=y.find(q=>q.value===e))==null?void 0:A.label}),w.jsx("p",{className:"text-sm text-gray-500 flex items-center space-x-1",children:w.jsx("span",{children:(D=y.find(q=>q.value===e))==null?void 0:D.category})})]})]})]}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsxs("div",{className:"hidden md:flex items-center space-x-2 px-3 py-2 bg-gray-50 rounded-lg",children:[w.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),w.jsx("span",{className:"text-sm text-gray-600",children:"Online"})]}),w.jsx(UE,{username:i,onLogout:()=>{h(!1),b(""),r("login"),localStorage.removeItem("token")}})]})]})})}),w.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:w.jsx("div",{className:"p-6",children:w.jsx("div",{className:"max-w-full mx-auto",children:w.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden min-h-[calc(100vh-12rem)]",children:w.jsx("div",{className:"p-6",children:C()})})})})})]})]}):w.jsxs("div",{className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:[w.jsx(HE,{}),w.jsx("div",{className:"z-10 w-full max-w-md mx-4",children:w.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden backdrop-blur-sm",children:[s==="login"&&w.jsx(vS,{onLoginSuccess:(q,B)=>{b(q),u(B),h(!0)},onRegisterClick:()=>r("register")}),s==="register"&&w.jsx(qE,{onRegisterSuccess:()=>r("login"),onBackToLogin:()=>r("login")})]})})]})};Go.createRoot(document.getElementById("root")).render(w.jsx(J.StrictMode,{children:w.jsx(KE,{})}));
